import{j as e,m as a,E as s,aw as l,h as r,a as t,e as i,aF as n,aG as o,X as c,p as d}from"./chunk-BcaSFcXu.js";import{r as m}from"./chunk-rj-8a6OE.js";import{c as x,V as u}from"./index-B7_6YKqI.js";import"./chunk-Bkkzv6j4.js";import"./chunk-CY8KpSnY.js";import"./chunk-D-dPr7Hw.js";import"./chunk-BY_DoteD.js";const b=()=>{const{state:b,addVehicle:p,updateVehicle:h,deleteVehicle:g}=x(),{vehicles:y=[]}=b,[f,j]=m.useState(!1),[v,N]=m.useState(null),[k,w]=m.useState(""),[C,z]=m.useState(!1),[A,R]=m.useState({brand:"",model:"",year:(new Date).getFullYear(),plateNumber:"",capacity:"",kmRate:"",color:"",status:"active",fuelType:"benzin",transmission:"otomatik"}),T=()=>{R({brand:"",model:"",year:(new Date).getFullYear(),plateNumber:"",capacity:"",kmRate:"",color:"",status:"active",fuelType:"benzin",transmission:"otomatik"})},D=(e,a)=>{R(s=>({...s,[e]:a}))},M=()=>{j(!1),N(null),T()},F=y.filter(e=>{if(!k)return!0;const a=k.toLowerCase();return(e.brand||"").toLowerCase().includes(a)||(e.model||"").toLowerCase().includes(a)||(e.plateNumber||"").toLowerCase().includes(a)}),Y=[{value:"active",label:"Aktif",color:"text-green-600 bg-green-100"},{value:"maintenance",label:"Bakımda",color:"text-yellow-600 bg-yellow-100"},{value:"inactive",label:"Pasif",color:"text-red-600 bg-red-100"}];return e.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[e.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:e.jsxs(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{N(null),T(),j(!0)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[e.jsx(s,{className:"w-5 h-5"}),"Yeni Araç Ekle"]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(l,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Marka, model veya plaka ile ara...",value:k,onChange:e=>w(e.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(r,{children:F.map((s,l)=>{const r=Y.find(e=>e.value===s.status);return e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*l},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(t,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[s.brand," ",s.model]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.year})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${r?.color||"text-gray-600 bg-gray-100"}`,children:r?.label||"Bilinmiyor"})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Plaka"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s.plateNumber})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Kapasite"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(i,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[s.capacity," kişi"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"KM Ücreti"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["€",s.kmRate,"/km"]})]}),s.color&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Renk"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s.color})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(a.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(e=>{N(e),R({brand:e.brand||"",model:e.model||"",year:e.year||(new Date).getFullYear(),plateNumber:e.plateNumber||"",capacity:e.capacity||"",kmRate:e.kmRate||"",color:e.color||"",status:e.status||"active",fuelType:e.fuelType||"benzin",transmission:e.transmission||"otomatik"}),j(!0)})(s),className:"flex-1 bg-blue-50 hover:bg-blue-100 text-blue-600 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{children:"Düzenle"})]}),e.jsxs(a.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(async e=>{if(window.confirm("Bu aracı silmek istediğinizden emin misiniz?"))try{await g(e),u.success("Araç başarıyla silindi!")}catch(a){u.error("Araç silinirken hata oluştu")}})(s.id),className:"flex-1 bg-red-50 hover:bg-red-100 text-red-600 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:"Sil"})]})]})]},s.id)})})}),0===F.length&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(t,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:k?"Araç bulunamadı":"Henüz araç eklenmemiş"}),e.jsx("p",{className:"text-gray-500 mb-6",children:k?"Arama kriterlerinizi değiştirerek tekrar deneyin":"İlk aracınızı ekleyerek başlayın"}),!k&&e.jsx(a.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"İlk Aracı Ekle"})]})]}),e.jsx(r,{children:f&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:M,children:e.jsxs(a.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:v?"Araç Düzenle":"Yeni Araç Ekle"}),e.jsx("button",{onClick:M,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(c,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};return A.brand.trim()||(e.brand="Marka gerekli"),A.model.trim()||(e.model="Model gerekli"),A.plateNumber.trim()||(e.plateNumber="Plaka gerekli"),(!A.capacity||A.capacity<1)&&(e.capacity="Geçerli kapasite gerekli"),(!A.kmRate||A.kmRate<0)&&(e.kmRate="KM başı ücret gerekli"),e})();if(Object.keys(a).length>0)Object.values(a).forEach(e=>u.error(e));else{z(!0);try{const e={...A,capacity:parseInt(A.capacity),kmRate:parseFloat(A.kmRate),year:parseInt(A.year),createdAt:v?v.createdAt:new Date,updatedAt:new Date};v?(await h(v.id,e),u.success("Araç başarıyla güncellendi!")):(await p(e),u.success("Araç başarıyla eklendi!")),M()}catch(s){u.error("İşlem sırasında bir hata oluştu")}finally{z(!1)}}},className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Marka *"}),e.jsx("input",{type:"text",value:A.brand,onChange:e=>D("brand",e.target.value),placeholder:"Örn: Mercedes",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model *"}),e.jsx("input",{type:"text",value:A.model,onChange:e=>D("model",e.target.value),placeholder:"Örn: Vito",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Yıl"}),e.jsx("input",{type:"number",value:A.year,onChange:e=>D("year",e.target.value),min:"1990",max:(new Date).getFullYear()+1,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Plaka *"}),e.jsx("input",{type:"text",value:A.plateNumber,onChange:e=>D("plateNumber",e.target.value.toUpperCase()),placeholder:"Örn: 34 ABC 123",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Kapasite *"}),e.jsx("input",{type:"number",value:A.capacity,onChange:e=>D("capacity",e.target.value),placeholder:"Örn: 8",min:"1",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"KM Başı Ücret (€) *"}),e.jsx("input",{type:"number",step:"0.01",value:A.kmRate,onChange:e=>D("kmRate",e.target.value),placeholder:"Örn: 12.50",min:"0",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Renk"}),e.jsx("input",{type:"text",value:A.color,onChange:e=>D("color",e.target.value),placeholder:"Örn: Beyaz",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Durum"}),e.jsx("select",{value:A.status,onChange:e=>D("status",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:Y.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Yakıt Türü"}),e.jsxs("select",{value:A.fuelType,onChange:e=>D("fuelType",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"benzin",children:"Benzin"}),e.jsx("option",{value:"dizel",children:"Dizel"}),e.jsx("option",{value:"lpg",children:"LPG"}),e.jsx("option",{value:"elektrik",children:"Elektrik"}),e.jsx("option",{value:"hibrit",children:"Hibrit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Vites Türü"}),e.jsxs("select",{value:A.transmission,onChange:e=>D("transmission",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"otomatik",children:"Otomatik"}),e.jsx("option",{value:"manuel",children:"Manuel"})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsx(a.button,{type:"submit",disabled:C,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center space-x-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"İşleniyor..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-5 h-5"}),e.jsx("span",{children:v?"Güncelle":"Araç Ekle"})]})})})]})]})})})]})};export{b as default};
