import{j as e,m as t,w as s,S as a,M as r,x as i,U as n,d as l,r as o,c,a as m,e as d,at as x,N as h,au as p,av as u,P as g,J as f,k as y}from"./chunk-FasyTjxO.js";import{u as b,a as j,r as N}from"./chunk-rj-8a6OE.js";import{m as v,n as w,L as k,w as I,J as S,B as T}from"./chunk-CfVQzchV.js";import{d as z,V as R,b as P}from"./index-7qfwLuD9.js";import{Q as L}from"./chunk-B38cIYZW.js";import{smsService as V}from"./smsService-Df7iqzAA.js";import"./chunk-Bkkzv6j4.js";import"./chunk-C3rg1vA9.js";import"./chunk-CyZUTZX5.js";class B{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const D={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},E=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},C=async(e,t,s={})=>{const a=await fetch(D.origin+e,{method:"POST",headers:s,body:t}),r=await a.text(),i=new B(a.status,r);if(a.ok)return i;throw i},M=(e,t,s)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||"string"!=typeof s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},A=e=>e.webdriver||!e.languages||0===e.languages.length,$=()=>new B(451,"Unavailable For Headless Browser"),_=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const s=(a=t,r=e.watchVariable,a instanceof FormData?a.get(r):a[r]);var a,r;return"string"==typeof s&&e.list.includes(s)},O=()=>new B(403,"Forbidden"),H=async(e,t,s)=>{if(!t.throttle||!s)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const a=t.id||e,r=await(async(e,t,s)=>{const a=Number(await s.get(e)||0);return t-Date.now()+a})(a,t.throttle,s);return r>0||(await s.set(a,Date.now().toString()),!1)},K=()=>new B(429,"Too Many Requests"),U=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=E(e);D.publicKey=s.publicKey,D.blockHeadless=s.blockHeadless,D.storageProvider=s.storageProvider,D.blockList=s.blockList,D.limitRate=s.limitRate,D.origin=s.origin||t},F=async(e,t,s,a)=>{const r=E(a),i=r.publicKey||D.publicKey,n=r.blockHeadless||D.blockHeadless,l=r.storageProvider||D.storageProvider,o={...D.blockList,...r.blockList},c={...D.limitRate,...r.limitRate};if(n&&A(navigator))return Promise.reject($());if(M(i,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(s),s&&_(o,s))return Promise.reject(O());if(await H(location.pathname,c,l))return Promise.reject(K());const m={lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:s};return C("/api/v1.0/email/send",JSON.stringify(m),{"Content-type":"application/json"})};const G=new class{constructor(){this.settings=null,this.initialized=!1}initEmailJS(){if(!this.settings?.emailSettings?.emailjsPublicKey)throw new Error("EmailJS ayarları bulunamadı");U(this.settings.emailSettings.emailjsPublicKey),this.initialized=!0}async loadSettings(){try{const e=await v(w(z,"settings","main"));if(e.exists())return this.settings=e.data(),this.settings;throw new Error("Ayarlar bulunamadı")}catch(e){throw e}}replaceTemplateVariables(e,t){let s=e;const a={customerName:`${t.customerInfo?.firstName||""} ${t.customerInfo?.lastName||""}`.trim(),customerPhone:t.customerInfo?.phone||"",customerEmail:t.customerInfo?.email||"",reservationNumber:t.reservationId||"",date:t.date||"",time:t.time||"",totalPrice:t.totalPrice||"0",paymentMethod:this.getPaymentMethodText(t.paymentMethod),pickupLocation:this.getLocationText(t.pickupLocation),dropoffLocation:this.getLocationText(t.dropoffLocation),vehicleType:t.selectedVehicle?.name||"",vehiclePlate:t.vehiclePlate||"Belirlenmedi",driverName:t.driverName||"Belirlenmedi",driverPhone:t.driverPhone||"Belirlenmedi",companyName:this.settings?.general?.companyName||"SBS Transfer",companyPhone:this.settings?.general?.companyPhone||"",companyEmail:this.settings?.general?.companyEmail||"",companyAddress:this.settings?.general?.companyAddress||"",taxNumber:this.settings?.company?.taxNumber||"",flightInfo:this.getFlightInfo(t.customerInfo),tempPassword:t.tempPassword||"",paymentDate:(new Date).toLocaleDateString("tr-TR")};return Object.keys(a).forEach(e=>{const t=new RegExp(`{{${e}}}`,"g");s=s.replace(t,a[e])}),s}getPaymentMethodText(e){switch(e){case"credit_card":return"Kredi Kartı";case"bank_transfer":return"Havale/EFT";case"cash":return"Nakit";default:return"Belirlenmedi"}}getLocationText(e){return e?"string"==typeof e?e:"object"==typeof e&&e.address?e.address:"Belirlenmedi":"Belirlenmedi"}getFlightInfo(e){if(!e?.flightNumber)return"";let t=`✈️ Uçuş No: ${e.flightNumber}`;return e.flightTime&&(t+=`\n🕐 Uçuş Saati: ${e.flightTime}`),t}async sendReservationConfirmation(e){try{if(this.settings||await this.loadSettings(),!this.settings?.emailTemplates?.reservationConfirmation)throw new Error("Rezervasyon e-posta şablonu bulunamadı");const s=this.settings.emailTemplates.reservationConfirmation,a=this.replaceTemplateVariables(s.subject,e),r=this.replaceTemplateVariables(s.template,e);if(this.settings?.emailSettings?.emailjsServiceId&&this.settings?.emailSettings?.emailjsTemplateId&&e.customerInfo?.email)try{this.initialized||this.initEmailJS();const t={to_email:e.customerInfo.email,to_name:`${e.customerInfo?.firstName||""} ${e.customerInfo?.lastName||""}`.trim(),from_name:this.settings.general?.companyName||"SBS Transfer",reply_to:this.settings.general?.companyEmail||"",subject:a,message:r},s=await F(this.settings.emailSettings.emailjsServiceId,this.settings.emailSettings.emailjsTemplateId,t);return{success:!0,message:"Rezervasyon onay e-postası başarıyla gönderildi",email:e.customerInfo?.email,subject:a,messageId:s.text}}catch(t){return{success:!0,message:"Rezervasyon kaydedildi ancak e-posta gönderilemedi",email:e.customerInfo?.email,subject:a,error:t.message}}return{success:!0,message:"E-posta ayarları yapılandırılmamış (konsola yazdırıldı)",email:e.customerInfo?.email,subject:a}}catch(s){return{success:!1,error:s.message}}}async sendPaymentConfirmation(e){try{if(this.settings||await this.loadSettings(),!this.settings?.emailTemplates?.paymentReceived)throw new Error("Ödeme e-posta şablonu bulunamadı");const s=this.settings.emailTemplates.paymentReceived,a=this.replaceTemplateVariables(s.subject,e),r=this.replaceTemplateVariables(s.template,e);if(this.settings?.emailSettings?.gmailUser&&e.customerInfo?.email)try{this.transporter||this.createTransporter();const t={from:`"${this.settings.general?.companyName||"SBS Transfer"}" <${this.settings.emailSettings.gmailUser}>`,to:e.customerInfo.email,subject:a,text:r,html:r.replace(/\n/g,"<br>").replace(/━/g,"─")},s=await this.transporter.sendMail(t);return{success:!0,message:"Ödeme onay e-postası başarıyla gönderildi",email:e.customerInfo?.email,subject:a,messageId:s.messageId}}catch(t){return{success:!0,message:"Rezervasyon kaydedildi ancak ödeme e-postası gönderilemedi",email:e.customerInfo?.email,subject:a,error:t.message}}return{success:!0,message:"E-posta ayarları yapılandırılmamış (konsola yazdırıldı)",email:e.customerInfo?.email,subject:a}}catch(s){return{success:!1,error:s.message}}}},J=()=>{const v=b(),B=j(),[D,E]=N.useState(null),[C,M]=N.useState(""),[A,$]=N.useState(!1),[_,O]=N.useState(""),[H,K]=N.useState(""),[U,F]=N.useState(!1),[J,Q]=N.useState(!1),q=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let s=0;s<8;s++)t+=e.charAt(Math.floor(36*Math.random()));return t},W=async()=>{try{return await k(z,async e=>{const t=w(z,"counters","reservations"),s=await e.get(t);let a;if(s.exists()){a=(s.data().count||1e3)+1,e.update(t,{count:a,updatedAt:new Date})}else a=1001,e.set(t,{count:a,updatedAt:new Date});return`SBS${a}`})}catch(e){if("failed-precondition"===e.code)return await new Promise(e=>setTimeout(e,1e3*Math.random())),W();return`${"SBS"}${Date.now().toString().slice(-6)}${Math.random().toString(36).substring(2,4).toUpperCase()}`}};N.useEffect(()=>{if(U||J||!v.state?.bookingData)return;F(!0),Q(!0);(async()=>{try{if(v.state?.bookingData){const t={...v.state.bookingData};window.history.replaceState({},document.title),t.personalInfo&&!t.customerInfo&&(t.customerInfo={firstName:t.personalInfo.firstName,lastName:t.personalInfo.lastName,phone:t.personalInfo.phone,email:t.personalInfo.email,flightNumber:t.personalInfo.flightNumber,flightTime:t.personalInfo.flightTime,specialRequests:t.personalInfo.specialRequests},delete t.personalInfo),E(t);const s=await W();if(K(s),t.customerInfo?.email){const e=q();M(e),await(async(e,t,s)=>{try{const a=(await I(P,e,t)).user,r={uid:a.uid,email:e,firstName:s?.firstName||"",lastName:s?.lastName||"",phone:s?.phone||"",createdAt:(new Date).toISOString(),registrationMethod:"automatic_booking",isActive:!0,tempPassword:t};return await S(T(z,"users"),r),$(!0),R.success("Müşteri hesabınız başarıyla oluşturuldu ve rezervasyon sistemine kaydedildi!"),a}catch(a){return"auth/email-already-in-use"===a.code?R("Bu e-posta adresi zaten kayıtlı. Mevcut hesabınızı kullanabilirsiniz.",{icon:"ℹ️",style:{borderRadius:"10px",background:"#e0f2fe",color:"#0277bd",border:"1px solid #81d4fa"}}):R.error("Hesap oluşturulurken bir hata oluştu."),null}})(t.customerInfo.email,e,t.customerInfo)}if(await Y(t,s),t.customerInfo?.phone)try{await(async(e,t=null)=>{try{const s=t||D?.customerInfo;if(!s?.phone)return;const a=`SBS Transfer - Rezervasyon: ${e} - Tel: ${s.phone}`,r=await L.toDataURL(a,{width:200,margin:2,color:{dark:"#1f2937",light:"#ffffff"}});O(r)}catch(s){}})(s,t.customerInfo)}catch(e){}if(t.customerInfo?.email){const e={...t,reservationId:s,tempPassword:C||q()};setTimeout(async()=>{try{(await G.sendReservationConfirmation(e)).success?R.success("Rezervasyon onay e-postası gönderildi!"):R.error("E-posta gönderilirken hata oluştu")}catch(t){R.error("E-posta servisi hatası")}},1e3)}}else B("/")}catch(t){F(!1),Q(!1)}})()},[]);const Y=async(e,t)=>{try{const r={reservationCode:t,reservationId:t,status:"pending",direction:"airport-to-hotel"===e.direction?"from_airport":"to_airport",transferType:e.tripType||e.transferType||"one-way",isRoundTrip:"round-trip"===(e.tripType||e.transferType),vehicleType:e.selectedVehicle?.name||e.selectedVehicle?.type||"Belirtilmemiş",vehicleId:e.selectedVehicle?.id||"",returnDate:e.returnDate||null,returnTime:e.returnTime||null,customerInfo:{firstName:e.customerInfo?.firstName||"",lastName:e.customerInfo?.lastName||"",phone:e.customerInfo?.phone||"",email:e.customerInfo?.email||""},tripDetails:{date:e.date||"",time:e.time||"",pickupLocation:"object"==typeof e.pickupLocation?e.pickupLocation?.address||e.pickupLocation?.formatted_address||e.pickupLocation?.name||"":e.pickupLocation||"",dropoffLocation:"object"==typeof e.dropoffLocation?e.dropoffLocation?.address||e.dropoffLocation?.formatted_address||e.dropoffLocation?.name||"":e.dropoffLocation||"",passengerCount:e.passengerCount||1,luggageCount:e.baggageCount||0,flightNumber:e.customerInfo?.flightNumber||""},selectedVehicle:{id:e.selectedVehicle?.id||"",name:e.selectedVehicle?.name||e.selectedVehicle?.type||"Belirtilmemiş",type:e.selectedVehicle?.type||e.selectedVehicle?.name||"Belirtilmemiş",capacity:e.selectedVehicle?.capacity||0,price:e.selectedVehicle?.price||0,totalPrice:e.totalPrice||e.selectedVehicle?.totalPrice||e.selectedVehicle?.price||0},paymentMethod:e.paymentMethod||"cash",totalPrice:e.totalPrice||e.selectedVehicle?.totalPrice||e.selectedVehicle?.price||0,calculatedDistance:e.distance||0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};await S(T(z,"reservations"),r);R.success(`Rezervasyonunuz başarıyla kaydedildi! Rezervasyon kodunuz: ${t}`);try{const e={...r,reservationId:t,tempPassword:C};(await G.sendReservationConfirmation(e)).success?R.success("Rezervasyon onay e-postası başarıyla gönderildi!"):R("Rezervasyon kaydedildi ancak e-posta gönderilemedi",{icon:"⚠️",style:{borderRadius:"10px",background:"#fff8e1",color:"#f57c00",border:"1px solid #ffcc02"}})}catch(s){R("Rezervasyon kaydedildi ancak e-posta gönderilemedi",{icon:"⚠️",style:{borderRadius:"10px",background:"#fff8e1",color:"#f57c00",border:"1px solid #ffcc02"}})}try{const e={...r,reservationNumber:t,customerPhone:r.phone};(await V.sendReservationConfirmation(e)).success&&R.success("Rezervasyon onay SMS'i başarıyla gönderildi!")}catch(a){}}catch(r){throw R.error("Rezervasyon işlemi sırasında bir hata oluştu. Lütfen tekrar deneyiniz."),r}};return D?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-4 sm:py-8 px-2 sm:px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(t.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 sm:mb-8 px-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full mb-3 sm:mb-4 shadow-lg",children:e.jsx(s,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Rezervasyonunuz Onaylandı!"})}),e.jsxs("p",{className:"text-gray-600 text-base sm:text-lg px-2",children:["Rezervasyon numaranız: ",e.jsxs("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["#",H]})]})]}),A&&e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 mx-2 sm:mx-0 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx(a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Müşteri Hesabınız Otomatik Oluşturuldu!"})]}),e.jsxs("div",{className:"text-center text-gray-700 text-xs sm:text-sm",children:[e.jsxs("p",{className:"mb-2 break-words",children:["E-posta: ",e.jsx("span",{className:"font-medium",children:D.customerInfo?.email})]}),e.jsxs("p",{className:"mb-2",children:["Geçici Şifre: ",e.jsx("span",{className:"font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-white px-3 py-1 rounded-full text-sm",children:C})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Bu bilgilerle müşteri sayfanıza giriş yapabilirsiniz."})]})]}),D.customerInfo?.email&&e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 mx-2 sm:mx-0 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:e.jsx(r,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-center bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Onay E-postası Gönderildi!"})]}),e.jsxs("div",{className:"text-center text-gray-700 text-xs sm:text-sm",children:[e.jsxs("p",{className:"mb-2 break-words",children:["📧 ",e.jsx("span",{className:"font-medium",children:D.customerInfo.email})," adresine rezervasyon detayları gönderildi"]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(s,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Rezervasyon detayları"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(s,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"QR kod"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(s,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Giriş bilgileri"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"E-posta gelmezse spam klasörünü kontrol edin"})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(i,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Rezervasyon Detayları"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(n,{className:"w-4 h-4 mr-2 text-blue-600"}),"Müşteri Bilgileri"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ad Soyad"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[D.customerInfo?.firstName," ",D.customerInfo?.lastName]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Telefon"}),e.jsx("p",{className:"font-medium text-gray-900",children:D.customerInfo?.phone||"Belirtilmedi"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"E-posta"}),e.jsx("p",{className:"font-medium text-gray-900",children:D.customerInfo?.email||"Belirtilmedi"})]}),D.customerInfo?.flightNumber&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Uçuş Numarası"}),e.jsx("p",{className:"font-medium text-gray-900",children:D.customerInfo.flightNumber})]}),D.customerInfo?.flightTime&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Uçuş Saati"}),e.jsx("p",{className:"font-medium text-gray-900",children:D.customerInfo.flightTime})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(l,{className:"w-4 h-4 mr-2 text-blue-600"}),"Güzergah Bilgileri"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mt-0.5",children:e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Nereden"}),e.jsx("p",{className:"font-medium text-gray-900",children:"object"==typeof D.pickupLocation?D.pickupLocation?.address:D.pickupLocation||"Belirlenmedi"})]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(o,{className:"w-4 h-4 text-gray-400"})}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center mt-0.5",children:e.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Nereye"}),e.jsx("p",{className:"font-medium text-gray-900",children:"object"==typeof D.dropoffLocation?D.dropoffLocation?.address:D.dropoffLocation||"Belirlenmedi"})]})]}),D.routeInfo&&e.jsx("div",{className:"bg-white rounded-lg p-3 mt-3 border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Mesafe:"}),e.jsx("span",{className:"font-medium text-blue-600 ml-2",children:D.routeInfo.distance})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Süre:"}),e.jsx("span",{className:"font-medium text-purple-600 ml-2",children:D.routeInfo.duration})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-2 text-blue-600"}),"Tarih ve Saat"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"round-trip"===D.tripType?"Gidiş":"Tarih"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[D.date," - ",D.time]})]}),"round-trip"===D.tripType&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Dönüş"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[D.returnDate," - ",D.returnTime]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(m,{className:"w-4 h-4 mr-2 text-blue-600"}),"Seçilen Araç"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium text-gray-900",children:D.selectedVehicle?.name||"Belirlenmedi"}),e.jsx("p",{className:"text-sm text-gray-600",children:D.selectedVehicle?.description||D.selectedVehicle?.brand+" "+D.selectedVehicle?.model}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("span",{className:"flex items-center text-gray-600",children:[e.jsx(d,{className:"w-3 h-3 mr-1"}),D.passengerCount," kişi"]}),e.jsxs("span",{className:"flex items-center text-gray-600",children:[e.jsx(x,{className:"w-3 h-3 mr-1"}),D.baggageCount," bagaj"]})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Toplam Tutar"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["€",D.totalPrice]}),e.jsx("p",{className:"text-sm text-gray-600",children:"round-trip"===D.tripType?"Gidiş-Dönüş":"Tek Yön"})]})]})})]})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(p,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"QR Kod"})]}),_?e.jsxs("div",{children:[e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg inline-block mb-4",children:e.jsx("img",{src:_,alt:"QR Code",className:"w-32 h-32 mx-auto"})}),e.jsxs("button",{onClick:()=>{if(_){const e=document.createElement("a");e.download=`SBS-Transfer-${H}.png`,e.href=_,e.click()}},className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 mx-auto",children:[e.jsx(u,{className:"w-4 h-4"}),"QR Kodunu İndir"]})]}):e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("div",{className:"w-32 h-32 mx-auto flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})}),e.jsx("p",{className:"text-gray-500 mt-4",children:"QR kod oluşturuluyor..."})]})]})}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Sırada Ne Var?"}),e.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),e.jsx("span",{children:"E-posta adresinize onay mesajı gönderilecek"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),e.jsx("span",{children:"Şoförümüz seyahat öncesi sizinle iletişime geçecek"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),e.jsx("span",{children:"Belirlenen zamanda kalkış noktasında hazır olun"})]})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"İletişim"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Telefon"}),e.jsx("p",{className:"text-sm text-gray-600",children:"+90 555 123 45 67"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(r,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"E-posta"}),e.jsx("p",{className:"text-sm text-gray-600",children:"info@sonstransfer.com"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(f,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),e.jsx("p",{className:"text-sm text-gray-600",children:"7/24 Destek"})]})]})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:[A&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-xl p-4 sm:p-8 text-center shadow-xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(n,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Müşteri Hesabınız Hazır!"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Rezervasyonlarınızı takip edin ve profil ayarlarınızı düzenleyin"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("button",{onClick:()=>B("/profil"),className:"w-full px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-xl transition-all duration-300 font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 sm:gap-3 text-sm sm:text-base",children:[e.jsx(n,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Müşteri Sayfama Git"]}),e.jsxs("button",{onClick:()=>B("/rezervasyonlarim"),className:"w-full px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white rounded-xl transition-all duration-300 font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 sm:gap-3 text-sm sm:text-base",children:[e.jsx(c,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Rezervasyonlarım"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>{},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2 font-semibold shadow-lg hover:shadow-xl text-sm sm:text-base",children:[e.jsx(u,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"PDF İndir"})]}),e.jsxs("button",{onClick:()=>B("/"),className:"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2 font-semibold shadow-lg hover:shadow-xl text-sm sm:text-base",children:[e.jsx(y,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:"Ana Sayfa"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})})};export{J as default};
