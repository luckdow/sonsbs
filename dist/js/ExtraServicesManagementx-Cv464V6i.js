import{j as e,m as s,E as a,aw as l,f as r,p as t,v as i,aF as c,aG as n,D as o,s as d,h as m,X as x,a as u,e as h}from"./chunk-BcaSFcXu.js";import{r as g}from"./chunk-rj-8a6OE.js";import{c as b,V as p}from"./index-BST_SAjC.js";import"./chunk-Bkkzv6j4.js";import"./chunk-CY8KpSnY.js";import"./chunk-D-dPr7Hw.js";import"./chunk-BY_DoteD.js";const y=()=>{const{state:y,addExtraService:j,updateExtraService:f,deleteExtraService:v}=b(),{extraServices:N=[]}=y,[w,k]=g.useState(!1),[z,C]=g.useState(null),[E,P]=g.useState(""),[H,S]=g.useState(!1),[A,T]=g.useState({name:"",description:"",price:"",category:"comfort",icon:"Package",status:"active",isPopular:!1,duration:"",restrictions:""}),D=[{value:"comfort",label:"Konfor",icon:i},{value:"luggage",label:"Bagaj",icon:r},{value:"time",label:"Zaman",icon:d},{value:"vehicle",label:"Araç",icon:u},{value:"passenger",label:"Yolcu",icon:h}],K=()=>{T({name:"",description:"",price:"",category:"comfort",icon:"Package",status:"active",isPopular:!1,duration:"",restrictions:""})},L=(e,s)=>{T(a=>({...a,[e]:s}))},B=()=>{k(!1),C(null),K()},F=N.filter(e=>e.name?.toLowerCase().includes(E.toLowerCase())||e.description?.toLowerCase().includes(E.toLowerCase())||e.category?.toLowerCase().includes(E.toLowerCase()));return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ek Hizmetler Yönetimi"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Transfer hizmetlerinize eklenebilecek ek hizmetleri yönetin"})]}),e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors shadow-lg",children:[e.jsx(a,{className:"h-5 w-5"}),e.jsx("span",{children:"Yeni Ek Hizmet"})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(l,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Ek hizmet ara...",value:E,onChange:e=>P(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-80"})]})}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{children:["Toplam: ",N.length]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{children:["Aktif: ",N.filter(e=>"active"===e.status).length]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(a=>{const l=(r=a.category,D.find(e=>e.value===r)||D[0]);var r;const t=l.icon;return e.jsxs(s.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg "+("active"===a.status?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"),children:e.jsx(t,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{children:a.name}),a.isPopular&&e.jsx(i,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:l.label})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(s.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{C(e),T(e),k(!0)})(a),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(c,{className:"h-4 w-4"})}),e.jsx(s.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(async e=>{if(window.confirm("Bu ek hizmeti silmek istediğinizden emin misiniz?"))try{await v(e),p.success("Ek hizmet başarıyla silindi!")}catch(s){p.error("Silme işlemi sırasında bir hata oluştu")}})(a.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(n,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["€",a.price]})]}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===a.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"active"===a.status?"Aktif":"Pasif"})]}),a.duration&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx("span",{children:a.duration})]})]})]},a.id)})}),0===F.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(r,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ek hizmet bulunamadı"}),e.jsx("p",{className:"text-gray-500 mb-6",children:E?"Arama kriterlerinize uygun ek hizmet bulunamadı.":"Henüz ek hizmet eklenmemiş."}),!E&&e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(!0),className:"inline-flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(a,{className:"h-5 w-5"}),e.jsx("span",{children:"İlk Ek Hizmeti Ekle"})]})]}),e.jsx(m,{children:w&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(s.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:z?"Ek Hizmeti Düzenle":"Yeni Ek Hizmet Ekle"}),e.jsx("button",{onClick:B,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(x,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const s=(()=>{const e={};return A.name.trim()||(e.name="Hizmet adı gerekli"),A.description.trim()||(e.description="Açıklama gerekli"),(!A.price||A.price<0)&&(e.price="Geçerli fiyat gerekli"),e})();if(Object.keys(s).length>0)Object.values(s).forEach(e=>p.error(e));else{S(!0);try{const e={...A,price:parseFloat(A.price),createdAt:z?z.createdAt:new Date,updatedAt:new Date};z?(await f(z.id,e),p.success("Ek hizmet başarıyla güncellendi!")):(await j(e),p.success("Ek hizmet başarıyla eklendi!")),K(),k(!1),C(null)}catch(a){p.error("İşlem sırasında bir hata oluştu")}finally{S(!1)}}},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hizmet Adı *"}),e.jsx("input",{type:"text",value:A.name,onChange:e=>L("name",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Örn: VIP Karşılama, Bagaj Taşıma...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama *"}),e.jsx("textarea",{value:A.description,onChange:e=>L("description",e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Hizmet detaylarını açıklayın...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiyat (€) *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:A.price,onChange:e=>L("price",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),e.jsx("select",{value:A.category,onChange:e=>L("category",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:D.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İkon"}),e.jsx("select",{value:A.icon,onChange:e=>L("icon",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["Package","Star","Clock","Car","Users","Shield","Coffee","Wifi","Music","Phone","MapPin","Heart","Gift"].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durum"}),e.jsxs("select",{value:A.status,onChange:e=>L("status",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"inactive",children:"Pasif"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Süre (Opsiyonel)"}),e.jsx("input",{type:"text",value:A.duration,onChange:e=>L("duration",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Örn: 30 dakika, 1 saat..."})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[e.jsx("input",{type:"checkbox",id:"isPopular",checked:A.isPopular,onChange:e=>L("isPopular",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isPopular",className:"text-sm font-medium text-gray-700",children:"Popüler hizmet olarak işaretle"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kısıtlamalar (Opsiyonel)"}),e.jsx("textarea",{value:A.restrictions,onChange:e=>L("restrictions",e.target.value),rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Bu hizmet için özel koşullar veya kısıtlamalar..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:B,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),e.jsx(s.button,{type:"submit",disabled:H,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:H?"Kaydediliyor...":z?"Güncelle":"Kaydet"})]})]})]})})})]})};export{y as default};
