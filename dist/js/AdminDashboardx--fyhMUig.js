import{c as e,q as t,u as s,w as r,a,e as l,j as n}from"./chunk-FasyTjxO.js";import{r as i}from"./chunk-rj-8a6OE.js";import{c as o}from"./index-7qfwLuD9.js";import"./chunk-Bkkzv6j4.js";import"./chunk-C3rg1vA9.js";import"./chunk-CyZUTZX5.js";import"./chunk-CfVQzchV.js";const c=()=>{const{state:c}=o(),{reservations:d,vehicles:m,drivers:x,customers:g}=c,[u,h]=i.useState({totalReservations:0,todayReservations:0,totalRevenue:0,activeDrivers:0,pendingReservations:0,completedReservations:0,monthlyGrowth:0,customerSatisfaction:0});i.useEffect(()=>{const e=(new Date).toDateString(),t=d.filter(t=>new Date(t.tripDetails?.date).toDateString()===e).length,s=d.filter(e=>"pending"===e.status).length,r=d.filter(e=>"completed"===e.status).length,a=d.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.totalPrice||0),0),l=x.filter(e=>"active"===e.status).length,n=d.length>0?Math.round(r/d.length*100):0,i=r>0?Math.min(95,85+Math.round(r/10)):0;h({totalReservations:d.length,todayReservations:t,totalRevenue:a,activeDrivers:l,pendingReservations:s,completedReservations:r,monthlyGrowth:n,customerSatisfaction:i})},[d,x]);const p=[{title:"Toplam Rezervasyon",value:u.totalReservations,icon:e,color:"blue"},{title:"Bugünkü Rezervasyonlar",value:u.todayReservations,icon:t,color:"green"},{title:"Bekleyen Rezervasyonlar",value:u.pendingReservations,icon:s,color:"yellow"},{title:"Tamamlanan Rezervasyon",value:u.completedReservations,icon:r,color:"emerald"},{title:"Araçlar",value:m.length,icon:a,color:"purple"},{title:"Müşteriler",value:g.length,icon:l,color:"indigo"},{title:"Şoförler",value:x.length,icon:l,color:"orange"}],b=e=>{switch(e){case"blue":return"bg-blue-500 text-blue-100";case"orange":return"bg-orange-500 text-orange-100";case"green":return"bg-green-500 text-green-100";case"purple":return"bg-purple-500 text-purple-100";case"yellow":return"bg-yellow-500 text-yellow-100";case"emerald":return"bg-emerald-500 text-emerald-100";case"indigo":return"bg-indigo-500 text-indigo-100";default:return"bg-gray-500 text-gray-100"}};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(e=>n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-gray-300 transition-colors",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${b(e.color)}`,children:n.jsx(e.icon,{className:"w-5 h-5"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-semibold text-gray-900 mb-1",children:e.value}),n.jsx("p",{className:"text-sm text-gray-600",children:e.title})]})]},e.title))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Son Rezervasyonlar"})}),n.jsx("div",{className:"p-6",children:0===d.length?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(e,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Henüz rezervasyon yok"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Yeni rezervasyonlar burada görünecektir"})]}):n.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(e=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.reservationId||`RES-${e.id?.slice(-6)}`}),n.jsxs("p",{className:"text-xs text-gray-500",children:[e.customerInfo?.firstName," ",e.customerInfo?.lastName]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["€",e.totalPrice||0]}),n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-md "+("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"assigned"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"Tamamlandı":"pending"===e.status?"Bekleyen":"assigned"===e.status?"Atandı":"Bilinmeyen"})]})]},e.id))})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Özet"})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center border border-orange-200",children:[n.jsx(s,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Bekleyen"}),n.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:u.pendingReservations})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center border border-green-200",children:[n.jsx(r,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tamamlanan"}),n.jsx("p",{className:"text-2xl font-semibold text-green-600",children:u.completedReservations})]}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center border border-purple-200",children:[n.jsx(a,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Araçlar"}),n.jsx("p",{className:"text-2xl font-semibold text-purple-600",children:m.length})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center border border-blue-200",children:[n.jsx(l,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Müşteriler"}),n.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:g.length})]})]})})]})]})]})};export{c as default};
