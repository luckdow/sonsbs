var nj=Object.defineProperty;var ij=(t,e,r)=>e in t?nj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zv=(t,e,r)=>ij(t,typeof e!="symbol"?e+"":e,r);function aj(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var oj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ww={exports:{}},sx={},Cw={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),lj=Symbol.for("react.portal"),cj=Symbol.for("react.fragment"),uj=Symbol.for("react.strict_mode"),dj=Symbol.for("react.profiler"),xj=Symbol.for("react.provider"),hj=Symbol.for("react.context"),mj=Symbol.for("react.forward_ref"),fj=Symbol.for("react.suspense"),pj=Symbol.for("react.memo"),gj=Symbol.for("react.lazy"),Jv=Symbol.iterator;function yj(t){return t===null||typeof t!="object"?null:(t=Jv&&t[Jv]||t["@@iterator"],typeof t=="function"?t:null)}var Aw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nw=Object.assign,jw={};function Ho(t,e,r){this.props=t,this.context=e,this.refs=jw,this.updater=r||Aw}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dw(){}Dw.prototype=Ho.prototype;function bp(t,e,r){this.props=t,this.context=e,this.refs=jw,this.updater=r||Aw}var wp=bp.prototype=new Dw;wp.constructor=bp;Nw(wp,Ho.prototype);wp.isPureReactComponent=!0;var eE=Array.isArray,kw=Object.prototype.hasOwnProperty,Cp={current:null},Bw={key:!0,ref:!0,__self:!0,__source:!0};function _w(t,e,r){var s,i={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)kw.call(e,s)&&!Bw.hasOwnProperty(s)&&(i[s]=e[s]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Wc,type:t,key:a,ref:o,props:i,_owner:Cp.current}}function vj(t,e){return{$$typeof:Wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ap(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wc}function Ej(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tE=/\/+/g;function vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ej(""+t.key):e.toString(36)}function pd(t,e,r,s,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wc:case lj:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+vh(o,0):s,eE(i)?(r="",t!=null&&(r=t.replace(tE,"$&/")+"/"),pd(i,e,r,"",function(u){return u})):i!=null&&(Ap(i)&&(i=vj(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",eE(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+vh(a,l);o+=pd(a,e,r,c,i)}else if(c=yj(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+vh(a,l++),o+=pd(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mu(t,e,r){if(t==null)return t;var s=[],i=0;return pd(t,s,"","",function(a){return e.call(r,a,i++)}),s}function bj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nr={current:null},gd={transition:null},wj={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:gd,ReactCurrentOwner:Cp};function Fw(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Mu,forEach:function(t,e,r){Mu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Mu(t,function(){e++}),e},toArray:function(t){return Mu(t,function(e){return e})||[]},only:function(t){if(!Ap(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Ho;ke.Fragment=cj;ke.Profiler=dj;ke.PureComponent=bp;ke.StrictMode=uj;ke.Suspense=fj;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wj;ke.act=Fw;ke.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Nw({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Cp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)kw.call(e,c)&&!Bw.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Wc,type:t.type,key:i,ref:a,props:s,_owner:o}};ke.createContext=function(t){return t={$$typeof:hj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xj,_context:t},t.Consumer=t};ke.createElement=_w;ke.createFactory=function(t){var e=_w.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:mj,render:t}};ke.isValidElement=Ap;ke.lazy=function(t){return{$$typeof:gj,_payload:{_status:-1,_result:t},_init:bj}};ke.memo=function(t,e){return{$$typeof:pj,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=gd.transition;gd.transition={};try{t()}finally{gd.transition=e}};ke.unstable_act=Fw;ke.useCallback=function(t,e){return Nr.current.useCallback(t,e)};ke.useContext=function(t){return Nr.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Nr.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Nr.current.useEffect(t,e)};ke.useId=function(){return Nr.current.useId()};ke.useImperativeHandle=function(t,e,r){return Nr.current.useImperativeHandle(t,e,r)};ke.useInsertionEffect=function(t,e){return Nr.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Nr.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Nr.current.useMemo(t,e)};ke.useReducer=function(t,e,r){return Nr.current.useReducer(t,e,r)};ke.useRef=function(t){return Nr.current.useRef(t)};ke.useState=function(t){return Nr.current.useState(t)};ke.useSyncExternalStore=function(t,e,r){return Nr.current.useSyncExternalStore(t,e,r)};ke.useTransition=function(){return Nr.current.useTransition()};ke.version="18.3.1";Cw.exports=ke;var g=Cw.exports;const Ko=bw(g),Cj=aj({__proto__:null,default:Ko},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj=g,Nj=Symbol.for("react.element"),jj=Symbol.for("react.fragment"),Dj=Object.prototype.hasOwnProperty,kj=Aj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bj={key:!0,ref:!0,__self:!0,__source:!0};function Sw(t,e,r){var s,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Dj.call(e,s)&&!Bj.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:Nj,type:t,key:a,ref:o,props:i,_owner:kj.current}}sx.Fragment=jj;sx.jsx=Sw;sx.jsxs=Sw;ww.exports=sx;var n=ww.exports,Dm={},Tw={exports:{}},Xr={},Pw={exports:{}},Iw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var O=L.length;L.push(z);e:for(;0<O;){var U=O-1>>>1,q=L[U];if(0<i(q,z))L[U]=z,L[O]=q,O=U;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var z=L[0],O=L.pop();if(O!==z){L[0]=O;e:for(var U=0,q=L.length,Y=q>>>1;U<Y;){var J=2*(U+1)-1,G=L[J],ae=J+1,le=L[ae];if(0>i(G,O))ae<q&&0>i(le,G)?(L[U]=le,L[ae]=O,U=ae):(L[U]=G,L[J]=O,U=J);else if(ae<q&&0>i(le,O))L[U]=le,L[ae]=O,U=ae;else break e}}return z}function i(L,z){var O=L.sortIndex-z.sortIndex;return O!==0?O:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(L){for(var z=r(u);z!==null;){if(z.callback===null)s(u);else if(z.startTime<=L)s(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(u)}}function E(L){if(N=!1,C(L),!p)if(r(c)!==null)p=!0,H(B);else{var z=r(u);z!==null&&I(E,z.startTime-L)}}function B(L,z){p=!1,N&&(N=!1,w(v),v=-1),m=!0;var O=f;try{for(C(z),h=r(c);h!==null&&(!(h.expirationTime>z)||L&&!F());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var q=U(h.expirationTime<=z);z=t.unstable_now(),typeof q=="function"?h.callback=q:h===r(c)&&s(c),C(z)}else s(c);h=r(c)}if(h!==null)var Y=!0;else{var J=r(u);J!==null&&I(E,J.startTime-z),Y=!1}return Y}finally{h=null,f=O,m=!1}}var _=!1,b=null,v=-1,y=5,A=-1;function F(){return!(t.unstable_now()-A<y)}function P(){if(b!==null){var L=t.unstable_now();A=L;var z=!0;try{z=b(!0,L)}finally{z?S():(_=!1,b=null)}}else _=!1}var S;if(typeof j=="function")S=function(){j(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,M=V.port2;V.port1.onmessage=P,S=function(){M.postMessage(null)}}else S=function(){k(P,0)};function H(L){b=L,_||(_=!0,S())}function I(L,z){v=k(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,H(B))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var O=f;f=z;try{return L()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=f;f=L;try{return z()}finally{f=O}},t.unstable_scheduleCallback=function(L,z,O){var U=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?U+O:U):O=U,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=O+q,L={id:d++,callback:z,priorityLevel:L,startTime:O,expirationTime:q,sortIndex:-1},O>U?(L.sortIndex=O,e(u,L),r(c)===null&&L===r(u)&&(N?(w(v),v=-1):N=!0,I(E,O-U))):(L.sortIndex=q,e(c,L),p||m||(p=!0,H(B))),L},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(L){var z=f;return function(){var O=f;f=z;try{return L.apply(this,arguments)}finally{f=O}}}})(Iw);Pw.exports=Iw;var _j=Pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fj=g,Gr=_j;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rw=new Set,uc={};function Na(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(uc[t]=e,t=0;t<e.length;t++)Rw.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,Sj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rE={},sE={};function Tj(t){return km.call(sE,t)?!0:km.call(rE,t)?!1:Sj.test(t)?sE[t]=!0:(rE[t]=!0,!1)}function Pj(t,e,r,s){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ij(t,e,r,s){if(e===null||typeof e>"u"||Pj(t,e,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jr(t,e,r,s,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tr[t]=new jr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tr[e]=new jr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tr[t]=new jr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tr[t]=new jr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tr[t]=new jr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tr[t]=new jr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tr[t]=new jr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tr[t]=new jr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tr[t]=new jr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Np=/[\-:]([a-z])/g;function jp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Np,jp);tr[e]=new jr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Np,jp);tr[e]=new jr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Np,jp);tr[e]=new jr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tr[t]=new jr(t,1,!1,t.toLowerCase(),null,!1,!1)});tr.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tr[t]=new jr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dp(t,e,r,s){var i=tr.hasOwnProperty(e)?tr[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ij(e,r,i,s)&&(r=null),s||i===null?Tj(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,s=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,s?t.setAttributeNS(s,e,r):t.setAttribute(e,r))))}var jn=Fj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ou=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),kp=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),Lw=Symbol.for("react.provider"),Mw=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),_m=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),_p=Symbol.for("react.memo"),Gn=Symbol.for("react.lazy"),Ow=Symbol.for("react.offscreen"),nE=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=nE&&t[nE]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Eh;function _l(t){if(Eh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Eh=e&&e[1]||""}return`
`+Eh+t}var bh=!1;function wh(t,e){if(!t||bh)return"";bh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{bh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_l(t):""}function Rj(t){switch(t.tag){case 5:return _l(t.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return t=wh(t.type,!1),t;case 11:return t=wh(t.type.render,!1),t;case 1:return t=wh(t.type,!0),t;default:return""}}function Sm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case Ha:return"Portal";case Bm:return"Profiler";case kp:return"StrictMode";case _m:return"Suspense";case Fm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mw:return(t.displayName||"Context")+".Consumer";case Lw:return(t._context.displayName||"Context")+".Provider";case Bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _p:return e=t.displayName||null,e!==null?e:Sm(t.type)||"Memo";case Gn:e=t._payload,t=t._init;try{return Sm(t(e))}catch{}}return null}function Lj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sm(e);case 8:return e===kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mj(t){var e=Vw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vu(t){t._valueTracker||(t._valueTracker=Mj(t))}function zw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),s="";return t&&(s=Vw(t)?t.checked?"true":"false":t.value),t=s,t!==r?(e.setValue(t),!0):!1}function zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tm(t,e){var r=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function iE(t,e){var r=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;r=yi(e.value!=null?e.value:r),t._wrapperState={initialChecked:s,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Uw(t,e){e=e.checked,e!=null&&Dp(t,"checked",e,!1)}function Pm(t,e){Uw(t,e);var r=yi(e.value),s=e.type;if(r!=null)s==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Im(t,e.type,r):e.hasOwnProperty("defaultValue")&&Im(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Im(t,e,r){(e!=="number"||zd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Fl=Array.isArray;function co(t,e,r,s){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&s&&(t[r].defaultSelected=!0)}else{for(r=""+yi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Fl(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yi(r)}}function $w(t,e){var r=yi(e.value),s=yi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),s!=null&&(t.defaultValue=""+s)}function lE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zu,Kw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oj=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(t){Oj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ul[e]=Ul[t]})});function Gw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ul.hasOwnProperty(t)&&Ul[t]?(""+e).trim():e+"px"}function Ww(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var s=r.indexOf("--")===0,i=Gw(r,e[r],s);r==="float"&&(r="cssFloat"),s?t.setProperty(r,i):t[r]=i}}var Vj=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mm(t,e){if(e){if(Vj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Om(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vm=null;function Fp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zm=null,uo=null,xo=null;function cE(t){if(t=Qc(t)){if(typeof zm!="function")throw Error(te(280));var e=t.stateNode;e&&(e=lx(e),zm(t.stateNode,t.type,e))}}function qw(t){uo?xo?xo.push(t):xo=[t]:uo=t}function Yw(){if(uo){var t=uo,e=xo;if(xo=uo=null,cE(t),e)for(t=0;t<e.length;t++)cE(e[t])}}function Qw(t,e){return t(e)}function Xw(){}var Ch=!1;function Zw(t,e,r){if(Ch)return t(e,r);Ch=!0;try{return Qw(t,e,r)}finally{Ch=!1,(uo!==null||xo!==null)&&(Xw(),Yw())}}function xc(t,e){var r=t.stateNode;if(r===null)return null;var s=lx(r);if(s===null)return null;r=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var Um=!1;if(pn)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Um=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Um=!1}function zj(t,e,r,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var $l=!1,Ud=null,$d=!1,$m=null,Uj={onError:function(t){$l=!0,Ud=t}};function $j(t,e,r,s,i,a,o,l,c){$l=!1,Ud=null,zj.apply(Uj,arguments)}function Hj(t,e,r,s,i,a,o,l,c){if($j.apply(this,arguments),$l){if($l){var u=Ud;$l=!1,Ud=null}else throw Error(te(198));$d||($d=!0,$m=u)}}function ja(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Jw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uE(t){if(ja(t)!==t)throw Error(te(188))}function Kj(t){var e=t.alternate;if(!e){if(e=ja(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,s=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){r=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return uE(i),t;if(a===s)return uE(i),e;a=a.sibling}throw Error(te(188))}if(r.return!==s.return)r=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o)throw Error(te(189))}}if(r.alternate!==s)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function e8(t){return t=Kj(t),t!==null?t8(t):null}function t8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t8(t);if(e!==null)return e;t=t.sibling}return null}var r8=Gr.unstable_scheduleCallback,dE=Gr.unstable_cancelCallback,Gj=Gr.unstable_shouldYield,Wj=Gr.unstable_requestPaint,jt=Gr.unstable_now,qj=Gr.unstable_getCurrentPriorityLevel,Sp=Gr.unstable_ImmediatePriority,s8=Gr.unstable_UserBlockingPriority,Hd=Gr.unstable_NormalPriority,Yj=Gr.unstable_LowPriority,n8=Gr.unstable_IdlePriority,nx=null,Is=null;function Qj(t){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(nx,t,void 0,(t.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:Jj,Xj=Math.log,Zj=Math.LN2;function Jj(t){return t>>>=0,t===0?32:31-(Xj(t)/Zj|0)|0}var Uu=64,$u=4194304;function Sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kd(t,e){var r=t.pendingLanes;if(r===0)return 0;var s=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?s=Sl(l):(a&=o,a!==0&&(s=Sl(a)))}else o=r&~i,o!==0?s=Sl(o):a!==0&&(s=Sl(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(s&4&&(s|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)r=31-ys(e),i=1<<r,s|=t[r],e&=~i;return s}function eD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tD(t,e){for(var r=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ys(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&s)&&(i[o]=eD(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i8(){var t=Uu;return Uu<<=1,!(Uu&4194240)&&(Uu=64),t}function Ah(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function qc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ys(e),t[e]=r}function rD(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ys(r),a=1<<i;e[i]=0,s[i]=-1,t[i]=-1,r&=~a}}function Tp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var s=31-ys(r),i=1<<s;i&e|t[s]&e&&(t[s]|=e),r&=~i}}var qe=0;function a8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o8,Pp,l8,c8,u8,Km=!1,Hu=[],ai=null,oi=null,li=null,hc=new Map,mc=new Map,Yn=[],sD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xE(t,e){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(e.pointerId)}}function yl(t,e,r,s,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Qc(e),e!==null&&Pp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nD(t,e,r,s,i){switch(e){case"focusin":return ai=yl(ai,t,e,r,s,i),!0;case"dragenter":return oi=yl(oi,t,e,r,s,i),!0;case"mouseover":return li=yl(li,t,e,r,s,i),!0;case"pointerover":var a=i.pointerId;return hc.set(a,yl(hc.get(a)||null,t,e,r,s,i)),!0;case"gotpointercapture":return a=i.pointerId,mc.set(a,yl(mc.get(a)||null,t,e,r,s,i)),!0}return!1}function d8(t){var e=Zi(t.target);if(e!==null){var r=ja(e);if(r!==null){if(e=r.tag,e===13){if(e=Jw(r),e!==null){t.blockedOn=e,u8(t.priority,function(){l8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);Vm=s,r.target.dispatchEvent(s),Vm=null}else return e=Qc(r),e!==null&&Pp(e),t.blockedOn=r,!1;e.shift()}return!0}function hE(t,e,r){yd(t)&&r.delete(e)}function iD(){Km=!1,ai!==null&&yd(ai)&&(ai=null),oi!==null&&yd(oi)&&(oi=null),li!==null&&yd(li)&&(li=null),hc.forEach(hE),mc.forEach(hE)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,Km||(Km=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,iD)))}function fc(t){function e(i){return vl(i,t)}if(0<Hu.length){vl(Hu[0],t);for(var r=1;r<Hu.length;r++){var s=Hu[r];s.blockedOn===t&&(s.blockedOn=null)}}for(ai!==null&&vl(ai,t),oi!==null&&vl(oi,t),li!==null&&vl(li,t),hc.forEach(e),mc.forEach(e),r=0;r<Yn.length;r++)s=Yn[r],s.blockedOn===t&&(s.blockedOn=null);for(;0<Yn.length&&(r=Yn[0],r.blockedOn===null);)d8(r),r.blockedOn===null&&Yn.shift()}var ho=jn.ReactCurrentBatchConfig,Gd=!0;function aD(t,e,r,s){var i=qe,a=ho.transition;ho.transition=null;try{qe=1,Ip(t,e,r,s)}finally{qe=i,ho.transition=a}}function oD(t,e,r,s){var i=qe,a=ho.transition;ho.transition=null;try{qe=4,Ip(t,e,r,s)}finally{qe=i,ho.transition=a}}function Ip(t,e,r,s){if(Gd){var i=Gm(t,e,r,s);if(i===null)Ph(t,e,s,Wd,r),xE(t,s);else if(nD(i,t,e,r,s))s.stopPropagation();else if(xE(t,s),e&4&&-1<sD.indexOf(t)){for(;i!==null;){var a=Qc(i);if(a!==null&&o8(a),a=Gm(t,e,r,s),a===null&&Ph(t,e,s,Wd,r),a===i)break;i=a}i!==null&&s.stopPropagation()}else Ph(t,e,s,null,r)}}var Wd=null;function Gm(t,e,r,s){if(Wd=null,t=Fp(s),t=Zi(t),t!==null)if(e=ja(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Jw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wd=t,null}function x8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qj()){case Sp:return 1;case s8:return 4;case Hd:case Yj:return 16;case n8:return 536870912;default:return 16}default:return 16}}var ti=null,Rp=null,vd=null;function h8(){if(vd)return vd;var t,e=Rp,r=e.length,s,i="value"in ti?ti.value:ti.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(s=1;s<=o&&e[r-s]===i[a-s];s++);return vd=i.slice(t,1<s?1-s:void 0)}function Ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function mE(){return!1}function Zr(t){function e(r,s,i,a,o){this._reactName=r,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ku:mE,this.isPropagationStopped=mE,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=Zr(Go),Yc=ft({},Go,{view:0,detail:0}),lD=Zr(Yc),Nh,jh,El,ix=ft({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(Nh=t.screenX-El.screenX,jh=t.screenY-El.screenY):jh=Nh=0,El=t),Nh)},movementY:function(t){return"movementY"in t?t.movementY:jh}}),fE=Zr(ix),cD=ft({},ix,{dataTransfer:0}),uD=Zr(cD),dD=ft({},Yc,{relatedTarget:0}),Dh=Zr(dD),xD=ft({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),hD=Zr(xD),mD=ft({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fD=Zr(mD),pD=ft({},Go,{data:0}),pE=Zr(pD),gD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ED(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vD[t])?!!e[t]:!1}function Mp(){return ED}var bD=ft({},Yc,{key:function(t){if(t.key){var e=gD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(t){return t.type==="keypress"?Ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wD=Zr(bD),CD=ft({},ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gE=Zr(CD),AD=ft({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),ND=Zr(AD),jD=ft({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),DD=Zr(jD),kD=ft({},ix,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BD=Zr(kD),_D=[9,13,27,32],Op=pn&&"CompositionEvent"in window,Hl=null;pn&&"documentMode"in document&&(Hl=document.documentMode);var FD=pn&&"TextEvent"in window&&!Hl,m8=pn&&(!Op||Hl&&8<Hl&&11>=Hl),yE=" ",vE=!1;function f8(t,e){switch(t){case"keyup":return _D.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function SD(t,e){switch(t){case"compositionend":return p8(e);case"keypress":return e.which!==32?null:(vE=!0,yE);case"textInput":return t=e.data,t===yE&&vE?null:t;default:return null}}function TD(t,e){if(Ga)return t==="compositionend"||!Op&&f8(t,e)?(t=h8(),vd=Rp=ti=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m8&&e.locale!=="ko"?null:e.data;default:return null}}var PD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PD[t.type]:e==="textarea"}function g8(t,e,r,s){qw(s),e=qd(e,"onChange"),0<e.length&&(r=new Lp("onChange","change",null,r,s),t.push({event:r,listeners:e}))}var Kl=null,pc=null;function ID(t){k8(t,0)}function ax(t){var e=Ya(t);if(zw(e))return t}function RD(t,e){if(t==="change")return e}var y8=!1;if(pn){var kh;if(pn){var Bh="oninput"in document;if(!Bh){var bE=document.createElement("div");bE.setAttribute("oninput","return;"),Bh=typeof bE.oninput=="function"}kh=Bh}else kh=!1;y8=kh&&(!document.documentMode||9<document.documentMode)}function wE(){Kl&&(Kl.detachEvent("onpropertychange",v8),pc=Kl=null)}function v8(t){if(t.propertyName==="value"&&ax(pc)){var e=[];g8(e,pc,t,Fp(t)),Zw(ID,e)}}function LD(t,e,r){t==="focusin"?(wE(),Kl=e,pc=r,Kl.attachEvent("onpropertychange",v8)):t==="focusout"&&wE()}function MD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ax(pc)}function OD(t,e){if(t==="click")return ax(e)}function VD(t,e){if(t==="input"||t==="change")return ax(e)}function zD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cs=typeof Object.is=="function"?Object.is:zD;function gc(t,e){if(Cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var i=r[s];if(!km.call(e,i)||!Cs(t[i],e[i]))return!1}return!0}function CE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AE(t,e){var r=CE(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=e&&s>=e)return{node:r,offset:e-t};t=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=CE(r)}}function E8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b8(){for(var t=window,e=zd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=zd(t.document)}return e}function Vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UD(t){var e=b8(),r=t.focusedElem,s=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&E8(r.ownerDocument.documentElement,r)){if(s!==null&&Vp(r)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!t.extend&&a>s&&(i=s,s=a,a=i),i=AE(r,a);var o=AE(r,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $D=pn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Wm=null,Gl=null,qm=!1;function NE(t,e,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qm||Wa==null||Wa!==zd(s)||(s=Wa,"selectionStart"in s&&Vp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gl&&gc(Gl,s)||(Gl=s,s=qd(Wm,"onSelect"),0<s.length&&(e=new Lp("onSelect","select",null,e,r),t.push({event:e,listeners:s}),e.target=Wa)))}function Gu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var qa={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},_h={},w8={};pn&&(w8=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function ox(t){if(_h[t])return _h[t];if(!qa[t])return t;var e=qa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in w8)return _h[t]=e[r];return t}var C8=ox("animationend"),A8=ox("animationiteration"),N8=ox("animationstart"),j8=ox("transitionend"),D8=new Map,jE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){D8.set(t,e),Na(e,[t])}for(var Fh=0;Fh<jE.length;Fh++){var Sh=jE[Fh],HD=Sh.toLowerCase(),KD=Sh[0].toUpperCase()+Sh.slice(1);ki(HD,"on"+KD)}ki(C8,"onAnimationEnd");ki(A8,"onAnimationIteration");ki(N8,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(j8,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function DE(t,e,r){var s=t.type||"unknown-event";t.currentTarget=r,Hj(s,e,void 0,t),t.currentTarget=null}function k8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],i=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;DE(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;DE(i,l,u),a=c}}}if($d)throw t=$m,$d=!1,$m=null,t}function nt(t,e){var r=e[Jm];r===void 0&&(r=e[Jm]=new Set);var s=t+"__bubble";r.has(s)||(B8(e,t,2,!1),r.add(s))}function Th(t,e,r){var s=0;e&&(s|=4),B8(r,t,s,e)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function yc(t){if(!t[Wu]){t[Wu]=!0,Rw.forEach(function(r){r!=="selectionchange"&&(GD.has(r)||Th(r,!1,t),Th(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wu]||(e[Wu]=!0,Th("selectionchange",!1,e))}}function B8(t,e,r,s){switch(x8(e)){case 1:var i=aD;break;case 4:i=oD;break;default:i=Ip}r=i.bind(null,e,r,t),i=void 0,!Um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ph(t,e,r,s,i){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Zi(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}Zw(function(){var u=a,d=Fp(r),h=[];e:{var f=D8.get(t);if(f!==void 0){var m=Lp,p=t;switch(t){case"keypress":if(Ed(r)===0)break e;case"keydown":case"keyup":m=wD;break;case"focusin":p="focus",m=Dh;break;case"focusout":p="blur",m=Dh;break;case"beforeblur":case"afterblur":m=Dh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ND;break;case C8:case A8:case N8:m=hD;break;case j8:m=DD;break;case"scroll":m=lD;break;case"wheel":m=BD;break;case"copy":case"cut":case"paste":m=fD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gE}var N=(e&4)!==0,k=!N&&t==="scroll",w=N?f!==null?f+"Capture":null:f;N=[];for(var j=u,C;j!==null;){C=j;var E=C.stateNode;if(C.tag===5&&E!==null&&(C=E,w!==null&&(E=xc(j,w),E!=null&&N.push(vc(j,E,C)))),k)break;j=j.return}0<N.length&&(f=new m(f,p,null,r,d),h.push({event:f,listeners:N}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==Vm&&(p=r.relatedTarget||r.fromElement)&&(Zi(p)||p[gn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Zi(p):null,p!==null&&(k=ja(p),p!==k||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(N=fE,E="onMouseLeave",w="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(N=gE,E="onPointerLeave",w="onPointerEnter",j="pointer"),k=m==null?f:Ya(m),C=p==null?f:Ya(p),f=new N(E,j+"leave",m,r,d),f.target=k,f.relatedTarget=C,E=null,Zi(d)===u&&(N=new N(w,j+"enter",p,r,d),N.target=C,N.relatedTarget=k,E=N),k=E,m&&p)t:{for(N=m,w=p,j=0,C=N;C;C=Va(C))j++;for(C=0,E=w;E;E=Va(E))C++;for(;0<j-C;)N=Va(N),j--;for(;0<C-j;)w=Va(w),C--;for(;j--;){if(N===w||w!==null&&N===w.alternate)break t;N=Va(N),w=Va(w)}N=null}else N=null;m!==null&&kE(h,f,m,N,!1),p!==null&&k!==null&&kE(h,k,p,N,!0)}}e:{if(f=u?Ya(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var B=RD;else if(EE(f))if(y8)B=VD;else{B=MD;var _=LD}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(B=OD);if(B&&(B=B(t,u))){g8(h,B,r,d);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Im(f,"number",f.value)}switch(_=u?Ya(u):window,t){case"focusin":(EE(_)||_.contentEditable==="true")&&(Wa=_,Wm=u,Gl=null);break;case"focusout":Gl=Wm=Wa=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,NE(h,r,d);break;case"selectionchange":if($D)break;case"keydown":case"keyup":NE(h,r,d)}var b;if(Op)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ga?f8(t,r)&&(v="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(v="onCompositionStart");v&&(m8&&r.locale!=="ko"&&(Ga||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ga&&(b=h8()):(ti=d,Rp="value"in ti?ti.value:ti.textContent,Ga=!0)),_=qd(u,v),0<_.length&&(v=new pE(v,t,null,r,d),h.push({event:v,listeners:_}),b?v.data=b:(b=p8(r),b!==null&&(v.data=b)))),(b=FD?SD(t,r):TD(t,r))&&(u=qd(u,"onBeforeInput"),0<u.length&&(d=new pE("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=b))}k8(h,e)})}function vc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qd(t,e){for(var r=e+"Capture",s=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=xc(t,r),a!=null&&s.unshift(vc(t,a,i)),a=xc(t,e),a!=null&&s.push(vc(t,a,i))),t=t.return}return s}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kE(t,e,r,s,i){for(var a=e._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=xc(r,a),c!=null&&o.unshift(vc(r,c,l))):i||(c=xc(r,a),c!=null&&o.push(vc(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var WD=/\r\n?/g,qD=/\u0000|\uFFFD/g;function BE(t){return(typeof t=="string"?t:""+t).replace(WD,`
`).replace(qD,"")}function qu(t,e,r){if(e=BE(e),BE(t)!==e&&r)throw Error(te(425))}function Yd(){}var Ym=null,Qm=null;function Xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,YD=typeof clearTimeout=="function"?clearTimeout:void 0,_E=typeof Promise=="function"?Promise:void 0,QD=typeof queueMicrotask=="function"?queueMicrotask:typeof _E<"u"?function(t){return _E.resolve(null).then(t).catch(XD)}:Zm;function XD(t){setTimeout(function(){throw t})}function Ih(t,e){var r=e,s=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(s===0){t.removeChild(i),fc(e);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=i}while(r);fc(e)}function ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Wo,Ec="__reactProps$"+Wo,gn="__reactContainer$"+Wo,Jm="__reactEvents$"+Wo,ZD="__reactListeners$"+Wo,JD="__reactHandles$"+Wo;function Zi(t){var e=t[Ts];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gn]||r[Ts]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=FE(t);t!==null;){if(r=t[Ts])return r;t=FE(t)}return e}t=r,r=t.parentNode}return null}function Qc(t){return t=t[Ts]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function lx(t){return t[Ec]||null}var ef=[],Qa=-1;function Bi(t){return{current:t}}function it(t){0>Qa||(t.current=ef[Qa],ef[Qa]=null,Qa--)}function et(t,e){Qa++,ef[Qa]=t.current,t.current=e}var vi={},mr=Bi(vi),Fr=Bi(!1),da=vi;function Ao(t,e){var r=t.type.contextTypes;if(!r)return vi;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(t){return t=t.childContextTypes,t!=null}function Qd(){it(Fr),it(mr)}function SE(t,e,r){if(mr.current!==vi)throw Error(te(168));et(mr,e),et(Fr,r)}function _8(t,e,r){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(te(108,Lj(t)||"Unknown",i));return ft({},r,s)}function Xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,da=mr.current,et(mr,t),et(Fr,Fr.current),!0}function TE(t,e,r){var s=t.stateNode;if(!s)throw Error(te(169));r?(t=_8(t,e,da),s.__reactInternalMemoizedMergedChildContext=t,it(Fr),it(mr),et(mr,t)):it(Fr),et(Fr,r)}var sn=null,cx=!1,Rh=!1;function F8(t){sn===null?sn=[t]:sn.push(t)}function e3(t){cx=!0,F8(t)}function _i(){if(!Rh&&sn!==null){Rh=!0;var t=0,e=qe;try{var r=sn;for(qe=1;t<r.length;t++){var s=r[t];do s=s(!0);while(s!==null)}sn=null,cx=!1}catch(i){throw sn!==null&&(sn=sn.slice(t+1)),r8(Sp,_i),i}finally{qe=e,Rh=!1}}return null}var Xa=[],Za=0,Zd=null,Jd=0,ss=[],ns=0,xa=null,an=1,on="";function Wi(t,e){Xa[Za++]=Jd,Xa[Za++]=Zd,Zd=t,Jd=e}function S8(t,e,r){ss[ns++]=an,ss[ns++]=on,ss[ns++]=xa,xa=t;var s=an;t=on;var i=32-ys(s)-1;s&=~(1<<i),r+=1;var a=32-ys(e)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,an=1<<32-ys(e)+i|r<<i|s,on=a+t}else an=1<<a|r<<i|s,on=t}function zp(t){t.return!==null&&(Wi(t,1),S8(t,1,0))}function Up(t){for(;t===Zd;)Zd=Xa[--Za],Xa[Za]=null,Jd=Xa[--Za],Xa[Za]=null;for(;t===xa;)xa=ss[--ns],ss[ns]=null,on=ss[--ns],ss[ns]=null,an=ss[--ns],ss[ns]=null}var Ur=null,Or=null,ct=!1,fs=null;function T8(t,e){var r=is(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function PE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ur=t,Or=ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ur=t,Or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=xa!==null?{id:an,overflow:on}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=is(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ur=t,Or=null,!0):!1;default:return!1}}function tf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rf(t){if(ct){var e=Or;if(e){var r=e;if(!PE(t,e)){if(tf(t))throw Error(te(418));e=ci(r.nextSibling);var s=Ur;e&&PE(t,e)?T8(s,r):(t.flags=t.flags&-4097|2,ct=!1,Ur=t)}}else{if(tf(t))throw Error(te(418));t.flags=t.flags&-4097|2,ct=!1,Ur=t}}}function IE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ur=t}function Yu(t){if(t!==Ur)return!1;if(!ct)return IE(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xm(t.type,t.memoizedProps)),e&&(e=Or)){if(tf(t))throw P8(),Error(te(418));for(;e;)T8(t,e),e=ci(e.nextSibling)}if(IE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Or=ci(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Or=null}}else Or=Ur?ci(t.stateNode.nextSibling):null;return!0}function P8(){for(var t=Or;t;)t=ci(t.nextSibling)}function No(){Or=Ur=null,ct=!1}function $p(t){fs===null?fs=[t]:fs.push(t)}var t3=jn.ReactCurrentBatchConfig;function bl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var s=r.stateNode}if(!s)throw Error(te(147,t));var i=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function Qu(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RE(t){var e=t._init;return e(t._payload)}function I8(t){function e(w,j){if(t){var C=w.deletions;C===null?(w.deletions=[j],w.flags|=16):C.push(j)}}function r(w,j){if(!t)return null;for(;j!==null;)e(w,j),j=j.sibling;return null}function s(w,j){for(w=new Map;j!==null;)j.key!==null?w.set(j.key,j):w.set(j.index,j),j=j.sibling;return w}function i(w,j){return w=hi(w,j),w.index=0,w.sibling=null,w}function a(w,j,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<j?(w.flags|=2,j):C):(w.flags|=2,j)):(w.flags|=1048576,j)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,j,C,E){return j===null||j.tag!==6?(j=$h(C,w.mode,E),j.return=w,j):(j=i(j,C),j.return=w,j)}function c(w,j,C,E){var B=C.type;return B===Ka?d(w,j,C.props.children,E,C.key):j!==null&&(j.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Gn&&RE(B)===j.type)?(E=i(j,C.props),E.ref=bl(w,j,C),E.return=w,E):(E=Dd(C.type,C.key,C.props,null,w.mode,E),E.ref=bl(w,j,C),E.return=w,E)}function u(w,j,C,E){return j===null||j.tag!==4||j.stateNode.containerInfo!==C.containerInfo||j.stateNode.implementation!==C.implementation?(j=Hh(C,w.mode,E),j.return=w,j):(j=i(j,C.children||[]),j.return=w,j)}function d(w,j,C,E,B){return j===null||j.tag!==7?(j=oa(C,w.mode,E,B),j.return=w,j):(j=i(j,C),j.return=w,j)}function h(w,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return j=$h(""+j,w.mode,C),j.return=w,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ou:return C=Dd(j.type,j.key,j.props,null,w.mode,C),C.ref=bl(w,null,j),C.return=w,C;case Ha:return j=Hh(j,w.mode,C),j.return=w,j;case Gn:var E=j._init;return h(w,E(j._payload),C)}if(Fl(j)||pl(j))return j=oa(j,w.mode,C,null),j.return=w,j;Qu(w,j)}return null}function f(w,j,C,E){var B=j!==null?j.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return B!==null?null:l(w,j,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ou:return C.key===B?c(w,j,C,E):null;case Ha:return C.key===B?u(w,j,C,E):null;case Gn:return B=C._init,f(w,j,B(C._payload),E)}if(Fl(C)||pl(C))return B!==null?null:d(w,j,C,E,null);Qu(w,C)}return null}function m(w,j,C,E,B){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(C)||null,l(j,w,""+E,B);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ou:return w=w.get(E.key===null?C:E.key)||null,c(j,w,E,B);case Ha:return w=w.get(E.key===null?C:E.key)||null,u(j,w,E,B);case Gn:var _=E._init;return m(w,j,C,_(E._payload),B)}if(Fl(E)||pl(E))return w=w.get(C)||null,d(j,w,E,B,null);Qu(j,E)}return null}function p(w,j,C,E){for(var B=null,_=null,b=j,v=j=0,y=null;b!==null&&v<C.length;v++){b.index>v?(y=b,b=null):y=b.sibling;var A=f(w,b,C[v],E);if(A===null){b===null&&(b=y);break}t&&b&&A.alternate===null&&e(w,b),j=a(A,j,v),_===null?B=A:_.sibling=A,_=A,b=y}if(v===C.length)return r(w,b),ct&&Wi(w,v),B;if(b===null){for(;v<C.length;v++)b=h(w,C[v],E),b!==null&&(j=a(b,j,v),_===null?B=b:_.sibling=b,_=b);return ct&&Wi(w,v),B}for(b=s(w,b);v<C.length;v++)y=m(b,w,v,C[v],E),y!==null&&(t&&y.alternate!==null&&b.delete(y.key===null?v:y.key),j=a(y,j,v),_===null?B=y:_.sibling=y,_=y);return t&&b.forEach(function(F){return e(w,F)}),ct&&Wi(w,v),B}function N(w,j,C,E){var B=pl(C);if(typeof B!="function")throw Error(te(150));if(C=B.call(C),C==null)throw Error(te(151));for(var _=B=null,b=j,v=j=0,y=null,A=C.next();b!==null&&!A.done;v++,A=C.next()){b.index>v?(y=b,b=null):y=b.sibling;var F=f(w,b,A.value,E);if(F===null){b===null&&(b=y);break}t&&b&&F.alternate===null&&e(w,b),j=a(F,j,v),_===null?B=F:_.sibling=F,_=F,b=y}if(A.done)return r(w,b),ct&&Wi(w,v),B;if(b===null){for(;!A.done;v++,A=C.next())A=h(w,A.value,E),A!==null&&(j=a(A,j,v),_===null?B=A:_.sibling=A,_=A);return ct&&Wi(w,v),B}for(b=s(w,b);!A.done;v++,A=C.next())A=m(b,w,v,A.value,E),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?v:A.key),j=a(A,j,v),_===null?B=A:_.sibling=A,_=A);return t&&b.forEach(function(P){return e(w,P)}),ct&&Wi(w,v),B}function k(w,j,C,E){if(typeof C=="object"&&C!==null&&C.type===Ka&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ou:e:{for(var B=C.key,_=j;_!==null;){if(_.key===B){if(B=C.type,B===Ka){if(_.tag===7){r(w,_.sibling),j=i(_,C.props.children),j.return=w,w=j;break e}}else if(_.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Gn&&RE(B)===_.type){r(w,_.sibling),j=i(_,C.props),j.ref=bl(w,_,C),j.return=w,w=j;break e}r(w,_);break}else e(w,_);_=_.sibling}C.type===Ka?(j=oa(C.props.children,w.mode,E,C.key),j.return=w,w=j):(E=Dd(C.type,C.key,C.props,null,w.mode,E),E.ref=bl(w,j,C),E.return=w,w=E)}return o(w);case Ha:e:{for(_=C.key;j!==null;){if(j.key===_)if(j.tag===4&&j.stateNode.containerInfo===C.containerInfo&&j.stateNode.implementation===C.implementation){r(w,j.sibling),j=i(j,C.children||[]),j.return=w,w=j;break e}else{r(w,j);break}else e(w,j);j=j.sibling}j=Hh(C,w.mode,E),j.return=w,w=j}return o(w);case Gn:return _=C._init,k(w,j,_(C._payload),E)}if(Fl(C))return p(w,j,C,E);if(pl(C))return N(w,j,C,E);Qu(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,j!==null&&j.tag===6?(r(w,j.sibling),j=i(j,C),j.return=w,w=j):(r(w,j),j=$h(C,w.mode,E),j.return=w,w=j),o(w)):r(w,j)}return k}var jo=I8(!0),R8=I8(!1),e0=Bi(null),t0=null,Ja=null,Hp=null;function Kp(){Hp=Ja=t0=null}function Gp(t){var e=e0.current;it(e0),t._currentValue=e}function sf(t,e,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===r)break;t=t.return}}function mo(t,e){t0=t,Hp=Ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Br=!0),t.firstContext=null)}function os(t){var e=t._currentValue;if(Hp!==t)if(t={context:t,memoizedValue:e,next:null},Ja===null){if(t0===null)throw Error(te(308));Ja=t,t0.dependencies={lanes:0,firstContext:t}}else Ja=Ja.next=t;return e}var Ji=null;function Wp(t){Ji===null?Ji=[t]:Ji.push(t)}function L8(t,e,r,s){var i=e.interleaved;return i===null?(r.next=r,Wp(e)):(r.next=i.next,i.next=r),e.interleaved=r,yn(t,s)}function yn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Wn=!1;function qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ui(t,e,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Re&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,yn(t,r)}return i=s.interleaved,i===null?(e.next=e,Wp(s)):(e.next=i.next,i.next=e),s.interleaved=e,yn(t,r)}function bd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,Tp(t,r)}}function LE(t,e){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function r0(t,e,r,s){var i=t.updateQueue;Wn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,N=l;switch(f=e,m=r,N.tag){case 1:if(p=N.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=N.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=ft({},h,f);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ma|=o,t.lanes=o,t.memoizedState=h}}function ME(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=r,typeof i!="function")throw Error(te(191,i));i.call(s)}}}var Xc={},Rs=Bi(Xc),bc=Bi(Xc),wc=Bi(Xc);function ea(t){if(t===Xc)throw Error(te(174));return t}function Yp(t,e){switch(et(wc,e),et(bc,t),et(Rs,Xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lm(e,t)}it(Rs),et(Rs,e)}function Do(){it(Rs),it(bc),it(wc)}function O8(t){ea(wc.current);var e=ea(Rs.current),r=Lm(e,t.type);e!==r&&(et(bc,t),et(Rs,r))}function Qp(t){bc.current===t&&(it(Rs),it(bc))}var dt=Bi(0);function s0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lh=[];function Xp(){for(var t=0;t<Lh.length;t++)Lh[t]._workInProgressVersionPrimary=null;Lh.length=0}var wd=jn.ReactCurrentDispatcher,Mh=jn.ReactCurrentBatchConfig,ha=0,ht=null,Pt=null,Ut=null,n0=!1,Wl=!1,Cc=0,r3=0;function ar(){throw Error(te(321))}function Zp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Cs(t[r],e[r]))return!1;return!0}function Jp(t,e,r,s,i,a){if(ha=a,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wd.current=t===null||t.memoizedState===null?a3:o3,t=r(s,i),Wl){a=0;do{if(Wl=!1,Cc=0,25<=a)throw Error(te(301));a+=1,Ut=Pt=null,e.updateQueue=null,wd.current=l3,t=r(s,i)}while(Wl)}if(wd.current=i0,e=Pt!==null&&Pt.next!==null,ha=0,Ut=Pt=ht=null,n0=!1,e)throw Error(te(300));return t}function eg(){var t=Cc!==0;return Cc=0,t}function Ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ht.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function ls(){if(Pt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Ut===null?ht.memoizedState:Ut.next;if(e!==null)Ut=e,Pt=t;else{if(t===null)throw Error(te(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ut===null?ht.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Ac(t,e){return typeof e=="function"?e(t):e}function Oh(t){var e=ls(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var s=Pt,i=s.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ha&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,ht.lanes|=d,ma|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Cs(s,e.memoizedState)||(Br=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ht.lanes|=a,ma|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Vh(t){var e=ls(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var s=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Cs(a,e.memoizedState)||(Br=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,s]}function V8(){}function z8(t,e){var r=ht,s=ls(),i=e(),a=!Cs(s.memoizedState,i);if(a&&(s.memoizedState=i,Br=!0),s=s.queue,tg(H8.bind(null,r,s,t),[t]),s.getSnapshot!==e||a||Ut!==null&&Ut.memoizedState.tag&1){if(r.flags|=2048,Nc(9,$8.bind(null,r,s,i,e),void 0,null),Ht===null)throw Error(te(349));ha&30||U8(r,e,i)}return i}function U8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function $8(t,e,r,s){e.value=r,e.getSnapshot=s,K8(e)&&G8(t)}function H8(t,e,r){return r(function(){K8(e)&&G8(t)})}function K8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Cs(t,r)}catch{return!0}}function G8(t){var e=yn(t,1);e!==null&&vs(e,t,1,-1)}function OE(t){var e=Ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:t},e.queue=t,t=t.dispatch=i3.bind(null,ht,t),[e.memoizedState,t]}function Nc(t,e,r,s){return t={tag:t,create:e,destroy:r,deps:s,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,e.lastEffect=t)),t}function W8(){return ls().memoizedState}function Cd(t,e,r,s){var i=Ss();ht.flags|=t,i.memoizedState=Nc(1|e,r,void 0,s===void 0?null:s)}function ux(t,e,r,s){var i=ls();s=s===void 0?null:s;var a=void 0;if(Pt!==null){var o=Pt.memoizedState;if(a=o.destroy,s!==null&&Zp(s,o.deps)){i.memoizedState=Nc(e,r,a,s);return}}ht.flags|=t,i.memoizedState=Nc(1|e,r,a,s)}function VE(t,e){return Cd(8390656,8,t,e)}function tg(t,e){return ux(2048,8,t,e)}function q8(t,e){return ux(4,2,t,e)}function Y8(t,e){return ux(4,4,t,e)}function Q8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X8(t,e,r){return r=r!=null?r.concat([t]):null,ux(4,4,Q8.bind(null,e,t),r)}function rg(){}function Z8(t,e){var r=ls();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&Zp(e,s[1])?s[0]:(r.memoizedState=[t,e],t)}function J8(t,e){var r=ls();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&Zp(e,s[1])?s[0]:(t=t(),r.memoizedState=[t,e],t)}function eC(t,e,r){return ha&21?(Cs(r,e)||(r=i8(),ht.lanes|=r,ma|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Br=!0),t.memoizedState=r)}function s3(t,e){var r=qe;qe=r!==0&&4>r?r:4,t(!0);var s=Mh.transition;Mh.transition={};try{t(!1),e()}finally{qe=r,Mh.transition=s}}function tC(){return ls().memoizedState}function n3(t,e,r){var s=xi(t);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},rC(t))sC(e,r);else if(r=L8(t,e,r,s),r!==null){var i=wr();vs(r,t,s,i),nC(r,e,s)}}function i3(t,e,r){var s=xi(t),i={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(rC(t))sC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Cs(l,o)){var c=e.interleaved;c===null?(i.next=i,Wp(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=L8(t,e,i,s),r!==null&&(i=wr(),vs(r,t,s,i),nC(r,e,s))}}function rC(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function sC(t,e){Wl=n0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function nC(t,e,r){if(r&4194240){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,Tp(t,r)}}var i0={readContext:os,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},a3={readContext:os,useCallback:function(t,e){return Ss().memoizedState=[t,e===void 0?null:e],t},useContext:os,useEffect:VE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Cd(4194308,4,Q8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cd(4,2,t,e)},useMemo:function(t,e){var r=Ss();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var s=Ss();return e=r!==void 0?r(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=n3.bind(null,ht,t),[s.memoizedState,t]},useRef:function(t){var e=Ss();return t={current:t},e.memoizedState=t},useState:OE,useDebugValue:rg,useDeferredValue:function(t){return Ss().memoizedState=t},useTransition:function(){var t=OE(!1),e=t[0];return t=s3.bind(null,t[1]),Ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var s=ht,i=Ss();if(ct){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Ht===null)throw Error(te(349));ha&30||U8(s,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,VE(H8.bind(null,s,a,t),[t]),s.flags|=2048,Nc(9,$8.bind(null,s,a,r,e),void 0,null),r},useId:function(){var t=Ss(),e=Ht.identifierPrefix;if(ct){var r=on,s=an;r=(s&~(1<<32-ys(s)-1)).toString(32)+r,e=":"+e+"R"+r,r=Cc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=r3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o3={readContext:os,useCallback:Z8,useContext:os,useEffect:tg,useImperativeHandle:X8,useInsertionEffect:q8,useLayoutEffect:Y8,useMemo:J8,useReducer:Oh,useRef:W8,useState:function(){return Oh(Ac)},useDebugValue:rg,useDeferredValue:function(t){var e=ls();return eC(e,Pt.memoizedState,t)},useTransition:function(){var t=Oh(Ac)[0],e=ls().memoizedState;return[t,e]},useMutableSource:V8,useSyncExternalStore:z8,useId:tC,unstable_isNewReconciler:!1},l3={readContext:os,useCallback:Z8,useContext:os,useEffect:tg,useImperativeHandle:X8,useInsertionEffect:q8,useLayoutEffect:Y8,useMemo:J8,useReducer:Vh,useRef:W8,useState:function(){return Vh(Ac)},useDebugValue:rg,useDeferredValue:function(t){var e=ls();return Pt===null?e.memoizedState=t:eC(e,Pt.memoizedState,t)},useTransition:function(){var t=Vh(Ac)[0],e=ls().memoizedState;return[t,e]},useMutableSource:V8,useSyncExternalStore:z8,useId:tC,unstable_isNewReconciler:!1};function hs(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function nf(t,e,r,s){e=t.memoizedState,r=r(s,e),r=r==null?e:ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dx={isMounted:function(t){return(t=t._reactInternals)?ja(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var s=wr(),i=xi(t),a=dn(s,i);a.payload=e,r!=null&&(a.callback=r),e=ui(t,a,i),e!==null&&(vs(e,t,i,s),bd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var s=wr(),i=xi(t),a=dn(s,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=ui(t,a,i),e!==null&&(vs(e,t,i,s),bd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=wr(),s=xi(t),i=dn(r,s);i.tag=2,e!=null&&(i.callback=e),e=ui(t,i,s),e!==null&&(vs(e,t,s,r),bd(e,t,s))}};function zE(t,e,r,s,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!gc(r,s)||!gc(i,a):!0}function iC(t,e,r){var s=!1,i=vi,a=e.contextType;return typeof a=="object"&&a!==null?a=os(a):(i=Sr(e)?da:mr.current,s=e.contextTypes,a=(s=s!=null)?Ao(t,i):vi),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dx,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function UE(t,e,r,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,s),e.state!==t&&dx.enqueueReplaceState(e,e.state,null)}function af(t,e,r,s){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},qp(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=os(a):(a=Sr(e)?da:mr.current,i.context=Ao(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(nf(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dx.enqueueReplaceState(i,i.state,null),r0(t,r,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e){try{var r="",s=e;do r+=Rj(s),s=s.return;while(s);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function zh(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function of(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var c3=typeof WeakMap=="function"?WeakMap:Map;function aC(t,e,r){r=dn(-1,r),r.tag=3,r.payload={element:null};var s=e.value;return r.callback=function(){o0||(o0=!0,gf=s),of(t,e)},r}function oC(t,e,r){r=dn(-1,r),r.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;r.payload=function(){return s(i)},r.callback=function(){of(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){of(t,e),typeof s!="function"&&(di===null?di=new Set([this]):di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function $E(t,e,r){var s=t.pingCache;if(s===null){s=t.pingCache=new c3;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(r)||(i.add(r),t=C3.bind(null,t,e,r),e.then(t,t))}function HE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KE(t,e,r,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=dn(-1,1),e.tag=2,ui(r,e,1))),r.lanes|=1),t)}var u3=jn.ReactCurrentOwner,Br=!1;function vr(t,e,r,s){e.child=t===null?R8(e,null,r,s):jo(e,t.child,r,s)}function GE(t,e,r,s,i){r=r.render;var a=e.ref;return mo(e,i),s=Jp(t,e,r,s,a,i),r=eg(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vn(t,e,i)):(ct&&r&&zp(e),e.flags|=1,vr(t,e,s,i),e.child)}function WE(t,e,r,s,i){if(t===null){var a=r.type;return typeof a=="function"&&!ug(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,lC(t,e,a,s,i)):(t=Dd(r.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:gc,r(o,s)&&t.ref===e.ref)return vn(t,e,i)}return e.flags|=1,t=hi(a,s),t.ref=e.ref,t.return=e,e.child=t}function lC(t,e,r,s,i){if(t!==null){var a=t.memoizedProps;if(gc(a,s)&&t.ref===e.ref)if(Br=!1,e.pendingProps=s=a,(t.lanes&i)!==0)t.flags&131072&&(Br=!0);else return e.lanes=t.lanes,vn(t,e,i)}return lf(t,e,r,s,i)}function cC(t,e,r){var s=e.pendingProps,i=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(to,Rr),Rr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(to,Rr),Rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,et(to,Rr),Rr|=s}else a!==null?(s=a.baseLanes|r,e.memoizedState=null):s=r,et(to,Rr),Rr|=s;return vr(t,e,i,r),e.child}function uC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function lf(t,e,r,s,i){var a=Sr(r)?da:mr.current;return a=Ao(e,a),mo(e,i),r=Jp(t,e,r,s,a,i),s=eg(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vn(t,e,i)):(ct&&s&&zp(e),e.flags|=1,vr(t,e,r,i),e.child)}function qE(t,e,r,s,i){if(Sr(r)){var a=!0;Xd(e)}else a=!1;if(mo(e,i),e.stateNode===null)Ad(t,e),iC(e,r,s),af(e,r,s,i),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=os(u):(u=Sr(r)?da:mr.current,u=Ao(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&UE(e,o,s,u),Wn=!1;var f=e.memoizedState;o.state=f,r0(e,s,o,i),c=e.memoizedState,l!==s||f!==c||Fr.current||Wn?(typeof d=="function"&&(nf(e,r,d,s),c=e.memoizedState),(l=Wn||zE(e,r,l,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,M8(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:hs(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=os(c):(c=Sr(r)?da:mr.current,c=Ao(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&UE(e,o,s,c),Wn=!1,f=e.memoizedState,o.state=f,r0(e,s,o,i);var p=e.memoizedState;l!==h||f!==p||Fr.current||Wn?(typeof m=="function"&&(nf(e,r,m,s),p=e.memoizedState),(u=Wn||zE(e,r,u,s,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return cf(t,e,r,s,a,i)}function cf(t,e,r,s,i,a){uC(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&TE(e,r,!1),vn(t,e,a);s=e.stateNode,u3.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=jo(e,t.child,null,a),e.child=jo(e,null,l,a)):vr(t,e,l,a),e.memoizedState=s.state,i&&TE(e,r,!0),e.child}function dC(t){var e=t.stateNode;e.pendingContext?SE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&SE(t,e.context,!1),Yp(t,e.containerInfo)}function YE(t,e,r,s,i){return No(),$p(i),e.flags|=256,vr(t,e,r,s),e.child}var uf={dehydrated:null,treeContext:null,retryLane:0};function df(t){return{baseLanes:t,cachePool:null,transitions:null}}function xC(t,e,r){var s=e.pendingProps,i=dt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(dt,i&1),t===null)return rf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=mx(o,s,0,null),t=oa(t,s,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=df(r),e.memoizedState=uf,t):sg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return d3(t,e,o,s,l,i,r);if(a){a=s.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=hi(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=hi(l,a):(a=oa(a,o,r,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?df(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=uf,s}return a=t.child,t=a.sibling,s=hi(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=r),s.return=e,s.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=s,e.memoizedState=null,s}function sg(t,e){return e=mx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xu(t,e,r,s){return s!==null&&$p(s),jo(e,t.child,null,r),t=sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d3(t,e,r,s,i,a,o){if(r)return e.flags&256?(e.flags&=-257,s=zh(Error(te(422))),Xu(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,i=e.mode,s=mx({mode:"visible",children:s.children},i,0,null),a=oa(a,i,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&jo(e,t.child,null,o),e.child.memoizedState=df(o),e.memoizedState=uf,a);if(!(e.mode&1))return Xu(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(te(419)),s=zh(a,s,void 0),Xu(t,e,o,s)}if(l=(o&t.childLanes)!==0,Br||l){if(s=Ht,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,yn(t,i),vs(s,t,i,-1))}return cg(),s=zh(Error(te(421))),Xu(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=A3.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Or=ci(i.nextSibling),Ur=e,ct=!0,fs=null,t!==null&&(ss[ns++]=an,ss[ns++]=on,ss[ns++]=xa,an=t.id,on=t.overflow,xa=e),e=sg(e,s.children),e.flags|=4096,e)}function QE(t,e,r){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),sf(t.return,e,r)}function Uh(t,e,r,s,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=i)}function hC(t,e,r){var s=e.pendingProps,i=s.revealOrder,a=s.tail;if(vr(t,e,s.children,r),s=dt.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QE(t,r,e);else if(t.tag===19)QE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(et(dt,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&s0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Uh(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&s0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Uh(e,!0,r,null,a);break;case"together":Uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ma|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=hi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=hi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function x3(t,e,r){switch(e.tag){case 3:dC(e),No();break;case 5:O8(e);break;case 1:Sr(e.type)&&Xd(e);break;case 4:Yp(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;et(e0,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(et(dt,dt.current&1),e.flags|=128,null):r&e.child.childLanes?xC(t,e,r):(et(dt,dt.current&1),t=vn(t,e,r),t!==null?t.sibling:null);et(dt,dt.current&1);break;case 19:if(s=(r&e.childLanes)!==0,t.flags&128){if(s)return hC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(dt,dt.current),s)break;return null;case 22:case 23:return e.lanes=0,cC(t,e,r)}return vn(t,e,r)}var mC,xf,fC,pC;mC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xf=function(){};fC=function(t,e,r,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,ea(Rs.current);var a=null;switch(r){case"input":i=Tm(t,i),s=Tm(t,s),a=[];break;case"select":i=ft({},i,{value:void 0}),s=ft({},s,{value:void 0}),a=[];break;case"textarea":i=Rm(t,i),s=Rm(t,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Yd)}Mm(r,s);var o;r=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};pC=function(t,e,r,s){r!==s&&(e.flags|=4)};function wl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function or(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=r,e}function h3(t,e,r){var s=e.pendingProps;switch(Up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return Sr(e.type)&&Qd(),or(e),null;case 3:return s=e.stateNode,Do(),it(Fr),it(mr),Xp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fs!==null&&(Ef(fs),fs=null))),xf(t,e),or(e),null;case 5:Qp(e);var i=ea(wc.current);if(r=e.type,t!==null&&e.stateNode!=null)fC(t,e,r,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(te(166));return or(e),null}if(t=ea(Rs.current),Yu(e)){s=e.stateNode,r=e.type;var a=e.memoizedProps;switch(s[Ts]=e,s[Ec]=a,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",s),nt("close",s);break;case"iframe":case"object":case"embed":nt("load",s);break;case"video":case"audio":for(i=0;i<Tl.length;i++)nt(Tl[i],s);break;case"source":nt("error",s);break;case"img":case"image":case"link":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"input":iE(s,a),nt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},nt("invalid",s);break;case"textarea":oE(s,a),nt("invalid",s)}Mm(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&qu(s.textContent,l,t),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&qu(s.textContent,l,t),i=["children",""+l]):uc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nt("scroll",s)}switch(r){case"input":Vu(s),aE(s,a,!0);break;case"textarea":Vu(s),lE(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Yd)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(r,{is:s.is}):(t=o.createElement(r),r==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,r),t[Ts]=e,t[Ec]=s,mC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Om(r,s),r){case"dialog":nt("cancel",t),nt("close",t),i=s;break;case"iframe":case"object":case"embed":nt("load",t),i=s;break;case"video":case"audio":for(i=0;i<Tl.length;i++)nt(Tl[i],t);i=s;break;case"source":nt("error",t),i=s;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=s;break;case"details":nt("toggle",t),i=s;break;case"input":iE(t,s),i=Tm(t,s),nt("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=ft({},s,{value:void 0}),nt("invalid",t);break;case"textarea":oE(t,s),i=Rm(t,s),nt("invalid",t);break;default:i=s}Mm(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Ww(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kw(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dc(t,c):typeof c=="number"&&dc(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(uc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&nt("scroll",t):c!=null&&Dp(t,a,c,o))}switch(r){case"input":Vu(t),aE(t,s,!1);break;case"textarea":Vu(t),lE(t);break;case"option":s.value!=null&&t.setAttribute("value",""+yi(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?co(t,!!s.multiple,a,!1):s.defaultValue!=null&&co(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yd)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(t&&e.stateNode!=null)pC(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(te(166));if(r=ea(wc.current),ea(Rs.current),Yu(e)){if(s=e.stateNode,r=e.memoizedProps,s[Ts]=e,(a=s.nodeValue!==r)&&(t=Ur,t!==null))switch(t.tag){case 3:qu(s.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qu(s.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ts]=e,e.stateNode=s}return or(e),null;case 13:if(it(dt),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Or!==null&&e.mode&1&&!(e.flags&128))P8(),No(),e.flags|=98560,a=!1;else if(a=Yu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(te(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[Ts]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;or(e),a=!1}else fs!==null&&(Ef(fs),fs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Rt===0&&(Rt=3):cg())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return Do(),xf(t,e),t===null&&yc(e.stateNode.containerInfo),or(e),null;case 10:return Gp(e.type._context),or(e),null;case 17:return Sr(e.type)&&Qd(),or(e),null;case 19:if(it(dt),a=e.memoizedState,a===null)return or(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)wl(a,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=s0(t),o!==null){for(e.flags|=128,wl(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=r,r=e.child;r!==null;)a=r,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return et(dt,dt.current&1|2),e.child}t=t.sibling}a.tail!==null&&jt()>Bo&&(e.flags|=128,s=!0,wl(a,!1),e.lanes=4194304)}else{if(!s)if(t=s0(o),t!==null){if(e.flags|=128,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ct)return or(e),null}else 2*jt()-a.renderingStartTime>Bo&&r!==1073741824&&(e.flags|=128,s=!0,wl(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=jt(),e.sibling=null,r=dt.current,et(dt,s?r&1|2:r&1),e):(or(e),null);case 22:case 23:return lg(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Rr&1073741824&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function m3(t,e){switch(Up(e),e.tag){case 1:return Sr(e.type)&&Qd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),it(Fr),it(mr),Xp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qp(e),null;case 13:if(it(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(dt),null;case 4:return Do(),null;case 10:return Gp(e.type._context),null;case 22:case 23:return lg(),null;case 24:return null;default:return null}}var Zu=!1,dr=!1,f3=typeof WeakSet=="function"?WeakSet:Set,ce=null;function eo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Et(t,e,s)}else r.current=null}function hf(t,e,r){try{r()}catch(s){Et(t,e,s)}}var XE=!1;function p3(t,e){if(Ym=Gd,t=b8(),Vp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++u===i&&(l=o),f===a&&++d===s&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qm={focusedElem:t,selectionRange:r},Gd=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var N=p.memoizedProps,k=p.memoizedState,w=e.stateNode,j=w.getSnapshotBeforeUpdate(e.elementType===e.type?N:hs(e.type,N),k);w.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(E){Et(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return p=XE,XE=!1,p}function ql(t,e,r){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&hf(e,r,a)}i=i.next}while(i!==s)}}function xx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var s=r.create;r.destroy=s()}r=r.next}while(r!==e)}}function mf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function gC(t){var e=t.alternate;e!==null&&(t.alternate=null,gC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ts],delete e[Ec],delete e[Jm],delete e[ZD],delete e[JD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yC(t){return t.tag===5||t.tag===3||t.tag===4}function ZE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ff(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Yd));else if(s!==4&&(t=t.child,t!==null))for(ff(t,e,r),t=t.sibling;t!==null;)ff(t,e,r),t=t.sibling}function pf(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(pf(t,e,r),t=t.sibling;t!==null;)pf(t,e,r),t=t.sibling}var Wt=null,ms=!1;function zn(t,e,r){for(r=r.child;r!==null;)vC(t,e,r),r=r.sibling}function vC(t,e,r){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(nx,r)}catch{}switch(r.tag){case 5:dr||eo(r,e);case 6:var s=Wt,i=ms;Wt=null,zn(t,e,r),Wt=s,ms=i,Wt!==null&&(ms?(t=Wt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Wt.removeChild(r.stateNode));break;case 18:Wt!==null&&(ms?(t=Wt,r=r.stateNode,t.nodeType===8?Ih(t.parentNode,r):t.nodeType===1&&Ih(t,r),fc(t)):Ih(Wt,r.stateNode));break;case 4:s=Wt,i=ms,Wt=r.stateNode.containerInfo,ms=!0,zn(t,e,r),Wt=s,ms=i;break;case 0:case 11:case 14:case 15:if(!dr&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&hf(r,e,o),i=i.next}while(i!==s)}zn(t,e,r);break;case 1:if(!dr&&(eo(r,e),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Et(r,e,l)}zn(t,e,r);break;case 21:zn(t,e,r);break;case 22:r.mode&1?(dr=(s=dr)||r.memoizedState!==null,zn(t,e,r),dr=s):zn(t,e,r);break;default:zn(t,e,r)}}function JE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new f3),e.forEach(function(s){var i=N3.bind(null,t,s);r.has(s)||(r.add(s),s.then(i,i))})}}function ds(t,e){var r=e.deletions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Wt=l.stateNode,ms=!1;break e;case 3:Wt=l.stateNode.containerInfo,ms=!0;break e;case 4:Wt=l.stateNode.containerInfo,ms=!0;break e}l=l.return}if(Wt===null)throw Error(te(160));vC(a,o,i),Wt=null,ms=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EC(e,t),e=e.sibling}function EC(t,e){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ds(e,t),Fs(t),s&4){try{ql(3,t,t.return),xx(3,t)}catch(N){Et(t,t.return,N)}try{ql(5,t,t.return)}catch(N){Et(t,t.return,N)}}break;case 1:ds(e,t),Fs(t),s&512&&r!==null&&eo(r,r.return);break;case 5:if(ds(e,t),Fs(t),s&512&&r!==null&&eo(r,r.return),t.flags&32){var i=t.stateNode;try{dc(i,"")}catch(N){Et(t,t.return,N)}}if(s&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Uw(i,a),Om(l,o);var u=Om(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Ww(i,h):d==="dangerouslySetInnerHTML"?Kw(i,h):d==="children"?dc(i,h):Dp(i,d,h,u)}switch(l){case"input":Pm(i,a);break;case"textarea":$w(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?co(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?co(i,!!a.multiple,a.defaultValue,!0):co(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ec]=a}catch(N){Et(t,t.return,N)}}break;case 6:if(ds(e,t),Fs(t),s&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(N){Et(t,t.return,N)}}break;case 3:if(ds(e,t),Fs(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{fc(e.containerInfo)}catch(N){Et(t,t.return,N)}break;case 4:ds(e,t),Fs(t);break;case 13:ds(e,t),Fs(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ag=jt())),s&4&&JE(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(dr=(u=dr)||d,ds(e,t),dr=u):ds(e,t),Fs(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(h=ce=d;ce!==null;){switch(f=ce,m=f.child,f.tag){case 0:case 11:case 14:case 15:ql(4,f,f.return);break;case 1:eo(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){s=f,r=f.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(N){Et(s,r,N)}}break;case 5:eo(f,f.return);break;case 22:if(f.memoizedState!==null){tb(h);continue}}m!==null?(m.return=f,ce=m):tb(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Gw("display",o))}catch(N){Et(t,t.return,N)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(N){Et(t,t.return,N)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ds(e,t),Fs(t),s&4&&JE(t);break;case 21:break;default:ds(e,t),Fs(t)}}function Fs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(yC(r)){var s=r;break e}r=r.return}throw Error(te(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(dc(i,""),s.flags&=-33);var a=ZE(t);pf(t,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=ZE(t);ff(t,l,o);break;default:throw Error(te(161))}}catch(c){Et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g3(t,e,r){ce=t,bC(t)}function bC(t,e,r){for(var s=(t.mode&1)!==0;ce!==null;){var i=ce,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Zu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||dr;l=Zu;var u=dr;if(Zu=o,(dr=c)&&!u)for(ce=i;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?rb(i):c!==null?(c.return=o,ce=c):rb(i);for(;a!==null;)ce=a,bC(a),a=a.sibling;ce=i,Zu=l,dr=u}eb(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ce=a):eb(t)}}function eb(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dr||xx(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!dr)if(r===null)s.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:hs(e.type,r.memoizedProps);s.componentDidUpdate(i,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&ME(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ME(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&fc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}dr||e.flags&512&&mf(e)}catch(f){Et(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function tb(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function rb(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xx(4,e)}catch(c){Et(e,r,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){Et(e,i,c)}}var a=e.return;try{mf(e)}catch(c){Et(e,a,c)}break;case 5:var o=e.return;try{mf(e)}catch(c){Et(e,o,c)}}}catch(c){Et(e,e.return,c)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var y3=Math.ceil,a0=jn.ReactCurrentDispatcher,ng=jn.ReactCurrentOwner,as=jn.ReactCurrentBatchConfig,Re=0,Ht=null,Ft=null,Zt=0,Rr=0,to=Bi(0),Rt=0,jc=null,ma=0,hx=0,ig=0,Yl=null,kr=null,ag=0,Bo=1/0,rn=null,o0=!1,gf=null,di=null,Ju=!1,ri=null,l0=0,Ql=0,yf=null,Nd=-1,jd=0;function wr(){return Re&6?jt():Nd!==-1?Nd:Nd=jt()}function xi(t){return t.mode&1?Re&2&&Zt!==0?Zt&-Zt:t3.transition!==null?(jd===0&&(jd=i8()),jd):(t=qe,t!==0||(t=window.event,t=t===void 0?16:x8(t.type)),t):1}function vs(t,e,r,s){if(50<Ql)throw Ql=0,yf=null,Error(te(185));qc(t,r,s),(!(Re&2)||t!==Ht)&&(t===Ht&&(!(Re&2)&&(hx|=r),Rt===4&&Qn(t,Zt)),Tr(t,s),r===1&&Re===0&&!(e.mode&1)&&(Bo=jt()+500,cx&&_i()))}function Tr(t,e){var r=t.callbackNode;tD(t,e);var s=Kd(t,t===Ht?Zt:0);if(s===0)r!==null&&dE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(r!=null&&dE(r),e===1)t.tag===0?e3(sb.bind(null,t)):F8(sb.bind(null,t)),QD(function(){!(Re&6)&&_i()}),r=null;else{switch(a8(s)){case 1:r=Sp;break;case 4:r=s8;break;case 16:r=Hd;break;case 536870912:r=n8;break;default:r=Hd}r=BC(r,wC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function wC(t,e){if(Nd=-1,jd=0,Re&6)throw Error(te(327));var r=t.callbackNode;if(fo()&&t.callbackNode!==r)return null;var s=Kd(t,t===Ht?Zt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=c0(t,s);else{e=s;var i=Re;Re|=2;var a=AC();(Ht!==t||Zt!==e)&&(rn=null,Bo=jt()+500,aa(t,e));do try{b3();break}catch(l){CC(t,l)}while(!0);Kp(),a0.current=a,Re=i,Ft!==null?e=0:(Ht=null,Zt=0,e=Rt)}if(e!==0){if(e===2&&(i=Hm(t),i!==0&&(s=i,e=vf(t,i))),e===1)throw r=jc,aa(t,0),Qn(t,s),Tr(t,jt()),r;if(e===6)Qn(t,s);else{if(i=t.current.alternate,!(s&30)&&!v3(i)&&(e=c0(t,s),e===2&&(a=Hm(t),a!==0&&(s=a,e=vf(t,a))),e===1))throw r=jc,aa(t,0),Qn(t,s),Tr(t,jt()),r;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(te(345));case 2:qi(t,kr,rn);break;case 3:if(Qn(t,s),(s&130023424)===s&&(e=ag+500-jt(),10<e)){if(Kd(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zm(qi.bind(null,t,kr,rn),e);break}qi(t,kr,rn);break;case 4:if(Qn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-ys(s);a=1<<o,o=e[o],o>i&&(i=o),s&=~a}if(s=i,s=jt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*y3(s/1960))-s,10<s){t.timeoutHandle=Zm(qi.bind(null,t,kr,rn),s);break}qi(t,kr,rn);break;case 5:qi(t,kr,rn);break;default:throw Error(te(329))}}}return Tr(t,jt()),t.callbackNode===r?wC.bind(null,t):null}function vf(t,e){var r=Yl;return t.current.memoizedState.isDehydrated&&(aa(t,e).flags|=256),t=c0(t,e),t!==2&&(e=kr,kr=r,e!==null&&Ef(e)),t}function Ef(t){kr===null?kr=t:kr.push.apply(kr,t)}function v3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var i=r[s],a=i.getSnapshot;i=i.value;try{if(!Cs(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qn(t,e){for(e&=~ig,e&=~hx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ys(e),s=1<<r;t[r]=-1,e&=~s}}function sb(t){if(Re&6)throw Error(te(327));fo();var e=Kd(t,0);if(!(e&1))return Tr(t,jt()),null;var r=c0(t,e);if(t.tag!==0&&r===2){var s=Hm(t);s!==0&&(e=s,r=vf(t,s))}if(r===1)throw r=jc,aa(t,0),Qn(t,e),Tr(t,jt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,kr,rn),Tr(t,jt()),null}function og(t,e){var r=Re;Re|=1;try{return t(e)}finally{Re=r,Re===0&&(Bo=jt()+500,cx&&_i())}}function fa(t){ri!==null&&ri.tag===0&&!(Re&6)&&fo();var e=Re;Re|=1;var r=as.transition,s=qe;try{if(as.transition=null,qe=1,t)return t()}finally{qe=s,as.transition=r,Re=e,!(Re&6)&&_i()}}function lg(){Rr=to.current,it(to)}function aa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,YD(r)),Ft!==null)for(r=Ft.return;r!==null;){var s=r;switch(Up(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Qd();break;case 3:Do(),it(Fr),it(mr),Xp();break;case 5:Qp(s);break;case 4:Do();break;case 13:it(dt);break;case 19:it(dt);break;case 10:Gp(s.type._context);break;case 22:case 23:lg()}r=r.return}if(Ht=t,Ft=t=hi(t.current,null),Zt=Rr=e,Rt=0,jc=null,ig=hx=ma=0,kr=Yl=null,Ji!==null){for(e=0;e<Ji.length;e++)if(r=Ji[e],s=r.interleaved,s!==null){r.interleaved=null;var i=s.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}r.pending=s}Ji=null}return t}function CC(t,e){do{var r=Ft;try{if(Kp(),wd.current=i0,n0){for(var s=ht.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}n0=!1}if(ha=0,Ut=Pt=ht=null,Wl=!1,Cc=0,ng.current=null,r===null||r.return===null){Rt=1,jc=e,Ft=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=Zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=HE(o);if(m!==null){m.flags&=-257,KE(m,o,l,a,e),m.mode&1&&$E(a,u,e),e=m,c=u;var p=e.updateQueue;if(p===null){var N=new Set;N.add(c),e.updateQueue=N}else p.add(c);break e}else{if(!(e&1)){$E(a,u,e),cg();break e}c=Error(te(426))}}else if(ct&&l.mode&1){var k=HE(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),KE(k,o,l,a,e),$p(ko(c,l));break e}}a=c=ko(c,l),Rt!==4&&(Rt=2),Yl===null?Yl=[a]:Yl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=aC(a,c,e);LE(a,w);break e;case 1:l=c;var j=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(di===null||!di.has(C)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=oC(a,l,e);LE(a,E);break e}}a=a.return}while(a!==null)}jC(r)}catch(B){e=B,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function AC(){var t=a0.current;return a0.current=i0,t===null?i0:t}function cg(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Ht===null||!(ma&268435455)&&!(hx&268435455)||Qn(Ht,Zt)}function c0(t,e){var r=Re;Re|=2;var s=AC();(Ht!==t||Zt!==e)&&(rn=null,aa(t,e));do try{E3();break}catch(i){CC(t,i)}while(!0);if(Kp(),Re=r,a0.current=s,Ft!==null)throw Error(te(261));return Ht=null,Zt=0,Rt}function E3(){for(;Ft!==null;)NC(Ft)}function b3(){for(;Ft!==null&&!Gj();)NC(Ft)}function NC(t){var e=kC(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,e===null?jC(t):Ft=e,ng.current=null}function jC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=m3(r,e),r!==null){r.flags&=32767,Ft=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Ft=null;return}}else if(r=h3(r,e,Rr),r!==null){Ft=r;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);Rt===0&&(Rt=5)}function qi(t,e,r){var s=qe,i=as.transition;try{as.transition=null,qe=1,w3(t,e,r,s)}finally{as.transition=i,qe=s}return null}function w3(t,e,r,s){do fo();while(ri!==null);if(Re&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(rD(t,a),t===Ht&&(Ft=Ht=null,Zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ju||(Ju=!0,BC(Hd,function(){return fo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=as.transition,as.transition=null;var o=qe;qe=1;var l=Re;Re|=4,ng.current=null,p3(t,r),EC(r,t),UD(Qm),Gd=!!Ym,Qm=Ym=null,t.current=r,g3(r),Wj(),Re=l,qe=o,as.transition=a}else t.current=r;if(Ju&&(Ju=!1,ri=t,l0=i),a=t.pendingLanes,a===0&&(di=null),Qj(r.stateNode),Tr(t,jt()),e!==null)for(s=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],s(i.value,{componentStack:i.stack,digest:i.digest});if(o0)throw o0=!1,t=gf,gf=null,t;return l0&1&&t.tag!==0&&fo(),a=t.pendingLanes,a&1?t===yf?Ql++:(Ql=0,yf=t):Ql=0,_i(),null}function fo(){if(ri!==null){var t=a8(l0),e=as.transition,r=qe;try{if(as.transition=null,qe=16>t?16:t,ri===null)var s=!1;else{if(t=ri,ri=null,l0=0,Re&6)throw Error(te(331));var i=Re;for(Re|=4,ce=t.current;ce!==null;){var a=ce,o=a.child;if(ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:ql(8,d,a)}var h=d.child;if(h!==null)h.return=d,ce=h;else for(;ce!==null;){d=ce;var f=d.sibling,m=d.return;if(gC(d),d===u){ce=null;break}if(f!==null){f.return=m,ce=f;break}ce=m}}}var p=a.alternate;if(p!==null){var N=p.child;if(N!==null){p.child=null;do{var k=N.sibling;N.sibling=null,N=k}while(N!==null)}}ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ce=o;else e:for(;ce!==null;){if(a=ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ql(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,ce=w;break e}ce=a.return}}var j=t.current;for(ce=j;ce!==null;){o=ce;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ce=C;else e:for(o=j;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xx(9,l)}}catch(B){Et(l,l.return,B)}if(l===o){ce=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,ce=E;break e}ce=l.return}}if(Re=i,_i(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(nx,t)}catch{}s=!0}return s}finally{qe=r,as.transition=e}}return!1}function nb(t,e,r){e=ko(r,e),e=aC(t,e,1),t=ui(t,e,1),e=wr(),t!==null&&(qc(t,1,e),Tr(t,e))}function Et(t,e,r){if(t.tag===3)nb(t,t,r);else for(;e!==null;){if(e.tag===3){nb(e,t,r);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(di===null||!di.has(s))){t=ko(r,t),t=oC(e,t,1),e=ui(e,t,1),t=wr(),e!==null&&(qc(e,1,t),Tr(e,t));break}}e=e.return}}function C3(t,e,r){var s=t.pingCache;s!==null&&s.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&r,Ht===t&&(Zt&r)===r&&(Rt===4||Rt===3&&(Zt&130023424)===Zt&&500>jt()-ag?aa(t,0):ig|=r),Tr(t,e)}function DC(t,e){e===0&&(t.mode&1?(e=$u,$u<<=1,!($u&130023424)&&($u=4194304)):e=1);var r=wr();t=yn(t,e),t!==null&&(qc(t,e,r),Tr(t,r))}function A3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),DC(t,r)}function N3(t,e){var r=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(te(314))}s!==null&&s.delete(e),DC(t,r)}var kC;kC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fr.current)Br=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Br=!1,x3(t,e,r);Br=!!(t.flags&131072)}else Br=!1,ct&&e.flags&1048576&&S8(e,Jd,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ad(t,e),t=e.pendingProps;var i=Ao(e,mr.current);mo(e,r),i=Jp(null,e,s,t,i,r);var a=eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(s)?(a=!0,Xd(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qp(e),i.updater=dx,e.stateNode=i,i._reactInternals=e,af(e,s,t,r),e=cf(null,e,s,!0,a,r)):(e.tag=0,ct&&a&&zp(e),vr(null,e,i,r),e=e.child),e;case 16:s=e.elementType;e:{switch(Ad(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=D3(s),t=hs(s,t),i){case 0:e=lf(null,e,s,t,r);break e;case 1:e=qE(null,e,s,t,r);break e;case 11:e=GE(null,e,s,t,r);break e;case 14:e=WE(null,e,s,hs(s.type,t),r);break e}throw Error(te(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:hs(s,i),lf(t,e,s,i,r);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:hs(s,i),qE(t,e,s,i,r);case 3:e:{if(dC(e),t===null)throw Error(te(387));s=e.pendingProps,a=e.memoizedState,i=a.element,M8(t,e),r0(e,s,null,r);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ko(Error(te(423)),e),e=YE(t,e,s,r,i);break e}else if(s!==i){i=ko(Error(te(424)),e),e=YE(t,e,s,r,i);break e}else for(Or=ci(e.stateNode.containerInfo.firstChild),Ur=e,ct=!0,fs=null,r=R8(e,null,s,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(No(),s===i){e=vn(t,e,r);break e}vr(t,e,s,r)}e=e.child}return e;case 5:return O8(e),t===null&&rf(e),s=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Xm(s,i)?o=null:a!==null&&Xm(s,a)&&(e.flags|=32),uC(t,e),vr(t,e,o,r),e.child;case 6:return t===null&&rf(e),null;case 13:return xC(t,e,r);case 4:return Yp(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=jo(e,null,s,r):vr(t,e,s,r),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:hs(s,i),GE(t,e,s,i,r);case 7:return vr(t,e,e.pendingProps,r),e.child;case 8:return vr(t,e,e.pendingProps.children,r),e.child;case 12:return vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,et(e0,s._currentValue),s._currentValue=o,a!==null)if(Cs(a.value,o)){if(a.children===i.children&&!Fr.current){e=vn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=dn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),sf(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(te(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sf(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}vr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,mo(e,r),i=os(i),s=s(i),e.flags|=1,vr(t,e,s,r),e.child;case 14:return s=e.type,i=hs(s,e.pendingProps),i=hs(s.type,i),WE(t,e,s,i,r);case 15:return lC(t,e,e.type,e.pendingProps,r);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:hs(s,i),Ad(t,e),e.tag=1,Sr(s)?(t=!0,Xd(e)):t=!1,mo(e,r),iC(e,s,i),af(e,s,i,r),cf(null,e,s,!0,t,r);case 19:return hC(t,e,r);case 22:return cC(t,e,r)}throw Error(te(156,e.tag))};function BC(t,e){return r8(t,e)}function j3(t,e,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(t,e,r,s){return new j3(t,e,r,s)}function ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D3(t){if(typeof t=="function")return ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bp)return 11;if(t===_p)return 14}return 2}function hi(t,e){var r=t.alternate;return r===null?(r=is(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Dd(t,e,r,s,i,a){var o=2;if(s=t,typeof t=="function")ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ka:return oa(r.children,i,a,e);case kp:o=8,i|=8;break;case Bm:return t=is(12,r,e,i|2),t.elementType=Bm,t.lanes=a,t;case _m:return t=is(13,r,e,i),t.elementType=_m,t.lanes=a,t;case Fm:return t=is(19,r,e,i),t.elementType=Fm,t.lanes=a,t;case Ow:return mx(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lw:o=10;break e;case Mw:o=9;break e;case Bp:o=11;break e;case _p:o=14;break e;case Gn:o=16,s=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=is(o,r,e,i),e.elementType=t,e.type=s,e.lanes=a,e}function oa(t,e,r,s){return t=is(7,t,s,e),t.lanes=r,t}function mx(t,e,r,s){return t=is(22,t,s,e),t.elementType=Ow,t.lanes=r,t.stateNode={isHidden:!1},t}function $h(t,e,r){return t=is(6,t,null,e),t.lanes=r,t}function Hh(t,e,r){return e=is(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k3(t,e,r,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ah(0),this.expirationTimes=Ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dg(t,e,r,s,i,a,o,l,c){return t=new k3(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=is(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(a),t}function B3(t,e,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:s==null?null:""+s,children:t,containerInfo:e,implementation:r}}function _C(t){if(!t)return vi;t=t._reactInternals;e:{if(ja(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(Sr(r))return _8(t,r,e)}return e}function FC(t,e,r,s,i,a,o,l,c){return t=dg(r,s,!0,t,i,a,o,l,c),t.context=_C(null),r=t.current,s=wr(),i=xi(r),a=dn(s,i),a.callback=e??null,ui(r,a,i),t.current.lanes=i,qc(t,i,s),Tr(t,s),t}function fx(t,e,r,s){var i=e.current,a=wr(),o=xi(i);return r=_C(r),e.context===null?e.context=r:e.pendingContext=r,e=dn(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=ui(i,e,o),t!==null&&(vs(t,i,o,a),bd(t,i,o)),o}function u0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ib(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function xg(t,e){ib(t,e),(t=t.alternate)&&ib(t,e)}function _3(){return null}var SC=typeof reportError=="function"?reportError:function(t){console.error(t)};function hg(t){this._internalRoot=t}px.prototype.render=hg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));fx(t,e,null,null)};px.prototype.unmount=hg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fa(function(){fx(null,t,null,null)}),e[gn]=null}};function px(t){this._internalRoot=t}px.prototype.unstable_scheduleHydration=function(t){if(t){var e=c8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Yn.length&&e!==0&&e<Yn[r].priority;r++);Yn.splice(r,0,t),r===0&&d8(t)}};function mg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ab(){}function F3(t,e,r,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=u0(o);a.call(u)}}var o=FC(e,s,t,0,null,!1,!1,"",ab);return t._reactRootContainer=o,t[gn]=o.current,yc(t.nodeType===8?t.parentNode:t),fa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=u0(c);l.call(u)}}var c=dg(t,0,!1,null,null,!1,!1,"",ab);return t._reactRootContainer=c,t[gn]=c.current,yc(t.nodeType===8?t.parentNode:t),fa(function(){fx(e,c,r,s)}),c}function yx(t,e,r,s,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=u0(o);l.call(c)}}fx(e,o,t,i)}else o=F3(r,e,t,i,s);return u0(o)}o8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sl(e.pendingLanes);r!==0&&(Tp(e,r|1),Tr(e,jt()),!(Re&6)&&(Bo=jt()+500,_i()))}break;case 13:fa(function(){var s=yn(t,1);if(s!==null){var i=wr();vs(s,t,1,i)}}),xg(t,1)}};Pp=function(t){if(t.tag===13){var e=yn(t,134217728);if(e!==null){var r=wr();vs(e,t,134217728,r)}xg(t,134217728)}};l8=function(t){if(t.tag===13){var e=xi(t),r=yn(t,e);if(r!==null){var s=wr();vs(r,t,e,s)}xg(t,e)}};c8=function(){return qe};u8=function(t,e){var r=qe;try{return qe=t,e()}finally{qe=r}};zm=function(t,e,r){switch(e){case"input":if(Pm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var s=r[e];if(s!==t&&s.form===t.form){var i=lx(s);if(!i)throw Error(te(90));zw(s),Pm(s,i)}}}break;case"textarea":$w(t,r);break;case"select":e=r.value,e!=null&&co(t,!!r.multiple,e,!1)}};Qw=og;Xw=fa;var S3={usingClientEntryPoint:!1,Events:[Qc,Ya,lx,qw,Yw,og]},Cl={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T3={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e8(t),t===null?null:t.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||_3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{nx=ed.inject(T3),Is=ed}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S3;Xr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mg(e))throw Error(te(200));return B3(t,e,null,r)};Xr.createRoot=function(t,e){if(!mg(t))throw Error(te(299));var r=!1,s="",i=SC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dg(t,1,!1,null,null,r,!1,s,i),t[gn]=e.current,yc(t.nodeType===8?t.parentNode:t),new hg(e)};Xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=e8(e),t=t===null?null:t.stateNode,t};Xr.flushSync=function(t){return fa(t)};Xr.hydrate=function(t,e,r){if(!gx(e))throw Error(te(200));return yx(null,t,e,!0,r)};Xr.hydrateRoot=function(t,e,r){if(!mg(t))throw Error(te(405));var s=r!=null&&r.hydratedSources||null,i=!1,a="",o=SC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=FC(e,null,t,1,r??null,i,!1,a,o),t[gn]=e.current,yc(t),s)for(t=0;t<s.length;t++)r=s[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new px(e)};Xr.render=function(t,e,r){if(!gx(e))throw Error(te(200));return yx(null,t,e,!1,r)};Xr.unmountComponentAtNode=function(t){if(!gx(t))throw Error(te(40));return t._reactRootContainer?(fa(function(){yx(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};Xr.unstable_batchedUpdates=og;Xr.unstable_renderSubtreeIntoContainer=function(t,e,r,s){if(!gx(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return yx(t,e,r,!1,s)};Xr.version="18.3.1-next-f1338f8080-20240426";function TC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TC)}catch(t){console.error(t)}}TC(),Tw.exports=Xr;var Da=Tw.exports,ob=Da;Dm.createRoot=ob.createRoot,Dm.hydrateRoot=ob.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Dc.apply(this,arguments)}var si;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(si||(si={}));const lb="popstate";function P3(t){t===void 0&&(t={});function e(s,i){let{pathname:a,search:o,hash:l}=s.location;return bf("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:d0(i)}return R3(e,r,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I3(){return Math.random().toString(36).substr(2,8)}function cb(t,e){return{usr:t.state,key:t.key,idx:e}}function bf(t,e,r,s){return r===void 0&&(r=null),Dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qo(e):e,{state:r,key:e&&e.key||s||I3()})}function d0(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function qo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function R3(t,e,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=si.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Dc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=si.Pop;let k=d(),w=k==null?null:k-u;u=k,c&&c({action:l,location:N.location,delta:w})}function f(k,w){l=si.Push;let j=bf(N.location,k,w);u=d()+1;let C=cb(j,u),E=N.createHref(j);try{o.pushState(C,"",E)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(E)}a&&c&&c({action:l,location:N.location,delta:1})}function m(k,w){l=si.Replace;let j=bf(N.location,k,w);u=d();let C=cb(j,u),E=N.createHref(j);o.replaceState(C,"",E),a&&c&&c({action:l,location:N.location,delta:0})}function p(k){let w=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof k=="string"?k:d0(k);return j=j.replace(/ $/,"%20"),Dt(w,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,w)}let N={get action(){return l},get location(){return t(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(lb,h),c=k,()=>{i.removeEventListener(lb,h),c=null}},createHref(k){return e(i,k)},createURL:p,encodeLocation(k){let w=p(k);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(k){return o.go(k)}};return N}var ub;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ub||(ub={}));function L3(t,e,r){return r===void 0&&(r="/"),M3(t,e,r)}function M3(t,e,r,s){let i=typeof e=="string"?qo(e):e,a=fg(i.pathname||"/",r);if(a==null)return null;let o=IC(t);O3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=X3(a);l=q3(o[c],u)}return l}function IC(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Dt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=mi([s,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Dt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IC(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:G3(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of RC(a.path))i(a,o,c)}),e}function RC(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=RC(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function O3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:W3(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const V3=/^:[\w-]+$/,z3=3,U3=2,$3=1,H3=10,K3=-2,db=t=>t==="*";function G3(t,e){let r=t.split("/"),s=r.length;return r.some(db)&&(s+=K3),e&&(s+=U3),r.filter(i=>!db(i)).reduce((i,a)=>i+(V3.test(a)?z3:a===""?$3:H3),s)}function W3(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function q3(t,e,r){let{routesMeta:s}=t,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=Y3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:mi([a,h.pathname]),pathnameBase:tk(mi([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=mi([a,h.pathnameBase]))}return o}function Y3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=Q3(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let N=l[h]||"";o=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Q3(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),PC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function X3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function Z3(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?qo(t):t;return{pathname:r?r.startsWith("/")?r:J3(r,e):e,search:rk(s),hash:sk(i)}}function J3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Kh(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ek(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function pg(t,e){let r=ek(t);return e?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function gg(t,e,r,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=qo(t):(i=Dc({},t),Dt(!i.pathname||!i.pathname.includes("?"),Kh("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),Kh("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),Kh("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Z3(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),tk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LC=["post","put","patch","delete"];new Set(LC);const ik=["get",...LC];new Set(ik);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},kc.apply(this,arguments)}const yg=g.createContext(null),ak=g.createContext(null),Fi=g.createContext(null),vx=g.createContext(null),Dn=g.createContext({outlet:null,matches:[],isDataRoute:!1}),MC=g.createContext(null);function ok(t,e){let{relative:r}=e===void 0?{}:e;Yo()||Dt(!1);let{basename:s,navigator:i}=g.useContext(Fi),{hash:a,pathname:o,search:l}=VC(t,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:mi([s,o])),i.createHref({pathname:c,search:l,hash:a})}function Yo(){return g.useContext(vx)!=null}function Ns(){return Yo()||Dt(!1),g.useContext(vx).location}function OC(t){g.useContext(Fi).static||g.useLayoutEffect(t)}function Dr(){let{isDataRoute:t}=g.useContext(Dn);return t?wk():lk()}function lk(){Yo()||Dt(!1);let t=g.useContext(yg),{basename:e,future:r,navigator:s}=g.useContext(Fi),{matches:i}=g.useContext(Dn),{pathname:a}=Ns(),o=JSON.stringify(pg(i,r.v7_relativeSplatPath)),l=g.useRef(!1);return OC(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=gg(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:mi([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,o,a,t])}const ck=g.createContext(null);function uk(t){let e=g.useContext(Dn).outlet;return e&&g.createElement(ck.Provider,{value:t},e)}function VC(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=g.useContext(Fi),{matches:i}=g.useContext(Dn),{pathname:a}=Ns(),o=JSON.stringify(pg(i,s.v7_relativeSplatPath));return g.useMemo(()=>gg(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function dk(t,e){return xk(t,e)}function xk(t,e,r,s){Yo()||Dt(!1);let{navigator:i}=g.useContext(Fi),{matches:a}=g.useContext(Dn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ns(),d;if(e){var h;let k=typeof e=="string"?qo(e):e;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||Dt(!1),d=k}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let k=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let p=L3(t,{pathname:m}),N=gk(p&&p.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:mi([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:mi([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,s);return e&&N?g.createElement(vx.Provider,{value:{location:kc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:si.Pop}},N):N}function hk(){let t=bk(),e=nk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),r?g.createElement("pre",{style:i},r):null,null)}const mk=g.createElement(hk,null);class fk extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?g.createElement(Dn.Provider,{value:this.props.routeContext},g.createElement(MC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pk(t){let{routeContext:e,match:r,children:s}=t,i=g.useContext(yg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Dn.Provider,{value:e},s)}function gk(t,e,r,s){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Dt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,p=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,p=!1,N=null,k=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,N=h.route.errorElement||mk,c&&(u<0&&f===0?(Ck("route-fallback"),p=!0,k=null):u===f&&(p=!0,k=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),j=()=>{let C;return m?C=N:p?C=k:h.route.Component?C=g.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,g.createElement(pk,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:C})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(fk,{location:r.location,revalidation:r.revalidation,component:N,error:m,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):j()},null)}var zC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zC||{}),UC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(UC||{});function yk(t){let e=g.useContext(yg);return e||Dt(!1),e}function vk(t){let e=g.useContext(ak);return e||Dt(!1),e}function Ek(t){let e=g.useContext(Dn);return e||Dt(!1),e}function $C(t){let e=Ek(),r=e.matches[e.matches.length-1];return r.route.id||Dt(!1),r.route.id}function bk(){var t;let e=g.useContext(MC),r=vk(),s=$C();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function wk(){let{router:t}=yk(zC.UseNavigateStable),e=$C(UC.UseNavigateStable),r=g.useRef(!1);return OC(()=>{r.current=!0}),g.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kc({fromRouteId:e},a)))},[t,e])}const xb={};function Ck(t,e,r){xb[t]||(xb[t]=!0)}function Ak(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ps(t){let{to:e,replace:r,state:s,relative:i}=t;Yo()||Dt(!1);let{future:a,static:o}=g.useContext(Fi),{matches:l}=g.useContext(Dn),{pathname:c}=Ns(),u=Dr(),d=gg(e,pg(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(h),{replace:r,state:s,relative:i}),[u,h,i,r,s]),null}function vg(t){return uk(t.context)}function Ue(t){Dt(!1)}function Nk(t){let{basename:e="/",children:r=null,location:s,navigationType:i=si.Pop,navigator:a,static:o=!1,future:l}=t;Yo()&&Dt(!1);let c=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:a,static:o,future:kc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=qo(s));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:p="default"}=s,N=g.useMemo(()=>{let k=fg(d,c);return k==null?null:{location:{pathname:k,search:h,hash:f,state:m,key:p},navigationType:i}},[c,d,h,f,m,p,i]);return N==null?null:g.createElement(Fi.Provider,{value:u},g.createElement(vx.Provider,{children:r,value:N}))}function jk(t){let{children:e,location:r}=t;return dk(wf(e),r)}new Promise(()=>{});function wf(t,e){e===void 0&&(e=[]);let r=[];return g.Children.forEach(t,(s,i)=>{if(!g.isValidElement(s))return;let a=[...e,i];if(s.type===g.Fragment){r.push.apply(r,wf(s.props.children,a));return}s.type!==Ue&&Dt(!1),!s.props.index||!s.props.children||Dt(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=wf(s.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Cf.apply(this,arguments)}function Dk(t,e){if(t==null)return{};var r={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function kk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bk(t,e){return t.button===0&&(!e||e==="_self")&&!kk(t)}const _k=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fk="6";try{window.__reactRouterVersion=Fk}catch{}const Sk="startTransition",hb=Cj[Sk];function Tk(t){let{basename:e,children:r,future:s,window:i}=t,a=g.useRef();a.current==null&&(a.current=P3({window:i,v5Compat:!0}));let o=a.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=g.useCallback(h=>{u&&hb?hb(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>Ak(s),[s]),g.createElement(Nk,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const Pk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=g.forwardRef(function(e,r){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=Dk(e,_k),{basename:m}=g.useContext(Fi),p,N=!1;if(typeof u=="string"&&Ik.test(u)&&(p=u,Pk))try{let C=new URL(window.location.href),E=u.startsWith("//")?new URL(C.protocol+u):new URL(u),B=fg(E.pathname,m);E.origin===C.origin&&B!=null?u=B+E.search+E.hash:N=!0}catch{}let k=ok(u,{relative:i}),w=Rk(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function j(C){s&&s(C),C.defaultPrevented||w(C)}return g.createElement("a",Cf({},f,{href:p||k,onClick:N||a?s:j,ref:r,target:c}))});var mb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mb||(mb={}));var fb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fb||(fb={}));function Rk(t,e){let{target:r,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Dr(),u=Ns(),d=VC(t,{relative:o});return g.useCallback(h=>{if(Bk(h,r)){h.preventDefault();let f=s!==void 0?s:d0(u)===d0(d);c(t,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,i,r,t,a,o,l])}let Lk={data:""},Mk=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Lk,Ok=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vk=/\/\*[^]*?\*\/|  +/g,pb=/\n+/g,Xn=(t,e)=>{let r="",s="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":s+=a[1]=="f"?Xn(o,a):a+"{"+Xn(o,a[1]=="k"?"":e)+"}":typeof o=="object"?s+=Xn(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Xn.p?Xn.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+s},en={},HC=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+HC(t[r]);return e}return t},zk=(t,e,r,s,i)=>{let a=HC(t),o=en[a]||(en[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!en[o]){let c=a!==t?t:(u=>{let d,h,f=[{}];for(;d=Ok.exec(u.replace(Vk,""));)d[4]?f.shift():d[3]?(h=d[3].replace(pb," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(pb," ").trim();return f[0]})(t);en[o]=Xn(i?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&en.g?en.g:null;return r&&(en.g=en[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(en[o],e,s,l),o},Uk=(t,e,r)=>t.reduce((s,i,a)=>{let o=e[a];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Xn(l,""):l===!1?"":l}return s+i+(o??"")},"");function Ex(t){let e=this||{},r=t.call?t(e.p):t;return zk(r.unshift?r.raw?Uk(r,[].slice.call(arguments,1),e.p):r.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):r,Mk(e.target),e.g,e.o,e.k)}let KC,Af,Nf;Ex.bind({g:1});let En=Ex.bind({k:1});function $k(t,e,r,s){Xn.p=e,KC=t,Af=r,Nf=s}function Si(t,e){let r=this||{};return function(){let s=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;r.p=Object.assign({theme:Af&&Af()},l),r.o=/ *go\d+/.test(c),l.className=Ex.apply(r,s)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Nf&&u[0]&&Nf(l),KC(u,l)}return i}}var Hk=t=>typeof t=="function",x0=(t,e)=>Hk(t)?t(e):t,Kk=(()=>{let t=0;return()=>(++t).toString()})(),GC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Gk=20,WC=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Gk)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return WC(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},kd=[],ta={toasts:[],pausedAt:void 0},ka=t=>{ta=WC(ta,t),kd.forEach(e=>{e(ta)})},Wk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},qk=(t={})=>{let[e,r]=g.useState(ta),s=g.useRef(ta);g.useEffect(()=>(s.current!==ta&&r(ta),kd.push(r),()=>{let a=kd.indexOf(r);a>-1&&kd.splice(a,1)}),[]);let i=e.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||Wk[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...e,toasts:i}},Yk=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Kk()}),Zc=t=>(e,r)=>{let s=Yk(e,t,r);return ka({type:2,toast:s}),s.id},Er=(t,e)=>Zc("blank")(t,e);Er.error=Zc("error");Er.success=Zc("success");Er.loading=Zc("loading");Er.custom=Zc("custom");Er.dismiss=t=>{ka({type:3,toastId:t})};Er.remove=t=>ka({type:4,toastId:t});Er.promise=(t,e,r)=>{let s=Er.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?x0(e.success,i):void 0;return a?Er.success(a,{id:s,...r,...r==null?void 0:r.success}):Er.dismiss(s),i}).catch(i=>{let a=e.error?x0(e.error,i):void 0;a?Er.error(a,{id:s,...r,...r==null?void 0:r.error}):Er.dismiss(s)}),t};var Qk=(t,e)=>{ka({type:1,toast:{id:t,height:e}})},Xk=()=>{ka({type:5,time:Date.now()})},Xl=new Map,Zk=1e3,Jk=(t,e=Zk)=>{if(Xl.has(t))return;let r=setTimeout(()=>{Xl.delete(t),ka({type:4,toastId:t})},e);Xl.set(t,r)},eB=t=>{let{toasts:e,pausedAt:r}=qk(t);g.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Er.dismiss(l.id);return}return setTimeout(()=>Er.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,r]);let s=g.useCallback(()=>{r&&ka({type:6,time:Date.now()})},[r]),i=g.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=e.filter(m=>(m.position||u)===(a.position||u)&&m.height),h=d.findIndex(m=>m.id===a.id),f=d.filter((m,p)=>p<h&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[f+1]:[0,f]).reduce((m,p)=>m+(p.height||0)+c,0)},[e]);return g.useEffect(()=>{e.forEach(a=>{if(a.dismissed)Jk(a.id,a.removeDelay);else{let o=Xl.get(a.id);o&&(clearTimeout(o),Xl.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:Qk,startPause:Xk,endPause:s,calculateOffset:i}}},tB=En`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rB=En`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sB=En`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nB=Si("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iB=En`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aB=Si("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${iB} 1s linear infinite;
`,oB=En`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lB=En`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cB=Si("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uB=Si("div")`
  position: absolute;
`,dB=Si("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xB=En`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hB=Si("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mB=({toast:t})=>{let{icon:e,type:r,iconTheme:s}=t;return e!==void 0?typeof e=="string"?g.createElement(hB,null,e):e:r==="blank"?null:g.createElement(dB,null,g.createElement(aB,{...s}),r!=="loading"&&g.createElement(uB,null,r==="error"?g.createElement(nB,{...s}):g.createElement(cB,{...s})))},fB=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pB=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,gB="0%{opacity:0;} 100%{opacity:1;}",yB="0%{opacity:1;} 100%{opacity:0;}",vB=Si("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EB=Si("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bB=(t,e)=>{let r=t.includes("top")?1:-1,[s,i]=GC()?[gB,yB]:[fB(r),pB(r)];return{animation:e?`${En(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${En(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wB=g.memo(({toast:t,position:e,style:r,children:s})=>{let i=t.height?bB(t.position||e||"top-center",t.visible):{opacity:0},a=g.createElement(mB,{toast:t}),o=g.createElement(EB,{...t.ariaProps},x0(t.message,t));return g.createElement(vB,{className:t.className,style:{...i,...r,...t.style}},typeof s=="function"?s({icon:a,message:o}):g.createElement(g.Fragment,null,a,o))});$k(g.createElement);var CB=({id:t,className:e,style:r,onHeightUpdate:s,children:i})=>{let a=g.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;s(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return g.createElement("div",{ref:a,className:e,style:r},i)},AB=(t,e)=>{let r=t.includes("top"),s=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:GC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...s,...i}},NB=Ex`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,td=16,jB=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:s,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=eB(r);return g.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:td,left:td,right:td,bottom:td,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:s,defaultPosition:e}),f=AB(d,h);return g.createElement(CB,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?NB:"",style:f},u.type==="custom"?x0(u.message,u):i?i(u):g.createElement(wB,{toast:u,position:d}))}))},oe=Er,gb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=function(t){const e=[];let r=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},DB=function(t){const e=[];let r=0,s=0;for(;r<t.length;){const i=t[r++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[s++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[s++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},YC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(f=64)),s.push(r[d],r[h],r[f],r[m])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||h==null)throw new kB;const f=a<<2|l>>4;if(s.push(f),u!==64){const m=l<<4&240|u>>2;if(s.push(m),h!==64){const p=u<<6&192|h;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BB=function(t){const e=qC(t);return YC.encodeByteArray(e,!0)},h0=function(t){return BB(t).replace(/\./g,"")},QC=function(t){try{return YC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=()=>_B().__FIREBASE_DEFAULTS__,SB=()=>{if(typeof process>"u"||typeof gb>"u")return;const t=gb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QC(t[1]);return e&&JSON.parse(e)},bx=()=>{try{return FB()||SB()||TB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XC=t=>{var e,r;return(r=(e=bx())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},ZC=t=>{const e=XC(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},JC=()=>{var t;return(t=bx())===null||t===void 0?void 0:t.config},e5=t=>{var e;return(e=bx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h0(JSON.stringify(r)),h0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fr())}function RB(){var t;const e=(t=bx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VB(){const t=fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zB(){return!RB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UB(){try{return typeof indexedDB=="object"}catch{return!1}}function $B(){return new Promise((t,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="FirebaseError";class Gs extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=HB,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?KB(a,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Gs(i,l,s)}}function KB(t,e){return t.replace(GB,(r,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const GB=/\{\$([^}]+)}/g;function WB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function m0(t,e){if(t===e)return!0;const r=Object.keys(t),s=Object.keys(e);for(const i of r){if(!s.includes(i))return!1;const a=t[i],o=e[i];if(yb(a)&&yb(o)){if(!m0(a,o))return!1}else if(a!==o)return!1}for(const i of s)if(!r.includes(i))return!1;return!0}function yb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[r,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,a]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Il(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function qB(t,e){const r=new YB(t,e);return r.subscribe.bind(r)}class YB{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let i;if(e===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");QB(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:s},i.next===void 0&&(i.next=Gh),i.error===void 0&&(i.error=Gh),i.complete===void 0&&(i.complete=Gh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QB(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Gh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new PB;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JB(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});s.resolve(a)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);s===l&&o.resolve(i)}return i}onInit(e,r){var s;const i=this.normalizeInstanceIdentifier(r),a=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const i of s)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZB(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZB(t){return t===Yi?void 0:t}function JB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new XB(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const t7={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},r7=Se.INFO,s7={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},n7=(t,e,...r)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=s7[e];if(i)console[i](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=r7,this._logHandler=n7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const i7=(t,e)=>e.some(r=>t instanceof r);let vb,Eb;function a7(){return vb||(vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o7(){return Eb||(Eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r5=new WeakMap,jf=new WeakMap,s5=new WeakMap,Wh=new WeakMap,bg=new WeakMap;function l7(t){const e=new Promise((r,s)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(fi(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&r5.set(r,t)}).catch(()=>{}),bg.set(e,t),e}function c7(t){if(jf.has(t))return;const e=new Promise((r,s)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});jf.set(t,e)}let Df={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||s5.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u7(t){Df=t(Df)}function d7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=t.call(qh(this),e,...r);return s5.set(s,e.sort?e.sort():[e]),fi(s)}:o7().includes(t)?function(...e){return t.apply(qh(this),e),fi(r5.get(this))}:function(...e){return fi(t.apply(qh(this),e))}}function x7(t){return typeof t=="function"?d7(t):(t instanceof IDBTransaction&&c7(t),i7(t,a7())?new Proxy(t,Df):t)}function fi(t){if(t instanceof IDBRequest)return l7(t);if(Wh.has(t))return Wh.get(t);const e=x7(t);return e!==t&&(Wh.set(t,e),bg.set(e,t)),e}const qh=t=>bg.get(t);function h7(t,e,{blocked:r,upgrade:s,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=fi(o);return s&&o.addEventListener("upgradeneeded",c=>{s(fi(o.result),c.oldVersion,c.newVersion,fi(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const m7=["get","getKey","getAll","getAllKeys","count"],f7=["put","add","delete","clear"],Yh=new Map;function bb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,i=f7.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(i||m7.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return Yh.set(e,a),a}u7(t=>({...t,get:(e,r,s)=>bb(e,r)||t.get(e,r,s),has:(e,r)=>!!bb(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(g7(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function g7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",wb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Eg("@firebase/app"),y7="@firebase/app-compat",v7="@firebase/analytics-compat",E7="@firebase/analytics",b7="@firebase/app-check-compat",w7="@firebase/app-check",C7="@firebase/auth",A7="@firebase/auth-compat",N7="@firebase/database",j7="@firebase/data-connect",D7="@firebase/database-compat",k7="@firebase/functions",B7="@firebase/functions-compat",_7="@firebase/installations",F7="@firebase/installations-compat",S7="@firebase/messaging",T7="@firebase/messaging-compat",P7="@firebase/performance",I7="@firebase/performance-compat",R7="@firebase/remote-config",L7="@firebase/remote-config-compat",M7="@firebase/storage",O7="@firebase/storage-compat",V7="@firebase/firestore",z7="@firebase/vertexai-preview",U7="@firebase/firestore-compat",$7="firebase",H7="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",K7={[kf]:"fire-core",[y7]:"fire-core-compat",[E7]:"fire-analytics",[v7]:"fire-analytics-compat",[w7]:"fire-app-check",[b7]:"fire-app-check-compat",[C7]:"fire-auth",[A7]:"fire-auth-compat",[N7]:"fire-rtdb",[j7]:"fire-data-connect",[D7]:"fire-rtdb-compat",[k7]:"fire-fn",[B7]:"fire-fn-compat",[_7]:"fire-iid",[F7]:"fire-iid-compat",[S7]:"fire-fcm",[T7]:"fire-fcm-compat",[P7]:"fire-perf",[I7]:"fire-perf-compat",[R7]:"fire-rc",[L7]:"fire-rc-compat",[M7]:"fire-gcs",[O7]:"fire-gcs-compat",[V7]:"fire-fst",[U7]:"fire-fst-compat",[z7]:"fire-vertex","fire-js":"fire-js",[$7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map,G7=new Map,_f=new Map;function Cb(t,e){try{t.container.addComponent(e)}catch(r){bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function pa(t){const e=t.name;if(_f.has(e))return bn.debug(`There were multiple attempts to register component ${e}.`),!1;_f.set(e,t);for(const r of f0.values())Cb(r,t);for(const r of G7.values())Cb(r,t);return!0}function wx(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ps(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Jc("app","Firebase",W7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=H7;function n5(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(r||(r=JC()),!r)throw pi.create("no-options");const a=f0.get(i);if(a){if(m0(r,a.options)&&m0(s,a.config))return a;throw pi.create("duplicate-app",{appName:i})}const o=new e7(i);for(const c of _f.values())o.addComponent(c);const l=new q7(r,s,o);return f0.set(i,l),l}function wg(t=Bf){const e=f0.get(t);if(!e&&t===Bf&&JC())return n5();if(!e)throw pi.create("no-app",{appName:t});return e}function Ls(t,e,r){var s;let i=(s=K7[t])!==null&&s!==void 0?s:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bn.warn(l.join(" "));return}pa(new Ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7="firebase-heartbeat-database",Q7=1,Bc="firebase-heartbeat-store";let Qh=null;function i5(){return Qh||(Qh=h7(Y7,Q7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(r){console.warn(r)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Qh}async function X7(t){try{const r=(await i5()).transaction(Bc),s=await r.objectStore(Bc).get(a5(t));return await r.done,s}catch(e){if(e instanceof Gs)bn.warn(e.message);else{const r=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bn.warn(r.message)}}}async function Ab(t,e){try{const s=(await i5()).transaction(Bc,"readwrite");await s.objectStore(Bc).put(e,a5(t)),await s.done}catch(r){if(r instanceof Gs)bn.warn(r.message);else{const s=pi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});bn.warn(s.message)}}}function a5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=1024,J7=30*24*60*60*1e3;class e_{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new r_(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Nb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=J7}),this._storage.overwrite(this._heartbeatsCache))}catch(s){bn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Nb(),{heartbeatsToSend:s,unsentEntries:i}=t_(this._heartbeatsCache.heartbeats),a=h0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return bn.warn(r),""}}}function Nb(){return new Date().toISOString().substring(0,10)}function t_(t,e=Z7){const r=[];let s=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),jb(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),jb(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class r_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UB()?$B().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await X7(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ab(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ab(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jb(t){return h0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){pa(new Ei("platform-logger",e=>new p7(e),"PRIVATE")),pa(new Ei("heartbeat",e=>new e_(e),"PRIVATE")),Ls(kf,wb,t),Ls(kf,wb,"esm2017"),Ls("fire-js","")}s_("");function Cg(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}function o5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n_=o5,l5=new Jc("auth","Firebase",o5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Eg("@firebase/auth");function i_(t,...e){p0.logLevel<=Se.WARN&&p0.warn(`Auth (${Ba}): ${t}`,...e)}function Bd(t,...e){p0.logLevel<=Se.ERROR&&p0.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,...e){throw Ng(t,...e)}function Es(t,...e){return Ng(t,...e)}function Ag(t,e,r){const s=Object.assign(Object.assign({},n_()),{[e]:r});return new Jc("auth","Firebase",s).create(e,{appName:t.name})}function xn(t){return Ag(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a_(t,e,r){const s=r;if(!(e instanceof s))throw s.name!==e.constructor.name&&cs(t,"argument-error"),Ag(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ng(t,...e){if(typeof t!="string"){const r=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(r,...s)}return l5.create(t,...e)}function Ee(t,e,...r){if(!t)throw Ng(e,...r)}function ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function wn(t,e){t||ln(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function o_(){return Db()==="http:"||Db()==="https:"}function Db(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o_()||MB()||"connection"in navigator)?navigator.onLine:!0}function c_(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,r){this.shortDelay=e,this.longDelay=r,wn(r>e,"Short delay should be less than long delay!"),this.isMobile=IB()||OB()}get(){return l_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e){wn(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{static initialize(e,r,s){this.fetchImpl=e,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new tu(3e4,6e4);function kn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function js(t,e,r,s,i={}){return u5(t,i,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const l=eu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return LB()||(u.referrerPolicy="no-referrer"),c5.fetch()(d5(t,t.config.apiHost,r,l),u)})}async function u5(t,e,r){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},u_),e);try{const i=new h_(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw rd(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw rd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw rd(t,"user-disabled",o);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ag(t,d,u);cs(t,d)}}catch(i){if(i instanceof Gs)throw i;cs(t,"network-request-failed",{message:String(i)})}}async function ru(t,e,r,s,i={}){const a=await js(t,e,r,s,i);return"mfaPendingCredential"in a&&cs(t,"multi-factor-auth-required",{_serverResponse:a}),a}function d5(t,e,r,s){const i=`${e}${r}?${s}`;return t.config.emulator?jg(t.config,i):`${t.config.apiScheme}://${i}`}function x_(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h_{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(Es(this.auth,"network-request-failed")),d_.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rd(t,e,r){const s={appName:t.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const i=Es(t,e,s);return i.customData._tokenResponse=r,i}function kb(t){return t!==void 0&&t.enterprise!==void 0}class m_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return x_(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function f_(t,e){return js(t,"GET","/v2/recaptchaConfig",kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_(t,e){return js(t,"POST","/v1/accounts:delete",e)}async function x5(t,e){return js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g_(t,e=!1){const r=rt(t),s=await r.getIdToken(e),i=Dg(s);Ee(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:s,authTime:Zl(Xh(i.auth_time)),issuedAtTime:Zl(Xh(i.iat)),expirationTime:Zl(Xh(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Xh(t){return Number(t)*1e3}function Dg(t){const[e,r,s]=t.split(".");if(e===void 0||r===void 0||s===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const i=QC(r);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Bb(t){const e=Dg(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t,e,r=!1){if(r)return e;try{return await e}catch(s){throw s instanceof Gs&&y_(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function y_({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g0(t){var e;const r=t.auth,s=await t.getIdToken(),i=await ga(t,x5(r,{idToken:s}));Ee(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?h5(a.providerUserInfo):[],l=b_(t.providerData,o),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Sf(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function E_(t){const e=rt(t);await g0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b_(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function h5(t){return t.map(e=>{var{providerId:r}=e,s=Cg(e,["providerId"]);return{providerId:r,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_(t,e){const r=await u5(t,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=d5(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",c5.fetch()(o,{method:"POST",headers:l,body:s})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function C_(t,e){return js(t,"POST","/v2/accounts:revokeToken",kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const r=Bb(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:s,refreshToken:i,expiresIn:a}=await w_(e,r);this.updateTokensAndExpiration(s,i,Number(a))}updateTokensAndExpiration(e,r,s){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,r){const{refreshToken:s,accessToken:i,expirationTime:a}=r,o=new po;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ee(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cn{constructor(e){var{uid:r,auth:s,stsTokenManager:i}=e,a=Cg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await ga(this,this.stsTokenManager.getToken(this.auth,e));return Ee(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return g_(this,e)}reload(){return E_(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new cn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),r&&await g0(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ps(this.auth.app))return Promise.reject(xn(this.auth));const e=await this.getIdToken();return await ga(this,p_(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var s,i,a,o,l,c,u,d;const h=(s=r.displayName)!==null&&s!==void 0?s:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,m=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,p=(o=r.photoURL)!==null&&o!==void 0?o:void 0,N=(l=r.tenantId)!==null&&l!==void 0?l:void 0,k=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=r.createdAt)!==null&&u!==void 0?u:void 0,j=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:E,isAnonymous:B,providerData:_,stsTokenManager:b}=r;Ee(C&&b,e,"internal-error");const v=po.fromJSON(this.name,b);Ee(typeof C=="string",e,"internal-error"),Un(h,e.name),Un(f,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof B=="boolean",e,"internal-error"),Un(m,e.name),Un(p,e.name),Un(N,e.name),Un(k,e.name),Un(w,e.name),Un(j,e.name);const y=new cn({uid:C,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:B,photoURL:p,phoneNumber:m,tenantId:N,stsTokenManager:v,createdAt:w,lastLoginAt:j});return _&&Array.isArray(_)&&(y.providerData=_.map(A=>Object.assign({},A))),k&&(y._redirectEventId=k),y}static async _fromIdTokenResponse(e,r,s=!1){const i=new po;i.updateFromServerResponse(r);const a=new cn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await g0(a),a}static async _fromGetAccountInfoResponse(e,r,s){const i=r.users[0];Ee(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?h5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new po;l.updateFromIdToken(s);const c=new cn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Sf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;function un(t){wn(t instanceof Function,"Expected a class definition");let e=_b.get(t);return e?(wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_b.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}m5.type="NONE";const Fb=m5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e,r){return`firebase:${t}:${e}:${r}`}class go{constructor(e,r,s){this.persistence=e,this.auth=r,this.userKey=s;const{config:i,name:a}=this.auth;this.fullUserKey=_d(this.userKey,i.apiKey,a),this.fullPersistenceKey=_d("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,s="authUser"){if(!r.length)return new go(un(Fb),e,s);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||un(Fb);const o=_d(s,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){const h=cn._fromJSON(e,d);u!==a&&(l=h),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new go(a,e,s):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new go(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E5(e))return"Blackberry";if(b5(e))return"Webos";if(p5(e))return"Safari";if((e.includes("chrome/")||g5(e))&&!e.includes("edge/"))return"Chrome";if(v5(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(r);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function f5(t=fr()){return/firefox\//i.test(t)}function p5(t=fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g5(t=fr()){return/crios\//i.test(t)}function y5(t=fr()){return/iemobile/i.test(t)}function v5(t=fr()){return/android/i.test(t)}function E5(t=fr()){return/blackberry/i.test(t)}function b5(t=fr()){return/webos/i.test(t)}function kg(t=fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A_(t=fr()){var e;return kg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N_(){return VB()&&document.documentMode===10}function w5(t=fr()){return kg(t)||v5(t)||b5(t)||E5(t)||/windows phone/i.test(t)||y5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t,e=[]){let r;switch(t){case"Browser":r=Sb(fr());break;case"Worker":r=`${Sb(fr())}-${t}`;break;default:r=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ba}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const s=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});s.onAbort=r,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D_(t,e={}){return js(t,"GET","/v2/passwordPolicy",kn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=6;class B_{constructor(e){var r,s,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:k_,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,s,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=e.length>=s),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,r,s,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,r,s,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tb(this),this.idTokenSubscription=new Tb(this),this.beforeStateQueue=new j_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=un(r)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await x5(this,{idToken:e}),s=await cn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ps(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await g0(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c_()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ps(this.app))return Promise.reject(xn(this));const r=e?rt(e):null;return r&&Ee(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ps(this.app)?Promise.reject(xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ps(this.app)?Promise.reject(xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D_(this),r=new B_(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,r,s){return this.registerStateListener(this.authStateSubscription,e,r,s)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,s){return this.registerStateListener(this.idTokenSubscription,e,r,s)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await C_(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const s=await this.getOrInitRedirectPersistenceManager(r);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&un(e)||this._popupRedirectResolver;Ee(r,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[un(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,s;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,s,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(r["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&i_(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Bn(t){return rt(t)}class Tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=qB(r=>this.observer=r)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F_(t){Cx=t}function A5(t){return Cx.loadJS(t)}function S_(){return Cx.recaptchaEnterpriseScript}function T_(){return Cx.gapiScript}function P_(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const I_="recaptcha-enterprise",R_="NO_RECAPTCHA";class L_{constructor(e){this.type=I_,this.auth=Bn(e)}async verify(e="verify",r=!1){async function s(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{f_(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new m_(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;kb(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(R_)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{s(this.auth).then(l=>{if(!r&&kb(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=S_();c.length!==0&&(c+=l),A5(c).then(()=>{i(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function Pb(t,e,r,s=!1){const i=new L_(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function y0(t,e,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Pb(t,e,r,r==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Pb(t,e,r,r==="getOobCode");return s(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e){const r=wx(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(m0(a,e??{}))return i;cs(i,"already-initialized")}return r.initialize({options:e})}function O_(t,e){const r=(e==null?void 0:e.persistence)||[],s=(Array.isArray(r)?r:[r]).map(un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function V_(t,e,r){const s=Bn(t);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,a=N5(e),{host:o,port:l}=z_(e),c=l===null?"":`:${l}`;s.config.emulator={url:`${a}//${o}${c}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),U_()}function N5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z_(t){const e=N5(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const a=i[1];return{host:a,port:Ib(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:Ib(o)}}}function Ib(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U_(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ln("not implemented")}_getIdTokenResponse(e){return ln("not implemented")}_linkToIdToken(e,r){return ln("not implemented")}_getReauthenticationResolver(e){return ln("not implemented")}}async function $_(t,e){return js(t,"POST","/v1/accounts:update",e)}async function H_(t,e){return js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K_(t,e){return ru(t,"POST","/v1/accounts:signInWithPassword",kn(t,e))}async function j5(t,e){return js(t,"POST","/v1/accounts:sendOobCode",kn(t,e))}async function G_(t,e){return j5(t,e)}async function W_(t,e){return j5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q_(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",kn(t,e))}async function Y_(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Bg{constructor(e,r,s,i=null){super("password",s),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new _c(e,r,"password")}static _fromEmailAndCode(e,r,s=null){return new _c(e,r,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,r,"signInWithPassword",K_);case"emailLink":return q_(e,{email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const s={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y0(e,s,"signUpPassword",H_);case"emailLink":return Y_(e,{idToken:r,email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t,e){return ru(t,"POST","/v1/accounts:signInWithIdp",kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="http://localhost";class ya extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):cs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=r,a=Cg(r,["providerId","signInMethod"]);if(!s||!i)return null;const o=new ya(s,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return yo(e,r)}_linkToIdToken(e,r){const s=this.buildRequest();return s.idToken=r,yo(e,s)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,yo(e,r)}buildRequest(){const e={requestUri:Q_,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=eu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z_(t){const e=Pl(Il(t)).link,r=e?Pl(Il(e)).deep_link_id:null,s=Pl(Il(t)).deep_link_id;return(s?Pl(Il(s)).link:null)||s||r||e||t}class _g{constructor(e){var r,s,i,a,o,l;const c=Pl(Il(e)),u=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(s=c.oobCode)!==null&&s!==void 0?s:null,h=X_((i=c.mode)!==null&&i!==void 0?i:null);Ee(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=Z_(e);try{return new _g(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,r){return _c._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const s=_g.parseLink(r);return Ee(s,"argument-error"),_c._fromEmailAndCode(e,s.code,s.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Fg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends su{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zn.credential(e.oauthAccessToken)}catch{return null}}}Zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ya._fromParams({providerId:nn.PROVIDER_ID,signInMethod:nn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return nn.credentialFromTaggedObject(e)}static credentialFromError(e){return nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:s}=e;if(!r&&!s)return null;try{return nn.credential(r,s)}catch{return null}}}nn.GOOGLE_SIGN_IN_METHOD="google.com";nn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends su{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jn.credential(e.oauthAccessToken)}catch{return null}}}Jn.GITHUB_SIGN_IN_METHOD="github.com";Jn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends su{constructor(){super("twitter.com")}static credential(e,r){return ya._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=e;if(!r||!s)return null;try{return ei.credential(r,s)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J_(t,e){return ru(t,"POST","/v1/accounts:signUp",kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,s,i=!1){const a=await cn._fromIdTokenResponse(e,s,i),o=Rb(s);return new va({user:a,providerId:o,_tokenResponse:s,operationType:r})}static async _forOperation(e,r,s){await e._updateTokensIfNecessary(s,!0);const i=Rb(s);return new va({user:e,providerId:i,_tokenResponse:s,operationType:r})}}function Rb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Gs{constructor(e,r,s,i){var a;super(r.code,r.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,v0.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,r,s,i){return new v0(e,r,s,i)}}function D5(t,e,r,s){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?v0._fromErrorAndOperation(t,a,e,s):a})}async function eF(t,e,r=!1){const s=await ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return va._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e,r=!1){const{auth:s}=t;if(ps(s.app))return Promise.reject(xn(s));const i="reauthenticate";try{const a=await ga(t,D5(s,i,e,t),r);Ee(a.idToken,s,"internal-error");const o=Dg(a.idToken);Ee(o,s,"internal-error");const{sub:l}=o;return Ee(t.uid===l,s,"user-mismatch"),va._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cs(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e,r=!1){if(ps(t.app))return Promise.reject(xn(t));const s="signIn",i=await D5(t,s,e),a=await va._fromIdTokenResponse(t,s,i);return r||await t._updateCurrentUser(a.user),a}async function tF(t,e){return B5(Bn(t),e)}async function rF(t,e){return k5(rt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t){const e=Bn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sF(t,e,r){const s=Bn(t);await y0(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",W_)}async function Tf(t,e,r){if(ps(t.app))return Promise.reject(xn(t));const s=Bn(t),o=await y0(s,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J_).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&_5(t),c}),l=await va._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function nF(t,e,r){return ps(t.app)?Promise.reject(xn(t)):tF(rt(t),_a.credential(e,r)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_5(t),s})}async function iF(t,e){const r=rt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await G_(r.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e){return js(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const s=rt(t),a={idToken:await s.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await ga(s,aF(s.auth,a));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function oF(t,e){return lF(rt(t),null,e)}async function lF(t,e,r){const{auth:s}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const o=await ga(t,$_(s,a));await t._updateTokensIfNecessary(o,!0)}function cF(t,e,r,s){return rt(t).onIdTokenChanged(e,r,s)}function uF(t,e,r){return rt(t).beforeAuthStateChanged(e,r)}function dF(t,e,r,s){return rt(t).onAuthStateChanged(e,r,s)}function xF(t){return rt(t).signOut()}const E0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(E0,"1"),this.storage.removeItem(E0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=1e3,mF=10;class S5 extends F5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),i=this.localCache[r];s!==i&&e(r,i,s)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!r&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);N_()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mF):i()}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:s}),!0)})},hF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}S5.type="LOCAL";const fF=S5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5 extends F5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}T5.type="SESSION";const P5=T5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const s=new Ax(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:s,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await pF(l);r.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ax.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t="",e=10){let r="";for(let s=0;s<e;s++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=Sg("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function yF(t){Ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function vF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bF(){return I5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="firebaseLocalStorageDb",wF=1,b0="firebaseLocalStorage",L5="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Nx(t,e){return t.transaction([b0],e?"readwrite":"readonly").objectStore(b0)}function CF(){const t=indexedDB.deleteDatabase(R5);return new nu(t).toPromise()}function Pf(){const t=indexedDB.open(R5,wF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(b0,{keyPath:L5})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(b0)?e(s):(s.close(),await CF(),e(await Pf()))})})}async function Mb(t,e,r){const s=Nx(t,!0).put({[L5]:e,value:r});return new nu(s).toPromise()}async function AF(t,e){const r=Nx(t,!1).get(e),s=await new nu(r).toPromise();return s===void 0?null:s.value}function Ob(t,e){const r=Nx(t,!0).delete(e);return new nu(r).toPromise()}const NF=800,jF=3;class M5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pf(),this.db)}async _withRetries(e){let r=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(r++>jF)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ax._getInstance(bF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await vF(),!this.activeServiceWorker)return;this.sender=new gF(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((r=s[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pf();return await Mb(e,E0,"1"),await Ob(e,E0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>Mb(s,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(s=>AF(s,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ob(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Nx(i,!1).getAll();return new nu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M5.type="LOCAL";const DF=M5;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t,e){return e?un(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return yo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function kF(t){return B5(t.auth,new Tg(t),t.bypassAuthState)}function BF(t){const{auth:e,user:r}=t;return Ee(r,e,"internal-error"),k5(r,new Tg(t),t.bypassAuthState)}async function _F(t){const{auth:e,user:r}=t;return Ee(r,e,"internal-error"),eF(r,new Tg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,r,s,i,a=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:s,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:s,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kF;case"linkViaPopup":case"linkViaRedirect":return _F;case"reauthViaPopup":case"reauthViaRedirect":return BF;default:cs(this.auth,"internal-error")}}resolve(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=new tu(2e3,1e4);async function SF(t,e,r){if(ps(t.app))return Promise.reject(Es(t,"operation-not-supported-in-this-environment"));const s=Bn(t);a_(t,e,Fg);const i=O5(s,r);return new ra(s,"signInViaPopup",e,i).executeNotNull()}class ra extends V5{constructor(e,r,s,i,a){super(e,r,i,a),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){wn(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,s;if(!((s=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FF.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="pendingRedirect",Fd=new Map;class PF extends V5{constructor(e,r,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const s=await IF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(r){e=()=>Promise.reject(r)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IF(t,e){const r=MF(e),s=LF(t);if(!await s._isAvailable())return!1;const i=await s._get(r)==="true";return await s._remove(r),i}function RF(t,e){Fd.set(t._key(),e)}function LF(t){return un(t._redirectPersistence)}function MF(t){return _d(TF,t.config.apiKey,t.name)}async function OF(t,e,r=!1){if(ps(t.app))return Promise.reject(xn(t));const s=Bn(t),i=O5(s,e),o=await new PF(s,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=10*60*1e3;class zF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(r=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var s;if(e.error&&!z5(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";r.onError(Es(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const s=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VF&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vb(e))}saveEventToCache(e){this.cachedEventUids.add(Vb(e)),this.lastProcessedEventTime=Date.now()}}function Vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function z5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e={}){return js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KF=/^https?/;async function GF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $F(t);for(const r of e)try{if(WF(r))return}catch{}cs(t,"unauthorized-domain")}function WF(t){const e=Ff(),{protocol:r,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===s}if(!KF.test(r))return!1;if(HF.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new tu(3e4,6e4);function zb(){const t=Ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function YF(t){return new Promise((e,r)=>{var s,i,a;function o(){zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zb(),r(Es(t,"network-request-failed"))},timeout:qF.get()})}if(!((i=(s=Ms().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ms().gapi)===null||a===void 0)&&a.load)o();else{const l=P_("iframefcb");return Ms()[l]=()=>{gapi.load?o():r(Es(t,"network-request-failed"))},A5(`${T_()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function QF(t){return Sd=Sd||YF(t),Sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new tu(5e3,15e3),ZF="__/auth/iframe",JF="emulator/auth/iframe",eS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rS(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?jg(e,JF):`https://${t.config.authDomain}/${ZF}`,s={apiKey:e.apiKey,appName:t.name,v:Ba},i=tS.get(t.config.apiHost);i&&(s.eid=i);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${r}?${eu(s).slice(1)}`}async function sS(t){const e=await QF(t),r=Ms().gapi;return Ee(r,t,"internal-error"),e.open({where:document.body,url:rS(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eS,dontclear:!0},s=>new Promise(async(i,a)=>{await s.restyle({setHideOnLeave:!1});const o=Es(t,"network-request-failed"),l=Ms().setTimeout(()=>{a(o)},XF.get());function c(){Ms().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iS=500,aS=600,oS="_blank",lS="http://localhost";class Ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cS(t,e,r,s=iS,i=aS){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},nS),{width:s.toString(),height:i.toString(),top:a,left:o}),u=fr().toLowerCase();r&&(l=g5(u)?oS:r),f5(u)&&(e=e||lS,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,p])=>`${f}${m}=${p},`,"");if(A_(u)&&l!=="_self")return uS(e||"",l),new Ub(null);const h=window.open(e||"",l,d);Ee(h,t,"popup-blocked");try{h.focus()}catch{}return new Ub(h)}function uS(t,e){const r=document.createElement("a");r.href=t,r.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="__/auth/handler",xS="emulator/auth/handler",hS=encodeURIComponent("fac");async function $b(t,e,r,s,i,a){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:s,v:Ba,eventId:i};if(e instanceof Fg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",WB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof su){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${hS}=${encodeURIComponent(c)}`:"";return`${mS(t)}?${eu(l).slice(1)}${u}`}function mS({config:t}){return t.emulator?jg(t,xS):`https://${t.authDomain}/${dS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="webStorageSupport";class fS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P5,this._completeRedirectFn=OF,this._overrideRedirectResult=RF}async _openPopup(e,r,s,i){var a;wn((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await $b(e,r,s,Ff(),i);return cS(e,o,Sg())}async _openRedirect(e,r,s,i){await this._originValidation(e);const a=await $b(e,r,s,Ff(),i);return yF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(wn(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(e){const r=await sS(e),s=new zF(e);return r.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=r,s}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Zh,{type:Zh},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Zh];o!==void 0&&r(!!o),cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=GF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return w5()||p5()||kg()}}const pS=fS;var Hb="@firebase/auth",Kb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vS(t){pa(new Ei("auth",(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C5(t)},u=new __(s,i,a,c);return O_(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,s)=>{e.getProvider("auth-internal").initialize()})),pa(new Ei("auth-internal",e=>{const r=Bn(e.getProvider("auth").getImmediate());return(s=>new gS(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(Hb,Kb,yS(t)),Ls(Hb,Kb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=5*60,bS=e5("authIdTokenMaxAge")||ES;let Gb=null;const wS=t=>async e=>{const r=e&&await e.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>bS)return;const i=r==null?void 0:r.token;Gb!==i&&(Gb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CS(t=wg()){const e=wx(t,"auth");if(e.isInitialized())return e.getImmediate();const r=M_(t,{popupRedirectResolver:pS,persistence:[DF,fF,P5]}),s=e5("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=wS(a.toString());uF(r,o,()=>o(r.currentUser)),cF(r,l=>o(l))}}const i=XC("auth");return i&&V_(r,`http://${i}`),r}function AS(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}F_({loadJS(t){return new Promise((e,r)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const a=Es("internal-error");a.customData=i,r(a)},s.type="text/javascript",s.charset="UTF-8",AS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vS("Browser");var Wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,U5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,v){function y(){}y.prototype=v.prototype,b.D=v.prototype,b.prototype=new y,b.prototype.constructor=b,b.C=function(A,F,P){for(var S=Array(arguments.length-2),V=2;V<arguments.length;V++)S[V-2]=arguments[V];return v.prototype[F].apply(A,S)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,y){y||(y=0);var A=Array(16);if(typeof v=="string")for(var F=0;16>F;++F)A[F]=v.charCodeAt(y++)|v.charCodeAt(y++)<<8|v.charCodeAt(y++)<<16|v.charCodeAt(y++)<<24;else for(F=0;16>F;++F)A[F]=v[y++]|v[y++]<<8|v[y++]<<16|v[y++]<<24;v=b.g[0],y=b.g[1],F=b.g[2];var P=b.g[3],S=v+(P^y&(F^P))+A[0]+3614090360&4294967295;v=y+(S<<7&4294967295|S>>>25),S=P+(F^v&(y^F))+A[1]+3905402710&4294967295,P=v+(S<<12&4294967295|S>>>20),S=F+(y^P&(v^y))+A[2]+606105819&4294967295,F=P+(S<<17&4294967295|S>>>15),S=y+(v^F&(P^v))+A[3]+3250441966&4294967295,y=F+(S<<22&4294967295|S>>>10),S=v+(P^y&(F^P))+A[4]+4118548399&4294967295,v=y+(S<<7&4294967295|S>>>25),S=P+(F^v&(y^F))+A[5]+1200080426&4294967295,P=v+(S<<12&4294967295|S>>>20),S=F+(y^P&(v^y))+A[6]+2821735955&4294967295,F=P+(S<<17&4294967295|S>>>15),S=y+(v^F&(P^v))+A[7]+4249261313&4294967295,y=F+(S<<22&4294967295|S>>>10),S=v+(P^y&(F^P))+A[8]+1770035416&4294967295,v=y+(S<<7&4294967295|S>>>25),S=P+(F^v&(y^F))+A[9]+2336552879&4294967295,P=v+(S<<12&4294967295|S>>>20),S=F+(y^P&(v^y))+A[10]+4294925233&4294967295,F=P+(S<<17&4294967295|S>>>15),S=y+(v^F&(P^v))+A[11]+2304563134&4294967295,y=F+(S<<22&4294967295|S>>>10),S=v+(P^y&(F^P))+A[12]+1804603682&4294967295,v=y+(S<<7&4294967295|S>>>25),S=P+(F^v&(y^F))+A[13]+4254626195&4294967295,P=v+(S<<12&4294967295|S>>>20),S=F+(y^P&(v^y))+A[14]+2792965006&4294967295,F=P+(S<<17&4294967295|S>>>15),S=y+(v^F&(P^v))+A[15]+1236535329&4294967295,y=F+(S<<22&4294967295|S>>>10),S=v+(F^P&(y^F))+A[1]+4129170786&4294967295,v=y+(S<<5&4294967295|S>>>27),S=P+(y^F&(v^y))+A[6]+3225465664&4294967295,P=v+(S<<9&4294967295|S>>>23),S=F+(v^y&(P^v))+A[11]+643717713&4294967295,F=P+(S<<14&4294967295|S>>>18),S=y+(P^v&(F^P))+A[0]+3921069994&4294967295,y=F+(S<<20&4294967295|S>>>12),S=v+(F^P&(y^F))+A[5]+3593408605&4294967295,v=y+(S<<5&4294967295|S>>>27),S=P+(y^F&(v^y))+A[10]+38016083&4294967295,P=v+(S<<9&4294967295|S>>>23),S=F+(v^y&(P^v))+A[15]+3634488961&4294967295,F=P+(S<<14&4294967295|S>>>18),S=y+(P^v&(F^P))+A[4]+3889429448&4294967295,y=F+(S<<20&4294967295|S>>>12),S=v+(F^P&(y^F))+A[9]+568446438&4294967295,v=y+(S<<5&4294967295|S>>>27),S=P+(y^F&(v^y))+A[14]+3275163606&4294967295,P=v+(S<<9&4294967295|S>>>23),S=F+(v^y&(P^v))+A[3]+4107603335&4294967295,F=P+(S<<14&4294967295|S>>>18),S=y+(P^v&(F^P))+A[8]+1163531501&4294967295,y=F+(S<<20&4294967295|S>>>12),S=v+(F^P&(y^F))+A[13]+2850285829&4294967295,v=y+(S<<5&4294967295|S>>>27),S=P+(y^F&(v^y))+A[2]+4243563512&4294967295,P=v+(S<<9&4294967295|S>>>23),S=F+(v^y&(P^v))+A[7]+1735328473&4294967295,F=P+(S<<14&4294967295|S>>>18),S=y+(P^v&(F^P))+A[12]+2368359562&4294967295,y=F+(S<<20&4294967295|S>>>12),S=v+(y^F^P)+A[5]+4294588738&4294967295,v=y+(S<<4&4294967295|S>>>28),S=P+(v^y^F)+A[8]+2272392833&4294967295,P=v+(S<<11&4294967295|S>>>21),S=F+(P^v^y)+A[11]+1839030562&4294967295,F=P+(S<<16&4294967295|S>>>16),S=y+(F^P^v)+A[14]+4259657740&4294967295,y=F+(S<<23&4294967295|S>>>9),S=v+(y^F^P)+A[1]+2763975236&4294967295,v=y+(S<<4&4294967295|S>>>28),S=P+(v^y^F)+A[4]+1272893353&4294967295,P=v+(S<<11&4294967295|S>>>21),S=F+(P^v^y)+A[7]+4139469664&4294967295,F=P+(S<<16&4294967295|S>>>16),S=y+(F^P^v)+A[10]+3200236656&4294967295,y=F+(S<<23&4294967295|S>>>9),S=v+(y^F^P)+A[13]+681279174&4294967295,v=y+(S<<4&4294967295|S>>>28),S=P+(v^y^F)+A[0]+3936430074&4294967295,P=v+(S<<11&4294967295|S>>>21),S=F+(P^v^y)+A[3]+3572445317&4294967295,F=P+(S<<16&4294967295|S>>>16),S=y+(F^P^v)+A[6]+76029189&4294967295,y=F+(S<<23&4294967295|S>>>9),S=v+(y^F^P)+A[9]+3654602809&4294967295,v=y+(S<<4&4294967295|S>>>28),S=P+(v^y^F)+A[12]+3873151461&4294967295,P=v+(S<<11&4294967295|S>>>21),S=F+(P^v^y)+A[15]+530742520&4294967295,F=P+(S<<16&4294967295|S>>>16),S=y+(F^P^v)+A[2]+3299628645&4294967295,y=F+(S<<23&4294967295|S>>>9),S=v+(F^(y|~P))+A[0]+4096336452&4294967295,v=y+(S<<6&4294967295|S>>>26),S=P+(y^(v|~F))+A[7]+1126891415&4294967295,P=v+(S<<10&4294967295|S>>>22),S=F+(v^(P|~y))+A[14]+2878612391&4294967295,F=P+(S<<15&4294967295|S>>>17),S=y+(P^(F|~v))+A[5]+4237533241&4294967295,y=F+(S<<21&4294967295|S>>>11),S=v+(F^(y|~P))+A[12]+1700485571&4294967295,v=y+(S<<6&4294967295|S>>>26),S=P+(y^(v|~F))+A[3]+2399980690&4294967295,P=v+(S<<10&4294967295|S>>>22),S=F+(v^(P|~y))+A[10]+4293915773&4294967295,F=P+(S<<15&4294967295|S>>>17),S=y+(P^(F|~v))+A[1]+2240044497&4294967295,y=F+(S<<21&4294967295|S>>>11),S=v+(F^(y|~P))+A[8]+1873313359&4294967295,v=y+(S<<6&4294967295|S>>>26),S=P+(y^(v|~F))+A[15]+4264355552&4294967295,P=v+(S<<10&4294967295|S>>>22),S=F+(v^(P|~y))+A[6]+2734768916&4294967295,F=P+(S<<15&4294967295|S>>>17),S=y+(P^(F|~v))+A[13]+1309151649&4294967295,y=F+(S<<21&4294967295|S>>>11),S=v+(F^(y|~P))+A[4]+4149444226&4294967295,v=y+(S<<6&4294967295|S>>>26),S=P+(y^(v|~F))+A[11]+3174756917&4294967295,P=v+(S<<10&4294967295|S>>>22),S=F+(v^(P|~y))+A[2]+718787259&4294967295,F=P+(S<<15&4294967295|S>>>17),S=y+(P^(F|~v))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(F+(S<<21&4294967295|S>>>11))&4294967295,b.g[2]=b.g[2]+F&4294967295,b.g[3]=b.g[3]+P&4294967295}s.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var y=v-this.blockSize,A=this.B,F=this.h,P=0;P<v;){if(F==0)for(;P<=y;)i(this,b,P),P+=this.blockSize;if(typeof b=="string"){for(;P<v;)if(A[F++]=b.charCodeAt(P++),F==this.blockSize){i(this,A),F=0;break}}else for(;P<v;)if(A[F++]=b[P++],F==this.blockSize){i(this,A),F=0;break}}this.h=F,this.o+=v},s.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var y=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=y&255,y/=256;for(this.u(b),b=Array(16),v=y=0;4>v;++v)for(var A=0;32>A;A+=8)b[y++]=this.g[v]>>>A&255;return b};function a(b,v){var y=l;return Object.prototype.hasOwnProperty.call(y,b)?y[b]:y[b]=v(b)}function o(b,v){this.h=v;for(var y=[],A=!0,F=b.length-1;0<=F;F--){var P=b[F]|0;A&&P==v||(y[F]=P,A=!1)}this.g=y}var l={};function c(b){return-128<=b&&128>b?a(b,function(v){return new o([v|0],0>v?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return k(u(-b));for(var v=[],y=1,A=0;b>=y;A++)v[A]=b/y|0,y*=4294967296;return new o(v,0)}function d(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return k(d(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(v,8)),A=h,F=0;F<b.length;F+=8){var P=Math.min(8,b.length-F),S=parseInt(b.substring(F,F+P),v);8>P?(P=u(Math.pow(v,P)),A=A.j(P).add(u(S))):(A=A.j(y),A=A.add(u(S)))}return A}var h=c(0),f=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(N(this))return-k(this).m();for(var b=0,v=1,y=0;y<this.g.length;y++){var A=this.i(y);b+=(0<=A?A:4294967296+A)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(p(this))return"0";if(N(this))return"-"+k(this).toString(b);for(var v=u(Math.pow(b,6)),y=this,A="";;){var F=E(y,v).g;y=w(y,F.j(v));var P=((0<y.g.length?y.g[0]:y.h)>>>0).toString(b);if(y=F,p(y))return P+A;for(;6>P.length;)P="0"+P;A=P+A}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function p(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=w(this,b),N(b)?-1:p(b)?0:1};function k(b){for(var v=b.g.length,y=[],A=0;A<v;A++)y[A]=~b.g[A];return new o(y,~b.h).add(f)}t.abs=function(){return N(this)?k(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),y=[],A=0,F=0;F<=v;F++){var P=A+(this.i(F)&65535)+(b.i(F)&65535),S=(P>>>16)+(this.i(F)>>>16)+(b.i(F)>>>16);A=S>>>16,P&=65535,S&=65535,y[F]=S<<16|P}return new o(y,y[y.length-1]&-2147483648?-1:0)};function w(b,v){return b.add(k(v))}t.j=function(b){if(p(this)||p(b))return h;if(N(this))return N(b)?k(this).j(k(b)):k(k(this).j(b));if(N(b))return k(this.j(k(b)));if(0>this.l(m)&&0>b.l(m))return u(this.m()*b.m());for(var v=this.g.length+b.g.length,y=[],A=0;A<2*v;A++)y[A]=0;for(A=0;A<this.g.length;A++)for(var F=0;F<b.g.length;F++){var P=this.i(A)>>>16,S=this.i(A)&65535,V=b.i(F)>>>16,M=b.i(F)&65535;y[2*A+2*F]+=S*M,j(y,2*A+2*F),y[2*A+2*F+1]+=P*M,j(y,2*A+2*F+1),y[2*A+2*F+1]+=S*V,j(y,2*A+2*F+1),y[2*A+2*F+2]+=P*V,j(y,2*A+2*F+2)}for(A=0;A<v;A++)y[A]=y[2*A+1]<<16|y[2*A];for(A=v;A<2*v;A++)y[A]=0;return new o(y,0)};function j(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function C(b,v){this.g=b,this.h=v}function E(b,v){if(p(v))throw Error("division by zero");if(p(b))return new C(h,h);if(N(b))return v=E(k(b),v),new C(k(v.g),k(v.h));if(N(v))return v=E(b,k(v)),new C(k(v.g),v.h);if(30<b.g.length){if(N(b)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var y=f,A=v;0>=A.l(b);)y=B(y),A=B(A);var F=_(y,1),P=_(A,1);for(A=_(A,2),y=_(y,2);!p(A);){var S=P.add(A);0>=S.l(b)&&(F=F.add(y),P=S),A=_(A,1),y=_(y,1)}return v=w(b,F.j(v)),new C(F,v)}for(F=h;0<=b.l(v);){for(y=Math.max(1,Math.floor(b.m()/v.m())),A=Math.ceil(Math.log(y)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),P=u(y),S=P.j(v);N(S)||0<S.l(b);)y-=A,P=u(y),S=P.j(v);p(P)&&(P=f),F=F.add(P),b=w(b,S)}return new C(F,b)}t.A=function(b){return E(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),y=[],A=0;A<v;A++)y[A]=this.i(A)&b.i(A);return new o(y,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),y=[],A=0;A<v;A++)y[A]=this.i(A)|b.i(A);return new o(y,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),y=[],A=0;A<v;A++)y[A]=this.i(A)^b.i(A);return new o(y,this.h^b.h)};function B(b){for(var v=b.g.length+1,y=[],A=0;A<v;A++)y[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(y,b.h)}function _(b,v){var y=v>>5;v%=32;for(var A=b.g.length-y,F=[],P=0;P<A;P++)F[P]=0<v?b.i(P+y)>>>v|b.i(P+y+1)<<32-v:b.i(P+y);return new o(F,b.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,U5=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,la=o}).apply(typeof Wb<"u"?Wb:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $5,Rl,H5,Td,If,K5,G5,W5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,D,T){return x==Array.prototype||x==Object.prototype||(x[D]=T.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var D=0;D<x.length;++D){var T=x[D];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=r(this);function i(x,D){if(D)e:{var T=s;x=x.split(".");for(var R=0;R<x.length-1;R++){var K=x[R];if(!(K in T))break e;T=T[K]}x=x[x.length-1],R=T[x],D=D(R),D!=R&&D!=null&&e(T,x,{configurable:!0,writable:!0,value:D})}}function a(x,D){x instanceof String&&(x+="");var T=0,R=!1,K={next:function(){if(!R&&T<x.length){var W=T++;return{value:D(W,x[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(x){return x||function(){return a(this,function(D,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(x){var D=typeof x;return D=D!="object"?D:x?Array.isArray(x)?"array":D:"null",D=="array"||D=="object"&&typeof x.length=="number"}function u(x){var D=typeof x;return D=="object"&&x!=null||D=="function"}function d(x,D,T){return x.call.apply(x.bind,arguments)}function h(x,D,T){if(!x)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,R),x.apply(D,K)}}return function(){return x.apply(D,arguments)}}function f(x,D,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(x,D){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),x.apply(this,R)}}function p(x,D){function T(){}T.prototype=D.prototype,x.aa=D.prototype,x.prototype=new T,x.prototype.constructor=x,x.Qb=function(R,K,W){for(var se=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)se[Ze-2]=arguments[Ze];return D.prototype[K].apply(R,se)}}function N(x){const D=x.length;if(0<D){const T=Array(D);for(let R=0;R<D;R++)T[R]=x[R];return T}return[]}function k(x,D){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(c(R)){const K=x.length||0,W=R.length||0;x.length=K+W;for(let se=0;se<W;se++)x[K+se]=R[se]}else x.push(R)}}class w{constructor(D,T){this.i=D,this.j=T,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function j(x){return/^[\s\xa0]*$/.test(x)}function C(){var x=l.navigator;return x&&(x=x.userAgent)?x:""}function E(x){return E[" "](x),x}E[" "]=function(){};var B=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function _(x,D,T){for(const R in x)D.call(T,x[R],R,x)}function b(x,D){for(const T in x)D.call(void 0,x[T],T,x)}function v(x){const D={};for(const T in x)D[T]=x[T];return D}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(x,D){let T,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(T in R)x[T]=R[T];for(let W=0;W<y.length;W++)T=y[W],Object.prototype.hasOwnProperty.call(R,T)&&(x[T]=R[T])}}function F(x){var D=1;x=x.split(":");const T=[];for(;0<D&&x.length;)T.push(x.shift()),D--;return x.length&&T.push(x.join(":")),T}function P(x){l.setTimeout(()=>{throw x},0)}function S(){var x=z;let D=null;return x.g&&(D=x.g,x.g=x.g.next,x.g||(x.h=null),D.next=null),D}class V{constructor(){this.h=this.g=null}add(D,T){const R=M.get();R.set(D,T),this.h?this.h.next=R:this.g=R,this.h=R}}var M=new w(()=>new H,x=>x.reset());class H{constructor(){this.next=this.g=this.h=null}set(D,T){this.h=D,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let I,L=!1,z=new V,O=()=>{const x=l.Promise.resolve(void 0);I=()=>{x.then(U)}};var U=()=>{for(var x;x=S();){try{x.h.call(x.g)}catch(T){P(T)}var D=M;D.j(x),100>D.h&&(D.h++,x.next=D.g,D.g=x)}L=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(x,D){this.type=x,this.g=this.target=D,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var x=!1,D=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const T=()=>{};l.addEventListener("test",T,D),l.removeEventListener("test",T,D)}catch{}return x}();function G(x,D){if(Y.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var T=this.type=x.type,R=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=D,D=x.relatedTarget){if(B){e:{try{E(D.nodeName);var K=!0;break e}catch{}K=!1}K||(D=null)}}else T=="mouseover"?D=x.fromElement:T=="mouseout"&&(D=x.toElement);this.relatedTarget=D,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:ae[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&G.aa.h.call(this)}}p(G,Y);var ae={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Ae(x,D,T,R,K){this.listener=x,this.proxy=null,this.src=D,this.type=T,this.capture=!!R,this.ha=K,this.key=++xe,this.da=this.fa=!1}function ue(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function pe(x){this.src=x,this.g={},this.h=0}pe.prototype.add=function(x,D,T,R,K){var W=x.toString();x=this.g[W],x||(x=this.g[W]=[],this.h++);var se=He(x,D,R,K);return-1<se?(D=x[se],T||(D.fa=!1)):(D=new Ae(D,this.src,W,!!R,K),D.fa=T,x.push(D)),D};function Qe(x,D){var T=D.type;if(T in x.g){var R=x.g[T],K=Array.prototype.indexOf.call(R,D,void 0),W;(W=0<=K)&&Array.prototype.splice.call(R,K,1),W&&(ue(D),x.g[T].length==0&&(delete x.g[T],x.h--))}}function He(x,D,T,R){for(var K=0;K<x.length;++K){var W=x[K];if(!W.da&&W.listener==D&&W.capture==!!T&&W.ha==R)return K}return-1}var ot="closure_lm_"+(1e6*Math.random()|0),be={};function Vt(x,D,T,R,K){if(Array.isArray(D)){for(var W=0;W<D.length;W++)Vt(x,D[W],T,R,K);return null}return T=Sn(T),x&&x[le]?x.K(D,T,u(R)?!!R.capture:!1,K):yr(x,D,T,!1,R,K)}function yr(x,D,T,R,K,W){if(!D)throw Error("Invalid event type");var se=u(K)?!!K.capture:!!K,Ze=ks(x);if(Ze||(x[ot]=Ze=new pe(x)),T=Ze.add(D,T,R,se,W),T.proxy)return T;if(R=sr(),T.proxy=R,R.src=x,R.listener=T,x.addEventListener)J||(K=se),K===void 0&&(K=!1),x.addEventListener(D.toString(),R,K);else if(x.attachEvent)x.attachEvent(wt(D.toString()),R);else if(x.addListener&&x.removeListener)x.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function sr(){function x(T){return D.call(x.src,x.listener,T)}const D=Pa;return x}function bt(x,D,T,R,K){if(Array.isArray(D))for(var W=0;W<D.length;W++)bt(x,D[W],T,R,K);else R=u(R)?!!R.capture:!!R,T=Sn(T),x&&x[le]?(x=x.i,D=String(D).toString(),D in x.g&&(W=x.g[D],T=He(W,T,R,K),-1<T&&(ue(W[T]),Array.prototype.splice.call(W,T,1),W.length==0&&(delete x.g[D],x.h--)))):x&&(x=ks(x))&&(D=x.g[D.toString()],x=-1,D&&(x=He(D,T,R,K)),(T=-1<x?D[x]:null)&&Ys(T))}function Ys(x){if(typeof x!="number"&&x&&!x.da){var D=x.src;if(D&&D[le])Qe(D.i,x);else{var T=x.type,R=x.proxy;D.removeEventListener?D.removeEventListener(T,R,x.capture):D.detachEvent?D.detachEvent(wt(T),R):D.addListener&&D.removeListener&&D.removeListener(R),(T=ks(D))?(Qe(T,x),T.h==0&&(T.src=null,D[ot]=null)):ue(x)}}}function wt(x){return x in be?be[x]:be[x]="on"+x}function Pa(x,D){if(x.da)x=!0;else{D=new G(D,this);var T=x.listener,R=x.ha||x.src;x.fa&&Ys(x),x=T.call(R,D)}return x}function ks(x){return x=x[ot],x instanceof pe?x:null}var Fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(x){return typeof x=="function"?x:(x[Fn]||(x[Fn]=function(D){return x.handleEvent(D)}),x[Fn])}function gt(){q.call(this),this.i=new pe(this),this.M=this,this.F=null}p(gt,q),gt.prototype[le]=!0,gt.prototype.removeEventListener=function(x,D,T,R){bt(this,x,D,T,R)};function ut(x,D){var T,R=x.F;if(R)for(T=[];R;R=R.F)T.push(R);if(x=x.M,R=D.type||D,typeof D=="string")D=new Y(D,x);else if(D instanceof Y)D.target=D.target||x;else{var K=D;D=new Y(R,x),A(D,K)}if(K=!0,T)for(var W=T.length-1;0<=W;W--){var se=D.g=T[W];K=Bs(se,R,!0,D)&&K}if(se=D.g=x,K=Bs(se,R,!0,D)&&K,K=Bs(se,R,!1,D)&&K,T)for(W=0;W<T.length;W++)se=D.g=T[W],K=Bs(se,R,!1,D)&&K}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var x=this.i,D;for(D in x.g){for(var T=x.g[D],R=0;R<T.length;R++)ue(T[R]);delete x.g[D],x.h--}}this.F=null},gt.prototype.K=function(x,D,T,R){return this.i.add(String(x),D,!1,T,R)},gt.prototype.L=function(x,D,T,R){return this.i.add(String(x),D,!0,T,R)};function Bs(x,D,T,R){if(D=x.i.g[String(D)],!D)return!0;D=D.concat();for(var K=!0,W=0;W<D.length;++W){var se=D[W];if(se&&!se.da&&se.capture==T){var Ze=se.listener,Gt=se.ha||se.src;se.fa&&Qe(x.i,se),K=Ze.call(Gt,R)!==!1&&K}}return K&&!R.defaultPrevented}function Qs(x,D,T){if(typeof x=="function")T&&(x=f(x,T));else if(x&&typeof x.handleEvent=="function")x=f(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:l.setTimeout(x,D||0)}function Tn(x){x.g=Qs(()=>{x.g=null,x.i&&(x.i=!1,Tn(x))},x.l);const D=x.h;x.h=null,x.m.apply(null,D)}class Pn extends q{constructor(D,T){super(),this.m=D,this.l=T,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Tn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z(x){q.call(this),this.h=x,this.g={}}p(Z,q);var de=[];function Ye(x){_(x.g,function(D,T){this.g.hasOwnProperty(T)&&Ys(D)},x),x.g={}}Z.prototype.N=function(){Z.aa.N.call(this),Ye(this)},Z.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=l.JSON.stringify,Bt=l.JSON.parse,Fe=class{stringify(x){return l.JSON.stringify(x,void 0)}parse(x){return l.JSON.parse(x,void 0)}};function Tt(){}Tt.prototype.h=null;function Xs(x){return x.h||(x.h=x.i())}function il(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ia(){Y.call(this,"d")}p(Ia,Y);function Rn(){Y.call(this,"c")}p(Rn,Y);var _s={},Oi=null;function Vi(){return Oi=Oi||new gt}_s.La="serverreachability";function zi(x){Y.call(this,_s.La,x)}p(zi,Y);function Ln(x){const D=Vi();ut(D,new zi(D))}_s.STAT_EVENT="statevent";function Cu(x,D){Y.call(this,_s.STAT_EVENT,x),this.stat=D}p(Cu,Y);function Ct(x){const D=Vi();ut(D,new Cu(D,x))}_s.Ma="timingevent";function Ce(x,D){Y.call(this,_s.Ma,x),this.size=D}p(Ce,Y);function al(x,D){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){x()},D)}function ol(){this.g=!0}ol.prototype.xa=function(){this.g=!1};function IN(x,D,T,R,K,W){x.info(function(){if(x.g)if(W)for(var se="",Ze=W.split("&"),Gt=0;Gt<Ze.length;Gt++){var Me=Ze[Gt].split("=");if(1<Me.length){var nr=Me[0];Me=Me[1];var ir=nr.split("_");se=2<=ir.length&&ir[1]=="type"?se+(nr+"="+Me+"&"):se+(nr+"=redacted&")}}else se=null;else se=W;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+D+`
`+T+`
`+se})}function RN(x,D,T,R,K,W,se){x.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+D+`
`+T+`
`+W+" "+se})}function Ra(x,D,T,R){x.info(function(){return"XMLHTTP TEXT ("+D+"): "+MN(x,T)+(R?" "+R:"")})}function LN(x,D){x.info(function(){return"TIMEOUT: "+D})}ol.prototype.info=function(){};function MN(x,D){if(!x.g)return D;if(!D)return null;try{var T=JSON.parse(D);if(T){for(x=0;x<T.length;x++)if(Array.isArray(T[x])){var R=T[x];if(!(2>R.length)){var K=R[1];if(Array.isArray(K)&&!(1>K.length)){var W=K[0];if(W!="noop"&&W!="stop"&&W!="close")for(var se=1;se<K.length;se++)K[se]=""}}}}return Xe(T)}catch{return D}}var Au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oh;function Nu(){}p(Nu,Tt),Nu.prototype.g=function(){return new XMLHttpRequest},Nu.prototype.i=function(){return{}},oh=new Nu;function Mn(x,D,T,R){this.j=x,this.i=D,this.l=T,this.R=R||1,this.U=new Z(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mv}function mv(){this.i=null,this.g="",this.h=!1}var fv={},lh={};function ch(x,D,T){x.L=1,x.v=Bu(Zs(D)),x.m=T,x.P=!0,pv(x,null)}function pv(x,D){x.F=Date.now(),ju(x),x.A=Zs(x.v);var T=x.A,R=x.R;Array.isArray(R)||(R=[String(R)]),_v(T.i,"t",R),x.C=0,T=x.j.J,x.h=new mv,x.g=qv(x.j,T?D:null,!x.m),0<x.O&&(x.M=new Pn(f(x.Y,x,x.g),x.O)),D=x.U,T=x.g,R=x.ca;var K="readystatechange";Array.isArray(K)||(K&&(de[0]=K.toString()),K=de);for(var W=0;W<K.length;W++){var se=Vt(T,K[W],R||D.handleEvent,!1,D.h||D);if(!se)break;D.g[se.key]=se}D=x.H?v(x.H):{},x.m?(x.u||(x.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,D)):(x.u="GET",x.g.ea(x.A,x.u,null,D)),Ln(),IN(x.i,x.u,x.A,x.l,x.R,x.m)}Mn.prototype.ca=function(x){x=x.target;const D=this.M;D&&Js(x)==3?D.j():this.Y(x)},Mn.prototype.Y=function(x){try{if(x==this.g)e:{const ir=Js(this.g);var D=this.g.Ba();const Oa=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||Lv(this.g)))){this.J||ir!=4||D==7||(D==8||0>=Oa?Ln(3):Ln(2)),uh(this);var T=this.g.Z();this.X=T;t:if(gv(this)){var R=Lv(this.g);x="";var K=R.length,W=Js(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),ll(this);var se="";break t}this.h.i=new l.TextDecoder}for(D=0;D<K;D++)this.h.h=!0,x+=this.h.i.decode(R[D],{stream:!(W&&D==K-1)});R.length=0,this.h.g+=x,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=T==200,RN(this.i,this.u,this.A,this.l,this.R,ir,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Gt=this.g;if((Ze=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ze)){var Me=Ze;break t}}Me=null}if(T=Me)Ra(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dh(this,T);else{this.o=!1,this.s=3,Ct(12),Ui(this),ll(this);break e}}if(this.P){T=!0;let us;for(;!this.J&&this.C<se.length;)if(us=ON(this,se),us==lh){ir==4&&(this.s=4,Ct(14),T=!1),Ra(this.i,this.l,null,"[Incomplete Response]");break}else if(us==fv){this.s=4,Ct(15),Ra(this.i,this.l,se,"[Invalid Chunk]"),T=!1;break}else Ra(this.i,this.l,us,null),dh(this,us);if(gv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||se.length!=0||this.h.h||(this.s=1,Ct(16),T=!1),this.o=this.o&&T,!T)Ra(this.i,this.l,se,"[Invalid Chunked Response]"),Ui(this),ll(this);else if(0<se.length&&!this.W){this.W=!0;var nr=this.j;nr.g==this&&nr.ba&&!nr.M&&(nr.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),gh(nr),nr.M=!0,Ct(11))}}else Ra(this.i,this.l,se,null),dh(this,se);ir==4&&Ui(this),this.o&&!this.J&&(ir==4?Hv(this.j,this):(this.o=!1,ju(this)))}else rj(this.g),T==400&&0<se.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Ui(this),ll(this)}}}catch{}finally{}};function gv(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function ON(x,D){var T=x.C,R=D.indexOf(`
`,T);return R==-1?lh:(T=Number(D.substring(T,R)),isNaN(T)?fv:(R+=1,R+T>D.length?lh:(D=D.slice(R,R+T),x.C=R+T,D)))}Mn.prototype.cancel=function(){this.J=!0,Ui(this)};function ju(x){x.S=Date.now()+x.I,yv(x,x.I)}function yv(x,D){if(x.B!=null)throw Error("WatchDog timer not null");x.B=al(f(x.ba,x),D)}function uh(x){x.B&&(l.clearTimeout(x.B),x.B=null)}Mn.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(LN(this.i,this.A),this.L!=2&&(Ln(),Ct(17)),Ui(this),this.s=2,ll(this)):yv(this,this.S-x)};function ll(x){x.j.G==0||x.J||Hv(x.j,x)}function Ui(x){uh(x);var D=x.M;D&&typeof D.ma=="function"&&D.ma(),x.M=null,Ye(x.U),x.g&&(D=x.g,x.g=null,D.abort(),D.ma())}function dh(x,D){try{var T=x.j;if(T.G!=0&&(T.g==x||xh(T.h,x))){if(!x.K&&xh(T.h,x)&&T.G==3){try{var R=T.Da.g.parse(D)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<x.F)Iu(T),Tu(T);else break e;ph(T),Ct(18)}}else T.za=K[1],0<T.za-T.T&&37500>K[2]&&T.F&&T.v==0&&!T.C&&(T.C=al(f(T.Za,T),6e3));if(1>=bv(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Hi(T,11)}else if((x.K||T.g==x)&&Iu(T),!j(D))for(K=T.Da.g.parse(D),D=0;D<K.length;D++){let Me=K[D];if(T.T=Me[0],Me=Me[1],T.G==2)if(Me[0]=="c"){T.K=Me[1],T.ia=Me[2];const nr=Me[3];nr!=null&&(T.la=nr,T.j.info("VER="+T.la));const ir=Me[4];ir!=null&&(T.Aa=ir,T.j.info("SVER="+T.Aa));const Oa=Me[5];Oa!=null&&typeof Oa=="number"&&0<Oa&&(R=1.5*Oa,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const us=x.g;if(us){const Lu=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lu){var W=R.h;W.g||Lu.indexOf("spdy")==-1&&Lu.indexOf("quic")==-1&&Lu.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(hh(W,W.h),W.h=null))}if(R.D){const yh=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;yh&&(R.ya=yh,st(R.I,R.D,yh))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-x.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var se=x;if(R.qa=Wv(R,R.J?R.ia:null,R.W),se.K){wv(R.h,se);var Ze=se,Gt=R.L;Gt&&(Ze.I=Gt),Ze.B&&(uh(Ze),ju(Ze)),R.g=se}else Uv(R);0<T.i.length&&Pu(T)}else Me[0]!="stop"&&Me[0]!="close"||Hi(T,7);else T.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Hi(T,7):fh(T):Me[0]!="noop"&&T.l&&T.l.ta(Me),T.v=0)}}Ln(4)}catch{}}var VN=class{constructor(x,D){this.g=x,this.map=D}};function vv(x){this.l=x||10,l.PerformanceNavigationTiming?(x=l.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ev(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function bv(x){return x.h?1:x.g?x.g.size:0}function xh(x,D){return x.h?x.h==D:x.g?x.g.has(D):!1}function hh(x,D){x.g?x.g.add(D):x.h=D}function wv(x,D){x.h&&x.h==D?x.h=null:x.g&&x.g.has(D)&&x.g.delete(D)}vv.prototype.cancel=function(){if(this.i=Cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Cv(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let D=x.i;for(const T of x.g.values())D=D.concat(T.D);return D}return N(x.i)}function zN(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(c(x)){for(var D=[],T=x.length,R=0;R<T;R++)D.push(x[R]);return D}D=[],T=0;for(R in x)D[T++]=x[R];return D}function UN(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(c(x)||typeof x=="string"){var D=[];x=x.length;for(var T=0;T<x;T++)D.push(T);return D}D=[],T=0;for(const R in x)D[T++]=R;return D}}}function Av(x,D){if(x.forEach&&typeof x.forEach=="function")x.forEach(D,void 0);else if(c(x)||typeof x=="string")Array.prototype.forEach.call(x,D,void 0);else for(var T=UN(x),R=zN(x),K=R.length,W=0;W<K;W++)D.call(void 0,R[W],T&&T[W],x)}var Nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $N(x,D){if(x){x=x.split("&");for(var T=0;T<x.length;T++){var R=x[T].indexOf("="),K=null;if(0<=R){var W=x[T].substring(0,R);K=x[T].substring(R+1)}else W=x[T];D(W,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function $i(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof $i){this.h=x.h,Du(this,x.j),this.o=x.o,this.g=x.g,ku(this,x.s),this.l=x.l;var D=x.i,T=new dl;T.i=D.i,D.g&&(T.g=new Map(D.g),T.h=D.h),jv(this,T),this.m=x.m}else x&&(D=String(x).match(Nv))?(this.h=!1,Du(this,D[1]||"",!0),this.o=cl(D[2]||""),this.g=cl(D[3]||"",!0),ku(this,D[4]),this.l=cl(D[5]||"",!0),jv(this,D[6]||"",!0),this.m=cl(D[7]||"")):(this.h=!1,this.i=new dl(null,this.h))}$i.prototype.toString=function(){var x=[],D=this.j;D&&x.push(ul(D,Dv,!0),":");var T=this.g;return(T||D=="file")&&(x.push("//"),(D=this.o)&&x.push(ul(D,Dv,!0),"@"),x.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&x.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&x.push("/"),x.push(ul(T,T.charAt(0)=="/"?GN:KN,!0))),(T=this.i.toString())&&x.push("?",T),(T=this.m)&&x.push("#",ul(T,qN)),x.join("")};function Zs(x){return new $i(x)}function Du(x,D,T){x.j=T?cl(D,!0):D,x.j&&(x.j=x.j.replace(/:$/,""))}function ku(x,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);x.s=D}else x.s=null}function jv(x,D,T){D instanceof dl?(x.i=D,YN(x.i,x.h)):(T||(D=ul(D,WN)),x.i=new dl(D,x.h))}function st(x,D,T){x.i.set(D,T)}function Bu(x){return st(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function cl(x,D){return x?D?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function ul(x,D,T){return typeof x=="string"?(x=encodeURI(x).replace(D,HN),T&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function HN(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Dv=/[#\/\?@]/g,KN=/[#\?:]/g,GN=/[#\?]/g,WN=/[#\?@]/g,qN=/#/g;function dl(x,D){this.h=this.g=null,this.i=x||null,this.j=!!D}function On(x){x.g||(x.g=new Map,x.h=0,x.i&&$N(x.i,function(D,T){x.add(decodeURIComponent(D.replace(/\+/g," ")),T)}))}t=dl.prototype,t.add=function(x,D){On(this),this.i=null,x=La(this,x);var T=this.g.get(x);return T||this.g.set(x,T=[]),T.push(D),this.h+=1,this};function kv(x,D){On(x),D=La(x,D),x.g.has(D)&&(x.i=null,x.h-=x.g.get(D).length,x.g.delete(D))}function Bv(x,D){return On(x),D=La(x,D),x.g.has(D)}t.forEach=function(x,D){On(this),this.g.forEach(function(T,R){T.forEach(function(K){x.call(D,K,R,this)},this)},this)},t.na=function(){On(this);const x=Array.from(this.g.values()),D=Array.from(this.g.keys()),T=[];for(let R=0;R<D.length;R++){const K=x[R];for(let W=0;W<K.length;W++)T.push(D[R])}return T},t.V=function(x){On(this);let D=[];if(typeof x=="string")Bv(this,x)&&(D=D.concat(this.g.get(La(this,x))));else{x=Array.from(this.g.values());for(let T=0;T<x.length;T++)D=D.concat(x[T])}return D},t.set=function(x,D){return On(this),this.i=null,x=La(this,x),Bv(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[D]),this.h+=1,this},t.get=function(x,D){return x?(x=this.V(x),0<x.length?String(x[0]):D):D};function _v(x,D,T){kv(x,D),0<T.length&&(x.i=null,x.g.set(La(x,D),N(T)),x.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],D=Array.from(this.g.keys());for(var T=0;T<D.length;T++){var R=D[T];const W=encodeURIComponent(String(R)),se=this.V(R);for(R=0;R<se.length;R++){var K=W;se[R]!==""&&(K+="="+encodeURIComponent(String(se[R]))),x.push(K)}}return this.i=x.join("&")};function La(x,D){return D=String(D),x.j&&(D=D.toLowerCase()),D}function YN(x,D){D&&!x.j&&(On(x),x.i=null,x.g.forEach(function(T,R){var K=R.toLowerCase();R!=K&&(kv(this,R),_v(this,K,T))},x)),x.j=D}function QN(x,D){const T=new ol;if(l.Image){const R=new Image;R.onload=m(Vn,T,"TestLoadImage: loaded",!0,D,R),R.onerror=m(Vn,T,"TestLoadImage: error",!1,D,R),R.onabort=m(Vn,T,"TestLoadImage: abort",!1,D,R),R.ontimeout=m(Vn,T,"TestLoadImage: timeout",!1,D,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=x}else D(!1)}function XN(x,D){const T=new ol,R=new AbortController,K=setTimeout(()=>{R.abort(),Vn(T,"TestPingServer: timeout",!1,D)},1e4);fetch(x,{signal:R.signal}).then(W=>{clearTimeout(K),W.ok?Vn(T,"TestPingServer: ok",!0,D):Vn(T,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(K),Vn(T,"TestPingServer: error",!1,D)})}function Vn(x,D,T,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(T)}catch{}}function ZN(){this.g=new Fe}function JN(x,D,T){const R=T||"";try{Av(x,function(K,W){let se=K;u(K)&&(se=Xe(K)),D.push(R+W+"="+encodeURIComponent(se))})}catch(K){throw D.push(R+"type="+encodeURIComponent("_badmap")),K}}function _u(x){this.l=x.Ub||null,this.j=x.eb||!1}p(_u,Tt),_u.prototype.g=function(){return new Fu(this.l,this.j)},_u.prototype.i=function(x){return function(){return x}}({});function Fu(x,D){gt.call(this),this.D=x,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Fu,gt),t=Fu.prototype,t.open=function(x,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=D,this.readyState=1,hl(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(D.body=x),(this.D||l).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xl(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fv(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fv(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var D=x.value?x.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!x.done}))&&(this.response=this.responseText+=D)}x.done?xl(this):hl(this),this.readyState==3&&Fv(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,xl(this))},t.Qa=function(x){this.g&&(this.response=x,xl(this))},t.ga=function(){this.g&&xl(this)};function xl(x){x.readyState=4,x.l=null,x.j=null,x.v=null,hl(x)}t.setRequestHeader=function(x,D){this.u.append(x,D)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],D=this.h.entries();for(var T=D.next();!T.done;)T=T.value,x.push(T[0]+": "+T[1]),T=D.next();return x.join(`\r
`)};function hl(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Sv(x){let D="";return _(x,function(T,R){D+=R,D+=":",D+=T,D+=`\r
`}),D}function mh(x,D,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Sv(T),typeof x=="string"?T!=null&&encodeURIComponent(String(T)):st(x,D,T))}function yt(x){gt.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(yt,gt);var ej=/^https?$/i,tj=["POST","PUT"];t=yt.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,D,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);D=D?D.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oh.g(),this.v=this.o?Xs(this.o):Xs(oh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(D,String(x),!0),this.B=!1}catch(W){Tv(this,W);return}if(x=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)T.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())T.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),K=l.FormData&&x instanceof l.FormData,!(0<=Array.prototype.indexOf.call(tj,D,void 0))||R||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,se]of T)this.g.setRequestHeader(W,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rv(this),this.u=!0,this.g.send(x),this.u=!1}catch(W){Tv(this,W)}};function Tv(x,D){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=D,x.m=5,Pv(x),Su(x)}function Pv(x){x.A||(x.A=!0,ut(x,"complete"),ut(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,ut(this,"complete"),ut(this,"abort"),Su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Su(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Iv(this):this.bb())},t.bb=function(){Iv(this)};function Iv(x){if(x.h&&typeof o<"u"&&(!x.v[1]||Js(x)!=4||x.Z()!=2)){if(x.u&&Js(x)==4)Qs(x.Ea,0,x);else if(ut(x,"readystatechange"),Js(x)==4){x.h=!1;try{const se=x.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var T;if(!(T=D)){var R;if(R=se===0){var K=String(x.D).match(Nv)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),R=!ej.test(K?K.toLowerCase():"")}T=R}if(T)ut(x,"complete"),ut(x,"success");else{x.m=6;try{var W=2<Js(x)?x.g.statusText:""}catch{W=""}x.l=W+" ["+x.Z()+"]",Pv(x)}}finally{Su(x)}}}}function Su(x,D){if(x.g){Rv(x);const T=x.g,R=x.v[0]?()=>{}:null;x.g=null,x.v=null,D||ut(x,"ready");try{T.onreadystatechange=R}catch{}}}function Rv(x){x.I&&(l.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function Js(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<Js(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var D=this.g.responseText;return x&&D.indexOf(x)==0&&(D=D.substring(x.length)),Bt(D)}};function Lv(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function rj(x){const D={};x=(x.g&&2<=Js(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<x.length;R++){if(j(x[R]))continue;var T=F(x[R]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=D[K]||[];D[K]=W,W.push(T)}b(D,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(x,D,T){return T&&T.internalChannelParams&&T.internalChannelParams[x]||D}function Mv(x){this.Aa=0,this.i=[],this.j=new ol,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,x),this.cb=ml("retryDelaySeedMs",1e4,x),this.Wa=ml("forwardChannelMaxRetries",2,x),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new vv(x&&x.concurrentRequestLimit),this.Da=new ZN,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mv.prototype,t.la=8,t.G=1,t.connect=function(x,D,T,R){Ct(0),this.W=x,this.H=D||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=Wv(this,null,this.W),Pu(this)};function fh(x){if(Ov(x),x.G==3){var D=x.U++,T=Zs(x.I);if(st(T,"SID",x.K),st(T,"RID",D),st(T,"TYPE","terminate"),fl(x,T),D=new Mn(x,x.j,D),D.L=2,D.v=Bu(Zs(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(D.v.toString(),"")}catch{}!T&&l.Image&&(new Image().src=D.v,T=!0),T||(D.g=qv(D.j,null),D.g.ea(D.v)),D.F=Date.now(),ju(D)}Gv(x)}function Tu(x){x.g&&(gh(x),x.g.cancel(),x.g=null)}function Ov(x){Tu(x),x.u&&(l.clearTimeout(x.u),x.u=null),Iu(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&l.clearTimeout(x.s),x.s=null)}function Pu(x){if(!Ev(x.h)&&!x.s){x.s=!0;var D=x.Ga;I||O(),L||(I(),L=!0),z.add(D,x),x.B=0}}function sj(x,D){return bv(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=D.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=al(f(x.Ga,x,D),Kv(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const K=new Mn(this,this.j,x);let W=this.o;if(this.S&&(W?(W=v(W),A(W,this.S)):W=this.S),this.m!==null||this.O||(K.H=W,W=null),this.P)e:{for(var D=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(D+=R,4096<D){D=T;break e}if(D===4096||T===this.i.length-1){D=T+1;break e}}D=1e3}else D=1e3;D=zv(this,K,D),T=Zs(this.I),st(T,"RID",x),st(T,"CVER",22),this.D&&st(T,"X-HTTP-Session-Id",this.D),fl(this,T),W&&(this.O?D="headers="+encodeURIComponent(String(Sv(W)))+"&"+D:this.m&&mh(T,this.m,W)),hh(this.h,K),this.Ua&&st(T,"TYPE","init"),this.P?(st(T,"$req",D),st(T,"SID","null"),K.T=!0,ch(K,T,null)):ch(K,T,D),this.G=2}}else this.G==3&&(x?Vv(this,x):this.i.length==0||Ev(this.h)||Vv(this))};function Vv(x,D){var T;D?T=D.l:T=x.U++;const R=Zs(x.I);st(R,"SID",x.K),st(R,"RID",T),st(R,"AID",x.T),fl(x,R),x.m&&x.o&&mh(R,x.m,x.o),T=new Mn(x,x.j,T,x.B+1),x.m===null&&(T.H=x.o),D&&(x.i=D.D.concat(x.i)),D=zv(x,T,1e3),T.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),hh(x.h,T),ch(T,R,D)}function fl(x,D){x.H&&_(x.H,function(T,R){st(D,R,T)}),x.l&&Av({},function(T,R){st(D,R,T)})}function zv(x,D,T){T=Math.min(x.i.length,T);var R=x.l?f(x.l.Na,x.l,x):null;e:{var K=x.i;let W=-1;for(;;){const se=["count="+T];W==-1?0<T?(W=K[0].g,se.push("ofs="+W)):W=0:se.push("ofs="+W);let Ze=!0;for(let Gt=0;Gt<T;Gt++){let Me=K[Gt].g;const nr=K[Gt].map;if(Me-=W,0>Me)W=Math.max(0,K[Gt].g-100),Ze=!1;else try{JN(nr,se,"req"+Me+"_")}catch{R&&R(nr)}}if(Ze){R=se.join("&");break e}}}return x=x.i.splice(0,T),D.D=x,R}function Uv(x){if(!x.g&&!x.u){x.Y=1;var D=x.Fa;I||O(),L||(I(),L=!0),z.add(D,x),x.v=0}}function ph(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=al(f(x.Fa,x),Kv(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,$v(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=al(f(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Tu(this),$v(this))};function gh(x){x.A!=null&&(l.clearTimeout(x.A),x.A=null)}function $v(x){x.g=new Mn(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var D=Zs(x.qa);st(D,"RID","rpc"),st(D,"SID",x.K),st(D,"AID",x.T),st(D,"CI",x.F?"0":"1"),!x.F&&x.ja&&st(D,"TO",x.ja),st(D,"TYPE","xmlhttp"),fl(x,D),x.m&&x.o&&mh(D,x.m,x.o),x.L&&(x.g.I=x.L);var T=x.g;x=x.ia,T.L=1,T.v=Bu(Zs(D)),T.m=null,T.P=!0,pv(T,x)}t.Za=function(){this.C!=null&&(this.C=null,Tu(this),ph(this),Ct(19))};function Iu(x){x.C!=null&&(l.clearTimeout(x.C),x.C=null)}function Hv(x,D){var T=null;if(x.g==D){Iu(x),gh(x),x.g=null;var R=2}else if(xh(x.h,D))T=D.D,wv(x.h,D),R=1;else return;if(x.G!=0){if(D.o)if(R==1){T=D.m?D.m.length:0,D=Date.now()-D.F;var K=x.B;R=Vi(),ut(R,new Ce(R,T)),Pu(x)}else Uv(x);else if(K=D.s,K==3||K==0&&0<D.X||!(R==1&&sj(x,D)||R==2&&ph(x)))switch(T&&0<T.length&&(D=x.h,D.i=D.i.concat(T)),K){case 1:Hi(x,5);break;case 4:Hi(x,10);break;case 3:Hi(x,6);break;default:Hi(x,2)}}}function Kv(x,D){let T=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(T*=2),T*D}function Hi(x,D){if(x.j.info("Error code "+D),D==2){var T=f(x.fb,x),R=x.Xa;const K=!R;R=new $i(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Du(R,"https"),Bu(R),K?QN(R.toString(),T):XN(R.toString(),T)}else Ct(2);x.G=0,x.l&&x.l.sa(D),Gv(x),Ov(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Gv(x){if(x.G=0,x.ka=[],x.l){const D=Cv(x.h);(D.length!=0||x.i.length!=0)&&(k(x.ka,D),k(x.ka,x.i),x.h.i.length=0,N(x.i),x.i.length=0),x.l.ra()}}function Wv(x,D,T){var R=T instanceof $i?Zs(T):new $i(T);if(R.g!="")D&&(R.g=D+"."+R.g),ku(R,R.s);else{var K=l.location;R=K.protocol,D=D?D+"."+K.hostname:K.hostname,K=+K.port;var W=new $i(null);R&&Du(W,R),D&&(W.g=D),K&&ku(W,K),T&&(W.l=T),R=W}return T=x.D,D=x.ya,T&&D&&st(R,T,D),st(R,"VER",x.la),fl(x,R),R}function qv(x,D,T){if(D&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=x.Ca&&!x.pa?new yt(new _u({eb:T})):new yt(x.pa),D.Ha(x.J),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yv(){}t=Yv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ru(){}Ru.prototype.g=function(x,D){return new Ir(x,D)};function Ir(x,D){gt.call(this),this.g=new Mv(D),this.l=x,this.h=D&&D.messageUrlParams||null,x=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(x?x["X-WebChannel-Content-Type"]=D.messageContentType:x={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(x?x["X-WebChannel-Client-Profile"]=D.va:x={"X-WebChannel-Client-Profile":D.va}),this.g.S=x,(x=D&&D.Sb)&&!j(x)&&(this.g.m=x),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!j(D)&&(this.g.D=D,x=this.h,x!==null&&D in x&&(x=this.h,D in x&&delete x[D])),this.j=new Ma(this)}p(Ir,gt),Ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){fh(this.g)},Ir.prototype.o=function(x){var D=this.g;if(typeof x=="string"){var T={};T.__data__=x,x=T}else this.u&&(T={},T.__data__=Xe(x),x=T);D.i.push(new VN(D.Ya++,x)),D.G==3&&Pu(D)},Ir.prototype.N=function(){this.g.l=null,delete this.j,fh(this.g),delete this.g,Ir.aa.N.call(this)};function Qv(x){Ia.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var D=x.__sm__;if(D){e:{for(const T in D){x=T;break e}x=void 0}(this.i=x)&&(x=this.i,D=D!==null&&x in D?D[x]:void 0),this.data=D}else this.data=x}p(Qv,Ia);function Xv(){Rn.call(this),this.status=1}p(Xv,Rn);function Ma(x){this.g=x}p(Ma,Yv),Ma.prototype.ua=function(){ut(this.g,"a")},Ma.prototype.ta=function(x){ut(this.g,new Qv(x))},Ma.prototype.sa=function(x){ut(this.g,new Xv)},Ma.prototype.ra=function(){ut(this.g,"b")},Ru.prototype.createWebChannel=Ru.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,W5=function(){return new Ru},G5=function(){return Vi()},K5=_s,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Au.NO_ERROR=0,Au.TIMEOUT=8,Au.HTTP_ERROR=6,Td=Au,hv.COMPLETE="complete",H5=hv,il.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Rl=il,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,$5=yt}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});const qb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ur=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Eg("@firebase/firestore");function Al(){return Ea.logLevel}function he(t,...e){if(Ea.logLevel<=Se.DEBUG){const r=e.map(Pg);Ea.debug(`Firestore (${Qo}): ${t}`,...r)}}function Cn(t,...e){if(Ea.logLevel<=Se.ERROR){const r=e.map(Pg);Ea.error(`Firestore (${Qo}): ${t}`,...r)}}function _o(t,...e){if(Ea.logLevel<=Se.WARN){const r=e.map(Pg);Ea.warn(`Firestore (${Qo}): ${t}`,...r)}}function Pg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw Cn(e),new Error(e)}function Le(t,e){t||ye()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Gs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ur.UNAUTHENTICATED))}shutdown(){}}class jS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class DS{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Le(this.o===void 0);let s=this.i;const i=c=>this.i!==s?(s=this.i,r(c)):Promise.resolve();let a=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Os,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Os)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Le(typeof s.accessToken=="string"),new q5(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new ur(e)}}class kS{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BS{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new kS(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _S{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Le(this.o===void 0);const s=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Le(typeof r.token=="string"),this.R=r.token,new _S(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<t;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const i=SS(40);for(let a=0;a<i.length;++a)s.length<20&&i[a]<r&&(s+=e.charAt(i[a]%e.length))}return s}}function Ve(t,e){return t<e?-1:t>e?1:0}function Fo(t,e,r){return t.length===e.length&&t.every((s,i)=>r(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ne(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ne(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ne(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Lt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Lt(0,0))}static max(){return new ve(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r,s){r===void 0?r=0:r>e.length&&ye(),s===void 0?s=e.length-r:s>e.length-r&&ye(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return Fc.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Fc?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let i=0;i<s;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Je extends Fc{construct(e,r,s){return new Je(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ne(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(i=>i.length>0))}return new Je(r)}static emptyPath(){return new Je([])}}const TS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Fc{construct(e,r,s){return new Qt(e,r,s)}static isValidIdentifier(e){return TS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const r=[];let s="",i=0;const a=()=>{if(s.length===0)throw new ne(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ne(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ne(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(a(),i++)}if(a(),o)throw new ne(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(r)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Je.fromString(e))}static fromName(e){return new fe(Je.fromString(e).popFirst(5))}static empty(){return new fe(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Je.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Je(e.slice()))}}function PS(t,e){const r=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(s===1e9?new Lt(r+1,0):new Lt(r,s));return new bi(i,fe.empty(),e)}function IS(t){return new bi(t.readTime,t.key,-1)}class bi{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new bi(ve.min(),fe.empty(),-1)}static max(){return new bi(ve.max(),fe.empty(),-1)}}function RS(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=fe.comparator(t.documentKey,e.documentKey),r!==0?r:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==LS)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ee((s,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(s,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ee?r:ee.resolve(r)}catch(r){return ee.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ee.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ee.reject(r)}static resolve(e){return new ee((r,s)=>{r(e)})}static reject(e){return new ee((r,s)=>{s(e)})}static waitFor(e){return new ee((r,s)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&r()},c=>s(c))}),o=!0,a===i&&r()})}static or(e){let r=ee.resolve(!1);for(const s of e)r=r.next(i=>i?ee.resolve(i):s());return r}static forEach(e,r){const s=[];return e.forEach((i,a)=>{s.push(r.call(this,i,a))}),this.waitFor(s)}static mapArray(e,r){return new ee((s,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&s(o)},d=>i(d))}})}static doWhile(e,r){return new ee((s,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):s()};a()})}}function OS(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ie(s),this.se=s=>r.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ig.oe=-1;function ou(t){return t==null}function w0(t){return t===0&&1/t==-1/0}function VS(t){return typeof t=="number"&&Number.isInteger(t)&&!w0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Fa(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Q5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,r){this.comparator=e,this.root=r||Yt.EMPTY}insert(e,r){return new pt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return r+s.left.size;i<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,r,s,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?s(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,r,s,i,a){this.key=e,this.value=r,this.color=s??Yt.RED,this.left=i??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,i,a){return new Yt(e??this.key,r??this.value,s??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let i=this;const a=s(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,s),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,r,s,i,a){return this}insert(e,r,s){return new Yt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Qb(this.data.getIterator())}getIteratorFrom(e){return new Qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=s.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Jt(this.comparator);return r.data=e,r}}class Qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Vr([])}unionWith(e){let r=new Jt(Qt.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Vr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new X5("Invalid base64 string: "+a):a}}(e);return new rr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new rr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let i=0;i<r.length;i++)s[i]=r.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const zS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(Le(!!t),typeof t=="string"){let e=0;const r=zS.exec(t);if(Le(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ba(t){return typeof t=="string"?rr.fromBase64String(t):rr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Lg(t){const e=t.mapValue.fields.__previous_value__;return Rg(e)?Lg(e):e}function Sc(t){const e=wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,r,s,i,a,o,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Tc{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id={mapValue:{}};function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rg(t)?4:HS(t)?9007199254740991:$S(t)?10:11:ye()}function $s(t,e){if(t===e)return!0;const r=wa(t);if(r!==wa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sc(t).isEqual(Sc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=wi(i.timestampValue),l=wi(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ba(i.bytesValue).isEqual(ba(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Nt(i.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Nt(i.integerValue)===Nt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Nt(i.doubleValue),l=Nt(a.doubleValue);return o===l?w0(o)===w0(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Fo(t.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(Yb(o)!==Yb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!$s(o[c],l[c])))return!1;return!0}(t,e);default:return ye()}}function Pc(t,e){return(t.values||[]).find(r=>$s(r,e))!==void 0}function So(t,e){if(t===e)return 0;const r=wa(t),s=wa(e);if(r!==s)return Ve(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=Nt(a.integerValue||a.doubleValue),c=Nt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Xb(t.timestampValue,e.timestampValue);case 4:return Xb(Sc(t),Sc(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(a,o){const l=ba(a),c=ba(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ve(l[u],c[u]);if(d!==0)return d}return Ve(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Ve(Nt(a.latitude),Nt(o.latitude));return l!==0?l:Ve(Nt(a.longitude),Nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zb(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,u,d;const h=a.fields||{},f=o.fields||{},m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,p=(c=f.value)===null||c===void 0?void 0:c.arrayValue,N=Ve(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=p==null?void 0:p.values)===null||d===void 0?void 0:d.length)||0);return N!==0?N:Zb(m,p)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===id.mapValue&&o===id.mapValue)return 0;if(a===id.mapValue)return 1;if(o===id.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=Ve(c[h],d[h]);if(f!==0)return f;const m=So(l[c[h]],u[d[h]]);if(m!==0)return m}return Ve(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ye()}}function Xb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const r=wi(t),s=wi(e),i=Ve(r.seconds,s.seconds);return i!==0?i:Ve(r.nanos,s.nanos)}function Zb(t,e){const r=t.values||[],s=e.values||[];for(let i=0;i<r.length&&i<s.length;++i){const a=So(r[i],s[i]);if(a)return a}return Ve(r.length,s.length)}function To(t){return Rf(t)}function Rf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=wi(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ba(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let s="[",i=!0;for(const a of r.values||[])i?i=!1:s+=",",s+=Rf(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of s)a?a=!1:i+=",",i+=`${o}:${Rf(r.fields[o])}`;return i+"}"}(t.mapValue):ye()}function Jb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lf(t){return!!t&&"integerValue"in t}function Mg(t){return!!t&&"arrayValue"in t}function e9(t){return!!t&&"nullValue"in t}function t9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function $S(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Jl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fa(t.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Jl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Jl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function HS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Pd(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(r)}setAll(e){let r=Qt.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,s,i),s={},i=[],r=l.popLast()}o?s[l.lastSegment()]=Jl(o):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,s,i)}delete(e){const r=this.field(e.popLast());Pd(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=r.mapValue.fields[e.get(s)];Pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,s){Fa(r,(i,a)=>e[i]=a);for(const i of s)delete e[i]}clone(){return new br(Jl(this.value))}}function Z5(t){const e=[];return Fa(t.fields,(r,s)=>{const i=new Qt([r]);if(Pd(s)){const a=Z5(s.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,r,s,i,a,o,l){this.key=e,this.documentType=r,this.version=s,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new $t(e,0,ve.min(),ve.min(),ve.min(),br.empty(),0)}static newFoundDocument(e,r,s,i){return new $t(e,1,r,ve.min(),s,i,0)}static newNoDocument(e,r){return new $t(e,2,r,ve.min(),ve.min(),br.empty(),0)}static newUnknownDocument(e,r){return new $t(e,3,r,ve.min(),ve.min(),br.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,r){this.position=e,this.inclusive=r}}function r9(t,e,r){let s=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?s=fe.comparator(fe.fromName(o.referenceValue),r.key):s=So(o,r.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function s9(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!$s(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,r="asc"){this.field=e,this.dir=r}}function KS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J5=class{};class St extends J5{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new WS(e,r,s):r==="array-contains"?new QS(e,s):r==="in"?new XS(e,s):r==="not-in"?new ZS(e,s):r==="array-contains-any"?new JS(e,s):new St(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new qS(e,s):new YS(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(So(r,this.value)):r!==null&&wa(this.value)===wa(r)&&this.matchesComparison(So(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class As extends J5{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new As(e,r)}matches(e){return e6(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function e6(t){return t.op==="and"}function t6(t){return GS(t)&&e6(t)}function GS(t){for(const e of t.filters)if(e instanceof As)return!1;return!0}function Mf(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+To(t.value);if(t6(t))return t.filters.map(e=>Mf(e)).join(",");{const e=t.filters.map(r=>Mf(r)).join(",");return`${t.op}(${e})`}}function r6(t,e){return t instanceof St?function(s,i){return i instanceof St&&s.op===i.op&&s.field.isEqual(i.field)&&$s(s.value,i.value)}(t,e):t instanceof As?function(s,i){return i instanceof As&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((a,o,l)=>a&&r6(o,i.filters[l]),!0):!1}(t,e):void ye()}function s6(t){return t instanceof St?function(r){return`${r.field.canonicalString()} ${r.op} ${To(r.value)}`}(t):t instanceof As?function(r){return r.op.toString()+" {"+r.getFilters().map(s6).join(" ,")+"}"}(t):"Filter"}class WS extends St{constructor(e,r,s){super(e,r,s),this.key=fe.fromName(s.referenceValue)}matches(e){const r=fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class qS extends St{constructor(e,r){super(e,"in",r),this.keys=n6("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class YS extends St{constructor(e,r){super(e,"not-in",r),this.keys=n6("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function n6(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>fe.fromName(s.referenceValue))}class QS extends St{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Mg(r)&&Pc(r.arrayValue,this.value)}}class XS extends St{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Pc(this.value.arrayValue,r)}}class ZS extends St{constructor(e,r){super(e,"not-in",r)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Pc(this.value.arrayValue,r)}}class JS extends St{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Mg(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Pc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,r=null,s=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.ue=null}}function n9(t,e=null,r=[],s=[],i=null,a=null,o=null){return new eT(t,e,r,s,i,a,o)}function Og(t){const e=we(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Mf(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),ou(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>To(s)).join(",")),e.ue=r}return e.ue}function Vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!KS(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!r6(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s9(t.startAt,e.startAt)&&s9(t.endAt,e.endAt)}function Of(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,r=null,s=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tT(t,e,r,s,i,a,o,l){return new Xo(t,e,r,s,i,a,o,l)}function jx(t){return new Xo(t)}function i9(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i6(t){return t.collectionGroup!==null}function ec(t){const e=we(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Jt(Qt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Ic(a,s))}),r.has(Qt.keyField().canonicalString())||e.ce.push(new Ic(Qt.keyField(),s))}return e.ce}function Vs(t){const e=we(t);return e.le||(e.le=rT(e,ec(t))),e.le}function rT(t,e){if(t.limitType==="F")return n9(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ic(i.field,a)});const r=t.endAt?new C0(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new C0(t.startAt.position,t.startAt.inclusive):null;return n9(t.path,t.collectionGroup,e,t.filters,t.limit,r,s)}}function Vf(t,e){const r=t.filters.concat([e]);return new Xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function zf(t,e,r){return new Xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Dx(t,e){return Vg(Vs(t),Vs(e))&&t.limitType===e.limitType}function a6(t){return`${Og(Vs(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(i=>s6(i)).join(", ")}]`),ou(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(i=>To(i)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(i=>To(i)).join(",")),`Target(${s})`}(Vs(t))}; limitType=${t.limitType})`}function kx(t,e){return e.isFoundDocument()&&function(s,i){const a=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):fe.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,i){for(const a of ec(s))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const a of s.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,l,c){const u=r9(o,l,c);return o.inclusive?u<=0:u<0}(s.startAt,ec(s),i)||s.endAt&&!function(o,l,c){const u=r9(o,l,c);return o.inclusive?u>=0:u>0}(s.endAt,ec(s),i))}(t,e)}function sT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function o6(t){return(e,r)=>{let s=!1;for(const i of ec(t)){const a=nT(i,e,r);if(a!==0)return a;s=s||i.field.isKeyField()}return 0}}function nT(t,e,r){const s=t.field.isKeyField()?fe.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?So(c,u):ye()}(t.field,e,r);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[i,a]of s)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[r]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,(r,s)=>{for(const[i,a]of s)e(i,a)})}isEmpty(){return Q5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new pt(fe.comparator);function An(){return iT}const l6=new pt(fe.comparator);function Ll(...t){let e=l6;for(const r of t)e=e.insert(r.key,r);return e}function c6(t){let e=l6;return t.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function sa(){return tc()}function u6(){return tc()}function tc(){return new Zo(t=>t.toString(),(t,e)=>t.isEqual(e))}const aT=new pt(fe.comparator),oT=new Jt(fe.comparator);function Be(...t){let e=oT;for(const r of t)e=e.add(r);return e}const lT=new Jt(Ve);function cT(){return lT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:w0(e)?"-0":e}}function d6(t){return{integerValue:""+t}}function uT(t,e){return VS(e)?d6(e):zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this._=void 0}}function dT(t,e,r){return t instanceof A0?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Rg(a)&&(a=Lg(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof Rc?h6(t,e):t instanceof Lc?m6(t,e):function(i,a){const o=x6(i,a),l=a9(o)+a9(i.Pe);return Lf(o)&&Lf(i.Pe)?d6(l):zg(i.serializer,l)}(t,e)}function xT(t,e,r){return t instanceof Rc?h6(t,e):t instanceof Lc?m6(t,e):r}function x6(t,e){return t instanceof N0?function(s){return Lf(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class A0 extends Bx{}class Rc extends Bx{constructor(e){super(),this.elements=e}}function h6(t,e){const r=f6(e);for(const s of t.elements)r.some(i=>$s(i,s))||r.push(s);return{arrayValue:{values:r}}}class Lc extends Bx{constructor(e){super(),this.elements=e}}function m6(t,e){let r=f6(e);for(const s of t.elements)r=r.filter(i=>!$s(i,s));return{arrayValue:{values:r}}}class N0 extends Bx{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function a9(t){return Nt(t.integerValue||t.doubleValue)}function f6(t){return Mg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hT(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof Rc&&i instanceof Rc||s instanceof Lc&&i instanceof Lc?Fo(s.elements,i.elements,$s):s instanceof N0&&i instanceof N0?$s(s.Pe,i.Pe):s instanceof A0&&i instanceof A0}(t.transform,e.transform)}class mT{constructor(e,r){this.version=e,this.transformResults=r}}class Xt{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _x{}function p6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fx(t.key,Xt.none()):new lu(t.key,t.data,Xt.none());{const r=t.data,s=br.empty();let i=new Jt(Qt.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?s.delete(a):s.set(a,o),i=i.add(a)}return new Ti(t.key,s,new Vr(i.toArray()),Xt.none())}}function fT(t,e,r){t instanceof lu?function(i,a,o){const l=i.value.clone(),c=l9(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Ti?function(i,a,o){if(!Id(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=l9(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(g6(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function rc(t,e,r,s){return t instanceof lu?function(a,o,l,c){if(!Id(a.precondition,o))return l;const u=a.value.clone(),d=c9(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,s):t instanceof Ti?function(a,o,l,c){if(!Id(a.precondition,o))return l;const u=c9(a.fieldTransforms,c,o),d=o.data;return d.setAll(g6(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,s):function(a,o,l){return Id(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function pT(t,e){let r=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),a=x6(s.transform,i||null);a!=null&&(r===null&&(r=br.empty()),r.set(s.field,a))}return r||null}function o9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Fo(s,i,(a,o)=>hT(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lu extends _x{constructor(e,r,s,i=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ti extends _x{constructor(e,r,s,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function g6(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=t.data.field(r);e.set(r,s)}}),e}function l9(t,e,r){const s=new Map;Le(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);s.set(a.field,xT(o,l,r[i]))}return s}function c9(t,e,r){const s=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);s.set(i.field,dT(a,o,e))}return s}class Fx extends _x{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y6 extends _x{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,r,s,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&fT(a,e,s[i])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=rc(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=rc(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=u6();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=p6(o,l);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Be())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(r,s)=>o9(r,s))&&Fo(this.baseMutations,e.baseMutations,(r,s)=>o9(r,s))}}class Ug{constructor(e,r,s,i){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=i}static from(e,r,s){Le(e.mutations.length===s.length);let i=function(){return aT}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,s[o].version);return new Ug(e,r,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Pe;function v6(t){switch(t){default:return ye();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function E6(t){if(t===void 0)return Cn("GRPC error has no .code"),X.UNKNOWN;switch(t){case _t.OK:return X.OK;case _t.CANCELLED:return X.CANCELLED;case _t.UNKNOWN:return X.UNKNOWN;case _t.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case _t.INTERNAL:return X.INTERNAL;case _t.UNAVAILABLE:return X.UNAVAILABLE;case _t.UNAUTHENTICATED:return X.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case _t.NOT_FOUND:return X.NOT_FOUND;case _t.ALREADY_EXISTS:return X.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return X.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case _t.ABORTED:return X.ABORTED;case _t.OUT_OF_RANGE:return X.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return X.UNIMPLEMENTED;case _t.DATA_LOSS:return X.DATA_LOSS;default:return ye()}}(Pe=_t||(_t={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new la([4294967295,4294967295],0);function u9(t){const e=ET().encode(t),r=new U5;return r.update(e),new Uint8Array(r.digest())}function d9(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new la([r,s],0),new la([i,a],0)]}class $g{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ml(`Invalid padding: ${r}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=la.fromNumber(this.Ie)}Ee(e,r,s){let i=e.add(r.multiply(la.fromNumber(s)));return i.compare(bT)===1&&(i=new la([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=u9(e),[s,i]=d9(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(s,i,a);if(!this.de(o))return!1}return!0}static create(e,r,s){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new $g(a,i,r);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const r=u9(e),[s,i]=d9(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(s,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,r,s,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const i=new Map;return i.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Sx(ve.min(),i,new pt(Ve),An(),Be())}}class cu{constructor(e,r,s,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new cu(s,r,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,r,s,i){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=i}}class b6{constructor(e,r){this.targetId=e,this.me=r}}class w6{constructor(e,r,s=rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=i}}class x9{constructor(){this.fe=0,this.ge=m9(),this.pe=rr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),r=Be(),s=Be();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:s=s.add(i);break;default:ye()}}),new cu(this.pe,this.ye,e,r,s)}Ce(){this.we=!1,this.ge=m9()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wT{constructor(e){this.Le=e,this.Be=new Map,this.ke=An(),this.qe=h9(),this.Qe=new pt(Ve)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,s=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Of(a))if(s===0){const o=new fe(a.path);this.Ue(r,o,$t.newNoDocument(o,ve.min()))}else Le(s===1);else{const o=this.Ye(r);if(o!==s){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=ba(s).toUint8Array()}catch(c){if(c instanceof X5)return _o("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new $g(o,i,a)}catch(c){return _o(c instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let i=0;return s.forEach(a=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const l=this.Je(o);if(l){if(a.current&&Of(l.target)){const c=new fe(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,$t.newNoDocument(c,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let s=Be();this.qe.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Sx(e,r,this.Qe,this.ke,s);return this.ke=An(),this.qe=h9(),this.Qe=new pt(Ve),i}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new x9,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Jt(Ve),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||he("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new x9),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function h9(){return new pt(fe.comparator)}function m9(){return new pt(fe.comparator)}const CT={asc:"ASCENDING",desc:"DESCENDING"},AT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NT={and:"AND",or:"OR"};class jT{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Uf(t,e){return t.useProto3Json||ou(e)?e:{value:e}}function j0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DT(t,e){return j0(t,e.toTimestamp())}function $r(t){return Le(!!t),ve.fromTimestamp(function(r){const s=wi(r);return new Lt(s.seconds,s.nanos)}(t))}function Hg(t,e){return $f(t,e).canonicalString()}function $f(t,e){const r=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function A6(t){const e=Je.fromString(t);return Le(_6(e)),e}function D0(t,e){return Hg(t.databaseId,e.path)}function sc(t,e){const r=A6(e);if(r.get(1)!==t.databaseId.projectId)throw new ne(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ne(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new fe(j6(r))}function N6(t,e){return Hg(t.databaseId,e)}function kT(t){const e=A6(t);return e.length===4?Je.emptyPath():j6(e)}function Hf(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j6(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function f9(t,e,r){return{name:D0(t,e),fields:r.value.mapValue.fields}}function BT(t,e){return"found"in e?function(s,i){Le(!!i.found),i.found.name,i.found.updateTime;const a=sc(s,i.found.name),o=$r(i.found.updateTime),l=i.found.createTime?$r(i.found.createTime):ve.min(),c=new br({mapValue:{fields:i.found.fields}});return $t.newFoundDocument(a,o,l,c)}(t,e):"missing"in e?function(s,i){Le(!!i.missing),Le(!!i.readTime);const a=sc(s,i.missing),o=$r(i.readTime);return $t.newNoDocument(a,o)}(t,e):ye()}function _T(t,e){let r;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Le(d===void 0||typeof d=="string"),rr.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array),rr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?X.UNKNOWN:E6(u.code);return new ne(d,u.message||"")}(o);r=new w6(s,i,a,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=sc(t,s.document.name),a=$r(s.document.updateTime),o=s.document.createTime?$r(s.document.createTime):ve.min(),l=new br({mapValue:{fields:s.document.fields}}),c=$t.newFoundDocument(i,a,o,l),u=s.targetIds||[],d=s.removedTargetIds||[];r=new Rd(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=sc(t,s.document),a=s.readTime?$r(s.readTime):ve.min(),o=$t.newNoDocument(i,a),l=s.removedTargetIds||[];r=new Rd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=sc(t,s.document),a=s.removedTargetIds||[];r=new Rd([],a,i,null)}else{if(!("filter"in e))return ye();{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:a}=s,o=new vT(i,a),l=s.targetId;r=new b6(l,o)}}return r}function D6(t,e){let r;if(e instanceof lu)r={update:f9(t,e.key,e.value)};else if(e instanceof Fx)r={delete:D0(t,e.key)};else if(e instanceof Ti)r={update:f9(t,e.key,e.data),updateMask:OT(e.fieldMask)};else{if(!(e instanceof y6))return ye();r={verify:D0(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const l=o.transform;if(l instanceof A0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Rc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Lc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof N0)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ye()}(0,s))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:DT(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ye()}(t,e.precondition)),r}function FT(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?$r(i.updateTime):$r(a);return o.isEqual(ve.min())&&(o=$r(a)),new mT(o,i.transformResults||[])}(r,e))):[]}function ST(t,e){return{documents:[N6(t,e.path)]}}function TT(t,e){const r={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=N6(t,i);const a=function(u){if(u.length!==0)return B6(As.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Ua(f.field),direction:RT(f.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=Uf(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function PT(t){let e=kT(t.parent);const r=t.structuredQuery,s=r.from?r.from.length:0;let i=null;if(s>0){Le(s===1);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const f=k6(h);return f instanceof As&&t6(f)?f.getFilters():[f]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(f=>function(p){return new Ic($a(p.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(r.orderBy));let l=null;r.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,ou(f)?null:f}(r.limit));let c=null;r.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new C0(m,f)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new C0(m,f)}(r.endAt)),tT(e,i,o,a,l,"F",c,u)}function IT(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function k6(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=$a(r.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=$a(r.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$a(r.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$a(r.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(r){return St.create($a(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return As.create(r.compositeFilter.filters.map(s=>k6(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(r.compositeFilter.op))}(t):ye()}function RT(t){return CT[t]}function LT(t){return AT[t]}function MT(t){return NT[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function $a(t){return Qt.fromServerFormat(t.fieldPath)}function B6(t){return t instanceof St?function(r){if(r.op==="=="){if(t9(r.value))return{unaryFilter:{field:Ua(r.field),op:"IS_NAN"}};if(e9(r.value))return{unaryFilter:{field:Ua(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(t9(r.value))return{unaryFilter:{field:Ua(r.field),op:"IS_NOT_NAN"}};if(e9(r.value))return{unaryFilter:{field:Ua(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(r.field),op:LT(r.op),value:r.value}}}(t):t instanceof As?function(r){const s=r.getFilters().map(i=>B6(i));return s.length===1?s[0]:{compositeFilter:{op:MT(r.op),filters:s}}}(t):ye()}function OT(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function _6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,r,s,i,a=ve.min(),o=ve.min(),l=rr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.ct=e}}function zT(t){const e=PT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.un=new $T}addToCollectionParentIndex(e,r){return this.un.add(r),ee.resolve()}getCollectionParents(e,r){return ee.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ee.resolve()}deleteFieldIndex(e,r){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,r){return ee.resolve()}getDocumentsMatchingTarget(e,r){return ee.resolve(null)}getIndexType(e,r){return ee.resolve(0)}getFieldIndexes(e,r){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,r){return ee.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,r){return ee.resolve(bi.min())}updateCollectionGroup(e,r,s){return ee.resolve()}updateIndexEntries(e,r){return ee.resolve()}}class $T{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),i=this.index[r]||new Jt(Je.comparator),a=!i.has(s);return this.index[r]=i.add(s),a}has(e){const r=e.lastSegment(),s=e.popLast(),i=this.index[r];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Jt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Po(0)}static kn(){return new Po(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.changes=new Zo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?ee.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,r,s,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(s!==null&&rc(s.mutation,i,Vr.empty(),Lt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Be()){const i=sa();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,s).next(a=>{let o=Ll();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const s=sa();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Be()))}populateOverlays(e,r,s){const i=[];return s.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,s,i){let a=An();const o=tc(),l=function(){return tc()}();return r.forEach((c,u)=>{const d=s.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ti)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),rc(d.mutation,u,d.mutation.getFieldMask(),Lt.now())):o.set(u.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>{var h;return l.set(u,new KT(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,r){const s=tc();let i=new pt((o,l)=>o-l),a=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=s.get(c)||Vr.empty();d=l.applyToLocalView(u,d),s.set(c,d);const h=(i.get(l.batchId)||Be()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=u6();d.forEach(f=>{if(!a.has(f)){const m=p6(r.get(f),s.get(f));m!==null&&h.set(f,m),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ee.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):i6(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,i):this.getDocumentsMatchingCollectionQuery(e,r,s,i)}getNextDocuments(e,r,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,i-a.size):ee.resolve(sa());let l=-1,c=a;return o.next(u=>ee.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Be())).next(d=>({batchId:l,changes:c6(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fe(r)).next(s=>{let i=Ll();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,s,i){const a=r.collectionGroup;let o=Ll();return this.indexManager.getCollectionParents(e,a).next(l=>ee.forEach(l,c=>{const u=function(h,f){return new Xo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,s,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,s,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,a,i))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,$t.newInvalidDocument(d)))});let l=Ll();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&rc(d.mutation,u,Vr.empty(),Lt.now()),kx(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ee.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(r)),ee.resolve()}getNamedQuery(e,r){return ee.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:zT(i.bundledQuery),readTime:$r(i.readTime)}}(r)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.overlays=new pt(fe.comparator),this.Ir=new Map}getOverlay(e,r){return ee.resolve(this.overlays.get(r))}getOverlays(e,r){const s=sa();return ee.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&s.set(i,a)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((i,a)=>{this.ht(e,r,a)}),ee.resolve()}removeOverlaysForBatchId(e,r,s){const i=this.Ir.get(s);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(s)),ee.resolve()}getOverlaysForCollection(e,r,s){const i=sa(),a=r.length+1,o=new fe(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>s&&i.set(c.getKey(),c)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,r,s,i){let a=new pt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>s){let d=a.get(u.largestBatchId);d===null&&(d=sa(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=sa(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return ee.resolve(l)}ht(e,r,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(s.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new yT(r,s));let a=this.Ir.get(r);a===void 0&&(a=Be(),this.Ir.set(r,a)),this.Ir.set(r,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.Tr=new Jt(zt.Er),this.dr=new Jt(zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const s=new zt(e,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Vr(new zt(e,r))}mr(e,r){e.forEach(s=>this.removeReference(s,r))}gr(e){const r=new fe(new Je([])),s=new zt(r,e),i=new zt(r,e+1),a=[];return this.dr.forEachInRange([s,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new fe(new Je([])),s=new zt(r,e),i=new zt(r,e+1);let a=Be();return this.dr.forEachInRange([s,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new zt(e,0),s=this.Tr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return fe.comparator(e.key,r.key)||Ve(e.wr,r.wr)}static Ar(e,r){return Ve(e.wr,r.wr)||fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Jt(zt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gT(a,r,s,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new zt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,r){return ee.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,i=this.vr(s),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new zt(r,0),i=new zt(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([s,i],o=>{const l=this.Dr(o.wr);a.push(l)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Jt(Ve);return r.forEach(i=>{const a=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],l=>{s=s.add(l.wr)})}),ee.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,i=s.length+1;let a=s;fe.isDocumentKey(a)||(a=a.child(""));const o=new zt(new fe(a),0);let l=new Jt(Ve);return this.br.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),ee.resolve(this.Cr(l))}Cr(e){const r=[];return e.forEach(s=>{const i=this.Dr(s);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Le(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return ee.forEach(r.mutations,i=>{const a=new zt(i.key,r.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,r){const s=new zt(r,0),i=this.br.firstAfterOrEqual(s);return ee.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.Mr=e,this.docs=function(){return new pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,i=this.docs.get(s),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ee.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(r))}getEntries(e,r){let s=An();return r.forEach(i=>{const a=this.docs.get(i);s=s.insert(i,a?a.document.mutableCopy():$t.newInvalidDocument(i))}),ee.resolve(s)}getDocumentsMatchingQuery(e,r,s,i){let a=An();const o=r.path,l=new fe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||RS(IS(d),s)<=0||(i.has(d.key)||kx(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,r,s,i){ye()}Or(e,r){return ee.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new ZT(this)}getSize(e){return ee.resolve(this.size)}}class ZT extends HT{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(s)}),ee.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.persistence=e,this.Nr=new Zo(r=>Og(r),Vg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Kg,this.targetCount=0,this.kr=Po.Bn()}forEachTarget(e,r){return this.Nr.forEach((s,i)=>r(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Po(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ee.resolve()}updateTargetData(e,r){return this.Kn(r),ee.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,r,s){let i=0;const a=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=r&&s.get(l.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,r){const s=this.Nr.get(r)||null;return ee.resolve(s)}addMatchingKeys(e,r,s){return this.Br.Rr(r,s),ee.resolve()}removeMatchingKeys(e,r,s){this.Br.mr(r,s);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ee.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Br.yr(r);return ee.resolve(s)}containsKey(e,r){return ee.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Ig(0),this.Kr=!1,this.Kr=!0,this.$r=new YT,this.referenceDelegate=e(this),this.Ur=new JT(this),this.indexManager=new UT,this.remoteDocumentCache=function(i){return new XT(i)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new VT(r),this.Gr=new WT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new qT,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.qr[e.toKey()];return s||(s=new QT(r,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,s){he("MemoryPersistence","Starting transaction:",e);const i=new tP(this.Qr.next());return this.referenceDelegate.zr(),s(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return ee.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,r)))}}class tP extends MS{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Jr=new Kg,this.Yr=null}static Zr(e){return new Gg(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),ee.resolve()}removeReference(e,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ee.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>s.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,s=>{const i=fe.fromPath(s);return this.ei(e,i).next(a=>{a||r.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ee.or([()=>ee.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,r,s,i){this.targetId=e,this.fromCache=r,this.$i=s,this.Ui=i}static Wi(e,r){let s=Be(),i=Be();for(const a of r.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Wg(e,r.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zB()?8:OS(fr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,s,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new rP;return this.Xi(e,r,o).next(l=>{if(a.result=l,this.zi)return this.es(e,r,o,l.size)})}).next(()=>a.result)}es(e,r,s,i){return s.documentReadCount<this.ji?(Al()<=Se.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",za(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Al()<=Se.DEBUG&&he("QueryEngine","Query:",za(r),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.Hi*i?(Al()<=Se.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",za(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(r))):ee.resolve())}Yi(e,r){if(i9(r))return ee.resolve(null);let s=Vs(r);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=zf(r,null,"F"),s=Vs(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=Be(...a);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.ts(r,l);return this.ns(r,u,o,c.readTime)?this.Yi(e,zf(r,null,"F")):this.rs(e,u,r,c)}))})))}Zi(e,r,s,i){return i9(r)||i.isEqual(ve.min())?ee.resolve(null):this.Ji.getDocuments(e,s).next(a=>{const o=this.ts(r,a);return this.ns(r,o,s,i)?ee.resolve(null):(Al()<=Se.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(r)),this.rs(e,o,r,PS(i,-1)).next(l=>l))})}ts(e,r){let s=new Jt(o6(e));return r.forEach((i,a)=>{kx(e,a)&&(s=s.add(a))}),s}ns(e,r,s,i){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,s){return Al()<=Se.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",za(r)),this.Ji.getDocumentsMatchingQuery(e,r,bi.min(),s)}rs(e,r,s,i){return this.Ji.getDocumentsMatchingQuery(e,s,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,r,s,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new pt(Ve),this._s=new Zo(a=>Og(a),Vg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function iP(t,e,r,s){return new nP(t,e,r,s)}async function F6(t,e){const r=we(t);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let i;return r.mutationQueue.getAllMutationBatches(s).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],l=[];let c=Be();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(s,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function aP(t,e){const r=we(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let m=ee.resolve();return f.forEach(p=>{m=m.next(()=>d.getEntry(c,p)).next(N=>{const k=u.docVersions.get(p);Le(k!==null),N.version.compareTo(k)<0&&(h.applyToRemoteDocument(N,u),N.isValidDocument()&&(N.setReadTime(u.commitVersion),d.addEntry(N)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(r,s,e,a).next(()=>a.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Be();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(s,i))})}function S6(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function oP(t,e){const r=we(t),s=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const l=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;l.push(r.Ur.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Ur.addMatchingKeys(a,d.addedDocuments,h)));let m=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(rr.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,s)),i=i.insert(h,m),function(N,k,w){return N.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,d)&&l.push(r.Ur.updateTargetData(a,m))});let c=An(),u=Be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(lP(a,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!s.isEqual(ve.min())){const d=r.Ur.getLastRemoteSnapshotVersion(a).next(h=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,s));l.push(d)}return ee.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.os=i,a))}function lP(t,e,r){let s=Be(),i=Be();return r.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=An();return r.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):he("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function cP(t,e){const r=we(t);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uP(t,e){const r=we(t);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return r.Ur.getTargetData(s,e).next(a=>a?(i=a,ee.resolve(i)):r.Ur.allocateTargetId(s).next(o=>(i=new ni(e,o,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=r.os.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(e,s.targetId)),s})}async function Kf(t,e,r){const s=we(t),i=s.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!au(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.os=s.os.remove(e),s._s.delete(i.target)}function p9(t,e,r){const s=we(t);let i=ve.min(),a=Be();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=we(c),f=h._s.get(d);return f!==void 0?ee.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(s,o,Vs(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>s.ss.getDocumentsMatchingQuery(o,e,r?i:ve.min(),r?a:Be())).next(l=>(dP(s,sT(e),l),{documents:l,Ts:a})))}function dP(t,e,r){let s=t.us.get(e)||ve.min();r.forEach((i,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.us.set(e,s)}class g9{constructor(){this.activeTargetIds=cT()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xP{constructor(){this.so=new g9,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,s){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g9,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function Jh(){return ad===null?ad=function(){return 268435456+Math.round(2147483648*Math.random())}():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="WebChannelConnection";class pP extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,s,i,a,o){const l=Jh(),c=this.xo(r,s.toUriEncodedString());he("RestConnection",`Sending RPC '${r}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(r,c,u,i).then(d=>(he("RestConnection",`Received RPC '${r}' ${l}: `,d),d),d=>{throw _o("RestConnection",`RPC '${r}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(r,s,i,a,o,l){return this.Mo(r,s,i,a,o)}Oo(r,s,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,s){const i=mP[r];return`${this.Do}/v1/${s}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,s,i){const a=Jh();return new Promise((o,l)=>{const c=new $5;c.setWithCredentials(!0),c.listenOnce(H5.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Td.NO_ERROR:const d=c.getResponseJson();he(lr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case Td.TIMEOUT:he(lr,`RPC '${e}' ${a} timed out`),l(new ne(X.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const h=c.getStatus();if(he(lr,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const p=function(k){const w=k.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(w)>=0?w:X.UNKNOWN}(m.status);l(new ne(p,m.message))}else l(new ne(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ne(X.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{he(lr,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);he(lr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",u,s,15)})}Bo(e,r,s){const i=Jh(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=W5(),l=G5(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,s),c.encodeInitMessageHeaders=!0;const d=a.join("");he(lr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);let f=!1,m=!1;const p=new fP({Io:k=>{m?he(lr,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(f||(he(lr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),he(lr,`RPC '${e}' stream ${i} sending:`,k),h.send(k))},To:()=>h.close()}),N=(k,w,j)=>{k.listen(w,C=>{try{j(C)}catch(E){setTimeout(()=>{throw E},0)}})};return N(h,Rl.EventType.OPEN,()=>{m||(he(lr,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),N(h,Rl.EventType.CLOSE,()=>{m||(m=!0,he(lr,`RPC '${e}' stream ${i} transport closed`),p.So())}),N(h,Rl.EventType.ERROR,k=>{m||(m=!0,_o(lr,`RPC '${e}' stream ${i} transport errored:`,k),p.So(new ne(X.UNAVAILABLE,"The operation could not be completed")))}),N(h,Rl.EventType.MESSAGE,k=>{var w;if(!m){const j=k.data[0];Le(!!j);const C=j,E=C.error||((w=C[0])===null||w===void 0?void 0:w.error);if(E){he(lr,`RPC '${e}' stream ${i} received error:`,E);const B=E.status;let _=function(y){const A=_t[y];if(A!==void 0)return E6(A)}(B),b=E.message;_===void 0&&(_=X.INTERNAL,b="Unknown error status: "+B+" with message "+E.message),m=!0,p.So(new ne(_,b)),h.close()}else he(lr,`RPC '${e}' stream ${i} received:`,j),p.bo(j)}}),N(l,K5.STAT_EVENT,k=>{k.stat===If.PROXY?he(lr,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===If.NOPROXY&&he(lr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){return new jT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,r,s=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=s,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-s);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,r,s,i,a,o,l,c){this.ui=e,this.Ho=s,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qg(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(Cn(r.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.Yo===r&&this.P_(s,i)},s=>{e(()=>{const i=new ne(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(i)})})}P_(e,r){const s=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{s(()=>this.I_(i))}),this.stream.onMessage(i=>{s(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gP extends T6{constructor(e,r,s,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=_T(this.serializer,e),s=function(a){if(!("targetChange"in a))return ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?$r(o.readTime):ve.min()}(e);return this.listener.d_(r,s)}A_(e){const r={};r.database=Hf(this.serializer),r.addTarget=function(a,o){let l;const c=o.target;if(l=Of(c)?{documents:ST(a,c)}:{query:TT(a,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=C6(a,o.resumeToken);const u=Uf(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ve.min())>0){l.readTime=j0(a,o.snapshotVersion.toTimestamp());const u=Uf(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=IT(this.serializer,e);s&&(r.labels=s),this.a_(r)}R_(e){const r={};r.database=Hf(this.serializer),r.removeTarget=e,this.a_(r)}}class yP extends T6{constructor(e,r,s,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=FT(e.writeResults,e.commitTime),s=$r(e.commitTime);return this.listener.g_(s,r)}p_(){const e={};e.database=Hf(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>D6(this.serializer,s))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends class{}{constructor(e,r,s,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,$f(r,s),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne(X.UNKNOWN,a.toString())})}Lo(e,r,s,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,$f(r,s),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(X.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class EP{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cn(r),this.D_=!1):he("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,r,s,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{s.enqueueAndForget(async()=>{Sa(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=we(c);u.L_.add(4),await uu(u),u.q_.set("Unknown"),u.L_.delete(4),await Px(u)}(this))})}),this.q_=new EP(s,i)}}async function Px(t){if(Sa(t))for(const e of t.B_)await e(!0)}async function uu(t){for(const e of t.B_)await e(!1)}function P6(t,e){const r=we(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Zg(r)?Xg(r):Jo(r).r_()&&Qg(r,e))}function Yg(t,e){const r=we(t),s=Jo(r);r.N_.delete(e),s.r_()&&I6(r,e),r.N_.size===0&&(s.r_()?s.o_():Sa(r)&&r.q_.set("Unknown"))}function Qg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Jo(t).A_(e)}function I6(t,e){t.Q_.xe(e),Jo(t).R_(e)}function Xg(t){t.Q_=new wT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.q_.v_()}function Zg(t){return Sa(t)&&!Jo(t).n_()&&t.N_.size>0}function Sa(t){return we(t).L_.size===0}function R6(t){t.Q_=void 0}async function wP(t){t.q_.set("Online")}async function CP(t){t.N_.forEach((e,r)=>{Qg(t,e)})}async function AP(t,e){R6(t),Zg(t)?(t.q_.M_(e),Xg(t)):t.q_.set("Unknown")}async function NP(t,e,r){if(t.q_.set("Online"),e instanceof w6&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(s){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await k0(t,s)}else if(e instanceof Rd?t.Q_.Ke(e):e instanceof b6?t.Q_.He(e):t.Q_.We(e),!r.isEqual(ve.min()))try{const s=await S6(t.localStore);r.compareTo(s)>=0&&await function(a,o){const l=a.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.N_.get(u);d&&a.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.N_.get(c);if(!d)return;a.N_.set(c,d.withResumeToken(rr.EMPTY_BYTE_STRING,d.snapshotVersion)),I6(a,c);const h=new ni(d.target,c,u,d.sequenceNumber);Qg(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(s){he("RemoteStore","Failed to raise snapshot:",s),await k0(t,s)}}async function k0(t,e,r){if(!au(e))throw e;t.L_.add(1),await uu(t),t.q_.set("Offline"),r||(r=()=>S6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Px(t)})}function L6(t,e){return e().catch(r=>k0(t,r,e))}async function Ix(t){const e=we(t),r=Ci(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jP(e);)try{const i=await cP(e.localStore,s);if(i===null){e.O_.length===0&&r.o_();break}s=i.batchId,DP(e,i)}catch(i){await k0(e,i)}M6(e)&&O6(e)}function jP(t){return Sa(t)&&t.O_.length<10}function DP(t,e){t.O_.push(e);const r=Ci(t);r.r_()&&r.V_&&r.m_(e.mutations)}function M6(t){return Sa(t)&&!Ci(t).n_()&&t.O_.length>0}function O6(t){Ci(t).start()}async function kP(t){Ci(t).p_()}async function BP(t){const e=Ci(t);for(const r of t.O_)e.m_(r.mutations)}async function _P(t,e,r){const s=t.O_.shift(),i=Ug.from(s,e,r);await L6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ix(t)}async function FP(t,e){e&&Ci(t).V_&&await async function(s,i){if(function(o){return v6(o)&&o!==X.ABORTED}(i.code)){const a=s.O_.shift();Ci(s).s_(),await L6(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ix(s)}}(t,e),M6(t)&&O6(t)}async function v9(t,e){const r=we(t);r.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const s=Sa(r);r.L_.add(3),await uu(r),s&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Px(r)}async function SP(t,e){const r=we(t);e?(r.L_.delete(2),await Px(r)):e||(r.L_.add(2),await uu(r),r.q_.set("Unknown"))}function Jo(t){return t.K_||(t.K_=function(r,s,i){const a=we(r);return a.w_(),new gP(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:wP.bind(null,t),Ro:CP.bind(null,t),mo:AP.bind(null,t),d_:NP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Zg(t)?Xg(t):t.q_.set("Unknown")):(await t.K_.stop(),R6(t))})),t.K_}function Ci(t){return t.U_||(t.U_=function(r,s,i){const a=we(r);return a.w_(),new yP(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:kP.bind(null,t),mo:FP.bind(null,t),f_:BP.bind(null,t),g_:_P.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ix(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,r,s,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=i,this.removalCallback=a,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,i,a){const o=Date.now()+s,l=new Jg(e,r,o,i,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(t,e){if(Cn("AsyncQueue",`${e}: ${t}`),au(t))return new ne(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(r,s)=>e(r,s)||fe.comparator(r.key,s.key):(r,s)=>fe.comparator(r.key,s.key),this.keyedMap=Ll(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=s.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.W_=new pt(fe.comparator)}track(e){const r=e.doc.key,s=this.W_.get(r);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(r,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(r):e.type===1&&s.type===2?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Io{constructor(e,r,s,i,a,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,s,i,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new Io(e,r,vo.emptySet(r),o,s,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==s[i].type||!r[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class PP{constructor(){this.queries=b9(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,s){const i=we(r),a=i.queries;i.queries=b9(),a.forEach((o,l)=>{for(const c of l.j_)c.onError(s)})})(this,new ne(X.ABORTED,"Firestore shutting down"))}}function b9(){return new Zo(t=>a6(t),Dx)}async function ty(t,e){const r=we(t);let s=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(s=2):(a=new TP,s=e.J_()?0:1);try{switch(s){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=ey(o,`Initialization of query '${za(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&sy(r)}async function ry(t,e){const r=we(t),s=e.query;let i=3;const a=r.queries.get(s);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function IP(t,e){const r=we(t);let s=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.j_)l.X_(i)&&(s=!0);o.z_=i}}s&&sy(r)}function RP(t,e,r){const s=we(t),i=s.queries.get(e);if(i)for(const a of i.j_)a.onError(r);s.queries.delete(e)}function sy(t){t.Y_.forEach(e=>{e.next()})}var Gf,w9;(w9=Gf||(Gf={})).ea="default",w9.Cache="cache";class ny{constructor(e,r,s){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const s=r!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.key=e}}class z6{constructor(e){this.key=e}}class LP{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=o6(e),this.Ra=new vo(this.Aa)}get Va(){return this.Ta}ma(e,r){const s=r?r.fa:new E9,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=kx(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),N=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let k=!1;f&&m?f.data.isEqual(m.data)?p!==N&&(s.track({type:3,doc:m}),k=!0):this.ga(f,m)||(s.track({type:2,doc:m}),k=!0,(c&&this.Aa(m,c)>0||u&&this.Aa(m,u)<0)&&(l=!0)):!f&&m?(s.track({type:0,doc:m}),k=!0):f&&!m&&(s.track({type:1,doc:f}),k=!0,(c||u)&&(l=!0)),k&&(m?(o=o.add(m),a=N?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),s.track({type:1,doc:d})}return{Ra:o,fa:s,ns:l,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,p){const N=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return N(m)-N(p)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(s),i=i!=null&&i;const l=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Io(this.query,e.Ra,a,o,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new E9,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return e.forEach(s=>{this.da.has(s)||r.push(new z6(s))}),this.da.forEach(s=>{e.has(s)||r.push(new V6(s))}),r}ba(e){this.Ta=e.Ts,this.da=Be();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class MP{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class OP{constructor(e){this.key=e,this.va=!1}}class VP{constructor(e,r,s,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Zo(l=>a6(l),Dx),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(fe.comparator),this.Na=new Map,this.La=new Kg,this.Ba={},this.ka=new Map,this.qa=Po.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function zP(t,e,r=!0){const s=W6(t);let i;const a=s.Fa.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await U6(s,e,r,!0),i}async function UP(t,e){const r=W6(t);await U6(r,e,!0,!1)}async function U6(t,e,r,s){const i=await uP(t.localStore,Vs(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return s&&(l=await $P(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&P6(t.remoteStore,i),l}async function $P(t,e,r,s,i){t.Ka=(h,f,m)=>async function(N,k,w,j){let C=k.view.ma(w);C.ns&&(C=await p9(N.localStore,k.query,!1).then(({documents:b})=>k.view.ma(b,C)));const E=j&&j.targetChanges.get(k.targetId),B=j&&j.targetMismatches.get(k.targetId)!=null,_=k.view.applyChanges(C,N.isPrimaryClient,E,B);return A9(N,k.targetId,_.wa),_.snapshot}(t,h,f,m);const a=await p9(t.localStore,e,!0),o=new LP(e,a.Ts),l=o.ma(a.documents),c=cu.createSynthesizedTargetChangeForCurrentChange(r,s&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);A9(t,r,u.wa);const d=new MP(e,r,o);return t.Fa.set(e,d),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function HP(t,e,r){const s=we(t),i=s.Fa.get(e),a=s.Ma.get(i.targetId);if(a.length>1)return s.Ma.set(i.targetId,a.filter(o=>!Dx(o,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Kf(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),r&&Yg(s.remoteStore,i.targetId),Wf(s,i.targetId)}).catch(iu)):(Wf(s,i.targetId),await Kf(s.localStore,i.targetId,!0))}async function KP(t,e){const r=we(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Yg(r.remoteStore,s.targetId))}async function GP(t,e,r){const s=JP(t);try{const i=await function(o,l){const c=we(o),u=Lt.now(),d=l.reduce((m,p)=>m.add(p.key),Be());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=An(),N=Be();return c.cs.getEntries(m,d).next(k=>{p=k,p.forEach((w,j)=>{j.isValidDocument()||(N=N.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,p)).next(k=>{h=k;const w=[];for(const j of l){const C=pT(j,h.get(j.key).overlayedDocument);C!=null&&w.push(new Ti(j.key,C,Z5(C.value.mapValue),Xt.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,w,l)}).next(k=>{f=k;const w=k.applyToLocalDocumentSet(h,N);return c.documentOverlayCache.saveOverlays(m,k.batchId,w)})}).then(()=>({batchId:f.batchId,changes:c6(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new pt(Ve)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(s,i.batchId,r),await du(s,i.changes),await Ix(s.remoteStore)}catch(i){const a=ey(i,"Failed to persist write");r.reject(a)}}async function $6(t,e){const r=we(t);try{const s=await oP(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Le(o.va):i.removedDocuments.size>0&&(Le(o.va),o.va=!1))}),await du(r,s,e)}catch(s){await iu(s)}}function C9(t,e,r){const s=we(t);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const i=[];s.Fa.forEach((a,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=we(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(l)&&(u=!0)}),u&&sy(c)}(s.eventManager,e),i.length&&s.Ca.d_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WP(t,e,r){const s=we(t);s.sharedClientState.updateQueryState(e,"rejected",r);const i=s.Na.get(e),a=i&&i.key;if(a){let o=new pt(fe.comparator);o=o.insert(a,$t.newNoDocument(a,ve.min()));const l=Be().add(a),c=new Sx(ve.min(),new Map,new pt(Ve),o,l);await $6(s,c),s.Oa=s.Oa.remove(a),s.Na.delete(e),iy(s)}else await Kf(s.localStore,e,!1).then(()=>Wf(s,e,r)).catch(iu)}async function qP(t,e){const r=we(t),s=e.batch.batchId;try{const i=await aP(r.localStore,e);K6(r,s,null),H6(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await du(r,i)}catch(i){await iu(i)}}async function YP(t,e,r){const s=we(t);try{const i=await function(o,l){const c=we(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Le(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(s.localStore,e);K6(s,e,r),H6(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await du(s,i)}catch(i){await iu(i)}}function H6(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function K6(t,e,r){const s=we(t);let i=s.Ba[s.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),s.Ba[s.currentUser.toKey()]=i}}function Wf(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Ma.get(e))t.Fa.delete(s),r&&t.Ca.$a(s,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(s=>{t.La.containsKey(s)||G6(t,s)})}function G6(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Yg(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),iy(t))}function A9(t,e,r){for(const s of r)s instanceof V6?(t.La.addReference(s.key,e),QP(t,s)):s instanceof z6?(he("SyncEngine","Document no longer in limbo: "+s.key),t.La.removeReference(s.key,e),t.La.containsKey(s.key)||G6(t,s.key)):ye()}function QP(t,e){const r=e.key,s=r.path.canonicalString();t.Oa.get(r)||t.xa.has(s)||(he("SyncEngine","New document in limbo: "+r),t.xa.add(s),iy(t))}function iy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new fe(Je.fromString(e)),s=t.qa.next();t.Na.set(s,new OP(r)),t.Oa=t.Oa.insert(r,s),P6(t.remoteStore,new ni(Vs(jx(r.path)),s,"TargetPurposeLimboResolution",Ig.oe))}}async function du(t,e,r){const s=we(t),i=[],a=[],o=[];s.Fa.isEmpty()||(s.Fa.forEach((l,c)=>{o.push(s.Ka(c,e,r).then(u=>{var d;if((u||r)&&s.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Wg.Wi(c.targetId,u);a.push(h)}}))}),await Promise.all(o),s.Ca.d_(i),await async function(c,u){const d=we(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ee.forEach(u,f=>ee.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>ee.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!au(h))throw h;he("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),p=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(p);d.os=d.os.insert(f,N)}}}(s.localStore,a))}async function XP(t,e){const r=we(t);if(!r.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const s=await F6(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(l=>{l.forEach(c=>{c.reject(new ne(X.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(r,s.hs)}}function ZP(t,e){const r=we(t),s=r.Na.get(e);if(s&&s.va)return Be().add(s.key);{let i=Be();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const l=r.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function W6(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WP.bind(null,e),e.Ca.d_=IP.bind(null,e.eventManager),e.Ca.$a=RP.bind(null,e.eventManager),e}function JP(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YP.bind(null,e),e}class B0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tx(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return iP(this.persistence,new sP,e.initialUser,this.serializer)}Ga(e){return new eP(Gg.Zr,this.serializer)}Wa(e){return new xP}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}B0.provider={build:()=>new B0};class qf{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C9(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XP.bind(null,this.syncEngine),await SP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PP}()}createDatastore(e){const r=Tx(e.databaseInfo.databaseId),s=function(a){return new pP(a)}(e.databaseInfo);return function(a,o,l,c){return new vP(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,i,a,o,l){return new bP(s,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>C9(this.syncEngine,r,0),function(){return y9.D()?new y9:new hP}())}createSyncEngine(e,r){return function(i,a,o,l,c,u,d){const h=new VP(i,a,o,l,c,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=we(i);he("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await uu(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ne(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(i,a){const o=we(i),l={documents:a.map(h=>D0(o.serializer,h))},c=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Je.emptyPath(),l,a.length),u=new Map;c.forEach(h=>{const f=BT(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return a.forEach(h=>{const f=u.get(h.toString());Le(!!f),d.push(f)}),d}(this.datastore,e);return r.forEach(s=>this.recordVersion(s)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,s)=>{const i=fe.fromPath(s);this.mutations.push(new y6(i,this.precondition(i)))}),await async function(s,i){const a=we(s),o={writes:i.map(l=>D6(a.serializer,l))};await a.Mo("Commit",a.serializer.databaseId,Je.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw ye();r=ve.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new ne(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(ve.min())?Xt.exists(!1):Xt.updateTime(r):Xt.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ve.min()))throw new ne(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xt.updateTime(r)}return Xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,r,s,i,a){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=i,this.deferred=a,this._u=s.maxAttempts,this.t_=new qg(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new eI(this.datastore),r=this.cu(e);r&&r.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(i=>{this.lu(i)}))}).catch(s=>{this.lu(s)})})}cu(e){try{const r=this.updateFunction(e);return!ou(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!v6(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,r,s,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=Y5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{he("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=ey(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function tm(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let s=r.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await F6(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N9(t,e){t.asyncQueue.verifyOperationInProgress();const r=await sI(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(s=>v9(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>v9(e.remoteStore,i)),t._onlineComponents=e}async function sI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;_o("Error using user provided cache. Falling back to memory cache: "+r),await tm(t,new B0)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await tm(t,new B0);return t._offlineComponents}async function oy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await N9(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await N9(t,new qf))),t._onlineComponents}function nI(t){return oy(t).then(e=>e.syncEngine)}function iI(t){return oy(t).then(e=>e.datastore)}async function _0(t){const e=await oy(t),r=e.eventManager;return r.onListen=zP.bind(null,e.syncEngine),r.onUnlisten=HP.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=UP.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=KP.bind(null,e.syncEngine),r}function aI(t,e,r={}){const s=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new ay({next:f=>{d.Za(),o.enqueueAndForget(()=>ry(a,h));const m=f.docs.has(l);!m&&f.fromCache?u.reject(new ne(X.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?u.reject(new ne(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new ny(jx(l.path),d,{includeMetadataChanges:!0,_a:!0});return ty(a,h)}(await _0(t),t.asyncQueue,e,r,s)),s.promise}function oI(t,e,r={}){const s=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new ay({next:f=>{d.Za(),o.enqueueAndForget(()=>ry(a,h)),f.fromCache&&c.source==="server"?u.reject(new ne(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new ny(l,d,{includeMetadataChanges:!0,_a:!0});return ty(a,h)}(await _0(t),t.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t,e,r){if(!r)throw new ne(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lI(t,e,r,s){if(e===!0&&s===!0)throw new ne(X.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function D9(t){if(!fe.isDocumentKey(t))throw new ne(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k9(t){if(fe.isDocumentKey(t))throw new ne(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Rx(t);throw new ne(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q6((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ne(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ne(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ne(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lx{constructor(e,r,s,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B9({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B9(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new NS;switch(s.type){case"firstParty":return new BS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ne(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=j9.get(r);s&&(he("ComponentProvider","Removing Datastore"),j9.delete(r),s.terminate())}(this),Promise.resolve()}}function cI(t,e,r,s={}){var i;const a=(t=Cr(t,Lx))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),s.mockUserToken){let l,c;if(typeof s.mockUserToken=="string")l=s.mockUserToken,c=ur.MOCK_USER;else{l=t5(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=s.mockUserToken.sub||s.mockUserToken.user_id;if(!u)throw new ne(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ur(u)}t._authCredentials=new jS(new q5(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class er{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class gi extends Pi{constructor(e,r,s){super(e,r,jx(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new fe(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function Ie(t,e,...r){if(t=rt(t),Y6("collection","path",e),t instanceof Lx){const s=Je.fromString(e,...r);return k9(s),new gi(t,null,s)}{if(!(t instanceof er||t instanceof gi))throw new ne(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Je.fromString(e,...r));return k9(s),new gi(t.firestore,null,s)}}function je(t,e,...r){if(t=rt(t),arguments.length===1&&(e=Y5.newId()),Y6("doc","path",e),t instanceof Lx){const s=Je.fromString(e,...r);return D9(s),new er(t,null,new fe(s))}{if(!(t instanceof er||t instanceof gi))throw new ne(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Je.fromString(e,...r));return D9(s),new er(t.firestore,t instanceof gi?t.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qg(this,"async_queue_retry"),this.Vu=()=>{const s=em();s&&he("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const r=em();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=em();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Os;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!au(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(s);throw Cn("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(e,r,s){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Jg.createAndSchedule(this,e,r,s,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function F9(t){return function(r,s){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of s)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Hs extends Lx{constructor(e,r,s,i){super(e,r,s,i),this.type="firestore",this._queue=new _9,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _9(e),this._firestoreClient=void 0,await e}}}function uI(t,e){const r=typeof t=="object"?t:wg(),s=typeof t=="string"?t:"(default)",i=wx(r,"firestore").getImmediate({identifier:s});if(!i._initialized){const a=ZC("firestore");a&&cI(i,...a)}return i}function xu(t){if(t._terminated)throw new ne(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dI(t),t._firestoreClient}function dI(t){var e,r,s;const i=t._freezeSettings(),a=function(l,c,u,d){return new US(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,q6(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new rI(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ca(rr.fromBase64String(e))}catch(r){throw new ne(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ca(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ne(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ne(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ne(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=/^__.*__$/;class hI{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,r,this.fieldTransforms):new lu(e,this.data,r,this.fieldTransforms)}}class Q6{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Ti(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function X6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class dy{constructor(e,r,s,i,a,o){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:s,xu:!1});return i.Ou(e),i}Nu(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:s,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return F0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(X6(this.Cu)&&xI.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class mI{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Tx(e)}Qu(e,r,s,i=!1){return new dy({Cu:e,methodName:r,qu:s,path:Qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(t){const e=t._freezeSettings(),r=Tx(t._databaseId);return new mI(t._databaseId,!!e.ignoreUndefinedProperties,r)}function xy(t,e,r,s,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);hy("Data must be an object, but it was:",o,s);const l=eA(s,o);let c,u;if(a.merge)c=new Vr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=Yf(e,h,r);if(!o.contains(f))throw new ne(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);rA(d,f)||d.push(f)}c=new Vr(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new hI(new br(l),c,u)}class Mx extends ly{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mx}}function Z6(t,e,r,s){const i=t.Qu(1,e,r);hy("Data must be an object, but it was:",i,s);const a=[],o=br.empty();Fa(s,(c,u)=>{const d=my(e,c,r);u=rt(u);const h=i.Nu(d);if(u instanceof Mx)a.push(d);else{const f=fu(u,h);f!=null&&(a.push(d),o.set(d,f))}});const l=new Vr(a);return new Q6(o,l,i.fieldTransforms)}function J6(t,e,r,s,i,a){const o=t.Qu(1,e,r),l=[Yf(e,s,r)],c=[i];if(a.length%2!=0)throw new ne(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)l.push(Yf(e,a[f])),c.push(a[f+1]);const u=[],d=br.empty();for(let f=l.length-1;f>=0;--f)if(!rA(u,l[f])){const m=l[f];let p=c[f];p=rt(p);const N=o.Nu(m);if(p instanceof Mx)u.push(m);else{const k=fu(p,N);k!=null&&(u.push(m),d.set(m,k))}}const h=new Vr(u);return new Q6(d,h,o.fieldTransforms)}function fI(t,e,r,s=!1){return fu(r,t.Qu(s?4:3,e))}function fu(t,e){if(tA(t=rt(t)))return hy("Unsupported field value:",e,t),eA(t,e);if(t instanceof ly)return function(s,i){if(!X6(i.Cu))throw i.Bu(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,i){const a=[];let o=0;for(const l of s){let c=fu(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,i){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uT(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Lt.fromDate(s);return{timestampValue:j0(i.serializer,a)}}if(s instanceof Lt){const a=new Lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:j0(i.serializer,a)}}if(s instanceof cy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ca)return{bytesValue:C6(i.serializer,s._byteString)};if(s instanceof er){const a=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Hg(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof uy)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return zg(l.serializer,c)})}}}}}}(s,i);throw i.Bu(`Unsupported field value: ${Rx(s)}`)}(t,e)}function eA(t,e){const r={};return Q5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(t,(s,i)=>{const a=fu(i,e.Mu(s));a!=null&&(r[s]=a)}),{mapValue:{fields:r}}}function tA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof cy||t instanceof Ca||t instanceof er||t instanceof ly||t instanceof uy)}function hy(t,e,r){if(!tA(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const s=Rx(r);throw s==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+s)}}function Yf(t,e,r){if((e=rt(e))instanceof hu)return e._internalPath;if(typeof e=="string")return my(t,e);throw F0("Field path arguments must be of type string or ",t,!1,void 0,r)}const pI=new RegExp("[~\\*/\\[\\]]");function my(t,e,r){if(e.search(pI)>=0)throw F0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new hu(...e.split("."))._internalPath}catch{throw F0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function F0(t,e,r,s,i){const a=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new ne(X.INVALID_ARGUMENT,l+t+c)}function rA(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,r,s,i,a){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ox("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class gI extends S0{data(){return super.data()}}function Ox(t,e){return typeof e=="string"?my(t,e):e instanceof hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fy{}class nA extends fy{}function hr(t,e,...r){let s=[];e instanceof fy&&s.push(e),s=s.concat(r),function(a){const o=a.filter(c=>c instanceof py).length,l=a.filter(c=>c instanceof Vx).length;if(o>1||o>0&&l>0)throw new ne(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Vx extends nA{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Vx(e,r,s)}_apply(e){const r=this._parse(e);return iA(e._query,r),new Pi(e.firestore,e.converter,Vf(e._query,r))}_parse(e){const r=mu(e.firestore);return function(a,o,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){T9(h,d);const m=[];for(const p of h)m.push(S9(c,a,p));f={arrayValue:{values:m}}}else f=S9(c,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||T9(h,d),f=fI(l,o,h,d==="in"||d==="not-in");return St.create(u,d,f)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ar(t,e,r){const s=e,i=Ox("where",t);return Vx._create(i,s,r)}class py extends fy{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new py(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return r.length===1?r[0]:As.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)iA(o,c),o=Vf(o,c)}(e._query,r),new Pi(e.firestore,e.converter,Vf(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gy extends nA{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new gy(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new ne(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ic(a,o)}(e._query,this._field,this._direction);return new Pi(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Xo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function zx(t,e="asc"){const r=e,s=Ox("orderBy",t);return gy._create(s,r)}function S9(t,e,r){if(typeof(r=rt(r))=="string"){if(r==="")throw new ne(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i6(e)&&r.indexOf("/")!==-1)throw new ne(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Je.fromString(r));if(!fe.isDocumentKey(s))throw new ne(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jb(t,new fe(s))}if(r instanceof er)return Jb(t,r._key);throw new ne(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rx(r)}.`)}function T9(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iA(t,e){const r=function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ne(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class aA{convertValue(e,r="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Fa(e,(i,a)=>{s[i]=this.convertValue(a,r)}),s}convertVectorValue(e){var r,s,i;const a=(i=(s=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>Nt(o.doubleValue));return new uy(a)}convertGeoPoint(e){return new cy(Nt(e.latitude),Nt(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Lg(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const r=wi(e);return new Lt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Je.fromString(e);Le(_6(s));const i=new Tc(s.get(1),s.get(3)),a=new fe(s.popFirst(5));return i.isEqual(r)||Cn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e,r){let s;return s=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,s}class yI extends aA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vy extends S0{constructor(e,r,s,i,a,o){super(e,r,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Ox("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Ld extends vy{data(e={}){return super.data(e)}}class oA{constructor(e,r,s,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new ro(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Ld(this._firestore,this._userDataWriter,s.key,s,new ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ne(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Ld(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ro(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Ld(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ro(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:vI(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function vI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){t=Cr(t,er);const e=Cr(t.firestore,Hs);return aI(xu(e),t._key).then(r=>lA(e,t,r))}class Ux extends aA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,r)}}function Pr(t){t=Cr(t,Pi);const e=Cr(t.firestore,Hs),r=xu(e),s=new Ux(e);return sA(t._query),oI(r,t._query).then(i=>new oA(e,s,t,i))}function so(t,e,r){t=Cr(t,er);const s=Cr(t.firestore,Hs),i=yy(t.converter,e,r);return $x(s,[xy(mu(s),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Xt.none())])}function Kt(t,e,r,...s){t=Cr(t,er);const i=Cr(t.firestore,Hs),a=mu(i);let o;return o=typeof(e=rt(e))=="string"||e instanceof hu?J6(a,"updateDoc",t._key,e,r,s):Z6(a,"updateDoc",t._key,e),$x(i,[o.toMutation(t._key,Xt.exists(!0))])}function pu(t){return $x(Cr(t.firestore,Hs),[new Fx(t._key,Xt.none())])}function Ai(t,e){const r=Cr(t.firestore,Hs),s=je(t),i=yy(t.converter,e);return $x(r,[xy(mu(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,Xt.exists(!1))]).then(()=>s)}function Hr(t,...e){var r,s,i;t=rt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||F9(e[o])||(a=e[o],o++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(F9(e[o])){const h=e[o];e[o]=(r=h.next)===null||r===void 0?void 0:r.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,d;if(t instanceof er)u=Cr(t.firestore,Hs),d=jx(t._key.path),c={next:h=>{e[o]&&e[o](lA(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Cr(t,Pi);u=Cr(h.firestore,Hs),d=h._query;const f=new Ux(u);c={next:m=>{e[o]&&e[o](new oA(u,f,h,m))},error:e[o+1],complete:e[o+2]},sA(t._query)}return function(f,m,p,N){const k=new ay(N),w=new ny(m,k,p);return f.asyncQueue.enqueueAndForget(async()=>ty(await _0(f),w)),()=>{k.Za(),f.asyncQueue.enqueueAndForget(async()=>ry(await _0(f),w))}}(xu(u),d,l,c)}function $x(t,e){return function(s,i){const a=new Os;return s.asyncQueue.enqueueAndForget(async()=>GP(await nI(s),i,a)),a.promise}(xu(t),e)}function lA(t,e,r){const s=r.docs.get(e._key),i=new Ux(t);return new vy(t,i,e._key,s,new ro(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={maxAttempts:5};function Nl(t,e){if((t=rt(t)).firestore!==e)throw new ne(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=mu(r)}get(r){const s=Nl(r,this._firestore),i=new yI(this._firestore);return this._transaction.lookup([s._key]).then(a=>{if(!a||a.length!==1)return ye();const o=a[0];if(o.isFoundDocument())return new S0(this._firestore,i,o.key,o,s.converter);if(o.isNoDocument())return new S0(this._firestore,i,s._key,null,s.converter);throw ye()})}set(r,s,i){const a=Nl(r,this._firestore),o=yy(a.converter,s,i),l=xy(this._dataReader,"Transaction.set",a._key,o,a.converter!==null,i);return this._transaction.set(a._key,l),this}update(r,s,i,...a){const o=Nl(r,this._firestore);let l;return l=typeof(s=rt(s))=="string"||s instanceof hu?J6(this._dataReader,"Transaction.update",o._key,s,i,a):Z6(this._dataReader,"Transaction.update",o._key,s),this._transaction.update(o._key,l),this}delete(r){const s=Nl(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Nl(e,this._firestore),s=new Ux(this._firestore);return super.get(e).then(i=>new vy(this._firestore,s,r._key,i._document,new ro(!1,!1),r.converter))}}function wI(t,e,r){t=Cr(t,Hs);const s=Object.assign(Object.assign({},EI),r);return function(a){if(a.maxAttempts<1)throw new ne(X.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,o,l){const c=new Os;return a.asyncQueue.enqueueAndForget(async()=>{const u=await iI(a);new tI(a.asyncQueue,u,l,o,c).au()}),c.promise}(xu(t),i=>e(new bI(t,i)),s)}(function(e,r=!0){(function(i){Qo=i})(Ba),pa(new Ei("firestore",(s,{instanceIdentifier:i,options:a})=>{const o=s.getProvider("app").getImmediate(),l=new Hs(new DS(s.getProvider("auth-internal")),new FS(s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(u.options.projectId,d)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Ls(qb,"4.7.3",e),Ls(qb,"4.7.3","esm2017")})();var CI="firebase",AI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(CI,AI,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebasestorage.googleapis.com",NI="storageBucket",jI=2*60*1e3,DI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Gs{constructor(e,r,s=0){super(rm(e),`Firebase Storage: ${r} (${rm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ws.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ks;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ks||(Ks={}));function rm(t){return"storage/"+t}function kI(){const t="An unknown error occurred, please check the error payload for server response.";return new Ws(Ks.UNKNOWN,t)}function BI(){return new Ws(Ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _I(){return new Ws(Ks.CANCELED,"User canceled the upload/download.")}function FI(t){return new Ws(Ks.INVALID_URL,"Invalid URL '"+t+"'.")}function SI(t){return new Ws(Ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function P9(t){return new Ws(Ks.INVALID_ARGUMENT,t)}function uA(){return new Ws(Ks.APP_DELETED,"The Firebase app was deleted.")}function TI(t){return new Ws(Ks.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=gs.makeFromUrl(e,r)}catch{return new gs(e,"")}if(s.path==="")return s;throw SI(e)}static makeFromUrl(e,r){let s=null;const i="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},N=r===cA?"(?:storage.googleapis.com|storage.cloud.google.com)":r,k="([^?#]*)",w=new RegExp(`^https?://${N}/${i}/${k}`,"i"),C=[{regex:l,indices:c,postModify:a},{regex:m,indices:p,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<C.length;E++){const B=C[E],_=B.regex.exec(e);if(_){const b=_[B.indices.bucket];let v=_[B.indices.path];v||(v=""),s=new gs(b,v),B.postModify(s);break}}if(s==null)throw FI(e);return s}}class PI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e,r){let s=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...k){u||(u=!0,e.apply(null,k))}function h(k){i=setTimeout(()=>{i=null,t(m,c())},k)}function f(){a&&clearTimeout(a)}function m(k,...w){if(u){f();return}if(k){f(),d.call(null,k,...w);return}if(c()||o){f(),d.call(null,k,...w);return}s<64&&(s*=2);let C;l===1?(l=2,C=0):C=(s+Math.random())*1e3,h(C)}let p=!1;function N(k){p||(p=!0,f(),!u&&(i!==null?(k||(l=2),clearTimeout(i),h(0)):k||(l=1)))}return h(0),a=setTimeout(()=>{o=!0,N(!0)},r),N}function RI(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){return t!==void 0}function I9(t,e,r,s){if(s<e)throw P9(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>r)throw P9(`Invalid value for '${t}'. Expected ${r} or less.`)}function MI(t){const e=encodeURIComponent;let r="?";for(const s in t)if(t.hasOwnProperty(s)){const i=e(s)+"="+e(t[s]);r=r+i+"&"}return r=r.slice(0,-1),r}var T0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(T0||(T0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,r,s,i,a,o,l,c,u,d,h,f=!0){this.url_=e,this.method_=r,this.headers_=s,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){const e=(s,i)=>{if(i){s(!1,new od(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===T0.NO_ERROR,c=a.getStatus();if(!l||OI(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===T0.ABORT;s(!1,new od(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new od(u,a))})},r=(s,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());LI(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=kI();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?uA():_I();o(c)}else{const c=BI();o(c)}};this.canceled_?r(!1,new od(!1,null,!0)):this.backoffId_=II(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class od{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function zI(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UI(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $I(t,e){e&&(t["X-Firebase-GMPID"]=e)}function HI(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KI(t,e,r,s,i,a,o=!0){const l=MI(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return $I(u,e),zI(u,r),UI(u,a),HI(u,s),new VI(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,r){this._service=e,r instanceof gs?this._location=r:this._location=gs.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new P0(e,r)}get root(){const e=new gs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WI(this._location.path)}get storage(){return this._service}get parent(){const e=GI(this._location.path);if(e===null)return null;const r=new gs(this._location.bucket,e);return new P0(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw TI(e)}}function R9(t,e){const r=e==null?void 0:e[NI];return r==null?null:gs.makeFromBucketSpec(r,t)}function qI(t,e,r,s={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:t5(i,t.app.options.projectId))}class YI{constructor(e,r,s,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=cA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jI,this._maxUploadRetryTime=DI,this._requests=new Set,i!=null?this._bucket=gs.makeFromBucketSpec(i,this._host):this._bucket=R9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gs.makeFromBucketSpec(this._url,e):this._bucket=R9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new P0(this,e)}_makeRequest(e,r,s,i,a=!0){if(this._deleted)return new PI(uA());{const o=KI(e,this._appId,s,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,i).getPromise()}}const L9="@firebase/storage",M9="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="storage";function QI(t=wg(),e){t=rt(t);const s=wx(t,dA).getImmediate({identifier:e}),i=ZC("storage");return i&&XI(s,...i),s}function XI(t,e,r,s={}){qI(t,e,r,s)}function ZI(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new YI(r,s,i,e,Ba)}function JI(){pa(new Ei(dA,ZI,"PUBLIC").setMultipleInstances(!0)),Ls(L9,M9,""),Ls(L9,M9,"esm2017")}JI();const eR={apiKey:"AIzaSyB6903uKvs3vjCkfreIvzensUFa25wVB9c",authDomain:"sbs-travel-96d0b.firebaseapp.com",projectId:"sbs-travel-96d0b",storageBucket:"sbs-travel-96d0b.firebasestorage.app",messagingSenderId:"689333443277",appId:"1:689333443277:web:d26c455760eb28a41e6784",measurementId:"G-G4FRHCJEDP"},Ey=n5(eR),$n=CS(Ey),ie=uI(Ey);QI(Ey);const Lr={name:"SBS Transfer",companyName:"SBS Transfer Hizmetleri",supportEmail:"destek@sbstransfer.com",supportPhone:"+90 (555) 000 00 00"},It={ADMIN:"admin",DRIVER:"driver",CUSTOMER:"customer"},tn={USERS:"users",RESERVATIONS:"reservations",VEHICLES:"vehicles",DRIVERS:"drivers",PAYMENTS:"payments",SETTINGS:"settings"},xA=g.createContext(),Ds=()=>{const t=g.useContext(xA);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},tR=({children:t})=>{const[e,r]=g.useState(null),[s,i]=g.useState(null),[a,o]=g.useState(!0),[l,c]=g.useState(null),u=async(_,b)=>{try{c(null);const v=await nF($n,_,b),y=await Eo(je(ie,tn.USERS,v.user.uid));return y.exists()&&i(y.data()),v}catch(v){throw c(v.message),v}},d=async()=>{var _,b;try{c(null);const v=new nn;v.addScope("email"),v.addScope("profile");const y=await SF($n,v),A=await Eo(je(ie,tn.USERS,y.user.uid));if(A.exists()){const F=A.data(),P={...F,profilePhoto:y.user.photoURL||F.profilePhoto,emailVerified:y.user.emailVerified,updatedAt:new Date().toISOString()};await Kt(je(ie,tn.USERS,y.user.uid),P),i(P)}else{const F={uid:y.user.uid,email:y.user.email,firstName:((_=y.user.displayName)==null?void 0:_.split(" ")[0])||"",lastName:((b=y.user.displayName)==null?void 0:b.split(" ").slice(1).join(" "))||"",phone:y.user.phoneNumber||"",role:It.CUSTOMER,profilePhoto:y.user.photoURL||"",authProvider:"google",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,emailVerified:y.user.emailVerified};await so(je(ie,tn.USERS,y.user.uid),F),i(F)}return y}catch(v){throw c(v.message),v}},h=async(_,b,v)=>{try{c(null);const y=await Tf($n,_,b);await Lb(y.user,{displayName:`${v.firstName} ${v.lastName}`});const A={uid:y.user.uid,email:y.user.email,firstName:v.firstName,lastName:v.lastName,phone:v.phone||"",role:v.role||It.CUSTOMER,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0};return await so(je(ie,tn.USERS,y.user.uid),A),i(A),y}catch(y){throw c(y.message),y}},f=async(_,b)=>{try{c(null);const v=await Tf($n,_.email,b);await Lb(v.user,{displayName:`${_.firstName} ${_.lastName}`});const y={uid:v.user.uid,email:v.user.email,firstName:_.firstName,lastName:_.lastName,phone:_.phone,role:It.CUSTOMER,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,isPasswordTemporary:!0,registeredViaBooking:!0};return await so(je(ie,tn.USERS,v.user.uid),y),{user:v.user,profile:y,tempPassword:b}}catch(v){throw c(v.message),v}},m=async()=>{try{c(null),await xF($n),r(null),i(null)}catch(_){throw c(_.message),_}},p=async _=>{try{c(null),await sF($n,_)}catch(b){throw c(b.message),b}},N=async()=>{try{return c(null),e&&!e.emailVerified?(await iF(e),!0):!1}catch(_){throw c(_.message),_}},k=async _=>{try{if(c(null),e&&s){const b={...s,..._,updatedAt:new Date().toISOString()};await Kt(je(ie,tn.USERS,e.uid),b),i(b)}}catch(b){throw c(b.message),b}},w=_=>(s==null?void 0:s.role)===_,j=()=>w(It.ADMIN),C=()=>w(It.DRIVER),E=()=>w(It.CUSTOMER);g.useEffect(()=>dF($n,async b=>{var v,y;if(b){r(b);try{const A=await Eo(je(ie,tn.USERS,b.uid));if(A.exists())i(A.data());else{const F={uid:b.uid,email:b.email,firstName:((v=b.displayName)==null?void 0:v.split(" ")[0])||"",lastName:((y=b.displayName)==null?void 0:y.split(" ").slice(1).join(" "))||"",role:It.CUSTOMER,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0};await so(je(ie,tn.USERS,b.uid),F),i(F)}}catch(A){console.error("Error fetching user profile:",A),c("Profile bilgileri alınamadı")}}else r(null),i(null);o(!1)}),[]);const B={user:e,userProfile:s,loading:a,error:l,login:u,signInWithGoogle:d,register:h,createCustomerAccount:f,logout:m,signOut:m,resetPassword:p,sendVerificationEmail:N,updateUserProfile:k,hasRole:w,isAdmin:j,isDriver:C,isCustomer:E,setError:c};return n.jsx(xA.Provider,{value:B,children:t})},rR={user:null,userRole:null,loading:!0,reservations:[],currentReservation:null,vehicles:[],drivers:[],customers:[],extraServices:[],settings:{companyInfo:{},paymentSettings:{},bankAccounts:[],commissionRates:{driverCommission:70,companyCommission:30}},modal:{isOpen:!1,type:null,data:null},notification:{show:!1,type:"info",message:"",title:""}},me={SET_USER:"SET_USER",SET_USER_ROLE:"SET_USER_ROLE",SET_LOADING:"SET_LOADING",LOGOUT:"LOGOUT",SET_RESERVATIONS:"SET_RESERVATIONS",ADD_RESERVATION:"ADD_RESERVATION",UPDATE_RESERVATION:"UPDATE_RESERVATION",DELETE_RESERVATION:"DELETE_RESERVATION",SET_CURRENT_RESERVATION:"SET_CURRENT_RESERVATION",SET_VEHICLES:"SET_VEHICLES",ADD_VEHICLE:"ADD_VEHICLE",UPDATE_VEHICLE:"UPDATE_VEHICLE",DELETE_VEHICLE:"DELETE_VEHICLE",SET_DRIVERS:"SET_DRIVERS",ADD_DRIVER:"ADD_DRIVER",UPDATE_DRIVER:"UPDATE_DRIVER",DELETE_DRIVER:"DELETE_DRIVER",SET_CUSTOMERS:"SET_CUSTOMERS",ADD_CUSTOMER:"ADD_CUSTOMER",UPDATE_CUSTOMER:"UPDATE_CUSTOMER",SET_EXTRA_SERVICES:"SET_EXTRA_SERVICES",ADD_EXTRA_SERVICE:"ADD_EXTRA_SERVICE",UPDATE_EXTRA_SERVICE:"UPDATE_EXTRA_SERVICE",DELETE_EXTRA_SERVICE:"DELETE_EXTRA_SERVICE",SET_SETTINGS:"SET_SETTINGS",UPDATE_SETTINGS:"UPDATE_SETTINGS",SHOW_MODAL:"SHOW_MODAL",HIDE_MODAL:"HIDE_MODAL",SHOW_NOTIFICATION:"SHOW_NOTIFICATION",HIDE_NOTIFICATION:"HIDE_NOTIFICATION"},sR=(t,e)=>{switch(e.type){case me.SET_USER:return{...t,user:e.payload,loading:!1};case me.SET_USER_ROLE:return{...t,userRole:e.payload};case me.SET_LOADING:return{...t,loading:e.payload};case me.LOGOUT:return{...t,user:null,userRole:null,loading:!1};case me.SET_RESERVATIONS:return{...t,reservations:e.payload};case me.ADD_RESERVATION:return{...t,reservations:[...t.reservations,e.payload]};case me.UPDATE_RESERVATION:return{...t,reservations:t.reservations.map(r=>r.id===e.payload.id?e.payload:r)};case me.DELETE_RESERVATION:return{...t,reservations:t.reservations.filter(r=>r.id!==e.payload)};case me.SET_CURRENT_RESERVATION:return{...t,currentReservation:e.payload};case me.SET_VEHICLES:return{...t,vehicles:e.payload};case me.ADD_VEHICLE:return{...t,vehicles:[...t.vehicles,e.payload]};case me.UPDATE_VEHICLE:return{...t,vehicles:t.vehicles.map(r=>r.id===e.payload.id?e.payload:r)};case me.DELETE_VEHICLE:return{...t,vehicles:t.vehicles.filter(r=>r.id!==e.payload)};case me.SET_DRIVERS:return{...t,drivers:e.payload};case me.ADD_DRIVER:return{...t,drivers:[...t.drivers,e.payload]};case me.UPDATE_DRIVER:return{...t,drivers:t.drivers.map(r=>r.id===e.payload.id?e.payload:r)};case me.DELETE_DRIVER:return{...t,drivers:t.drivers.filter(r=>r.id!==e.payload)};case me.SET_CUSTOMERS:return{...t,customers:e.payload};case me.ADD_CUSTOMER:return{...t,customers:[...t.customers,e.payload]};case me.UPDATE_CUSTOMER:return{...t,customers:t.customers.map(r=>r.id===e.payload.id?e.payload:r)};case me.SET_EXTRA_SERVICES:return{...t,extraServices:e.payload};case me.ADD_EXTRA_SERVICE:return{...t,extraServices:[...t.extraServices,e.payload]};case me.UPDATE_EXTRA_SERVICE:return{...t,extraServices:t.extraServices.map(r=>r.id===e.payload.id?e.payload:r)};case me.DELETE_EXTRA_SERVICE:return{...t,extraServices:t.extraServices.filter(r=>r.id!==e.payload)};case me.SET_SETTINGS:return{...t,settings:e.payload};case me.UPDATE_SETTINGS:return{...t,settings:{...t.settings,...e.payload}};case me.SHOW_MODAL:return{...t,modal:{isOpen:!0,type:e.payload.type,data:e.payload.data}};case me.HIDE_MODAL:return{...t,modal:{isOpen:!1,type:null,data:null}};case me.SHOW_NOTIFICATION:return{...t,notification:{show:!0,type:e.payload.type,message:e.payload.message,title:e.payload.title}};case me.HIDE_NOTIFICATION:return{...t,notification:{show:!1,type:"info",message:"",title:""}};default:return t}},hA=g.createContext(),nR=({children:t})=>{const[e,r]=g.useReducer(sR,rR),s={async create(a,o){try{return{id:(await Ai(Ie(ie,a),{...o,createdAt:new Date,updatedAt:new Date})).id,...o}}catch(l){throw console.error(`Error creating ${a}:`,l),l}},async update(a,o,l){try{const c=je(ie,a,o);return await Kt(c,{...l,updatedAt:new Date}),{id:o,...l}}catch(c){throw console.error(`Error updating ${a}:`,c),c}},async delete(a,o){try{const l=je(ie,a,o);return await pu(l),o}catch(l){throw console.error(`Error deleting ${a}:`,l),l}},async getAll(a,o="createdAt"){try{const l=hr(Ie(ie,a),zx(o,"desc"));return(await Pr(l)).docs.map(u=>({id:u.id,...u.data()}))}catch(l){throw console.error(`Error fetching ${a}:`,l),l}}},i={setUser:a=>r({type:me.SET_USER,payload:a}),setUserRole:a=>r({type:me.SET_USER_ROLE,payload:a}),setLoading:a=>r({type:me.SET_LOADING,payload:a}),logout:()=>r({type:me.LOGOUT}),setReservations:a=>r({type:me.SET_RESERVATIONS,payload:a}),addReservation:async a=>{try{const o=await s.create("reservations",a);return r({type:me.ADD_RESERVATION,payload:o}),o}catch(o){throw i.showNotification("error","Rezervasyon oluşturulurken hata oluştu","Hata"),o}},updateReservation:async(a,o)=>{try{const l=await s.update("reservations",a,o);return r({type:me.UPDATE_RESERVATION,payload:l}),l}catch(l){throw i.showNotification("error","Rezervasyon güncellenirken hata oluştu","Hata"),l}},deleteReservation:async a=>{try{await s.delete("reservations",a),r({type:me.DELETE_RESERVATION,payload:a}),i.showNotification("success","Rezervasyon başarıyla silindi","Başarılı")}catch(o){throw i.showNotification("error","Rezervasyon silinirken hata oluştu","Hata"),o}},setCurrentReservation:a=>r({type:me.SET_CURRENT_RESERVATION,payload:a}),setVehicles:a=>r({type:me.SET_VEHICLES,payload:a}),addVehicle:async a=>{try{const o=await s.create("vehicles",a);return r({type:me.ADD_VEHICLE,payload:o}),i.showNotification("success","Araç başarıyla eklendi","Başarılı"),o}catch(o){throw i.showNotification("error","Araç eklenirken hata oluştu","Hata"),o}},updateVehicle:async(a,o)=>{try{const l=await s.update("vehicles",a,o);return r({type:me.UPDATE_VEHICLE,payload:l}),i.showNotification("success","Araç başarıyla güncellendi","Başarılı"),l}catch(l){throw i.showNotification("error","Araç güncellenirken hata oluştu","Hata"),l}},deleteVehicle:async a=>{try{await s.delete("vehicles",a),r({type:me.DELETE_VEHICLE,payload:a}),i.showNotification("success","Araç başarıyla silindi","Başarılı")}catch(o){throw i.showNotification("error","Araç silinirken hata oluştu","Hata"),o}},setDrivers:a=>r({type:me.SET_DRIVERS,payload:a}),addDriver:async a=>{try{const o=await s.create("drivers",a);return r({type:me.ADD_DRIVER,payload:o}),i.showNotification("success","Şoför başarıyla eklendi","Başarılı"),o}catch(o){throw i.showNotification("error","Şoför eklenirken hata oluştu","Hata"),o}},updateDriver:async(a,o)=>{try{const l=await s.update("drivers",a,o);return r({type:me.UPDATE_DRIVER,payload:l}),i.showNotification("success","Şoför başarıyla güncellendi","Başarılı"),l}catch(l){throw i.showNotification("error","Şoför güncellenirken hata oluştu","Hata"),l}},deleteDriver:async a=>{try{await s.delete("drivers",a),r({type:me.DELETE_DRIVER,payload:a}),i.showNotification("success","Şoför başarıyla silindi","Başarılı")}catch(o){throw i.showNotification("error","Şoför silinirken hata oluştu","Hata"),o}},setCustomers:a=>r({type:me.SET_CUSTOMERS,payload:a}),addCustomer:async a=>{try{const o=await s.create("customers",a);return r({type:me.ADD_CUSTOMER,payload:o}),o}catch(o){throw i.showNotification("error","Müşteri eklenirken hata oluştu","Hata"),o}},updateCustomer:async(a,o)=>{try{const l=await s.update("customers",a,o);return r({type:me.UPDATE_CUSTOMER,payload:l}),l}catch(l){throw i.showNotification("error","Müşteri güncellenirken hata oluştu","Hata"),l}},setExtraServices:a=>r({type:me.SET_EXTRA_SERVICES,payload:a}),addExtraService:async a=>{try{const o=await s.create("extraServices",a);return r({type:me.ADD_EXTRA_SERVICE,payload:o}),i.showNotification("success","Ek hizmet başarıyla eklendi","Başarılı"),o}catch(o){throw i.showNotification("error","Ek hizmet eklenirken hata oluştu","Hata"),o}},updateExtraService:async(a,o)=>{try{const l=await s.update("extraServices",a,o);return r({type:me.UPDATE_EXTRA_SERVICE,payload:l}),i.showNotification("success","Ek hizmet başarıyla güncellendi","Başarılı"),l}catch(l){throw i.showNotification("error","Ek hizmet güncellenirken hata oluştu","Hata"),l}},deleteExtraService:async a=>{try{await s.delete("extraServices",a),r({type:me.DELETE_EXTRA_SERVICE,payload:a}),i.showNotification("success","Ek hizmet başarıyla silindi","Başarılı")}catch(o){throw i.showNotification("error","Ek hizmet silinirken hata oluştu","Hata"),o}},setSettings:a=>r({type:me.SET_SETTINGS,payload:a}),updateSettings:async a=>{try{const o=await s.update("settings","main",a);return r({type:me.UPDATE_SETTINGS,payload:o}),i.showNotification("success","Ayarlar başarıyla güncellendi","Başarılı"),o}catch(o){throw i.showNotification("error","Ayarlar güncellenirken hata oluştu","Hata"),o}},showModal:(a,o=null)=>r({type:me.SHOW_MODAL,payload:{type:a,data:o}}),hideModal:()=>r({type:me.HIDE_MODAL}),showNotification:(a,o,l="")=>r({type:me.SHOW_NOTIFICATION,payload:{type:a,message:o,title:l}}),hideNotification:()=>r({type:me.HIDE_NOTIFICATION}),loadAllData:async()=>{try{i.setLoading(!0);const[a,o,l,c,u]=await Promise.all([s.getAll("vehicles"),s.getAll("drivers"),s.getAll("customers"),s.getAll("extraServices"),s.getAll("reservations")]);i.setVehicles(a),i.setDrivers(o),i.setCustomers(l),i.setExtraServices(c),i.setReservations(u)}catch(a){console.error("Error loading data:",a),i.showNotification("error","Veriler yüklenirken hata oluştu","Hata")}finally{i.setLoading(!1)}}};return g.useEffect(()=>{i.loadAllData()},[]),n.jsx(hA.Provider,{value:{state:e,actions:i,firebaseOperations:s},children:t})},Ii=()=>{const t=g.useContext(hA);if(!t)throw new Error("useApp must be used within an AppProvider");return t},by=g.createContext({});function wy(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hx=g.createContext(null),Cy=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class iR extends g.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aR({children:t,isPresent:e}){const r=g.useId(),s=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=g.useContext(Cy);return g.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(e||!s.current||!o||!l)return;s.current.dataset.motionPopId=r;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),n.jsx(iR,{isPresent:e,childRef:s,sizeRef:i,children:g.cloneElement(t,{ref:s})})}const oR=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=wy(lR),c=g.useId(),u=g.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;s&&s()},[l,s]),d=g.useMemo(()=>({id:c,initial:e,isPresent:r,custom:i,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),u]:[r,u]);return g.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),g.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),o==="popLayout"&&(t=n.jsx(aR,{isPresent:r,children:t})),n.jsx(Hx.Provider,{value:d,children:t})};function lR(){return new Map}function mA(t=!0){const e=g.useContext(Hx);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:i}=e,a=g.useId();g.useEffect(()=>{t&&i(a)},[t]);const o=g.useCallback(()=>t&&s&&s(a),[a,s,t]);return!r&&s?[!1,o]:[!0]}const ld=t=>t.key||"";function O9(t){const e=[];return g.Children.forEach(t,r=>{g.isValidElement(r)&&e.push(r)}),e}const Ay=typeof window<"u",fA=Ay?g.useLayoutEffect:g.useEffect,Ni=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=mA(o),u=g.useMemo(()=>O9(t),[t]),d=o&&!l?[]:u.map(ld),h=g.useRef(!0),f=g.useRef(u),m=wy(()=>new Map),[p,N]=g.useState(u),[k,w]=g.useState(u);fA(()=>{h.current=!1,f.current=u;for(let E=0;E<k.length;E++){const B=ld(k[E]);d.includes(B)?m.delete(B):m.get(B)!==!0&&m.set(B,!1)}},[k,d.length,d.join("-")]);const j=[];if(u!==p){let E=[...u];for(let B=0;B<k.length;B++){const _=k[B],b=ld(_);d.includes(b)||(E.splice(B,0,_),j.push(_))}a==="wait"&&j.length&&(E=j),w(O9(E)),N(u);return}const{forceRender:C}=g.useContext(by);return n.jsx(n.Fragment,{children:k.map(E=>{const B=ld(E),_=o&&!l?!1:u===k||d.includes(B),b=()=>{if(m.has(B))m.set(B,!0);else return;let v=!0;m.forEach(y=>{y||(v=!1)}),v&&(C==null||C(),w(f.current),o&&(c==null||c()),s&&s())};return n.jsx(oR,{isPresent:_,initial:!h.current||r?void 0:!1,custom:_?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:_?void 0:b,children:E},B)})})},Kr=t=>t;let pA=Kr;function Ny(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ro=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s},hn=t=>t*1e3,mn=t=>t/1e3,cR={useManualTiming:!1};function uR(t){let e=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&s?e:r;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(o=u,s){i=!0;return}s=!0,[e,r]=[r,e],e.forEach(l),e.clear(),s=!1,i&&(i=!1,c.process(u))}};return c}const cd=["read","resolveKeyframes","update","preRender","render","postRender"],dR=40;function gA(t,e){let r=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=cd.reduce((w,j)=>(w[j]=uR(a),w),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,m=()=>{const w=performance.now();r=!1,i.delta=s?1e3/60:Math.max(Math.min(w-i.timestamp,dR),1),i.timestamp=w,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,r&&e&&(s=!1,t(m))},p=()=>{r=!0,s=!0,i.isProcessing||t(m)};return{schedule:cd.reduce((w,j)=>{const C=o[j];return w[j]=(E,B=!1,_=!1)=>(r||p(),C.schedule(E,B,_)),w},{}),cancel:w=>{for(let j=0;j<cd.length;j++)o[cd[j]].cancel(w)},state:i,steps:o}}const{schedule:at,cancel:ji,state:qt,steps:sm}=gA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kr,!0),yA=g.createContext({strict:!1}),V9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lo={};for(const t in V9)Lo[t]={isEnabled:e=>V9[t].some(r=>!!e[r])};function xR(t){for(const e in t)Lo[e]={...Lo[e],...t[e]}}const hR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function I0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hR.has(t)}let vA=t=>!I0(t);function mR(t){t&&(vA=e=>e.startsWith("on")?!I0(e):t(e))}try{mR(require("@emotion/is-prop-valid").default)}catch{}function fR(t,e,r){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(vA(i)||r===!0&&I0(i)||!e&&!I0(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function pR(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...s)=>t(...s);return new Proxy(r,{get:(s,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Kx=g.createContext({});function Mc(t){return typeof t=="string"||Array.isArray(t)}function Gx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dy=["initial",...jy];function Wx(t){return Gx(t.animate)||Dy.some(e=>Mc(t[e]))}function EA(t){return!!(Wx(t)||t.variants)}function gR(t,e){if(Wx(t)){const{initial:r,animate:s}=t;return{initial:r===!1||Mc(r)?r:void 0,animate:Mc(s)?s:void 0}}return t.inherit!==!1?e:{}}function yR(t){const{initial:e,animate:r}=gR(t,g.useContext(Kx));return g.useMemo(()=>({initial:e,animate:r}),[z9(e),z9(r)])}function z9(t){return Array.isArray(t)?t.join(" "):t}const vR=Symbol.for("motionComponentSymbol");function no(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ER(t,e,r){return g.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):no(r)&&(r.current=s))},[e])}const ky=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bR="framerAppearId",bA="data-"+ky(bR),{schedule:By}=gA(queueMicrotask,!1),wA=g.createContext({});function wR(t,e,r,s,i){var a,o;const{visualElement:l}=g.useContext(Kx),c=g.useContext(yA),u=g.useContext(Hx),d=g.useContext(Cy).reducedMotion,h=g.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=g.useContext(wA);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&CR(h.current,r,i,m);const p=g.useRef(!1);g.useInsertionEffect(()=>{f&&p.current&&f.update(r,u)});const N=r[bA],k=g.useRef(!!N&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,N))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,N)));return fA(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),By.render(f.render),k.current&&f.animationState&&f.animationState.animateChanges())}),g.useEffect(()=>{f&&(!k.current&&f.animationState&&f.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,N)}),k.current=!1))}),f}function CR(t,e,r,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:CA(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&no(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:u})}function CA(t){if(t)return t.options.allowProjection!==!1?t.projection:CA(t.parent)}function AR({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:s,Component:i}){var a,o;t&&xR(t);function l(u,d){let h;const f={...g.useContext(Cy),...u,layoutId:NR(u)},{isStatic:m}=f,p=yR(u),N=s(u,m);if(!m&&Ay){jR();const k=DR(f);h=k.MeasureLayout,p.visualElement=wR(i,N,f,e,k.ProjectionNode)}return n.jsxs(Kx.Provider,{value:p,children:[h&&p.visualElement?n.jsx(h,{visualElement:p.visualElement,...f}):null,r(i,u,ER(N,p.visualElement,d),N,m,p.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=g.forwardRef(l);return c[vR]=i,c}function NR({layoutId:t}){const e=g.useContext(by).id;return e&&t!==void 0?e+"-"+t:t}function jR(t,e){g.useContext(yA).strict}function DR(t){const{drag:e,layout:r}=Lo;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const kR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _y(t){return typeof t!="string"||t.includes("-")?!1:!!(kR.indexOf(t)>-1||/[A-Z]/u.test(t))}function U9(t){const e=[{},{}];return t==null||t.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function Fy(t,e,r,s){if(typeof e=="function"){const[i,a]=U9(s);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=U9(s);e=e(r!==void 0?r:t.custom,i,a)}return e}const Qf=t=>Array.isArray(t),BR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_R=t=>Qf(t)?t[t.length-1]||0:t,xr=t=>!!(t&&t.getVelocity);function Md(t){const e=xr(t)?t.get():t;return BR(e)?e.toValue():e}function FR({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},s,i,a){const o={latestValues:SR(s,i,a,t),renderState:e()};return r&&(o.onMount=l=>r({props:s,current:l,...o}),o.onUpdate=l=>r(l)),o}const AA=t=>(e,r)=>{const s=g.useContext(Kx),i=g.useContext(Hx),a=()=>FR(t,e,s,i);return r?a():wy(a)};function SR(t,e,r,s){const i={},a=s(t,{});for(const f in a)i[f]=Md(a[f]);let{initial:o,animate:l}=t;const c=Wx(t),u=EA(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Gx(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=Fy(t,f[m]);if(p){const{transitionEnd:N,transition:k,...w}=p;for(const j in w){let C=w[j];if(Array.isArray(C)){const E=d?C.length-1:0;C=C[E]}C!==null&&(i[j]=C)}for(const j in N)i[j]=N[j]}}}return i}const el=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(el),NA=t=>e=>typeof e=="string"&&e.startsWith(t),jA=NA("--"),TR=NA("var(--"),Sy=t=>TR(t)?PR.test(t.split("/*")[0].trim()):!1,PR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,DA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nn=(t,e,r)=>r>e?e:r<t?t:r,tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Oc={...tl,transform:t=>Nn(0,1,t)},ud={...tl,default:1},gu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hn=gu("deg"),zs=gu("%"),ge=gu("px"),IR=gu("vh"),RR=gu("vw"),$9={...zs,parse:t=>zs.parse(t)/100,transform:t=>zs.transform(t*100)},LR={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},MR={rotate:Hn,rotateX:Hn,rotateY:Hn,rotateZ:Hn,scale:ud,scaleX:ud,scaleY:ud,scaleZ:ud,skew:Hn,skewX:Hn,skewY:Hn,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Oc,originX:$9,originY:$9,originZ:ge},H9={...tl,transform:Math.round},Ty={...LR,...MR,zIndex:H9,size:ge,fillOpacity:Oc,strokeOpacity:Oc,numOctaves:H9},OR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VR=el.length;function zR(t,e,r){let s="",i=!0;for(let a=0;a<VR;a++){const o=el[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=DA(l,Ty[o]);if(!c){i=!1;const d=OR[o]||o;s+=`${d}(${u}) `}r&&(e[o]=u)}}return s=s.trim(),r?s=r(e,i?"":s):i&&(s="none"),s}function Py(t,e,r){const{style:s,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Ta.has(c)){o=!0;continue}else if(jA(c)){i[c]=u;continue}else{const d=DA(u,Ty[c]);c.startsWith("origin")?(l=!0,a[c]=d):s[c]=d}}if(e.transform||(o||r?s.transform=zR(e,t.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;s.transformOrigin=`${c} ${u} ${d}`}}const UR={offset:"stroke-dashoffset",array:"stroke-dasharray"},$R={offset:"strokeDashoffset",array:"strokeDasharray"};function HR(t,e,r=1,s=0,i=!0){t.pathLength=1;const a=i?UR:$R;t[a.offset]=ge.transform(-s);const o=ge.transform(e),l=ge.transform(r);t[a.array]=`${o} ${l}`}function K9(t,e,r){return typeof t=="string"?t:ge.transform(e+r*t)}function KR(t,e,r){const s=K9(e,t.x,t.width),i=K9(r,t.y,t.height);return`${s} ${i}`}function Iy(t,{attrX:e,attrY:r,attrScale:s,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(Py(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:p}=t;f.transform&&(p&&(m.transform=f.transform),delete f.transform),p&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=KR(p,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),s!==void 0&&(f.scale=s),o!==void 0&&HR(f,o,l,c,!1)}const Ry=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kA=()=>({...Ry(),attrs:{}}),Ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BA(t,{style:e,vars:r},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const a in r)t.style.setProperty(a,r[a])}const _A=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FA(t,e,r,s){BA(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(_A.has(i)?i:ky(i),e.attrs[i])}const R0={};function GR(t){Object.assign(R0,t)}function SA(t,{layout:e,layoutId:r}){return Ta.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!R0[t]||t==="opacity")}function My(t,e,r){var s;const{style:i}=t,a={};for(const o in i)(xr(i[o])||e.style&&xr(e.style[o])||SA(o,t)||((s=r==null?void 0:r.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function TA(t,e,r){const s=My(t,e,r);for(const i in t)if(xr(t[i])||xr(e[i])){const a=el.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}function WR(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const G9=["x","y","width","height","cx","cy","r"],qR={useVisualState:AA({scrapeMotionValuesFromProps:TA,createRenderState:kA,onUpdate:({props:t,prevProps:e,current:r,renderState:s,latestValues:i})=>{if(!r)return;let a=!!t.drag;if(!a){for(const l in i)if(Ta.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<G9.length;l++){const c=G9[l];t[c]!==e[c]&&(o=!0)}o&&at.read(()=>{WR(r,s),at.render(()=>{Iy(s,i,Ly(r.tagName),t.transformTemplate),FA(r,s)})})}})},YR={useVisualState:AA({scrapeMotionValuesFromProps:My,createRenderState:Ry})};function PA(t,e,r){for(const s in e)!xr(e[s])&&!SA(s,r)&&(t[s]=e[s])}function QR({transformTemplate:t},e){return g.useMemo(()=>{const r=Ry();return Py(r,e,t),Object.assign({},r.vars,r.style)},[e])}function XR(t,e){const r=t.style||{},s={};return PA(s,r,t),Object.assign(s,QR(t,e)),s}function ZR(t,e){const r={},s=XR(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}function JR(t,e,r,s){const i=g.useMemo(()=>{const a=kA();return Iy(a,e,Ly(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};PA(a,t.style,t),i.style={...a,...i.style}}return i}function eL(t=!1){return(r,s,i,{latestValues:a},o)=>{const c=(_y(r)?JR:ZR)(s,a,o,r),u=fR(s,typeof r=="string",t),d=r!==g.Fragment?{...u,...c,ref:i}:{},{children:h}=s,f=g.useMemo(()=>xr(h)?h.get():h,[h]);return g.createElement(r,{...d,children:f})}}function tL(t,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={..._y(s)?qR:YR,preloadedFeatures:t,useRender:eL(i),createVisualElement:e,Component:s};return AR(o)}}function IA(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}function qx(t,e,r){const s=t.getProps();return Fy(s,e,r!==void 0?r:s.custom,t)}const rL=Ny(()=>window.ScrollTimeline!==void 0);class sL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=r}attachTimeline(e,r){const s=this.animations.map(i=>{if(rL()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{s.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class nL extends sL{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function Oy(t,e){return t?t[e]||t.default||t:void 0}const Xf=2e4;function RA(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Xf;)e+=r,s=t.next(e);return e>=Xf?1/0:e}function Vy(t){return typeof t=="function"}function W9(t,e){t.timeline=e,t.onfinish=null}const zy=t=>Array.isArray(t)&&typeof t[0]=="number",iL={linearEasing:void 0};function aL(t,e){const r=Ny(t);return()=>{var s;return(s=iL[e])!==null&&s!==void 0?s:r()}}const L0=aL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),LA=(t,e,r=10)=>{let s="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)s+=t(Ro(0,i-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function MA(t){return!!(typeof t=="function"&&L0()||!t||typeof t=="string"&&(t in Zf||L0())||zy(t)||Array.isArray(t)&&t.every(MA))}const Ol=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,Zf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ol([0,.65,.55,1]),circOut:Ol([.55,0,1,.45]),backIn:Ol([.31,.01,.66,-.59]),backOut:Ol([.33,1.53,.69,.99])};function OA(t,e){if(t)return typeof t=="function"&&L0()?LA(t,e):zy(t)?Ol(t):Array.isArray(t)?t.map(r=>OA(r,e)||Zf.easeOut):Zf[t]}const xs={x:!1,y:!1};function VA(){return xs.x||xs.y}function oL(t,e,r){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function zA(t,e){const r=oL(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[r,i,()=>s.abort()]}function q9(t){return e=>{e.pointerType==="touch"||VA()||t(e)}}function lL(t,e,r={}){const[s,i,a]=zA(t,r),o=q9(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=q9(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const UA=(t,e)=>e?t===e?!0:UA(t,e.parentElement):!1,Uy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uL(t){return cL.has(t.tagName)||t.tabIndex!==-1}const Vl=new WeakSet;function Y9(t){return e=>{e.key==="Enter"&&t(e)}}function nm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dL=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=Y9(()=>{if(Vl.has(r))return;nm(r,"down");const i=Y9(()=>{nm(r,"up")}),a=()=>nm(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function Q9(t){return Uy(t)&&!VA()}function xL(t,e,r={}){const[s,i,a]=zA(t,r),o=l=>{const c=l.currentTarget;if(!Q9(l)||Vl.has(c))return;Vl.add(c);const u=e(l),d=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Q9(m)||!Vl.has(c))&&(Vl.delete(c),typeof u=="function"&&u(m,{success:p}))},h=m=>{d(m,r.useGlobalTarget||UA(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(l=>{!uL(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>dL(u,i),i)}),a}function hL(t){return t==="x"||t==="y"?xs[t]?null:(xs[t]=!0,()=>{xs[t]=!1}):xs.x||xs.y?null:(xs.x=xs.y=!0,()=>{xs.x=xs.y=!1})}const $A=new Set(["width","height","top","left","right","bottom",...el]);let Od;function mL(){Od=void 0}const Us={now:()=>(Od===void 0&&Us.set(qt.isProcessing||cR.useManualTiming?qt.timestamp:performance.now()),Od),set:t=>{Od=t,queueMicrotask(mL)}};function $y(t,e){t.indexOf(e)===-1&&t.push(e)}function Hy(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Ky{constructor(){this.subscriptions=[]}add(e){return $y(this.subscriptions,e),()=>Hy(this.subscriptions,e)}notify(e,r,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function HA(t,e){return e?t*(1e3/e):0}const X9=30,fL=t=>!isNaN(parseFloat(t));class pL{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const a=Us.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Ky);const s=this.events[e].add(r);return e==="change"?()=>{s(),at.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>X9)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,X9);return HA(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vc(t,e){return new pL(t,e)}function gL(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Vc(r))}function yL(t,e){const r=qx(t,e);let{transitionEnd:s={},transition:i={},...a}=r||{};a={...a,...s};for(const o in a){const l=_R(a[o]);gL(t,o,l)}}function vL(t){return!!(xr(t)&&t.add)}function Jf(t,e){const r=t.getValue("willChange");if(vL(r))return r.add(e)}function KA(t){return t.props[bA]}const GA=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,EL=1e-7,bL=12;function wL(t,e,r,s,i){let a,o,l=0;do o=e+(r-e)/2,a=GA(o,s,i)-t,a>0?r=o:e=o;while(Math.abs(a)>EL&&++l<bL);return o}function yu(t,e,r,s){if(t===e&&r===s)return Kr;const i=a=>wL(a,0,1,t,r);return a=>a===0||a===1?a:GA(i(a),e,s)}const WA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qA=t=>e=>1-t(1-e),YA=yu(.33,1.53,.69,.99),Gy=qA(YA),QA=WA(Gy),XA=t=>(t*=2)<1?.5*Gy(t):.5*(2-Math.pow(2,-10*(t-1))),Wy=t=>1-Math.sin(Math.acos(t)),ZA=qA(Wy),JA=WA(Wy),e4=t=>/^0[^.\s]+$/u.test(t);function CL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||e4(t):!0}const nc=t=>Math.round(t*1e5)/1e5,qy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AL(t){return t==null}const NL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yy=(t,e)=>r=>!!(typeof r=="string"&&NL.test(r)&&r.startsWith(t)||e&&!AL(r)&&Object.prototype.hasOwnProperty.call(r,e)),t4=(t,e,r)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(qy);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},jL=t=>Nn(0,255,t),im={...tl,transform:t=>Math.round(jL(t))},na={test:Yy("rgb","red"),parse:t4("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+im.transform(t)+", "+im.transform(e)+", "+im.transform(r)+", "+nc(Oc.transform(s))+")"};function DL(t){let e="",r="",s="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const ep={test:Yy("#"),parse:DL,transform:na.transform},io={test:Yy("hsl","hue"),parse:t4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+zs.transform(nc(e))+", "+zs.transform(nc(r))+", "+nc(Oc.transform(s))+")"},cr={test:t=>na.test(t)||ep.test(t)||io.test(t),parse:t=>na.test(t)?na.parse(t):io.test(t)?io.parse(t):ep.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?na.transform(t):io.transform(t)},kL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BL(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qy))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(kL))===null||r===void 0?void 0:r.length)||0)>0}const r4="number",s4="color",_L="var",FL="var(",Z9="${}",SL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zc(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(SL,c=>(cr.test(c)?(s.color.push(a),i.push(s4),r.push(cr.parse(c))):c.startsWith(FL)?(s.var.push(a),i.push(_L),r.push(c)):(s.number.push(a),i.push(r4),r.push(parseFloat(c))),++a,Z9)).split(Z9);return{values:r,split:l,indexes:s,types:i}}function n4(t){return zc(t).values}function i4(t){const{split:e,types:r}=zc(t),s=e.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=e[o],i[o]!==void 0){const l=r[o];l===r4?a+=nc(i[o]):l===s4?a+=cr.transform(i[o]):a+=i[o]}return a}}const TL=t=>typeof t=="number"?0:t;function PL(t){const e=n4(t);return i4(t)(e.map(TL))}const Di={test:BL,parse:n4,createTransformer:i4,getAnimatableNone:PL},IL=new Set(["brightness","contrast","saturate","opacity"]);function RL(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(qy)||[];if(!s)return t;const i=r.replace(s,"");let a=IL.has(e)?1:0;return s!==r&&(a*=100),e+"("+a+i+")"}const LL=/\b([a-z-]*)\(.*?\)/gu,tp={...Di,getAnimatableNone:t=>{const e=t.match(LL);return e?e.map(RL).join(" "):t}},ML={...Ty,color:cr,backgroundColor:cr,outlineColor:cr,fill:cr,stroke:cr,borderColor:cr,borderTopColor:cr,borderRightColor:cr,borderBottomColor:cr,borderLeftColor:cr,filter:tp,WebkitFilter:tp},Qy=t=>ML[t];function a4(t,e){let r=Qy(t);return r!==tp&&(r=Di),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const OL=new Set(["auto","none","0"]);function VL(t,e,r){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!OL.has(a)&&zc(a).values.length&&(i=t[s]),s++}if(i&&r)for(const a of e)t[a]=a4(r,i)}const J9=t=>t===tl||t===ge,e1=(t,e)=>parseFloat(t.split(", ")[e]),t1=(t,e)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return e1(i[1],e);{const a=s.match(/^matrix\((.+)\)$/u);return a?e1(a[1],t):0}},zL=new Set(["x","y","z"]),UL=el.filter(t=>!zL.has(t));function $L(t){const e=[];return UL.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const Mo={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:t1(4,13),y:t1(5,14)};Mo.translateX=Mo.x;Mo.translateY=Mo.y;const ca=new Set;let rp=!1,sp=!1;function o4(){if(sp){const t=Array.from(ca).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const i=$L(s);i.length&&(r.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=r.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}sp=!1,rp=!1,ca.forEach(t=>t.complete()),ca.clear()}function l4(){ca.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sp=!0)})}function HL(){l4(),o4()}class Xy{constructor(e,r,s,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ca.add(this),rp||(rp=!0,at.read(l4),at.resolveKeyframes(o4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&r){const c=s.readValue(r,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ca.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ca.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const c4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),KL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GL(t){const e=KL.exec(t);if(!e)return[,];const[,r,s,i]=e;return[`--${r??s}`,i]}function u4(t,e,r=1){const[s,i]=GL(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return c4(o)?parseFloat(o):o}return Sy(i)?u4(i,e,r+1):i}const d4=t=>e=>e.test(t),WL={test:t=>t==="auto",parse:t=>t},x4=[tl,ge,zs,Hn,RR,IR,WL],r1=t=>x4.find(d4(t));class h4 extends Xy{constructor(e,r,s,i,a){super(e,r,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Sy(u))){const d=u4(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$A.has(s)||e.length!==2)return;const[i,a]=e,o=r1(i),l=r1(a);if(o!==l)if(J9(o)&&J9(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let i=0;i<e.length;i++)CL(e[i])&&s.push(i);s.length&&VL(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:s,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(s);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Mo[s](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const s1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Di.test(t)||t==="0")&&!t.startsWith("url("));function qL(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function YL(t,e,r,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=s1(i,e),l=s1(a,e);return!o||!l?!1:qL(t)||(r==="spring"||Vy(r))&&s}const QL=t=>t!==null;function Yx(t,{repeat:e,repeatType:r="loop"},s){const i=t.filter(QL),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const XL=40;class m4{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Us.now(),this.options={autoplay:e,delay:r,type:s,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>XL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HL(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Us.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!YL(e,s,i,a))if(o)this.options.duration=0;else{c&&c(Yx(e,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,r);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xt=(t,e,r)=>t+(e-t)*r;function am(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ZL({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=am(c,l,t+1/3),a=am(c,l,t),o=am(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function M0(t,e){return r=>r>0?e:t}const om=(t,e,r)=>{const s=t*t,i=r*(e*e-s)+s;return i<0?0:Math.sqrt(i)},JL=[ep,na,io],eM=t=>JL.find(e=>e.test(t));function n1(t){const e=eM(t);if(!e)return!1;let r=e.parse(t);return e===io&&(r=ZL(r)),r}const i1=(t,e)=>{const r=n1(t),s=n1(e);if(!r||!s)return M0(t,e);const i={...r};return a=>(i.red=om(r.red,s.red,a),i.green=om(r.green,s.green,a),i.blue=om(r.blue,s.blue,a),i.alpha=xt(r.alpha,s.alpha,a),na.transform(i))},tM=(t,e)=>r=>e(t(r)),vu=(...t)=>t.reduce(tM),np=new Set(["none","hidden"]);function rM(t,e){return np.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function sM(t,e){return r=>xt(t,e,r)}function Zy(t){return typeof t=="number"?sM:typeof t=="string"?Sy(t)?M0:cr.test(t)?i1:aM:Array.isArray(t)?f4:typeof t=="object"?cr.test(t)?i1:nM:M0}function f4(t,e){const r=[...t],s=r.length,i=t.map((a,o)=>Zy(a)(a,e[o]));return a=>{for(let o=0;o<s;o++)r[o]=i[o](a);return r}}function nM(t,e){const r={...t,...e},s={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Zy(t[i])(t[i],e[i]));return i=>{for(const a in s)r[a]=s[a](i);return r}}function iM(t,e){var r;const s=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][i[o]],c=(r=t.values[l])!==null&&r!==void 0?r:0;s[a]=c,i[o]++}return s}const aM=(t,e)=>{const r=Di.createTransformer(e),s=zc(t),i=zc(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?np.has(t)&&!i.values.length||np.has(e)&&!s.values.length?rM(t,e):vu(f4(iM(s,i),i.values),r):M0(t,e)};function p4(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?xt(t,e,r):Zy(t)(t,e)}const oM=5;function g4(t,e,r){const s=Math.max(e-oM,0);return HA(r-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lm=.001;function lM({duration:t=vt.duration,bounce:e=vt.bounce,velocity:r=vt.velocity,mass:s=vt.mass}){let i,a,o=1-e;o=Nn(vt.minDamping,vt.maxDamping,o),t=Nn(vt.minDuration,vt.maxDuration,mn(t)),o<1?(i=u=>{const d=u*o,h=d*t,f=d-r,m=ip(u,o),p=Math.exp(-h);return lm-f/m*p},a=u=>{const h=u*o*t,f=h*r+r,m=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-h),N=ip(Math.pow(u,2),o);return(-i(u)+lm>0?-1:1)*((f-m)*p)/N}):(i=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-lm+d*h},a=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const l=5/t,c=uM(i,a,l);if(t=hn(t),isNaN(c))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:t}}}const cM=12;function uM(t,e,r){let s=r;for(let i=1;i<cM;i++)s=s-t(s)/e(s);return s}function ip(t,e){return t*Math.sqrt(1-e*e)}const dM=["duration","bounce"],xM=["stiffness","damping","mass"];function a1(t,e){return e.some(r=>t[r]!==void 0)}function hM(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!a1(t,xM)&&a1(t,dM))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),i=s*s,a=2*Nn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:vt.mass,stiffness:i,damping:a}}else{const r=lM(t);e={...e,...r,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function y4(t=vt.visualDuration,e=vt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=hM({...r,velocity:-mn(r.velocity||0)}),p=f||0,N=u/(2*Math.sqrt(c*d)),k=o-a,w=mn(Math.sqrt(c/d)),j=Math.abs(k)<5;s||(s=j?vt.restSpeed.granular:vt.restSpeed.default),i||(i=j?vt.restDelta.granular:vt.restDelta.default);let C;if(N<1){const B=ip(w,N);C=_=>{const b=Math.exp(-N*w*_);return o-b*((p+N*w*k)/B*Math.sin(B*_)+k*Math.cos(B*_))}}else if(N===1)C=B=>o-Math.exp(-w*B)*(k+(p+w*k)*B);else{const B=w*Math.sqrt(N*N-1);C=_=>{const b=Math.exp(-N*w*_),v=Math.min(B*_,300);return o-b*((p+N*w*k)*Math.sinh(v)+B*k*Math.cosh(v))/B}}const E={calculatedDuration:m&&h||null,next:B=>{const _=C(B);if(m)l.done=B>=h;else{let b=0;N<1&&(b=B===0?hn(p):g4(C,B,_));const v=Math.abs(b)<=s,y=Math.abs(o-_)<=i;l.done=v&&y}return l.value=l.done?o:_,l},toString:()=>{const B=Math.min(RA(E),Xf),_=LA(b=>E.next(B*b).value,B,30);return B+"ms "+_}};return E}function o1({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=v=>l!==void 0&&v<l||c!==void 0&&v>c,p=v=>l===void 0?c:c===void 0||Math.abs(l-v)<Math.abs(c-v)?l:c;let N=r*e;const k=h+N,w=o===void 0?k:o(k);w!==k&&(N=w-h);const j=v=>-N*Math.exp(-v/s),C=v=>w+j(v),E=v=>{const y=j(v),A=C(v);f.done=Math.abs(y)<=u,f.value=f.done?w:A};let B,_;const b=v=>{m(f.value)&&(B=v,_=y4({keyframes:[f.value,p(f.value)],velocity:g4(C,v,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return b(0),{calculatedDuration:null,next:v=>{let y=!1;return!_&&B===void 0&&(y=!0,E(v),b(v)),B!==void 0&&v>=B?_.next(v-B):(!y&&E(v),f)}}}const mM=yu(.42,0,1,1),fM=yu(0,0,.58,1),v4=yu(.42,0,.58,1),pM=t=>Array.isArray(t)&&typeof t[0]!="number",gM={linear:Kr,easeIn:mM,easeInOut:v4,easeOut:fM,circIn:Wy,circInOut:JA,circOut:ZA,backIn:Gy,backInOut:QA,backOut:YA,anticipate:XA},l1=t=>{if(zy(t)){pA(t.length===4);const[e,r,s,i]=t;return yu(e,r,s,i)}else if(typeof t=="string")return gM[t];return t};function yM(t,e,r){const s=[],i=r||p4,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Kr:e;l=vu(c,l)}s.push(l)}return s}function vM(t,e,{clamp:r=!0,ease:s,mixer:i}={}){const a=t.length;if(pA(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=yM(e,s,i),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Ro(t[h],t[h+1],d);return l[h](f)};return r?d=>u(Nn(t[0],t[a-1],d)):u}function EM(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const i=Ro(0,e,s);t.push(xt(r,1,i))}}function bM(t){const e=[0];return EM(e,t.length-1),e}function wM(t,e){return t.map(r=>r*e)}function CM(t,e){return t.map(()=>e||v4).splice(0,t.length-1)}function O0({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const i=pM(s)?s.map(l1):l1(s),a={done:!1,value:e[0]},o=wM(r&&r.length===e.length?r:bM(e),t),l=vM(o,e,{ease:Array.isArray(i)?i:CM(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const AM=t=>{const e=({timestamp:r})=>t(r);return{start:()=>at.update(e,!0),stop:()=>ji(e),now:()=>qt.isProcessing?qt.timestamp:Us.now()}},NM={decay:o1,inertia:o1,tween:O0,keyframes:O0,spring:y4},jM=t=>t/100;class Jy extends m4{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:s,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Xy,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,r,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=Vy(r)?r:NM[r]||O0;let c,u;l!==O0&&typeof e[0]!="number"&&(c=vu(jM,p4(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});a==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=RA(d));const{calculatedDuration:h}=d,f=h+i,m=f*(s+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:s}=this;if(!s){const{keyframes:v}=this.options;return{done:!0,value:v[v.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=s;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:p,repeatDelay:N,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),j=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,E=a;if(m){const v=Math.min(this.currentTime,d)/h;let y=Math.floor(v),A=v%1;!A&&v>=1&&(A=1),A===1&&y--,y=Math.min(y,m+1),!!(y%2)&&(p==="reverse"?(A=1-A,N&&(A-=N/h)):p==="mirror"&&(E=o)),C=Nn(0,1,A)*h}const B=j?{done:!1,value:c[0]}:E.next(C);l&&(B.value=l(B.value));let{done:_}=B;!j&&u!==null&&(_=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return b&&i!==void 0&&(B.value=Yx(c,this.options,i)),k&&k(B.value),b&&this.finish(),B}get duration(){const{resolved:e}=this;return e?mn(e.calculatedDuration):0}get time(){return mn(this.currentTime)}set time(e){e=hn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=mn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=AM,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const DM=new Set(["opacity","clipPath","filter","transform"]);function kM(t,e,r,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=OA(l,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const BM=Ny(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),V0=10,_M=2e4;function FM(t){return Vy(t.type)||t.type==="spring"||!MA(t.ease)}function SM(t,e){const r=new Jy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const i=[];let a=0;for(;!s.done&&a<_M;)s=r.sample(a),i.push(s.value),a+=V0;return{times:void 0,keyframes:i,duration:a-V0,ease:"linear"}}const E4={anticipate:XA,backInOut:QA,circInOut:JA};function TM(t){return t in E4}class c1 extends m4{constructor(e){super(e);const{name:r,motionValue:s,element:i,keyframes:a}=this.options;this.resolver=new h4(a,(o,l)=>this.onKeyframesResolved(o,l),r,s,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:s=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&L0()&&TM(a)&&(a=E4[a]),FM(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:p,...N}=this.options,k=SM(e,N);e=k.keyframes,e.length===1&&(e[1]=e[0]),s=k.duration,i=k.times,a=k.ease,o="keyframes"}const d=kM(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(W9(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Yx(e,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return mn(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return mn(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=hn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Kr;const{animation:s}=r;W9(s,e)}return Kr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:s,duration:i,type:a,ease:o,times:l}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,p=new Jy({...m,keyframes:s,duration:i,type:a,ease:o,times:l,isGenerator:!0}),N=hn(this.time);u.setWithVelocity(p.sample(N-V0).value,p.sample(N).value,V0)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:s,repeatDelay:i,repeatType:a,damping:o,type:l}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return BM()&&s&&DM.has(s)&&!c&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const PM={type:"spring",stiffness:500,damping:25,restSpeed:10},IM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RM={type:"keyframes",duration:.8},LM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MM=(t,{keyframes:e})=>e.length>2?RM:Ta.has(t)?t.startsWith("scale")?IM(e[1]):PM:LM;function OM({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ev=(t,e,r,s={},i,a)=>o=>{const l=Oy(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-hn(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};OM(l)||(d={...d,...MM(t,d)}),d.duration&&(d.duration=hn(d.duration)),d.repeatDelay&&(d.repeatDelay=hn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const f=Yx(d.keyframes,l);if(f!==void 0)return at.update(()=>{d.onUpdate(f),d.onComplete()}),new nL([])}return!a&&c1.supports(d)?new c1(d):new Jy(d)};function VM({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function b4(t,e,{delay:r=0,transitionOverride:s,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(o=s);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const f=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),m=c[h];if(m===void 0||d&&VM(d,h))continue;const p={delay:r,...Oy(o||{},h)};let N=!1;if(window.MotionHandoffAnimation){const w=KA(t);if(w){const j=window.MotionHandoffAnimation(w,h,at);j!==null&&(p.startTime=j,N=!0)}}Jf(t,h),f.start(ev(h,f,m,t.shouldReduceMotion&&$A.has(h)?{type:!1}:p,t,N));const k=f.animation;k&&u.push(k)}return l&&Promise.all(u).then(()=>{at.update(()=>{l&&yL(t,l)})}),u}function ap(t,e,r={}){var s;const i=qx(t,e,r.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(b4(t,i,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return zM(t,e,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function zM(t,e,r=0,s=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*s,c=i===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(t.variantChildren).sort(UM).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(ap(u,e,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function UM(t,e){return t.sortNodePosition(e)}function $M(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>ap(t,a,r));s=Promise.all(i)}else if(typeof e=="string")s=ap(t,e,r);else{const i=typeof e=="function"?qx(t,e,r.custom):e;s=Promise.all(b4(t,i,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}const HM=Dy.length;function w4(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?w4(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<HM;r++){const s=Dy[r],i=t.props[s];(Mc(i)||i===!1)&&(e[s]=i)}return e}const KM=[...jy].reverse(),GM=jy.length;function WM(t){return e=>Promise.all(e.map(({animation:r,options:s})=>$M(t,r,s)))}function qM(t){let e=WM(t),r=u1(),s=!0;const i=c=>(u,d)=>{var h;const f=qx(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...N}=f;u={...u,...N,...p}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,d=w4(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let k=0;k<GM;k++){const w=KM[k],j=r[w],C=u[w]!==void 0?u[w]:d[w],E=Mc(C),B=w===c?j.isActive:null;B===!1&&(p=k);let _=C===d[w]&&C!==u[w]&&E;if(_&&s&&t.manuallyAnimateOnMount&&(_=!1),j.protectedKeys={...m},!j.isActive&&B===null||!C&&!j.prevProp||Gx(C)||typeof C=="boolean")continue;const b=YM(j.prevProp,C);let v=b||w===c&&j.isActive&&!_&&E||k>p&&E,y=!1;const A=Array.isArray(C)?C:[C];let F=A.reduce(i(w),{});B===!1&&(F={});const{prevResolvedValues:P={}}=j,S={...P,...F},V=I=>{v=!0,f.has(I)&&(y=!0,f.delete(I)),j.needsAnimating[I]=!0;const L=t.getValue(I);L&&(L.liveStyle=!1)};for(const I in S){const L=F[I],z=P[I];if(m.hasOwnProperty(I))continue;let O=!1;Qf(L)&&Qf(z)?O=!IA(L,z):O=L!==z,O?L!=null?V(I):f.add(I):L!==void 0&&f.has(I)?V(I):j.protectedKeys[I]=!0}j.prevProp=C,j.prevResolvedValues=F,j.isActive&&(m={...m,...F}),s&&t.blockInitialAnimation&&(v=!1),v&&(!(_&&b)||y)&&h.push(...A.map(I=>({animation:I,options:{type:w}})))}if(f.size){const k={};f.forEach(w=>{const j=t.getBaseTarget(w),C=t.getValue(w);C&&(C.liveStyle=!0),k[w]=j??null}),h.push({animation:k})}let N=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(h):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const h=o(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=u1(),s=!0}}}function YM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IA(e,t):!1}function Ki(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u1(){return{animate:Ki(!0),whileInView:Ki(),whileHover:Ki(),whileTap:Ki(),whileDrag:Ki(),whileFocus:Ki(),exit:Ki()}}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QM extends Ri{constructor(e){super(e),e.animationState||(e.animationState=qM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let XM=0;class ZM extends Ri{constructor(){super(...arguments),this.id=XM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const JM={animation:{Feature:QM},exit:{Feature:ZM}};function Uc(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function Eu(t){return{point:{x:t.pageX,y:t.pageY}}}const eO=t=>e=>Uy(e)&&t(e,Eu(e));function ic(t,e,r,s){return Uc(t,e,eO(r),s)}const d1=(t,e)=>Math.abs(t-e);function tO(t,e){const r=d1(t.x,e.x),s=d1(t.y,e.y);return Math.sqrt(r**2+s**2)}class C4{constructor(e,r,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=um(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=tO(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:p}=h,{timestamp:N}=qt;this.history.push({...p,timestamp:N});const{onStart:k,onMove:w}=this.handlers;f||(k&&k(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=cm(f,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=um(h.type==="pointercancel"?this.lastMoveEventInfo:cm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,k),p&&p(h,k)},!Uy(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=s,this.contextWindow=i||window;const o=Eu(e),l=cm(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=qt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,um(l,this.history)),this.removeListeners=vu(ic(this.contextWindow,"pointermove",this.handlePointerMove),ic(this.contextWindow,"pointerup",this.handlePointerUp),ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ji(this.updatePoint)}}function cm(t,e){return e?{point:e(t.point)}:t}function x1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function um({point:t},e){return{point:t,delta:x1(t,A4(e)),offset:x1(t,rO(e)),velocity:sO(e,.1)}}function rO(t){return t[0]}function A4(t){return t[t.length-1]}function sO(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const i=A4(t);for(;r>=0&&(s=t[r],!(i.timestamp-s.timestamp>hn(e)));)r--;if(!s)return{x:0,y:0};const a=mn(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const N4=1e-4,nO=1-N4,iO=1+N4,j4=.01,aO=0-j4,oO=0+j4;function Wr(t){return t.max-t.min}function lO(t,e,r){return Math.abs(t-e)<=r}function h1(t,e,r,s=.5){t.origin=s,t.originPoint=xt(e.min,e.max,t.origin),t.scale=Wr(r)/Wr(e),t.translate=xt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=nO&&t.scale<=iO||isNaN(t.scale))&&(t.scale=1),(t.translate>=aO&&t.translate<=oO||isNaN(t.translate))&&(t.translate=0)}function ac(t,e,r,s){h1(t.x,e.x,r.x,s?s.originX:void 0),h1(t.y,e.y,r.y,s?s.originY:void 0)}function m1(t,e,r){t.min=r.min+e.min,t.max=t.min+Wr(e)}function cO(t,e,r){m1(t.x,e.x,r.x),m1(t.y,e.y,r.y)}function f1(t,e,r){t.min=e.min-r.min,t.max=t.min+Wr(e)}function oc(t,e,r){f1(t.x,e.x,r.x),f1(t.y,e.y,r.y)}function uO(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?xt(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?xt(r,t,s.max):Math.min(t,r)),t}function p1(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function dO(t,{top:e,left:r,bottom:s,right:i}){return{x:p1(t.x,r,i),y:p1(t.y,e,s)}}function g1(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function xO(t,e){return{x:g1(t.x,e.x),y:g1(t.y,e.y)}}function hO(t,e){let r=.5;const s=Wr(t),i=Wr(e);return i>s?r=Ro(e.min,e.max-s,t.min):s>i&&(r=Ro(t.min,t.max-i,e.min)),Nn(0,1,r)}function mO(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const op=.35;function fO(t=op){return t===!1?t=0:t===!0&&(t=op),{x:y1(t,"left","right"),y:y1(t,"top","bottom")}}function y1(t,e,r){return{min:v1(t,e),max:v1(t,r)}}function v1(t,e){return typeof t=="number"?t:t[e]||0}const E1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ao=()=>({x:E1(),y:E1()}),b1=()=>({min:0,max:0}),At=()=>({x:b1(),y:b1()});function ts(t){return[t("x"),t("y")]}function D4({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function pO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gO(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function dm(t){return t===void 0||t===1}function lp({scale:t,scaleX:e,scaleY:r}){return!dm(t)||!dm(e)||!dm(r)}function Qi(t){return lp(t)||k4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function k4(t){return w1(t.x)||w1(t.y)}function w1(t){return t&&t!=="0%"}function z0(t,e,r){const s=t-r,i=e*s;return r+i}function C1(t,e,r,s,i){return i!==void 0&&(t=z0(t,i,s)),z0(t,r,s)+e}function cp(t,e=0,r=1,s,i){t.min=C1(t.min,e,r,s,i),t.max=C1(t.max,e,r,s,i)}function B4(t,{x:e,y:r}){cp(t.x,e.translate,e.scale,e.originPoint),cp(t.y,r.translate,r.scale,r.originPoint)}const A1=.999999999999,N1=1.0000000000001;function yO(t,e,r,s=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&lo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,B4(t,o)),s&&Qi(a.latestValues)&&lo(t,a.latestValues))}e.x<N1&&e.x>A1&&(e.x=1),e.y<N1&&e.y>A1&&(e.y=1)}function oo(t,e){t.min=t.min+e,t.max=t.max+e}function j1(t,e,r,s,i=.5){const a=xt(t.min,t.max,i);cp(t,e,r,a,s)}function lo(t,e){j1(t.x,e.x,e.scaleX,e.scale,e.originX),j1(t.y,e.y,e.scaleY,e.scale,e.originY)}function _4(t,e){return D4(gO(t.getBoundingClientRect(),e))}function vO(t,e,r){const s=_4(t,r),{scroll:i}=e;return i&&(oo(s.x,i.offset.x),oo(s.y,i.offset.y)),s}const F4=({current:t})=>t?t.ownerDocument.defaultView:null,EO=new WeakMap;class bO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Eu(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:p}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hL(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ts(k=>{let w=this.getAxisMotionValue(k).get()||0;if(zs.test(w)){const{projection:j}=this.visualElement;if(j&&j.layout){const C=j.layout.layoutBox[k];C&&(w=Wr(C)*(parseFloat(w)/100))}}this.originPoint[k]=w}),p&&at.postRender(()=>p(d,h)),Jf(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:p,onDrag:N}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:k}=h;if(m&&this.currentDirection===null){this.currentDirection=wO(k),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,k),this.updateAxis("y",h.point,k),this.visualElement.render(),N&&N(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ts(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new C4(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:F4(this.visualElement)})}stop(e,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&at.postRender(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:i}=this.getProps();if(!s||!dd(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=uO(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&no(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=dO(i.layoutBox,r):this.constraints=!1,this.elastic=fO(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ts(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mO(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!no(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=vO(s,i.root,this.visualElement.getTransformPagePoint());let o=xO(i.layout.layoutBox,a);if(r){const l=r(pO(o));this.hasMutatedConstraints=!!l,l&&(o=D4(l))}return o}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ts(d=>{if(!dd(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:s?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return Jf(this.visualElement,e),s.start(ev(e,s,0,r,this.visualElement,!1))}stopAnimation(){ts(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ts(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[r];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ts(r=>{const{drag:s}=this.getProps();if(!dd(r,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(e[r]-xt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!no(r)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ts(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=hO({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ts(o=>{if(!dd(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(xt(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;EO.set(this.visualElement,this);const e=this.visualElement.current,r=ic(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();no(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(s);const o=Uc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ts(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=op,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function dd(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function wO(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class CO extends Ri{constructor(e){super(e),this.removeGroupControls=Kr,this.removeListeners=Kr,this.controls=new bO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const D1=t=>(e,r)=>{t&&at.postRender(()=>t(e,r))};class AO extends Ri{constructor(){super(...arguments),this.removePointerDownListener=Kr}onPointerDown(e){this.session=new C4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:D1(e),onStart:D1(r),onMove:s,onEnd:(a,o)=>{delete this.session,i&&at.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function k1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const r=k1(t,e.target.x),s=k1(t,e.target.y);return`${r}% ${s}%`}},NO={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,i=Di.parse(t);if(i.length>5)return s;const a=Di.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=xt(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class jO extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;GR(DO),a&&(r.group&&r.group.add(a),s&&s.register&&i&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:i,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||at.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),By.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S4(t){const[e,r]=mA(),s=g.useContext(by);return n.jsx(jO,{...t,layoutGroup:s,switchLayoutGroup:g.useContext(wA),isPresent:e,safeToRemove:r})}const DO={borderRadius:{...jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jl,borderTopRightRadius:jl,borderBottomLeftRadius:jl,borderBottomRightRadius:jl,boxShadow:NO};function kO(t,e,r){const s=xr(t)?t:Vc(t);return s.start(ev("",s,e,r)),s.animation}function BO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const _O=(t,e)=>t.depth-e.depth;class FO{constructor(){this.children=[],this.isDirty=!1}add(e){$y(this.children,e),this.isDirty=!0}remove(e){Hy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_O),this.isDirty=!1,this.children.forEach(e)}}function SO(t,e){const r=Us.now(),s=({timestamp:i})=>{const a=i-r;a>=e&&(ji(s),t(a-e))};return at.read(s,!0),()=>ji(s)}const T4=["TopLeft","TopRight","BottomLeft","BottomRight"],TO=T4.length,B1=t=>typeof t=="string"?parseFloat(t):t,_1=t=>typeof t=="number"||ge.test(t);function PO(t,e,r,s,i,a){i?(t.opacity=xt(0,r.opacity!==void 0?r.opacity:1,IO(s)),t.opacityExit=xt(e.opacity!==void 0?e.opacity:1,0,RO(s))):a&&(t.opacity=xt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<TO;o++){const l=`border${T4[o]}Radius`;let c=F1(e,l),u=F1(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||_1(c)===_1(u)?(t[l]=Math.max(xt(B1(c),B1(u),s),0),(zs.test(u)||zs.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=xt(e.rotate||0,r.rotate||0,s))}function F1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IO=P4(0,.5,ZA),RO=P4(.5,.95,Kr);function P4(t,e,r){return s=>s<t?0:s>e?1:r(Ro(t,e,s))}function S1(t,e){t.min=e.min,t.max=e.max}function es(t,e){S1(t.x,e.x),S1(t.y,e.y)}function T1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function P1(t,e,r,s,i){return t-=e,t=z0(t,1/r,s),i!==void 0&&(t=z0(t,1/i,s)),t}function LO(t,e=0,r=1,s=.5,i,a=t,o=t){if(zs.test(e)&&(e=parseFloat(e),e=xt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=xt(a.min,a.max,s);t===a&&(l-=e),t.min=P1(t.min,e,r,l,i),t.max=P1(t.max,e,r,l,i)}function I1(t,e,[r,s,i],a,o){LO(t,e[r],e[s],e[i],e.scale,a,o)}const MO=["x","scaleX","originX"],OO=["y","scaleY","originY"];function R1(t,e,r,s){I1(t.x,e,MO,r?r.x:void 0,s?s.x:void 0),I1(t.y,e,OO,r?r.y:void 0,s?s.y:void 0)}function L1(t){return t.translate===0&&t.scale===1}function I4(t){return L1(t.x)&&L1(t.y)}function M1(t,e){return t.min===e.min&&t.max===e.max}function VO(t,e){return M1(t.x,e.x)&&M1(t.y,e.y)}function O1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function R4(t,e){return O1(t.x,e.x)&&O1(t.y,e.y)}function V1(t){return Wr(t.x)/Wr(t.y)}function z1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zO{constructor(){this.members=[]}add(e){$y(this.members,e),e.scheduleRender()}remove(e){if(Hy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let s;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UO(t,e,r){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:p}=r;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),p&&(s+=`skewY(${p}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Xi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zl=typeof window<"u"&&window.MotionDebug!==void 0,xm=["","X","Y","Z"],$O={visibility:"hidden"},U1=1e3;let HO=0;function hm(t,e,r,s){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function L4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=KA(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",at,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&L4(s)}function M4({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=HO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zl&&(Xi.totalNodes=Xi.resolvedTargetDeltas=Xi.recalculatedProjection=0),this.nodes.forEach(WO),this.nodes.forEach(ZO),this.nodes.forEach(JO),this.nodes.forEach(qO),zl&&window.MotionDebug.record(Xi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new FO)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ky),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=BO(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=SO(f,250),Vd.hasAnimatedSinceResize&&(Vd.hasAnimatedSinceResize=!1,this.nodes.forEach(H1))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||d.getDefaultTransition()||nV,{onLayoutAnimationStart:k,onLayoutAnimationComplete:w}=d.getProps(),j=!this.targetLayout||!R4(this.targetLayout,p)||m,C=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,C);const E={...Oy(N,"layout"),onPlay:k,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else f||H1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&L4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($1);return}this.isUpdating||this.nodes.forEach(QO),this.isUpdating=!1,this.nodes.forEach(XO),this.nodes.forEach(KO),this.nodes.forEach(GO),this.clearAllSnapshots();const l=Us.now();qt.delta=Nn(0,1e3/60,l-qt.timestamp),qt.timestamp=l,qt.isProcessing=!0,sm.update.process(qt),sm.preRender.process(qt),sm.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,By.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YO),this.sharedNodes.forEach(tV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!I4(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Qi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),iV(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return At();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(aV))){const{scroll:d}=this.root;d&&(oo(c.x,d.offset.x),oo(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=At();if(es(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&es(c,o),oo(c.x,h.offset.x),oo(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=At();es(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&lo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Qi(d.latestValues)&&lo(c,d.latestValues)}return Qi(this.latestValues)&&lo(c,this.latestValues),c}removeTransform(o){const l=At();es(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Qi(u.latestValues))continue;lp(u.latestValues)&&u.updateSnapshot();const d=At(),h=u.measurePageBox();es(d,h),R1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Qi(this.latestValues)&&R1(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),oc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):es(this.target,this.layout.layoutBox),B4(this.target,this.targetDelta)):es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),oc(this.relativeTargetOrigin,this.target,m.target),es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zl&&Xi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lp(this.parent.latestValues)||k4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;es(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;yO(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=At());const{target:p}=l;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T1(this.prevProjectionDelta.x,this.projectionDelta.x),T1(this.prevProjectionDelta.y,this.projectionDelta.y)),ac(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!z1(this.projectionDelta.x,this.prevProjectionDelta.x)||!z1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),zl&&Xi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ao(),this.projectionDelta=ao(),this.projectionDeltaWithTransform=ao()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=At(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,N=m!==p,k=this.getStack(),w=!k||k.members.length<=1,j=!!(N&&!w&&this.options.crossfade===!0&&!this.path.some(sV));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const B=E/1e3;K1(h.x,o.x,B),K1(h.y,o.y,B),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rV(this.relativeTarget,this.relativeTargetOrigin,f,B),C&&VO(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=At()),es(C,this.relativeTarget)),N&&(this.animationValues=d,PO(d,u,this.latestValues,B,j,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Vd.hasAnimatedSinceResize=!0,this.currentAnimation=kO(0,U1,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&O4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||At();const h=Wr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Wr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}es(l,c),lo(l,d),ac(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zO),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&hm("z",o,u,this.animationValues);for(let d=0;d<xm.length;d++)hm(`rotate${xm[d]}`,o,u,this.animationValues),hm(`skew${xm[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $O;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Md(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Md(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qi(this.latestValues)&&(N.transform=d?d({},""):"none",this.hasProjected=!1),N}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=UO(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const N in R0){if(f[N]===void 0)continue;const{correct:k,applyTo:w}=R0[N],j=u.transform==="none"?f[N]:k(f[N],h);if(w){const C=w.length;for(let E=0;E<C;E++)u[w[E]]=j}else u[N]=j}return this.options.layoutId&&(u.pointerEvents=h===this?Md(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach($1),this.root.sharedNodes.clear()}}}function KO(t){t.updateLayout()}function GO(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?ts(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Wr(f);f.min=s[h].min,f.max=f.min+m}):O4(a,r.layoutBox,s)&&ts(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Wr(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=ao();ac(l,s,r.layoutBox);const c=ao();o?ac(c,t.applyTransform(i,!0),r.measuredBox):ac(c,s,r.layoutBox);const u=!I4(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=At();oc(p,r.layoutBox,f.layoutBox);const N=At();oc(N,s,m.layoutBox),R4(p,N)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function WO(t){zl&&Xi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YO(t){t.clearSnapshot()}function $1(t){t.clearMeasurements()}function QO(t){t.isLayoutDirty=!1}function XO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZO(t){t.resolveTargetDelta()}function JO(t){t.calcProjection()}function eV(t){t.resetSkewAndRotation()}function tV(t){t.removeLeadSnapshot()}function K1(t,e,r){t.translate=xt(e.translate,0,r),t.scale=xt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function G1(t,e,r,s){t.min=xt(e.min,r.min,s),t.max=xt(e.max,r.max,s)}function rV(t,e,r,s){G1(t.x,e.x,r.x,s),G1(t.y,e.y,r.y,s)}function sV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nV={duration:.45,ease:[.4,0,.1,1]},W1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),q1=W1("applewebkit/")&&!W1("chrome/")?Math.round:Kr;function Y1(t){t.min=q1(t.min),t.max=q1(t.max)}function iV(t){Y1(t.x),Y1(t.y)}function O4(t,e,r){return t==="position"||t==="preserve-aspect"&&!lO(V1(e),V1(r),.2)}function aV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const oV=M4({attachResizeListener:(t,e)=>Uc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mm={current:void 0},V4=M4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mm.current){const t=new oV({});t.mount(window),t.setOptions({layoutScroll:!0}),mm.current=t}return mm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lV={pan:{Feature:AO},drag:{Feature:CO,ProjectionNode:V4,MeasureLayout:S4}};function Q1(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=s[i];a&&at.postRender(()=>a(e,Eu(e)))}class cV extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=lL(e,r=>(Q1(this.node,r,"Start"),s=>Q1(this.node,s,"End"))))}unmount(){}}class uV extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vu(Uc(this.node.current,"focus",()=>this.onFocus()),Uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function X1(t,e,r){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=s[i];a&&at.postRender(()=>a(e,Eu(e)))}class dV extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=xL(e,r=>(X1(this.node,r,"Start"),(s,{success:i})=>X1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const up=new WeakMap,fm=new WeakMap,xV=t=>{const e=up.get(t.target);e&&e(t)},hV=t=>{t.forEach(xV)};function mV({root:t,...e}){const r=t||document;fm.has(r)||fm.set(r,{});const s=fm.get(r),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(hV,{root:t,...e})),s[i]}function fV(t,e,r){const s=mV(e);return up.set(t,r),s.observe(t),()=>{up.delete(t),s.unobserve(t)}}const pV={some:0,all:1};class gV extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:pV[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return fV(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(yV(e,r))&&this.startObserver()}unmount(){}}function yV({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const vV={inView:{Feature:gV},tap:{Feature:dV},focus:{Feature:uV},hover:{Feature:cV}},EV={layout:{ProjectionNode:V4,MeasureLayout:S4}},dp={current:null},z4={current:!1};function bV(){if(z4.current=!0,!!Ay)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dp.current=t.matches;t.addListener(e),e()}else dp.current=!1}const wV=[...x4,cr,Di],CV=t=>wV.find(d4(t)),Z1=new WeakMap;function AV(t,e,r){for(const s in e){const i=e[s],a=r[s];if(xr(i))t.addValue(s,i);else if(xr(a))t.addValue(s,Vc(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,Vc(o!==void 0?o:i,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const J1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NV{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Us.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,at.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Wx(r),this.isVariantNode=EA(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&xr(p)&&p.set(c[m],!1)}}mount(e){this.current=e,Z1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),z4.current||bV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Z1.delete(this.current),this.projection&&this.projection.unmount(),ji(this.notifyUpdate),ji(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ta.has(e),i=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&at.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lo){const r=Lo[e];if(!r)continue;const{isEnabled:s,Feature:i}=r;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<J1.length;s++){const i=J1[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=AV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Vc(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(c4(i)||e4(i))?i=parseFloat(i):!CV(i)&&Di.test(r)&&(i=a4(e,r)),this.setBaseTarget(e,xr(i)?i.get():i)),xr(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const o=Fy(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[e])}if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xr(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Ky),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class U4 extends NV{constructor(){super(...arguments),this.KeyframeResolver=h4}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function jV(t){return window.getComputedStyle(t)}class DV extends U4{constructor(){super(...arguments),this.type="html",this.renderInstance=BA}readValueFromInstance(e,r){if(Ta.has(r)){const s=Qy(r);return s&&s.default||0}else{const s=jV(e),i=(jA(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return _4(e,r)}build(e,r,s){Py(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return My(e,r,s)}}class kV extends U4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ta.has(r)){const s=Qy(r);return s&&s.default||0}return r=_A.has(r)?r:ky(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return TA(e,r,s)}build(e,r,s){Iy(e,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,r,s,i){FA(e,r,s,i)}mount(e){this.isSVGTag=Ly(e.tagName),super.mount(e)}}const BV=(t,e)=>_y(t)?new kV(e):new DV(e,{allowProjection:t!==g.Fragment}),_V=tL({...JM,...vV,...lV,...EV},BV),$=pR(_V);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$4=(...t)=>t.filter((e,r,s)=>!!e&&s.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...SV,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:$4("lucide",i),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(t,e)=>{const r=g.forwardRef(({className:s,...i},a)=>g.createElement(TV,{ref:a,iconNode:e,className:$4(`lucide-${FV(t)}`,s),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=re("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=re("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=re("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=re("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=re("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=re("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=re("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=re("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=re("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=re("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=re("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=re("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=re("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=re("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=re("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=re("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=re("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=re("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=re("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=re("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=re("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iz=()=>{var c,u;const[t,e]=g.useState(!1),[r,s]=g.useState(!1),i=Ns(),{user:a,userProfile:o,signOut:l}=Ds();return g.useEffect(()=>{const d=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),n.jsx($.header,{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/95 backdrop-blur-xl shadow-xl border-b border-gray-200/50":"bg-transparent"}`,initial:{y:-100},animate:{y:0},transition:{duration:.6},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between h-20",children:[n.jsxs(Ge,{to:"/",className:"flex items-center space-x-3 group",children:[n.jsx($.div,{className:`w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 ${t?"shadow-blue-500/25":"shadow-white/25"}`,whileHover:{rotate:360},transition:{duration:.6},children:n.jsx(De,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:`text-2xl font-bold transition-colors duration-300 ${!t&&i.pathname==="/"?"text-white":"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"}`,children:Lr.name})]}),n.jsx("nav",{className:"hidden lg:flex items-center space-x-8",children:[{path:"/",label:"Ana Sayfa"},{path:"/hakkımızda",label:"Hakkımızda"},{path:"/hizmetler",label:"Hizmetlerimiz"},{path:"/iletişim",label:"İletişim"},...a?[{path:"/rezervasyonlarim",label:"Rezervasyonlarım"}]:[]].map(d=>n.jsx($.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsxs(Ge,{to:d.path,className:`relative font-medium transition-colors duration-300 ${i.pathname===d.path?"text-blue-600":t||i.pathname!=="/"?"text-gray-700 hover:text-blue-600":"text-white hover:text-blue-200"}`,children:[d.label,i.pathname===d.path&&n.jsx($.div,{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500",layoutId:"activeLink",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]})},d.path))}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"hidden 2xl:flex items-center space-x-4",children:[n.jsxs($.a,{href:`tel:${Lr.supportPhone}`,className:`flex items-center space-x-2 text-sm transition-colors duration-300 ${t||i.pathname!=="/"?"text-gray-600 hover:text-blue-600":"text-white/90 hover:text-white"}`,whileHover:{scale:1.05},children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:n.jsx(kt,{className:"w-4 h-4 text-white"})}),n.jsx("span",{className:"font-medium",children:Lr.supportPhone})]}),n.jsxs($.a,{href:`mailto:${Lr.supportEmail}`,className:`flex items-center space-x-2 text-sm transition-colors duration-300 ${t||i.pathname!=="/"?"text-gray-600 hover:text-blue-600":"text-white/90 hover:text-white"}`,whileHover:{scale:1.05},children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:n.jsx(gr,{className:"w-4 h-4 text-white"})}),n.jsx("span",{className:"font-medium",children:Lr.supportEmail})]})]}),a?n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:"relative group",children:[n.jsxs($.button,{className:`flex items-center space-x-2 px-3 py-2 rounded-xl transition-colors duration-300 ${t||i.pathname!=="/"?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(ze,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:(o==null?void 0:o.firstName)||((c=a.email)==null?void 0:c.split("@")[0])})]}),n.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:n.jsxs("div",{className:"py-2",children:[n.jsxs(Ge,{to:"/rezervasyonlarim",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[n.jsx(tt,{className:"w-4 h-4 mr-2"}),"Rezervasyonlarım"]}),n.jsxs(Ge,{to:"/profil",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[n.jsx(ze,{className:"w-4 h-4 mr-2"}),"Profil Ayarları"]}),n.jsx("hr",{className:"my-2"}),n.jsxs("button",{onClick:l,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[n.jsx(Xx,{className:"w-4 h-4 mr-2"}),"Çıkış Yap"]})]})})]})}):n.jsx($.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsxs(Ge,{to:"/giriş",className:"btn btn-primary relative overflow-hidden group",children:[n.jsx($.span,{className:"relative z-10",whileHover:{scale:1.05},children:"Giriş Yap"}),n.jsx($.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600",initial:{x:"-100%"},whileHover:{x:0},transition:{duration:.3}})]})}),n.jsx($.button,{className:`lg:hidden p-2 rounded-xl ${t||i.pathname!=="/"?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,onClick:()=>s(!r),whileHover:{scale:1.05},whileTap:{scale:.95},children:r?n.jsx(We,{className:"w-6 h-6"}):n.jsx(X4,{className:"w-6 h-6"})})]})]}),n.jsx($.div,{className:`lg:hidden ${r?"block":"hidden"}`,initial:{opacity:0,height:0},animate:{opacity:r?1:0,height:r?"auto":0},transition:{duration:.3},children:n.jsxs("div",{className:"py-4 space-y-4 bg-white/95 backdrop-blur-xl border-t border-gray-200/50 rounded-b-2xl shadow-xl",children:[[{path:"/",label:"Ana Sayfa"},{path:"/hakkımızda",label:"Hakkımızda"},{path:"/hizmetler",label:"Hizmetlerimiz"},{path:"/iletişim",label:"İletişim"},...a?[{path:"/rezervasyonlarim",label:"Rezervasyonlarım"}]:[]].map(d=>n.jsx($.div,{whileHover:{x:10},whileTap:{scale:.95},children:n.jsx(Ge,{to:d.path,className:`block px-4 py-2 font-medium transition-colors ${i.pathname===d.path?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>s(!1),children:d.label})},d.path)),a?n.jsxs("div",{className:"px-4 py-2 border-t border-gray-200/50 space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[n.jsx(ze,{className:"w-4 h-4"}),n.jsx("span",{children:(o==null?void 0:o.firstName)||((u=a.email)==null?void 0:u.split("@")[0])})]}),n.jsx(Ge,{to:"/rezervasyonlarim",className:"block w-full text-left px-2 py-2 text-gray-600 hover:bg-gray-50 rounded-lg text-sm",onClick:()=>s(!1),children:"📅 Rezervasyonlarım"}),n.jsx(Ge,{to:"/profil",className:"block w-full text-left px-2 py-2 text-gray-600 hover:bg-gray-50 rounded-lg text-sm",onClick:()=>s(!1),children:"⚙️ Profil Ayarları"}),n.jsx("button",{onClick:l,className:"w-full text-left px-2 py-1 text-red-600 hover:bg-red-50 rounded-lg text-sm",children:"🚪 Çıkış Yap"})]}):n.jsx("div",{className:"px-4 py-2 border-t border-gray-200/50",children:n.jsx(Ge,{to:"/giriş",className:"block w-full text-center bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>s(!1),children:"Giriş Yap"})}),n.jsx("div",{className:"px-4 py-2 border-t border-gray-200/50",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(kt,{className:"w-4 h-4"}),n.jsx("span",{children:Lr.supportPhone})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(gr,{className:"w-4 h-4"}),n.jsx("span",{children:Lr.supportEmail})]})]})})]})})]})})},az=()=>{const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return n.jsxs("footer",{className:"relative bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 text-white overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40"}),n.jsx($.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10",animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0,ease:"linear"}}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(15)].map((e,r)=>n.jsx($.div,{className:"absolute w-1 h-1 bg-white rounded-full opacity-20",initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:Math.random()*600},animate:{y:[null,-50],opacity:[.2,.5,.2]},transition:{duration:Math.random()*8+8,repeat:1/0,ease:"linear"}},r))}),n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs($.div,{className:"lg:col-span-2",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx($.div,{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:n.jsx(De,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:Lr.name})]}),n.jsx("p",{className:"text-gray-300 mb-6 max-w-md leading-relaxed",children:"Konforlu, güvenli ve kaliteli transfer hizmetleri. Havalimanından otelinize, otelinizden havalimanına profesyonel transfer çözümleri ile yanınızdayız."}),n.jsx("div",{className:"flex space-x-4",children:[{icon:UV,href:"#"},{icon:sz,href:"#"},{icon:GV,href:"#"}].map((e,r)=>n.jsx($.a,{href:e.href,className:"w-10 h-10 bg-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center text-gray-400 hover:text-white hover:bg-gradient-to-br hover:from-blue-500 hover:to-purple-600 transition-all duration-300",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:n.jsx(e.icon,{className:"w-5 h-5"})},r))})]}),n.jsxs($.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},children:[n.jsx("h3",{className:"text-xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Hızlı Bağlantılar"}),n.jsx("ul",{className:"space-y-3",children:[{to:"/",label:"Ana Sayfa"},{to:"/hakkımızda",label:"Hakkımızda"},{to:"/hizmetler",label:"Hizmetlerimiz"},{to:"/iletişim",label:"İletişim"},{to:"/giriş",label:"Giriş Yap"}].map((e,r)=>n.jsx($.li,{whileHover:{x:5},children:n.jsxs(Ge,{to:e.to,className:"text-gray-300 hover:text-white transition-colors duration-300 flex items-center group",children:[n.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.label]})},r))})]}),n.jsxs($.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[n.jsx("h3",{className:"text-xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"İletişim"}),n.jsx("div",{className:"space-y-4",children:[{icon:kt,title:Lr.supportPhone,subtitle:"7/24 Destek Hattı",href:`tel:${Lr.supportPhone}`},{icon:gr,title:Lr.supportEmail,subtitle:"E-posta Desteği",href:`mailto:${Lr.supportEmail}`},{icon:lt,title:"İstanbul, Türkiye",subtitle:"Merkez Ofis",href:"#"}].map((e,r)=>n.jsxs($.div,{className:"flex items-start space-x-3 group cursor-pointer",whileHover:{scale:1.02},children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mt-0.5 group-hover:scale-110 transition-transform duration-300",children:n.jsx(e.icon,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("a",{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-300 font-medium",children:e.title}),n.jsx("p",{className:"text-sm text-gray-400",children:e.subtitle})]})]},r))})]})]}),n.jsx($.div,{className:"border-t border-white/20 mt-12 pt-8",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.3},viewport:{once:!0},children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[n.jsxs("p",{className:"text-gray-400 text-sm",children:["© 2025 ",Lr.companyName,". Tüm hakları saklıdır."]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx("div",{className:"flex space-x-6",children:[{to:"/gizlilik",label:"Gizlilik Politikası"},{to:"/kullanim-kosullari",label:"Kullanım Koşulları"}].map((e,r)=>n.jsx($.div,{whileHover:{scale:1.05},children:n.jsx(Ge,{to:e.to,className:"text-gray-400 hover:text-white text-sm transition-colors duration-300",children:e.label})},r))}),n.jsx($.button,{onClick:t,className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white hover:scale-110 transition-transform duration-300 shadow-lg",whileHover:{y:-2},whileTap:{scale:.95},children:n.jsx(H4,{className:"w-5 h-5"})})]})]})})]})]})},oz=()=>{const e=Ns().pathname==="/";return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[n.jsx(iz,{}),n.jsx("main",{className:`flex-1 ${e?"":"pt-20"}`,children:n.jsx(vg,{})}),n.jsx(az,{})]})},lz=()=>{var N,k;const t=Ns(),e=Dr(),{state:r}=Ii(),{logout:s,user:i}=Ds(),[a,o]=g.useState(!1),[l,c]=g.useState(!1),u=async()=>{try{await s(),oe.success("Başarıyla çıkış yaptınız"),e("/")}catch(w){console.error("Logout error:",w),oe.error("Çıkış yapılırken hata oluştu")}},d=[{name:"Dashboard",href:"/admin",icon:K4,exact:!0,description:"Genel bakış ve istatistikler"},{name:"Araç Yönetimi",href:"/admin/vehicles",icon:De,description:"Araç ekleme, düzenleme ve yönetimi"},{name:"Şoför Yönetimi",href:"/admin/şoförler",icon:mt,description:"Şoför kayıtları ve atamalar"},{name:"Ek Hizmetler",href:"/admin/ek-hizmetler",icon:bo,description:"Ek hizmet yönetimi ve fiyatlandırma"},{name:"Rezervasyonlar",href:"/admin/rezervasyonlar",icon:tt,description:"Rezervasyon takibi ve yönetimi"},{name:"Finansal Yönetim",href:"/admin/finans",icon:zr,description:"Gelir, gider ve raporlar"},{name:"Ayarlar",href:"/admin/ayarlar",icon:bu,description:"Sistem ayarları ve konfigürasyon"}],h=(w,j=!1)=>j?t.pathname===w:t.pathname.startsWith(w),f={open:{x:0,transition:{type:"spring",stiffness:300,damping:30}},closed:{x:"-100%",transition:{type:"spring",stiffness:300,damping:30}}},m={inactive:{backgroundColor:"transparent",scale:1,transition:{duration:.2}},active:{backgroundColor:"linear-gradient(135deg, #3b82f6, #6366f1)",scale:1.02,transition:{duration:.2}},hover:{backgroundColor:"#f3f4f6",scale:1.01,transition:{duration:.2}}},p=({isMobile:w=!1})=>{var j,C;return n.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between h-20 px-6 border-b border-slate-700/50 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/90 via-indigo-600/90 to-purple-600/90 backdrop-blur-sm"}),n.jsxs(Ge,{to:"/",className:"flex items-center space-x-3 group relative z-10",children:[n.jsx($.div,{className:"w-12 h-12 bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-lg rounded-2xl flex items-center justify-center border border-white/20 shadow-xl",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},children:n.jsx(De,{className:"w-7 h-7 text-white drop-shadow-lg"})}),!l&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xl font-bold text-white group-hover:text-blue-200 transition-colors drop-shadow-lg",children:"SBS Admin"}),n.jsx("div",{className:"text-xs text-blue-200/80 font-medium",children:"Transfer Platform"})]})]}),!w&&n.jsx($.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>c(!l),className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-xl transition-colors relative z-10 backdrop-blur-sm",children:l?n.jsx(xp,{className:"w-5 h-5"}):n.jsx(We,{className:"w-5 h-5"})}),w&&n.jsx($.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(!1),className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-xl transition-colors relative z-10 backdrop-blur-sm",children:n.jsx(We,{className:"w-5 h-5"})})]}),!l&&n.jsx("div",{className:"p-6 border-b border-slate-700/50 bg-gradient-to-br from-slate-800/50 to-slate-900/50",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs($.div,{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 backdrop-blur-sm p-4 rounded-2xl border border-blue-500/20 shadow-lg",whileHover:{scale:1.02,y:-2},children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(De,{className:"w-4 h-4 text-blue-400"}),n.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Araçlar"})]}),n.jsx("p",{className:"text-2xl font-bold text-white",children:((j=r.vehicles)==null?void 0:j.length)||0})]}),n.jsxs($.div,{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 backdrop-blur-sm p-4 rounded-2xl border border-emerald-500/20 shadow-lg",whileHover:{scale:1.02,y:-2},children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(tt,{className:"w-4 h-4 text-emerald-400"}),n.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Rezervasyon"})]}),n.jsx("p",{className:"text-2xl font-bold text-white",children:((C=r.reservations)==null?void 0:C.length)||0})]})]})}),n.jsx("nav",{className:"flex-1 px-4 py-6 space-y-3 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-transparent",children:d.map((E,B)=>{const _=h(E.href,E.exact);return n.jsx($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:B*.1},children:n.jsx(Ge,{to:E.href,onClick:w?()=>o(!1):void 0,className:"group relative block",title:l?E.name:void 0,children:n.jsxs($.div,{className:`flex items-center ${l?"px-3 py-4 justify-center":"px-4 py-4"} text-sm font-medium rounded-2xl transition-all duration-300 relative overflow-hidden ${_?"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white shadow-xl shadow-blue-500/25":"text-slate-300 hover:text-white hover:bg-slate-700/50"}`,variants:m,initial:"inactive",animate:_?"active":"inactive",whileHover:_?void 0:"hover",whileTap:{scale:.98},children:[_&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/90 via-indigo-600/90 to-purple-600/90 backdrop-blur-sm rounded-2xl"}),n.jsx(E.icon,{className:`w-6 h-6 ${l?"":"mr-4"} transition-transform group-hover:scale-110 relative z-10 ${_?"text-white drop-shadow-lg":"text-slate-400 group-hover:text-blue-400"}`}),!l&&n.jsxs("div",{className:"flex-1 relative z-10",children:[n.jsx("div",{className:"font-semibold",children:E.name}),!_&&n.jsx("div",{className:"text-xs text-slate-400 group-hover:text-slate-300 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:E.description})]}),_&&!l&&n.jsx($.div,{layoutId:"activeIndicator",className:"w-2 h-2 bg-white rounded-full shadow-lg relative z-10",initial:{scale:0},animate:{scale:1},exit:{scale:0}}),!_&&!l&&n.jsx(xp,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity relative z-10"})]})})},E.name)})}),n.jsx("div",{className:"p-4 border-t border-slate-700/50 bg-gradient-to-br from-slate-800/50 to-slate-900/50",children:n.jsxs($.div,{className:`flex items-center ${l?"justify-center":"space-x-3"} p-4 bg-gradient-to-br from-slate-700/50 to-slate-800/50 backdrop-blur-sm rounded-2xl border border-slate-600/30 shadow-xl`,whileHover:{scale:1.02,y:-2},children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx(rh,{className:"w-6 h-6 text-white"})}),!l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-white truncate",children:(i==null?void 0:i.displayName)||"Admin"}),n.jsx("p",{className:"text-xs text-slate-400 truncate",children:i==null?void 0:i.email})]}),n.jsx($.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:u,className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-colors",title:"Çıkış Yap",children:n.jsx(Xx,{className:"w-5 h-5"})})]})]})})]})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex",children:[n.jsx(Ni,{children:a&&n.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-40 lg:hidden",onClick:()=>o(!1)})}),n.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:n.jsx("div",{className:`${l?"w-20":"w-80"} transition-all duration-300`,children:n.jsx(p,{})})}),n.jsx(Ni,{children:a&&n.jsx($.div,{variants:f,initial:"closed",animate:"open",exit:"closed",className:"fixed inset-y-0 left-0 z-50 w-80 lg:hidden",children:n.jsx(p,{isMobile:!0})})}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("header",{className:"bg-white/90 backdrop-blur-lg shadow-lg border-b border-gray-200/50 lg:hidden",children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[n.jsx($.button,{whileTap:{scale:.95},onClick:()=>o(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors",children:n.jsx(X4,{className:"w-6 h-6"})}),n.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Admin Panel"}),n.jsx("div",{className:"w-10"})]})}),n.jsx("header",{className:"hidden lg:block bg-white/90 backdrop-blur-lg shadow-lg border-b border-gray-200/50",children:n.jsxs("div",{className:"flex items-center justify-between h-20 px-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:((N=d.find(w=>h(w.href,w.exact)))==null?void 0:N.name)||"Dashboard"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:((k=d.find(w=>h(w.href,w.exact)))==null?void 0:k.description)||"Yönetim paneline hoş geldiniz"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:[n.jsx($c,{className:"w-5 h-5"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-full shadow-lg"})]}),n.jsxs(Ge,{to:"/",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors",children:[n.jsx(Y4,{className:"w-4 h-4"}),n.jsx("span",{children:"Ana Sayfa"})]})]})]})}),n.jsx("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-50/50 via-blue-50/30 to-indigo-100/50",children:n.jsx("div",{className:"h-full",children:n.jsx(vg,{})})})]})]})},cz=()=>{const t=Dr(),{logout:e}=Ds(),r=async()=>{try{await e(),oe.success("Başarıyla çıkış yaptınız"),t("/")}catch(s){console.error("Logout error:",s),oe.error("Çıkış yapılırken hata oluştu")}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-0 z-40",children:n.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-500 p-2 rounded-full",children:n.jsx(De,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold text-gray-900",children:"SBS Transfer"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Şoför Paneli"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>t("/şoför/profil"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Profil",children:n.jsx(ze,{className:"w-5 h-5 text-gray-600"})}),n.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Çıkış Yap",children:n.jsx(Xx,{className:"w-5 h-5 text-gray-600"})})]})]})}),n.jsx("main",{className:"pb-4",children:n.jsx(vg,{})})]})};new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString();new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const uz=async()=>{try{const t=await Pr(Ie(ie,"settings"));if(t.empty){console.log("Settings verisi ekleniyor...");const e={general:{companyName:"SBS Transfer",companyEmail:"info@sbstransfer.com",companyPhone:"+90 555 123 45 67",companyAddress:"İstanbul, Türkiye",companyDescription:"Premium transfer hizmetleri",website:"https://sbstransfer.com",logo:"",favicon:""},payment:{paytrMerchantId:"demo_merchant_id",paytrMerchantKey:"demo_merchant_key",paytrMerchantSalt:"demo_merchant_salt",testMode:!0,enabledMethods:{cash:!0,creditCard:!0,bankTransfer:!0,paytr:!1},currency:"TRY",taxRate:18},bankAccounts:[{id:1,bankName:"Türkiye İş Bankası",accountHolder:"SBS Transfer Hizmetleri Ltd. Şti.",iban:"TR33 0006 4000 0011 2345 6789 01",branch:"Ataşehir Şubesi",currency:"TL",isActive:!0},{id:2,bankName:"Garanti BBVA",accountHolder:"SBS Transfer Hizmetleri Ltd. Şti.",iban:"TR64 0062 0001 2345 6789 1011 12",branch:"Kadıköy Şubesi",currency:"TL",isActive:!0}],commission:{defaultDriverCommission:70,companyCommission:30,minimumCommission:50,maximumCommission:90,paymentFrequency:"weekly"},notifications:{email:{newReservation:!0,reservationUpdate:!0,driverAssignment:!0,paymentReceived:!0,cancellation:!0,weeklyReport:!0},sms:{reservationConfirmation:!0,driverAssignment:!0,paymentReminder:!1,promotions:!1},push:{newReservation:!0,statusUpdate:!0,promotions:!1}},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await so(je(ie,"settings","main"),e),console.log("Settings verisi eklendi!")}else console.log("Settings verisi mevcut:",t.docs.length,"kayıt")}catch(t){throw console.error("Settings verilerini eklerken hata:",t),t}},dz=()=>{g.useEffect(()=>{(async()=>{try{await uz()}catch(i){console.error("Settings kurulumu hatası:",i)}})()},[]);const t=[{icon:n.jsx(lt,{className:"w-8 h-8"}),title:"Antalya Güvenli Transfer",description:"Antalya genelinde 7/24 güvenli ve konforlu VIP transfer hizmeti"},{icon:n.jsx(Mt,{className:"w-8 h-8"}),title:"Zamanında Teslimat",description:"Antalya havalimanı ve şehir transferlerinde dakiklik garantisi"},{icon:n.jsx(Yr,{className:"w-8 h-8"}),title:"Sigortalı Transfer Hizmeti",description:"Antalya transfer hizmetlerinde tam kapsamlı sigorta güvencesi"},{icon:n.jsx(fn,{className:"w-8 h-8"}),title:"Antalya VIP Kalite",description:"Lüks araçlar ve Antalya'yı tanıyan profesyonel şoförler"}],e=[{icon:n.jsx(rz,{className:"w-12 h-12"}),title:"Antalya Havalimanı Transfer",description:"Antalya Havalimanı'ndan otel ve şehir merkezine güvenli VIP transfer hizmeti",price:"₺120'den başlayan fiyatlar"},{icon:n.jsx(mt,{className:"w-12 h-12"}),title:"Antalya Grup Transfer",description:"Büyük gruplar için Antalya genelinde özel araç transfer çözümleri",price:"₺250'den başlayan fiyatlar"},{icon:n.jsx(HV,{className:"w-12 h-12"}),title:"Antalya Şehir İçi Transfer",description:"Antalya şehir içi, otel arası ve turistik alan transferleri",price:"₺60'dan başlayan fiyatlar"}],r=[{number:"50K+",label:"Mutlu Müşteri"},{number:"100K+",label:"Başarılı Transfer"},{number:"24/7",label:"Hizmet Saati"},{number:"99%",label:"Memnuniyet Oranı"}];return n.jsxs("div",{className:"min-h-screen",children:[n.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900",children:[n.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),n.jsx($.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20",animate:{scale:[1,1.1,1],rotate:[0,5,0]},transition:{duration:20,repeat:1/0,ease:"linear"}})]}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((s,i)=>n.jsx($.div,{className:"absolute w-2 h-2 bg-white rounded-full opacity-30",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{y:[null,-100],opacity:[.3,.7,.3]},transition:{duration:Math.random()*10+10,repeat:1/0,ease:"linear"}},i))}),n.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mb-8",children:[n.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:[n.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Antalya"}),n.jsx("br",{}),n.jsx("span",{className:"text-4xl md:text-6xl",children:"VIP Transfer Hizmeti"})]}),n.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto mb-8 leading-relaxed",children:"Antalya'nın en güvenilir VIP transfer ve havalimanı transfer hizmeti. Profesyonel şoförler, lüks araçlar ve 7/24 güvenli yolculuk garantisi ile Antalya şehir içi, havalimanı ve otel transferleri."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[n.jsx(Ge,{to:"/rezervasyon",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"Hemen Rezervasyon Yap"}),n.jsx(Ge,{to:"/rezervasyonlarim",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"Rezervasyonlarım"}),n.jsx(Ge,{to:"/giriş",className:"bg-white/10 backdrop-blur-sm hover:bg-white/20 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all duration-300 border border-white/20 hover:border-white/30",children:"Giriş Yap"})]})]}),n.jsx($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12",children:r.map((s,i)=>n.jsxs($.div,{className:"text-center group",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.8+i*.1},whileHover:{scale:1.05},children:[n.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2 group-hover:text-blue-400 transition-colors",children:s.number}),n.jsx("div",{className:"text-gray-300 text-sm md:text-base",children:s.label})]},i))})]}),n.jsx($.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:n.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:n.jsx("div",{className:"w-1 h-3 bg-white rounded-full mt-2"})})})]}),n.jsx("section",{className:"py-24 bg-gradient-to-br from-gray-50 to-blue-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs($.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold gradient-text mb-6",children:"Antalya Transfer Hizmetimizi Neden Tercih Etmelisiniz?"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Antalya'da yılların deneyimi ve modern teknoloji ile size en iyi transfer hizmetini sunuyoruz"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((s,i)=>n.jsx($.div,{className:"card text-center group hover:scale-105",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0},whileHover:{y:-10},children:n.jsxs("div",{className:"card-body",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-white group-hover:scale-110 transition-transform duration-300",children:s.icon})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:s.title}),n.jsx("p",{className:"text-gray-600",children:s.description})]})},i))})]})}),n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs($.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold gradient-text mb-6",children:"Antalya Transfer Hizmetlerimiz"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Antalya'da ihtiyacınıza uygun VIP transfer çözümlerini keşfedin"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((s,i)=>n.jsx($.div,{className:"card group hover:scale-105",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.2},viewport:{once:!0},whileHover:{y:-10},children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-white group-hover:scale-110 transition-transform duration-300",children:s.icon})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.title}),n.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:s.description}),n.jsx("div",{className:"text-lg font-semibold text-blue-600 mb-6",children:s.price}),n.jsx(Ge,{to:"/book-transfer",className:"btn btn-primary w-full group-hover:scale-105 transition-transform",children:"Rezervasyon Yap"})]})},i))})]})}),n.jsxs("section",{className:"py-24 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),n.jsx($.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-400/20",animate:{scale:[1,1.1,1],rotate:[0,-5,0]},transition:{duration:15,repeat:1/0,ease:"linear"}}),n.jsx("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs($.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Antalya Transfer Rezervasyonu"}),n.jsx("p",{className:"text-xl text-gray-200 mb-8 leading-relaxed",children:"Antalya'da size özel VIP transfer çözümlerimizle konforlu yolculuğunuz başlasın. 7/24 Antalya transfer desteği ve garantili hizmet kalitesi."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[n.jsx(Ge,{to:"/rezervasyon",className:"btn btn-lg bg-white text-gray-900 hover:bg-gray-100 font-bold px-8 py-4 rounded-2xl shadow-2xl hover:scale-105 transition-all duration-300",children:n.jsxs($.span,{className:"flex items-center gap-3",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(MV,{className:"w-6 h-6"}),"Şimdi Rezervasyon Yap"]})}),n.jsx("a",{href:"tel:+902422281234",className:"btn btn-outline btn-lg border-white text-white hover:bg-white hover:text-gray-900 px-8 py-4 rounded-2xl",children:n.jsxs($.span,{className:"flex items-center gap-3",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n.jsx(kt,{className:"w-6 h-6"}),"+90 242 228 12 34"]})})]})]})})]}),n.jsx("section",{className:"py-16 bg-gray-900",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[n.jsxs($.div,{className:"text-white",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[n.jsx(kt,{className:"w-8 h-8 mx-auto mb-4 text-blue-400"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Antalya Transfer Telefon"}),n.jsx("p",{className:"text-gray-300",children:"+90 242 228 12 34"})]}),n.jsxs($.div,{className:"text-white",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},children:[n.jsx(gr,{className:"w-8 h-8 mx-auto mb-4 text-blue-400"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Antalya Transfer E-posta"}),n.jsx("p",{className:"text-gray-300",children:"info@sbstransfer.com"})]}),n.jsxs($.div,{className:"text-white",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[n.jsx(Mt,{className:"w-8 h-8 mx-auto mb-4 text-blue-400"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Antalya Transfer Saatleri"}),n.jsx("p",{className:"text-gray-300",children:"7/24 Hizmet"})]})]})})})]})},xz=({bookingData:t,updateBookingData:e,onNext:r})=>{const[s,i]=g.useState(t.tripType||"one-way"),[a,o]=g.useState(t.pickupLocation||""),[l,c]=g.useState(t.dropoffLocation||""),u=()=>new Date().toISOString().slice(0,10),d=()=>{const Z=new Date;return Z.setHours(Z.getHours()+4),Z.toTimeString().slice(0,5)},[h,f]=g.useState(t.date||u()),[m,p]=g.useState(t.time||d()),[N,k]=g.useState(t.returnDate||""),[w,j]=g.useState(t.returnTime||""),[C,E]=g.useState(t.passengerCount||1),[B,_]=g.useState(t.baggageCount||0),[b,v]=g.useState(t.routeInfo||null),[y,A]=g.useState(!1),[F,P]=g.useState(!1),[S,V]=g.useState(t.selectedVehicle||null),[M,H]=g.useState([]),[I,L]=g.useState(!1),[z,O]=g.useState(!1),[U,q]=g.useState([]),[Y,J]=g.useState([]),[G,ae]=g.useState(!1),[le,xe]=g.useState(!1),[Ae,ue]=g.useState([]),[pe,Qe]=g.useState([]),He=g.useRef(null),ot=g.useRef(null);g.useRef(null),g.useRef(null);const be=g.useRef(null),Vt=g.useRef(null),yr=g.useRef(null),sr=g.useRef(null);g.useEffect(()=>{(()=>{if(window.google&&window.google.maps&&window.google.maps.places)setTimeout(()=>{bt()},100);else{const de=setInterval(()=>{window.google&&window.google.maps&&window.google.maps.places&&(bt(),clearInterval(de))},500);return setTimeout(()=>{clearInterval(de)},1e4),()=>clearInterval(de)}})()},[]);const bt=()=>{try{if(!window.google||!window.google.maps||!window.google.maps.places){console.log("Google Maps not loaded yet");return}be.current=new window.google.maps.places.PlacesService(document.createElement("div")),yr.current=new window.google.maps.DirectionsService,sr.current=new window.google.maps.DirectionsRenderer({suppressMarkers:!1,draggable:!1}),console.log("Google Places and Directions initialized successfully")}catch(Z){console.error("Google Places initialization error:",Z)}},Ys=(Z,de=!0)=>{if(!be.current||!Z||Z.length<2){de?ue([]):Qe([]);return}const Ye={query:Z,bounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(36,29),new window.google.maps.LatLng(37.5,32.5)),fields:["place_id","formatted_address","geometry","name","rating","types"]};be.current.textSearch(Ye,(Xe,Bt)=>{if(Bt===window.google.maps.places.PlacesServiceStatus.OK&&Xe){const Fe=Xe.slice(0,5).map(Tt=>({name:Tt.name,address:Tt.formatted_address,lat:Tt.geometry.location.lat(),lng:Tt.geometry.location.lng(),rating:Tt.rating||0,type:"google",place_id:Tt.place_id,types:Tt.types||[]}));de?ue(Fe):Qe(Fe)}else de?ue([]):Qe([])})},wt=()=>M.filter(Z=>Z.capacity>=C).sort((Z,de)=>Z.capacity-de.capacity);g.useEffect(()=>{Pa()},[]);const Pa=async()=>{L(!0);try{console.log("Loading vehicles from Firebase...");const Z=Ie(ie,"vehicles"),de=await Pr(Z);if(de.empty){console.log("No vehicles found in collection"),H([]);return}const Ye=de.docs.map(Bt=>{const Fe=Bt.data();return{id:Bt.id,name:Fe.name||`${Fe.brand} ${Fe.model}`||"Bilinmeyen Araç",description:Fe.description||`${Fe.year} model ${Fe.brand} ${Fe.model}`,capacity:Fe.capacity||4,luggage:Fe.baggage||2,basePrice:Fe.kmRate||100,pricePerKm:Fe.pricePerKm||(Fe.kmRate?Fe.kmRate/10:2),status:Fe.isActive?"active":"inactive",image:Fe.imageUrl||Fe.image||"",features:Fe.features||[],type:Fe.type||"sedan",rating:Fe.rating||4,brand:Fe.brand||"",model:Fe.model||"",color:Fe.color||"",year:Fe.year||new Date().getFullYear(),...Fe}});console.log("Loaded vehicles:",Ye);const Xe=Ye.filter(Bt=>Bt.status==="active");H(Xe),console.log("Active vehicles set:",Xe)}catch(Z){console.error("Error loading vehicles:",Z),H([])}finally{L(!1)}},ks=async(Z,de)=>{if(!(!Z||!de||!Z.lat||!de.lat)){A(!0);try{if(window.google&&window.google.maps&&yr.current){const Ye={origin:new window.google.maps.LatLng(Z.lat,Z.lng),destination:new window.google.maps.LatLng(de.lat,de.lng),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC};yr.current.route(Ye,(Xe,Bt)=>{if(Bt==="OK"){const Tt=Xe.routes[0].legs[0],Xs={distance:Tt.distance.text,duration:Tt.duration.text,distanceValue:Tt.distance.value,durationValue:Tt.duration.value};v(Xs),P(!0),setTimeout(()=>{Fn(Xe)},100)}A(!1)})}}catch(Ye){console.error("Route calculation error:",Ye),A(!1)}}},Fn=Z=>{if(!Vt.current||!window.google)return;const de=new window.google.maps.Map(Vt.current,{zoom:11,center:{lat:36.8969,lng:30.7133},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_BOTTOM},styles:[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}]});sr.current&&Z&&(sr.current.setDirections(Z),sr.current.setMap(de),sr.current.setOptions({polylineOptions:{strokeColor:"#3B82F6",strokeWeight:4,strokeOpacity:.8}}))},Sn=(Z,de=!0)=>{const Ye={address:Z.address||Z.name,lat:Z.lat,lng:Z.lng,rating:Z.rating};de?(o(Ye),ae(!1),He.current&&(He.current.value=Z.address||Z.name)):(c(Ye),xe(!1),ot.current&&(ot.current.value=Z.address||Z.name));const Xe=de?Ye:a,Bt=de?l:Ye;Xe&&Bt&&Xe.lat&&Bt.lat&&ks(Xe,Bt)},gt=Z=>{if(!b||!b.distanceValue)return Z.basePrice||Z.kmRate||100;const de=b.distanceValue/1e3,Ye=Z.kmRate||Z.basePrice||Z.pricePerKm||10;let Xe=Math.round(de*Ye);const Bt=Ye*5;return Xe<Bt&&(Xe=Bt),s==="round-trip"&&(Xe=Xe*2),Xe},ut=Z=>{E(de=>{const Ye=Z?de<50?de+1:de:de>1?de-1:de;return S&&S.capacity<Ye&&V(null),Ye>0&&O(!0),Ye})},Bs=Z=>{_(de=>Z?de<20?de+1:de:de>0?de-1:de)},Qs=Z=>{V(Z)},Tn=()=>new Date().toISOString().slice(0,10),Pn=()=>{const Z={tripType:s,pickupLocation:a,dropoffLocation:l,date:h,time:m,returnDate:s==="round-trip"?N:null,returnTime:s==="round-trip"?w:null,passengerCount:C,baggageCount:B,selectedVehicle:S,routeInfo:b,totalPrice:S?gt(S):0};e(Z),r()};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Rota ve Araç Seçimi"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Transfer rotanızı belirleyin ve aracınızı seçin"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Yolculuk Türü"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>i("one-way"),className:`
              relative p-2 sm:p-4 rounded-lg border-2 transition-all duration-200
              ${s==="one-way"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
            `,children:[n.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2",children:[n.jsx(e2,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Tek Yön"})]}),s==="one-way"&&n.jsx($e,{className:"absolute top-1 right-1 sm:top-2 sm:right-2 w-4 h-4 sm:w-5 sm:h-5 text-blue-500"})]}),n.jsxs("button",{type:"button",onClick:()=>i("round-trip"),className:`
              relative p-2 sm:p-4 rounded-lg border-2 transition-all duration-200
              ${s==="round-trip"?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
            `,children:[n.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2",children:[n.jsx(e2,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Gidiş-Dönüş"})]}),s==="round-trip"&&n.jsx($e,{className:"absolute top-1 right-1 sm:top-2 sm:right-2 w-4 h-4 sm:w-5 sm:h-5 text-purple-500"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nereden"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10",children:n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(lt,{className:"w-3 h-3 text-green-600"})})}),n.jsx("input",{ref:He,type:"text",placeholder:"Başlangıç noktanızı girin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",value:typeof a=="string"?a:(a==null?void 0:a.address)||"",onChange:Z=>{const de=Z.target.value;o(de),ae(de.length>0),Ys(de,!0)},onFocus:()=>ae(!0),onBlur:()=>setTimeout(()=>ae(!1),200)}),n.jsx(_r,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),G&&Ae.length>0&&n.jsxs("div",{className:"absolute z-50 w-full bg-white border border-gray-200 rounded-lg shadow-lg mt-1 max-h-64 overflow-hidden",children:[n.jsx("div",{className:"p-3 border-b border-gray-100 bg-blue-50",children:n.jsxs("p",{className:"text-sm font-medium text-blue-700 flex items-center",children:[n.jsx("span",{className:"w-5 h-5 bg-blue-500 rounded text-white text-xs flex items-center justify-center mr-2",children:"G"}),"Google Önerileri"]})}),n.jsx("div",{className:"max-h-56 overflow-y-auto",children:Ae.map((Z,de)=>n.jsx("button",{type:"button",onClick:()=>Sn(Z,!0),className:"w-full p-3 sm:p-4 hover:bg-blue-50 flex items-center text-left border-b border-gray-50 last:border-b-0 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-3 w-full min-w-0",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:n.jsx(lt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate text-sm sm:text-base",children:Z.name}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-500 truncate",children:Z.address})]}),Z.rating>0&&n.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[n.jsx(fn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400 fill-current"}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:Z.rating})]})]})},`google-${de}`))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nereye"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10",children:n.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(lt,{className:"w-3 h-3 text-red-600"})})}),n.jsx("input",{ref:ot,type:"text",placeholder:"Varış noktanızı girin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm",value:typeof l=="string"?l:(l==null?void 0:l.address)||"",onChange:Z=>{const de=Z.target.value;c(de),xe(de.length>0),Ys(de,!1)},onFocus:()=>xe(!0),onBlur:()=>setTimeout(()=>xe(!1),200)}),n.jsx(_r,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),le&&pe.length>0&&n.jsxs("div",{className:"absolute z-50 w-full bg-white border border-gray-200 rounded-lg shadow-lg mt-1 max-h-64 overflow-hidden",children:[n.jsx("div",{className:"p-3 border-b border-gray-100 bg-blue-50",children:n.jsxs("p",{className:"text-sm font-medium text-blue-700 flex items-center",children:[n.jsx("span",{className:"w-5 h-5 bg-blue-500 rounded text-white text-xs flex items-center justify-center mr-2",children:"G"}),"Google Önerileri"]})}),n.jsx("div",{className:"max-h-56 overflow-y-auto",children:pe.map((Z,de)=>n.jsx("button",{type:"button",onClick:()=>Sn(Z,!1),className:"w-full p-3 sm:p-4 hover:bg-blue-50 flex items-center text-left border-b border-gray-50 last:border-b-0 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-3 w-full min-w-0",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:n.jsx(lt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate text-sm sm:text-base",children:Z.name}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-500 truncate",children:Z.address})]}),Z.rating>0&&n.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[n.jsx(fn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400 fill-current"}),n.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:Z.rating})]})]})},`google-${de}`))})]})]})]}),b&&n.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(sv,{className:"w-4 h-4 mr-2 text-blue-600"}),"Rota Bilgileri"]}),y&&n.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),n.jsx("div",{className:"w-full",children:n.jsx("div",{ref:Vt,className:"w-full h-64 sm:h-72 md:h-80 lg:h-96 rounded-lg border border-gray-200 bg-gray-100 shadow-md",style:{minHeight:"256px"}})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-left space-y-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Mesafe:"}),n.jsx("span",{className:"text-sm font-semibold text-blue-600",children:b.distance})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Süre:"}),n.jsx("span",{className:"text-sm font-semibold text-purple-600",children:b.duration})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Yolcu Sayısı"}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 bg-blue-50 rounded-lg p-2 sm:p-3",children:[n.jsx("button",{type:"button",onClick:()=>ut(!1),className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-white shadow-md hover:shadow-lg flex items-center justify-center disabled:opacity-50",disabled:C<=1,children:n.jsx($0,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"})}),n.jsx("div",{className:"bg-white rounded-lg px-2 py-1 sm:px-4 sm:py-2 min-w-[2rem] sm:min-w-[3rem] text-center",children:n.jsx("span",{className:"text-sm sm:text-lg font-bold text-gray-800",children:C})}),n.jsx("button",{type:"button",onClick:()=>ut(!0),className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-blue-500 shadow-md hover:shadow-lg hover:bg-blue-600 flex items-center justify-center disabled:opacity-50",disabled:C>=50,children:n.jsx(qr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bagaj Sayısı"}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 bg-purple-50 rounded-lg p-2 sm:p-3",children:[n.jsx("button",{type:"button",onClick:()=>Bs(!1),className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-white shadow-md hover:shadow-lg flex items-center justify-center disabled:opacity-50",disabled:B<=0,children:n.jsx($0,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"})}),n.jsx("div",{className:"bg-white rounded-lg px-2 py-1 sm:px-4 sm:py-2 min-w-[2rem] sm:min-w-[3rem] text-center",children:n.jsx("span",{className:"text-sm sm:text-lg font-bold text-gray-800",children:B})}),n.jsx("button",{type:"button",onClick:()=>Bs(!0),className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-purple-500 shadow-md hover:shadow-lg hover:bg-purple-600 flex items-center justify-center disabled:opacity-50",disabled:B>=20,children:n.jsx(qr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tarih ve Saat"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:s==="round-trip"?"Gidiş Tarihi":"Tarih"}),n.jsxs("div",{className:"relative",children:[n.jsx(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"date",value:h,min:Tn(),onChange:Z=>f(Z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:s==="round-trip"?"Gidiş Saati":"Saat"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"time",value:m,onChange:Z=>p(Z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s==="round-trip"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dönüş Tarihi"}),n.jsxs("div",{className:"relative",children:[n.jsx(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"date",value:N,min:h||Tn(),onChange:Z=>k(Z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dönüş Saati"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"time",value:w,onChange:Z=>j(Z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),z&&b&&C>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Araç Seçimi"}),C>1&&n.jsxs("span",{className:"text-sm text-blue-600 bg-blue-50 px-2 py-1 rounded-lg",children:[C," kişi için uygun araçlar"]})]}),I?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Araçlar yükleniyor..."})]}):wt().length===0?n.jsxs("div",{className:"text-center py-8 bg-yellow-50 rounded-lg border border-yellow-200",children:[n.jsx(De,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),n.jsxs("p",{className:"text-sm text-yellow-800 font-medium",children:[C," kişi için uygun araç bulunamadı"]}),n.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Lütfen yolcu sayısını azaltın veya bizimle iletişime geçin"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:wt().map(Z=>n.jsxs("button",{type:"button",onClick:()=>Qs(Z),className:`
                  relative p-4 rounded-lg border-2 transition-all duration-200 text-left
                  ${(S==null?void 0:S.id)===Z.id?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md"}
                `,children:[n.jsxs("div",{className:"mb-3",children:[Z.image||Z.imageUrl?n.jsx("img",{src:Z.image||Z.imageUrl,alt:Z.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg",onError:de=>{de.target.style.display="none",de.target.nextSibling.style.display="flex"}}):null,n.jsx("div",{className:`w-full h-32 sm:h-40 bg-gray-100 rounded-lg flex items-center justify-center ${Z.image||Z.imageUrl?"hidden":"flex"}`,children:n.jsx(De,{className:"w-8 h-8 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:Z.name}),n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(mt,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{className:"text-sm font-medium",children:[Z.capacity," Kişi"]})]}),Z.features&&Z.features.length>0&&n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[Z.features.slice(0,4).map((de,Ye)=>n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:de},Ye)),Z.features.length>4&&n.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",Z.features.length-4," daha"]})]})}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Toplam Fiyat"}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-xl font-bold text-green-600",children:["₺",gt(Z)]}),n.jsx("div",{className:"text-xs text-gray-500",children:s==="round-trip"?"Gidiş-Dönüş":"Tek Yön"})]})]})})]}),(S==null?void 0:S.id)===Z.id&&n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx($e,{className:"w-6 h-6 text-green-500 bg-white rounded-full"})})]},Z.id))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:Pn,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[n.jsx("span",{children:"Kişisel Bilgilere Geç"}),n.jsx(Aa,{className:"w-4 h-4"})]})})]})},hz=({value:t,onChange:e,placeholder:r,className:s,error:i})=>{const[a,o]=g.useState(!1),[l,c]=g.useState({code:"TR",dialCode:"+90",flag:"🇹🇷",name:"Türkiye"}),u=[{code:"TR",dialCode:"+90",flag:"🇹🇷",name:"Türkiye"},{code:"US",dialCode:"+1",flag:"🇺🇸",name:"Amerika"},{code:"GB",dialCode:"+44",flag:"🇬🇧",name:"İngiltere"},{code:"DE",dialCode:"+49",flag:"🇩🇪",name:"Almanya"},{code:"FR",dialCode:"+33",flag:"🇫🇷",name:"Fransa"},{code:"IT",dialCode:"+39",flag:"🇮🇹",name:"İtalya"},{code:"ES",dialCode:"+34",flag:"🇪🇸",name:"İspanya"},{code:"NL",dialCode:"+31",flag:"🇳🇱",name:"Hollanda"},{code:"BE",dialCode:"+32",flag:"🇧🇪",name:"Belçika"},{code:"CH",dialCode:"+41",flag:"🇨🇭",name:"İsviçre"},{code:"AT",dialCode:"+43",flag:"🇦🇹",name:"Avusturya"},{code:"SE",dialCode:"+46",flag:"🇸🇪",name:"İsveç"},{code:"NO",dialCode:"+47",flag:"🇳🇴",name:"Norveç"},{code:"DK",dialCode:"+45",flag:"🇩🇰",name:"Danimarka"},{code:"FI",dialCode:"+358",flag:"🇫🇮",name:"Finlandiya"},{code:"RU",dialCode:"+7",flag:"🇷🇺",name:"Rusya"},{code:"UA",dialCode:"+380",flag:"🇺🇦",name:"Ukrayna"},{code:"PL",dialCode:"+48",flag:"🇵🇱",name:"Polonya"},{code:"CZ",dialCode:"+420",flag:"🇨🇿",name:"Çekya"},{code:"HU",dialCode:"+36",flag:"🇭🇺",name:"Macaristan"},{code:"GR",dialCode:"+30",flag:"🇬🇷",name:"Yunanistan"},{code:"BG",dialCode:"+359",flag:"🇧🇬",name:"Bulgaristan"},{code:"RO",dialCode:"+40",flag:"🇷🇴",name:"Romanya"},{code:"HR",dialCode:"+385",flag:"🇭🇷",name:"Hırvatistan"},{code:"RS",dialCode:"+381",flag:"🇷🇸",name:"Sırbistan"},{code:"JP",dialCode:"+81",flag:"🇯🇵",name:"Japonya"},{code:"KR",dialCode:"+82",flag:"🇰🇷",name:"Güney Kore"},{code:"CN",dialCode:"+86",flag:"🇨🇳",name:"Çin"},{code:"IN",dialCode:"+91",flag:"🇮🇳",name:"Hindistan"},{code:"AU",dialCode:"+61",flag:"🇦🇺",name:"Avustralya"},{code:"CA",dialCode:"+1",flag:"🇨🇦",name:"Kanada"},{code:"BR",dialCode:"+55",flag:"🇧🇷",name:"Brezilya"},{code:"MX",dialCode:"+52",flag:"🇲🇽",name:"Meksika"},{code:"AR",dialCode:"+54",flag:"🇦🇷",name:"Arjantin"},{code:"AE",dialCode:"+971",flag:"🇦🇪",name:"BAE"},{code:"SA",dialCode:"+966",flag:"🇸🇦",name:"Suudi Arabistan"},{code:"EG",dialCode:"+20",flag:"🇪🇬",name:"Mısır"},{code:"ZA",dialCode:"+27",flag:"🇿🇦",name:"Güney Afrika"}],d=m=>{c(m),o(!1);const p=t.replace(/^\+\d+\s*/,""),N=`${m.dialCode} ${p}`.trim();e(N)},h=m=>{const p=m.target.value;if(p.startsWith("+"))e(p);else{const N=`${l.dialCode} ${p}`.trim();e(N)}},f=m=>{if(!m)return"";const p=m.replace(/^\+\d+\s*/,"");if(l.code==="TR"){const N=p.replace(/\D/g,"");return N.length>=10?N.slice(0,10).replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):N}return p};return n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"flex w-full h-12",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>o(!a),className:`flex items-center justify-center px-3 h-12 border border-r-0 rounded-l-lg bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors w-20 ${i?"border-red-300 focus:border-red-500":"border-gray-300"}`,children:[n.jsx("span",{className:"text-base mr-1",children:l.flag}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:l.dialCode}),n.jsx(_r,{className:"w-3 h-3 text-gray-400 ml-1"})]}),a&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:u.map(m=>n.jsxs("button",{type:"button",onClick:()=>d(m),className:"w-full flex items-center px-3 py-2 text-left hover:bg-gray-50 transition-colors",children:[n.jsx("span",{className:"text-base mr-3",children:m.flag}),n.jsx("span",{className:"text-sm text-gray-500 font-mono",children:m.dialCode})]},m.code))}),a&&n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(kt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),n.jsx("input",{type:"tel",value:f(t),onChange:h,placeholder:r||"555 123 4567",className:`w-full h-12 pl-10 pr-4 border border-l-0 rounded-r-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm ${i?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300"}`})]})]})})},mz=({bookingData:t,updateBookingData:e,onNext:r,onBack:s})=>{var f,m,p,N,k,w,j,C;const[i,a]=g.useState({firstName:((f=t.personalInfo)==null?void 0:f.firstName)||"",lastName:((m=t.personalInfo)==null?void 0:m.lastName)||"",email:((p=t.personalInfo)==null?void 0:p.email)||"",phone:((N=t.personalInfo)==null?void 0:N.phone)||"",flightNumber:((k=t.personalInfo)==null?void 0:k.flightNumber)||"",flightTime:((w=t.personalInfo)==null?void 0:w.flightTime)||"",specialRequests:((j=t.personalInfo)==null?void 0:j.specialRequests)||"",acceptTerms:((C=t.personalInfo)==null?void 0:C.acceptTerms)||!1}),[o,l]=g.useState({}),c=()=>{const E={};return i.firstName.trim()?i.firstName.trim().length<2&&(E.firstName="Ad en az 2 karakter olmalıdır"):E.firstName="Ad alanı zorunludur",i.lastName.trim()?i.lastName.trim().length<2&&(E.lastName="Soyad en az 2 karakter olmalıdır"):E.lastName="Soyad alanı zorunludur",i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(E.email="Geçerli bir e-posta adresi girin"):E.email="E-posta alanı zorunludur",i.phone.trim()?i.phone.replace(/\D/g,"").length<10&&(E.phone="Geçerli bir telefon numarası girin"):E.phone="Telefon alanı zorunludur",i.flightNumber&&i.flightNumber.trim().length<3&&(E.flightNumber="Geçerli bir uçuş numarası girin"),i.acceptTerms||(E.acceptTerms="Kullanım şartlarını kabul etmelisiniz"),l(E),Object.keys(E).length===0},u=(E,B)=>{a(_=>({..._,[E]:B})),o[E]&&l(_=>({..._,[E]:""}))},d=()=>{c()&&(e({personalInfo:i}),r())},h=()=>{const E=i.phone.replace(/\D/g,"");return i.firstName.trim()&&i.lastName.trim()&&i.email.trim()&&i.phone.trim()&&i.acceptTerms&&/\S+@\S+\.\S+/.test(i.email)&&E.length>=10};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Kişisel Bilgiler"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"İletişim ve uçuş bilgilerinizi girin"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"İletişim Bilgileri"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ad *"}),n.jsxs("div",{className:"relative",children:[n.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:i.firstName,onChange:E=>u("firstName",E.target.value),placeholder:"Adınızı girin",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm ${o.firstName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300"}`})]}),o.firstName&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[n.jsx(Ke,{className:"w-4 h-4"}),n.jsx("span",{children:o.firstName})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Soyad *"}),n.jsxs("div",{className:"relative",children:[n.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:i.lastName,onChange:E=>u("lastName",E.target.value),placeholder:"Soyadınızı girin",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm ${o.lastName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300"}`})]}),o.lastName&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[n.jsx(Ke,{className:"w-4 h-4"}),n.jsx("span",{children:o.lastName})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"E-posta *"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"email",value:i.email,onChange:E=>u("email",E.target.value),placeholder:"ornek@email.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm ${o.email?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300"}`})]}),o.email&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[n.jsx(Ke,{className:"w-4 h-4"}),n.jsx("span",{children:o.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefon *"}),n.jsx(hz,{value:i.phone,onChange:E=>u("phone",E),placeholder:"555 123 4567",error:o.phone}),o.phone&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[n.jsx(Ke,{className:"w-4 h-4"}),n.jsx("span",{children:o.phone})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Uçuş Bilgileri (Opsiyonel)"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Uçuş Numarası"}),n.jsxs("div",{className:"relative",children:[n.jsx(hp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:i.flightNumber,onChange:E=>u("flightNumber",E.target.value.toUpperCase()),placeholder:"TK123",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Uçuş Saati"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"time",value:i.flightTime,onChange:E=>u("flightTime",E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Özel İstekler"}),n.jsxs("div",{className:"relative",children:[n.jsx(Z4,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{value:i.specialRequests,onChange:E=>u("specialRequests",E.target.value),placeholder:"Bebek koltuğu, tekerlekli sandalye erişimi vb. özel isteklerinizi belirtin...",rows:4,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none text-sm"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",id:"acceptTerms",checked:i.acceptTerms,onChange:E=>u("acceptTerms",E.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),n.jsxs("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-700 leading-relaxed",children:[n.jsx("span",{className:"font-medium",children:"Kullanım Şartları"})," ve ",n.jsx("span",{className:"font-medium",children:"Gizlilik Politikası"}),"'nı okudum ve kabul ediyorum. Kişisel verilerimin işlenmesine ve transfer hizmeti için kullanılmasına onay veriyorum. *"]})]}),o.acceptTerms&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[n.jsx(Ke,{className:"w-4 h-4"}),n.jsx("span",{children:o.acceptTerms})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[n.jsxs("button",{type:"button",onClick:s,className:"w-full sm:w-auto px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors font-medium text-sm flex items-center justify-center space-x-2",children:[n.jsx(bs,{className:"w-4 h-4"}),n.jsx("span",{children:"Önceki Adım"})]}),n.jsxs("button",{type:"button",onClick:d,disabled:!h(),className:"flex-1 sm:flex-none sm:min-w-[160px] px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm flex items-center justify-center space-x-2",children:[n.jsx("span",{children:"Ödeme Adımına Geç"}),n.jsx(Aa,{className:"w-4 h-4"})]})]})]})},fz=({bookingData:t,updateBookingData:e,onComplete:r,onBack:s,isLoading:i})=>{var v,y,A,F,P,S,V;const[a,o]=g.useState(""),[l,c]=g.useState(null),[u,d]=g.useState(!0),[h,f]=g.useState([]),[m,p]=g.useState({cardNumber:"",expiryDate:"",cvv:"",cardName:""}),[N,k]=g.useState({});g.useEffect(()=>{w()},[]);const w=async()=>{try{d(!0);const M=je(ie,"settings","main"),H=Hr(M,I=>{var L;if(I.exists()){const O=((L=I.data().bankAccounts)==null?void 0:L.filter(U=>U.isActive!==!1))||[];f(O)}d(!1)},I=>{console.error("Error fetching payment settings:",I),d(!1)});return()=>H()}catch(M){console.error("Error setting up payment settings listener:",M),d(!1)}},j=()=>{if(a!=="credit_card")return!0;const M={};if(m.cardNumber.trim()?m.cardNumber.replace(/\s/g,"").length<16&&(M.cardNumber="Kart numarası 16 haneli olmalıdır"):M.cardNumber="Kart numarası zorunludur",!m.expiryDate.trim())M.expiryDate="Son kullanma tarihi zorunludur";else{const[H,I]=m.expiryDate.split("/"),L=new Date,z=L.getFullYear()%100,O=L.getMonth()+1;!H||!I||H<1||H>12?M.expiryDate="Geçerli bir tarih giriniz (MM/YY)":(parseInt(I)<z||parseInt(I)===z&&parseInt(H)<O)&&(M.expiryDate="Kartın süresi geçmiş")}return m.cvv.trim()?(m.cvv.length<3||m.cvv.length>4)&&(M.cvv="CVV 3-4 haneli olmalıdır"):M.cvv="CVV zorunludur",m.cardName.trim()?m.cardName.trim().length<2&&(M.cardName="İsim en az 2 karakter olmalıdır"):M.cardName="Kart üzerindeki isim zorunludur",k(M),Object.keys(M).length===0},C=(M,H)=>{p(I=>({...I,[M]:H})),N[M]&&k(I=>({...I,[M]:""}))},E=M=>M.replace(/\D/g,"").replace(/(\d{4})(?=\d)/g,"$1 ").trim(),B=M=>{const H=M.replace(/\D/g,"");return H.length>=2?H.slice(0,2)+"/"+H.slice(2,4):H},_=M=>{navigator.clipboard.writeText(M)},b=()=>{j()&&(e({paymentMethod:a,creditCardInfo:a==="credit_card"?m:null}),r())};return u?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Ödeme bilgileri yükleniyor..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Ödeme Yöntemi"}),n.jsx("p",{className:"text-gray-600 mt-1 text-xs",children:"Güvenli ödeme ile rezervasyonu tamamlayın"})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Rezervasyon Özeti"}),n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Rota:"}),n.jsxs("span",{className:"font-medium text-gray-900 text-xs",children:[typeof t.pickupLocation=="object"?(y=(v=t.pickupLocation)==null?void 0:v.address)==null?void 0:y.split(",")[0]:((A=t.pickupLocation)==null?void 0:A.split(",")[0])||"Belirlenmedi"," → ",typeof t.dropoffLocation=="object"?(P=(F=t.dropoffLocation)==null?void 0:F.address)==null?void 0:P.split(",")[0]:((S=t.dropoffLocation)==null?void 0:S.split(",")[0])||"Belirlenmedi"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tarih:"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[t.date," ",t.time]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Araç:"}),n.jsx("span",{className:"font-medium text-gray-900",children:((V=t.selectedVehicle)==null?void 0:V.name)||"Seçili Araç"})]}),n.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Toplam:"}),n.jsxs("span",{className:"text-base font-bold text-blue-600",children:["₺",t.totalPrice||0]})]})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Ödeme Seçenekleri"}),n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsxs("button",{type:"button",onClick:()=>c(l==="credit_card"?null:"credit_card"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${a==="credit_card"?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:a==="credit_card"&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-white m-0.5"})}),n.jsx(pr,{className:"w-4 h-4 text-gray-600"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Kredi Kartı"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Güvenli online ödeme"})]})]}),n.jsx(_r,{className:`w-4 h-4 text-gray-400 transition-transform ${l==="credit_card"?"rotate-180":""}`})]}),l==="credit_card"&&n.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 p-2 rounded text-xs",children:[n.jsx(Yr,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"256-bit SSL korumalı"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Kart Numarası *"}),n.jsxs("div",{className:"relative",children:[n.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),n.jsx("input",{type:"text",value:m.cardNumber,onChange:M=>{C("cardNumber",E(M.target.value)),o("credit_card")},placeholder:"1234 5678 9012 3456",maxLength:19,className:`w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${N.cardNumber?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300"}`})]}),N.cardNumber&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-500 text-xs",children:[n.jsx(Ke,{className:"w-3 h-3"}),n.jsx("span",{children:N.cardNumber})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Tarih *"}),n.jsxs("div",{className:"relative",children:[n.jsx(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),n.jsx("input",{type:"text",value:m.expiryDate,onChange:M=>C("expiryDate",B(M.target.value)),placeholder:"MM/YY",maxLength:5,className:`w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${N.expiryDate?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300"}`})]}),N.expiryDate&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-500 text-xs",children:[n.jsx(Ke,{className:"w-3 h-3"}),n.jsx("span",{children:N.expiryDate})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"CVV *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),n.jsx("input",{type:"text",value:m.cvv,onChange:M=>C("cvv",M.target.value.replace(/\D/g,"")),placeholder:"123",maxLength:4,className:`w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${N.cvv?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300"}`})]}),N.cvv&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-500 text-xs",children:[n.jsx(Ke,{className:"w-3 h-3"}),n.jsx("span",{children:N.cvv})]})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Kart Sahibi *"}),n.jsxs("div",{className:"relative",children:[n.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),n.jsx("input",{type:"text",value:m.cardName,onChange:M=>C("cardName",M.target.value.toUpperCase()),placeholder:"ADI SOYADI",className:`w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${N.cardName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300"}`})]}),N.cardName&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-500 text-xs",children:[n.jsx(Ke,{className:"w-3 h-3"}),n.jsx("span",{children:N.cardName})]})]})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsxs("button",{type:"button",onClick:()=>c(l==="bank_transfer"?null:"bank_transfer"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${a==="bank_transfer"?"border-green-500 bg-green-500":"border-gray-300"}`,children:a==="bank_transfer"&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-white m-0.5"})}),n.jsx(RV,{className:"w-4 h-4 text-gray-600"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Havale/EFT"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Banka hesabına havale"})]})]}),n.jsx(_r,{className:`w-4 h-4 text-gray-400 transition-transform ${l==="bank_transfer"?"rotate-180":""}`})]}),l==="bank_transfer"&&n.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 p-3 space-y-3",children:[n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded p-2",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ke,{className:"w-3 h-3 text-orange-600 mt-0.5"}),n.jsxs("div",{className:"text-xs text-orange-700",children:[n.jsx("p",{className:"font-medium",children:"Bilgi:"}),n.jsx("p",{children:"Havale sonrası rezervasyon onaylanır. Açıklama kısmına kodu yazın."})]})]})}),h&&h.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:"Hesap Bilgileri:"}),h.map((M,H)=>n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3 border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-semibold text-gray-900 text-sm",children:M.bankName}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Aktif"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"Hesap Sahibi:"}),n.jsx("p",{className:"text-gray-900",children:M.accountHolder})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-600",children:"IBAN:"}),n.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2 mt-1",children:[n.jsx("p",{className:"text-gray-900 font-mono text-xs",children:M.iban}),n.jsx("button",{onClick:()=>_(M.iban),className:"ml-2 p-1 hover:bg-gray-100 rounded transition-colors",title:"IBAN'ı kopyala",children:n.jsx(OV,{className:"w-3 h-3 text-gray-600"})})]})]})]})]},H)),n.jsx("button",{onClick:()=>o("bank_transfer"),className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition-colors text-xs font-medium",children:"Havale Seç"})]})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsxs("button",{type:"button",onClick:()=>c(l==="cash"?null:"cash"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${a==="cash"?"border-yellow-500 bg-yellow-500":"border-gray-300"}`,children:a==="cash"&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-white m-0.5"})}),n.jsx(zr,{className:"w-4 h-4 text-gray-600"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Nakit"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Transfer günü ödeme"})]})]}),n.jsx(_r,{className:`w-4 h-4 text-gray-400 transition-transform ${l==="cash"?"rotate-180":""}`})]}),l==="cash"&&n.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 p-3 space-y-3",children:[n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(tv,{className:"w-3 h-3 text-yellow-600 mt-0.5"}),n.jsxs("div",{className:"text-xs text-yellow-700",children:[n.jsx("p",{className:"font-medium mb-1",children:"Koşullar:"}),n.jsxs("ul",{className:"space-y-1 text-xs",children:[n.jsx("li",{children:"• Transfer başında şoföre ödenecektir"}),n.jsx("li",{children:"• Tam para getiriniz"})]})]})]})}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2 text-xs",children:"Ödeme Detayları"}),n.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tutar:"}),n.jsxs("span",{className:"font-bold",children:["₺",t.totalPrice||0]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Zaman:"}),n.jsx("span",{children:"Transfer başında"})]})]})]}),n.jsx("button",{onClick:()=>o("cash"),className:"w-full bg-yellow-600 text-white py-2 rounded hover:bg-yellow-700 transition-colors text-xs font-medium",children:"Nakit Seç"})]})]})]}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded p-2",children:n.jsxs("div",{className:"text-center space-y-1",children:[n.jsxs("div",{className:"flex justify-center items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[n.jsx(Yr,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:"SSL"})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[n.jsx(Oo,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-medium",children:"Güvenli"})]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ödeme bilgileriniz güvende."})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 pt-3",children:[n.jsxs("button",{onClick:s,disabled:i,className:"w-full sm:w-auto order-2 sm:order-1 bg-gray-100 text-gray-700 px-5 py-2.5 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 font-medium text-sm",children:[n.jsx(bs,{className:"w-4 h-4"}),n.jsx("span",{children:"Geri"})]}),n.jsx("button",{onClick:b,disabled:i||!a,className:"w-full sm:w-auto order-1 sm:order-2 bg-blue-600 text-white px-5 py-2.5 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:bg-gray-400 font-medium text-sm",children:i?n.jsxs(n.Fragment,{children:[n.jsx(YV,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"İşleniyor..."})]}):n.jsxs(n.Fragment,{children:[n.jsx($e,{className:"w-4 h-4"}),n.jsx("span",{children:"Rezervasyon Tamamla"})]})})]})]})},eN=()=>{var m;const t=Dr(),[e,r]=g.useState(1),[s,i]=g.useState(!1),[a,o]=g.useState({tripType:"one-way",pickupLocation:null,dropoffLocation:null,date:"",time:"",returnDate:"",returnTime:"",passengerCount:1,baggageCount:1,selectedVehicle:null,routeInfo:null,totalPrice:0,personalInfo:{firstName:"",lastName:"",phone:"",email:"",address:"",flightNumber:"",flightTime:"",specialRequests:""},paymentMethod:"credit_card",creditCardInfo:null,acceptedTerms:!1}),l=[{id:1,name:"Güzergah",component:xz},{id:2,name:"Bilgiler",component:mz},{id:3,name:"Ödeme",component:fz}],c=p=>{o(N=>({...N,...p}))},u=()=>{e<l.length&&r(p=>p+1)},d=()=>{e>1&&r(p=>p-1)},h=async()=>{i(!0);try{const p=`RES${Date.now()}`,N={...a,id:p,status:"confirmed"};t("/booking-confirmation",{state:{bookingData:N}})}catch(p){console.error("Error preparing reservation:",p),alert("Rezervasyon hazırlanırken bir hata oluştu. Lütfen tekrar deneyin.")}finally{i(!1)}},f=(m=l[e-1])==null?void 0:m.component;return n.jsx("div",{className:"min-h-screen bg-gray-50 py-4 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(bs,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Ana Sayfa"})]}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Transfer Rezervasyonu"}),n.jsx("div",{className:"w-20"})," "]}),n.jsx("div",{className:"flex items-center justify-center space-x-2 md:space-x-8",children:l.map((p,N)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`
                  flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-full text-sm md:text-base font-medium transition-colors
                  ${e>p.id?"bg-green-600 text-white":e===p.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}
                `,children:e>p.id?n.jsx(G4,{className:"w-4 h-4 md:w-5 md:h-5"}):p.id}),n.jsx("span",{className:`
                  ml-2 text-xs md:text-sm font-medium hidden sm:inline
                  ${e>=p.id?"text-gray-900":"text-gray-500"}
                `,children:p.name}),N<l.length-1&&n.jsx("div",{className:`
                    hidden md:block w-12 lg:w-24 h-0.5 ml-4 transition-colors
                    ${e>p.id?"bg-green-600":"bg-gray-200"}
                  `})]},p.id))})]}),n.jsx($.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white rounded-lg shadow-sm p-6",children:f&&n.jsx(f,{bookingData:a,updateBookingData:c,onNext:u,onBack:d,onComplete:h,isLoading:s})},e)]})})},pz=()=>n.jsx("div",{className:"min-h-screen",children:n.jsx(eN,{})}),gz=()=>{const t=Dr();return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container-custom",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[n.jsx("button",{onClick:()=>t("/"),className:"btn btn-outline p-2",children:n.jsx(bs,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Araç Seçimi"}),n.jsx("p",{className:"text-gray-600",children:"Size uygun aracı seçin"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 text-center",children:[n.jsx(De,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Araç Seçimi Sayfası"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Bu sayfa geliştirilme aşamasındadır. Ana sayfadan rezervasyon bilgilerini girdikten sonra burada araçlar listelenecektir."}),n.jsx("button",{onClick:()=>t("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})]})})})},yz=()=>{const t=Dr();return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container-custom",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[n.jsx("button",{onClick:()=>t("/araç-seçimi"),className:"btn btn-outline p-2",children:n.jsx(bs,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Müşteri Bilgileri"}),n.jsx("p",{className:"text-gray-600",children:"Kişisel bilgilerinizi girin"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 text-center",children:[n.jsx(ze,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Müşteri Bilgileri Sayfası"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Bu sayfa geliştirilme aşamasındadır. Burada müşteri bilgileri formu bulunacaktır."}),n.jsx("button",{onClick:()=>t("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})]})})})},vz=()=>{const t=Dr();return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container-custom",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[n.jsx("button",{onClick:()=>t("/müşteri-bilgileri"),className:"btn btn-outline p-2",children:n.jsx(bs,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ödeme"}),n.jsx("p",{className:"text-gray-600",children:"Ödeme yöntemini seçin"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 text-center",children:[n.jsx(pr,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ödeme Sayfası"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Bu sayfa geliştirilme aşamasındadır. Burada ödeme yöntemleri ve PayTR entegrasyonu bulunacaktır."}),n.jsx("button",{onClick:()=>t("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})]})})})},Ez=()=>{const t=Dr();return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container-custom",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 text-center",children:[n.jsx($e,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Rezervasyon Onayı"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Bu sayfa geliştirilme aşamasındadır. Burada rezervasyon onayı, QR kod ve giriş bilgileri gösterilecektir."}),n.jsx("button",{onClick:()=>t("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})})})})};var sl={},bz=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},tN={},Jr={};let iv;const wz=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Jr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Jr.getSymbolTotalCodewords=function(e){return wz[e]};Jr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Jr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');iv=e};Jr.isKanjiModeEnabled=function(){return typeof iv<"u"};Jr.toSJIS=function(e){return iv(e)};var sh={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},t.from=function(s,i){if(t.isValid(s))return s;try{return e(s)}catch{return i}}})(sh);function rN(){this.buffer=[],this.length=0}rN.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Cz=rN;function wu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}wu.prototype.set=function(t,e,r,s){const i=t*this.size+e;this.data[i]=r,s&&(this.reservedBit[i]=!0)};wu.prototype.get=function(t,e){return this.data[t*this.size+e]};wu.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};wu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Az=wu,sN={};(function(t){const e=Jr.getSymbolSize;t.getRowColCoords=function(s){if(s===1)return[];const i=Math.floor(s/7)+2,a=e(s),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(s){const i=[],a=t.getRowColCoords(s),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(sN);var nN={};const Nz=Jr.getSymbolSize,r2=7;nN.getPositions=function(e){const r=Nz(e);return[[0,0],[r-r2,0],[0,r-r2]]};var iN={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,u=null,d=null;for(let h=0;h<a;h++){l=c=0,u=d=null;for(let f=0;f<a;f++){let m=i.get(h,f);m===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=m,l=1),m=i.get(f,h),m===d?c++:(c>=5&&(o+=e.N1+(c-5)),d=m,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let d=0;d<a;d++)l=l<<1&2047|i.get(u,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*e.N4};function r(s,i,a){switch(s){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}t.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,r(i,c,l))},t.getBestMask=function(i,a){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){a(u),t.applyMask(u,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),d<c&&(c=d,l=u)}return l}})(iN);var nh={};const ii=sh,xd=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],hd=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nh.getBlocksCount=function(e,r){switch(r){case ii.L:return xd[(e-1)*4+0];case ii.M:return xd[(e-1)*4+1];case ii.Q:return xd[(e-1)*4+2];case ii.H:return xd[(e-1)*4+3];default:return}};nh.getTotalCodewordsCount=function(e,r){switch(r){case ii.L:return hd[(e-1)*4+0];case ii.M:return hd[(e-1)*4+1];case ii.Q:return hd[(e-1)*4+2];case ii.H:return hd[(e-1)*4+3];default:return}};var aN={},ih={};const lc=new Uint8Array(512),K0=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)lc[r]=e,K0[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)lc[r]=lc[r-255]})();ih.log=function(e){if(e<1)throw new Error("log("+e+")");return K0[e]};ih.exp=function(e){return lc[e]};ih.mul=function(e,r){return e===0||r===0?0:lc[K0[e]+K0[r]]};(function(t){const e=ih;t.mul=function(s,i){const a=new Uint8Array(s.length+i.length-1);for(let o=0;o<s.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=e.mul(s[o],i[l]);return a},t.mod=function(s,i){let a=new Uint8Array(s);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=e.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},t.generateECPolynomial=function(s){let i=new Uint8Array([1]);for(let a=0;a<s;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(aN);const oN=aN;function av(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}av.prototype.initialize=function(e){this.degree=e,this.genPoly=oN.generateECPolynomial(this.degree)};av.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const s=oN.mod(r,this.genPoly),i=this.degree-s.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(s,i),a}return s};var jz=av,lN={},Mi={},ov={};ov.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var qs={};const cN="[0-9]+",Dz="[A-Z $%*+\\-./:]+";let Kc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Kc=Kc.replace(/u/g,"\\u");const kz="(?:(?![A-Z0-9 $%*+\\-./:]|"+Kc+`)(?:.|[\r
]))+`;qs.KANJI=new RegExp(Kc,"g");qs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");qs.BYTE=new RegExp(kz,"g");qs.NUMERIC=new RegExp(cN,"g");qs.ALPHANUMERIC=new RegExp(Dz,"g");const Bz=new RegExp("^"+Kc+"$"),_z=new RegExp("^"+cN+"$"),Fz=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qs.testKanji=function(e){return Bz.test(e)};qs.testNumeric=function(e){return _z.test(e)};qs.testAlphanumeric=function(e){return Fz.test(e)};(function(t){const e=ov,r=qs;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return r.testNumeric(a)?t.NUMERIC:r.testAlphanumeric(a)?t.ALPHANUMERIC:r.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function s(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,o){if(t.isValid(a))return a;try{return s(a)}catch{return o}}})(Mi);(function(t){const e=Jr,r=nh,s=sh,i=Mi,a=ov,o=7973,l=e.getBCHDigit(o);function c(f,m,p){for(let N=1;N<=40;N++)if(m<=t.getCapacity(N,p,f))return N}function u(f,m){return i.getCharCountIndicator(f,m)+4}function d(f,m){let p=0;return f.forEach(function(N){const k=u(N.mode,m);p+=k+N.getBitsLength()}),p}function h(f,m){for(let p=1;p<=40;p++)if(d(f,p)<=t.getCapacity(p,m,i.MIXED))return p}t.from=function(m,p){return a.isValid(m)?parseInt(m,10):p},t.getCapacity=function(m,p,N){if(!a.isValid(m))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=i.BYTE);const k=e.getSymbolTotalCodewords(m),w=r.getTotalCodewordsCount(m,p),j=(k-w)*8;if(N===i.MIXED)return j;const C=j-u(N,m);switch(N){case i.NUMERIC:return Math.floor(C/10*3);case i.ALPHANUMERIC:return Math.floor(C/11*2);case i.KANJI:return Math.floor(C/13);case i.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(m,p){let N;const k=s.from(p,s.M);if(Array.isArray(m)){if(m.length>1)return h(m,k);if(m.length===0)return 1;N=m[0]}else N=m;return c(N.mode,N.getLength(),k)},t.getEncodedBits=function(m){if(!a.isValid(m)||m<7)throw new Error("Invalid QR Code version");let p=m<<12;for(;e.getBCHDigit(p)-l>=0;)p^=o<<e.getBCHDigit(p)-l;return m<<12|p}})(lN);var uN={};const mp=Jr,dN=1335,Sz=21522,s2=mp.getBCHDigit(dN);uN.getEncodedBits=function(e,r){const s=e.bit<<3|r;let i=s<<10;for(;mp.getBCHDigit(i)-s2>=0;)i^=dN<<mp.getBCHDigit(i)-s2;return(s<<10|i)^Sz};var xN={};const Tz=Mi;function Vo(t){this.mode=Tz.NUMERIC,this.data=t.toString()}Vo.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Vo.prototype.getLength=function(){return this.data.length};Vo.prototype.getBitsLength=function(){return Vo.getBitsLength(this.data.length)};Vo.prototype.write=function(e){let r,s,i;for(r=0;r+3<=this.data.length;r+=3)s=this.data.substr(r,3),i=parseInt(s,10),e.put(i,10);const a=this.data.length-r;a>0&&(s=this.data.substr(r),i=parseInt(s,10),e.put(i,a*3+1))};var Pz=Vo;const Iz=Mi,pm=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function zo(t){this.mode=Iz.ALPHANUMERIC,this.data=t}zo.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};zo.prototype.getLength=function(){return this.data.length};zo.prototype.getBitsLength=function(){return zo.getBitsLength(this.data.length)};zo.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let s=pm.indexOf(this.data[r])*45;s+=pm.indexOf(this.data[r+1]),e.put(s,11)}this.data.length%2&&e.put(pm.indexOf(this.data[r]),6)};var Rz=zo;const Lz=Mi;function Uo(t){this.mode=Lz.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Uo.getBitsLength=function(e){return e*8};Uo.prototype.getLength=function(){return this.data.length};Uo.prototype.getBitsLength=function(){return Uo.getBitsLength(this.data.length)};Uo.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var Mz=Uo;const Oz=Mi,Vz=Jr;function $o(t){this.mode=Oz.KANJI,this.data=t}$o.getBitsLength=function(e){return e*13};$o.prototype.getLength=function(){return this.data.length};$o.prototype.getBitsLength=function(){return $o.getBitsLength(this.data.length)};$o.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Vz.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var zz=$o,hN={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,s,i){var a={},o={};o[s]=0;var l=e.PriorityQueue.make();l.push(s,0);for(var c,u,d,h,f,m,p,N,k;!l.empty();){c=l.pop(),u=c.value,h=c.cost,f=r[u]||{};for(d in f)f.hasOwnProperty(d)&&(m=f[d],p=h+m,N=o[d],k=typeof o[d]>"u",(k||N>p)&&(o[d]=p,l.push(d,p),a[d]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",s," to ",i,"."].join("");throw new Error(w)}return a},extract_shortest_path_from_predecessor_list:function(r,s){for(var i=[],a=s;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,s,i){var a=e.single_source_shortest_paths(r,s,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var s=e.PriorityQueue,i={},a;r=r||{};for(a in s)s.hasOwnProperty(a)&&(i[a]=s[a]);return i.queue=[],i.sorter=r.sorter||s.default_sorter,i},default_sorter:function(r,s){return r.cost-s.cost},push:function(r,s){var i={value:r,cost:s};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(hN);var Uz=hN.exports;(function(t){const e=Mi,r=Pz,s=Rz,i=Mz,a=zz,o=qs,l=Jr,c=Uz;function u(w){return unescape(encodeURIComponent(w)).length}function d(w,j,C){const E=[];let B;for(;(B=w.exec(C))!==null;)E.push({data:B[0],index:B.index,mode:j,length:B[0].length});return E}function h(w){const j=d(o.NUMERIC,e.NUMERIC,w),C=d(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let E,B;return l.isKanjiModeEnabled()?(E=d(o.BYTE,e.BYTE,w),B=d(o.KANJI,e.KANJI,w)):(E=d(o.BYTE_KANJI,e.BYTE,w),B=[]),j.concat(C,E,B).sort(function(b,v){return b.index-v.index}).map(function(b){return{data:b.data,mode:b.mode,length:b.length}})}function f(w,j){switch(j){case e.NUMERIC:return r.getBitsLength(w);case e.ALPHANUMERIC:return s.getBitsLength(w);case e.KANJI:return a.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function m(w){return w.reduce(function(j,C){const E=j.length-1>=0?j[j.length-1]:null;return E&&E.mode===C.mode?(j[j.length-1].data+=C.data,j):(j.push(C),j)},[])}function p(w){const j=[];for(let C=0;C<w.length;C++){const E=w[C];switch(E.mode){case e.NUMERIC:j.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:j.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:j.push([E,{data:E.data,mode:e.BYTE,length:u(E.data)}]);break;case e.BYTE:j.push([{data:E.data,mode:e.BYTE,length:u(E.data)}])}}return j}function N(w,j){const C={},E={start:{}};let B=["start"];for(let _=0;_<w.length;_++){const b=w[_],v=[];for(let y=0;y<b.length;y++){const A=b[y],F=""+_+y;v.push(F),C[F]={node:A,lastCount:0},E[F]={};for(let P=0;P<B.length;P++){const S=B[P];C[S]&&C[S].node.mode===A.mode?(E[S][F]=f(C[S].lastCount+A.length,A.mode)-f(C[S].lastCount,A.mode),C[S].lastCount+=A.length):(C[S]&&(C[S].lastCount=A.length),E[S][F]=f(A.length,A.mode)+4+e.getCharCountIndicator(A.mode,j))}}B=v}for(let _=0;_<B.length;_++)E[B[_]].end=0;return{map:E,table:C}}function k(w,j){let C;const E=e.getBestModeForData(w);if(C=e.from(j,E),C!==e.BYTE&&C.bit<E.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(E));switch(C===e.KANJI&&!l.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new r(w);case e.ALPHANUMERIC:return new s(w);case e.KANJI:return new a(w);case e.BYTE:return new i(w)}}t.fromArray=function(j){return j.reduce(function(C,E){return typeof E=="string"?C.push(k(E,null)):E.data&&C.push(k(E.data,E.mode)),C},[])},t.fromString=function(j,C){const E=h(j,l.isKanjiModeEnabled()),B=p(E),_=N(B,C),b=c.find_path(_.map,"start","end"),v=[];for(let y=1;y<b.length-1;y++)v.push(_.table[b[y]].node);return t.fromArray(m(v))},t.rawSplit=function(j){return t.fromArray(h(j,l.isKanjiModeEnabled()))}})(xN);const ah=Jr,gm=sh,$z=Cz,Hz=Az,Kz=sN,Gz=nN,fp=iN,pp=nh,Wz=jz,G0=lN,qz=uN,Yz=Mi,ym=xN;function Qz(t,e){const r=t.size,s=Gz.getPositions(e);for(let i=0;i<s.length;i++){const a=s[i][0],o=s[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||r<=a+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(a+l,o+c,!0,!0):t.set(a+l,o+c,!1,!0))}}function Xz(t){const e=t.size;for(let r=8;r<e-8;r++){const s=r%2===0;t.set(r,6,s,!0),t.set(6,r,s,!0)}}function Zz(t,e){const r=Kz.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],a=r[s][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(i+o,a+l,!0,!0):t.set(i+o,a+l,!1,!0)}}function Jz(t,e){const r=t.size,s=G0.getEncodedBits(e);let i,a,o;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+r-8-3,o=(s>>l&1)===1,t.set(i,a,o,!0),t.set(a,i,o,!0)}function vm(t,e,r){const s=t.size,i=qz.getEncodedBits(e,r);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?t.set(a,8,o,!0):a<8?t.set(a+1,8,o,!0):t.set(s-15+a,8,o,!0),a<8?t.set(8,s-a-1,o,!0):a<9?t.set(8,15-a-1+1,o,!0):t.set(8,15-a-1,o,!0);t.set(s-8,8,1,!0)}function eU(t,e){const r=t.size;let s=-1,i=r-1,a=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,l-c)){let u=!1;o<e.length&&(u=(e[o]>>>a&1)===1),t.set(i,l-c,u),a--,a===-1&&(o++,a=7)}if(i+=s,i<0||r<=i){i-=s,s=-s;break}}}function tU(t,e,r){const s=new $z;r.forEach(function(c){s.put(c.mode.bit,4),s.put(c.getLength(),Yz.getCharCountIndicator(c.mode,t)),c.write(s)});const i=ah.getSymbolTotalCodewords(t),a=pp.getTotalCodewordsCount(t,e),o=(i-a)*8;for(s.getLengthInBits()+4<=o&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const l=(o-s.getLengthInBits())/8;for(let c=0;c<l;c++)s.put(c%2?17:236,8);return rU(s,t,e)}function rU(t,e,r){const s=ah.getSymbolTotalCodewords(e),i=pp.getTotalCodewordsCount(e,r),a=s-i,o=pp.getBlocksCount(e,r),l=s%o,c=o-l,u=Math.floor(s/o),d=Math.floor(a/o),h=d+1,f=u-d,m=new Wz(f);let p=0;const N=new Array(o),k=new Array(o);let w=0;const j=new Uint8Array(t.buffer);for(let b=0;b<o;b++){const v=b<c?d:h;N[b]=j.slice(p,p+v),k[b]=m.encode(N[b]),p+=v,w=Math.max(w,v)}const C=new Uint8Array(s);let E=0,B,_;for(B=0;B<w;B++)for(_=0;_<o;_++)B<N[_].length&&(C[E++]=N[_][B]);for(B=0;B<f;B++)for(_=0;_<o;_++)C[E++]=k[_][B];return C}function sU(t,e,r,s){let i;if(Array.isArray(t))i=ym.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=ym.rawSplit(t);u=G0.getBestVersionForData(d,r)}i=ym.fromString(t,u||40)}else throw new Error("Invalid data");const a=G0.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=tU(e,r,i),l=ah.getSymbolSize(e),c=new Hz(l);return Qz(c,e),Xz(c),Zz(c,e),vm(c,r,0),e>=7&&Jz(c,e),eU(c,o),isNaN(s)&&(s=fp.getBestMask(c,vm.bind(null,c,r))),fp.applyMask(s,c),vm(c,r,s),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:s,segments:i}}tN.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let s=gm.M,i,a;return typeof r<"u"&&(s=gm.from(r.errorCorrectionLevel,gm.M),i=G0.from(r.version),a=fp.from(r.maskPattern),r.toSJISFunc&&ah.setToSJISFunction(r.toSJISFunc)),sU(e,i,s,a)};var mN={},lv={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let s=r.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+r);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(a){return[a,a]}))),s.length===6&&s.push("F","F");const i=parseInt(s.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+s.slice(0,6).join("")}}t.getOptions=function(s){s||(s={}),s.color||(s.color={});const i=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,a=s.width&&s.width>=21?s.width:void 0,o=s.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},t.getScale=function(s,i){return i.width&&i.width>=s+i.margin*2?i.width/(s+i.margin*2):i.scale},t.getImageWidth=function(s,i){const a=t.getScale(s,i);return Math.floor((s+i.margin*2)*a)},t.qrToImageData=function(s,i,a){const o=i.modules.size,l=i.modules.data,c=t.getScale(o,a),u=Math.floor((o+a.margin*2)*c),d=a.margin*c,h=[a.color.light,a.color.dark];for(let f=0;f<u;f++)for(let m=0;m<u;m++){let p=(f*u+m)*4,N=a.color.light;if(f>=d&&m>=d&&f<u-d&&m<u-d){const k=Math.floor((f-d)/c),w=Math.floor((m-d)/c);N=h[l[k*o+w]?1:0]}s[p++]=N.r,s[p++]=N.g,s[p++]=N.b,s[p]=N.a}}})(lv);(function(t){const e=lv;function r(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=s()),c=e.getOptions(c);const d=e.getImageWidth(a.modules.size,c),h=u.getContext("2d"),f=h.createImageData(d,d);return e.qrToImageData(f.data,a,c),r(h,u,d),h.putImageData(f,0,0),u},t.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(a,o,c),d=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(d,h.quality)}})(mN);var fN={};const nU=lv;function n2(t,e){const r=t.a/255,s=e+'="'+t.hex+'"';return r<1?s+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':s}function Em(t,e,r){let s=t+e;return typeof r<"u"&&(s+=" "+r),s}function iU(t,e,r){let s="",i=0,a=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);!c&&!a&&(a=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(s+=a?Em("M",c+r,.5+u+r):Em("m",i,0),i=0,a=!1),c+1<e&&t[l+1]||(s+=Em("h",o),o=0)):i++}return s}fN.render=function(e,r,s){const i=nU.getOptions(r),a=e.modules.size,o=e.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+n2(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+n2(i.color.dark,"stroke")+' d="'+iU(o,a,i.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof s=="function"&&s(null,f),f};const aU=bz,gp=tN,pN=mN,oU=fN;function cv(t,e,r,s,i){const a=[].slice.call(arguments,1),o=a.length,l=typeof a[o-1]=="function";if(!l&&!aU())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=s=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=s,s=void 0):(i=s,s=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=s=void 0):o===2&&!e.getContext&&(s=r,r=e,e=void 0),new Promise(function(c,u){try{const d=gp.create(r,s);c(t(d,e,s))}catch(d){u(d)}})}try{const c=gp.create(r,s);i(null,t(c,e,s))}catch(c){i(c)}}sl.create=gp.create;sl.toCanvas=cv.bind(null,pN.render);sl.toDataURL=cv.bind(null,pN.renderToDataURL);sl.toString=cv.bind(null,function(t,e,r){return oU.render(t,r)});const lU=()=>{var b,v,y,A,F,P,S,V,M,H;const t=Ns(),e=Dr(),[r,s]=g.useState(null),[i,a]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(""),[d,h]=g.useState(""),[f,m]=g.useState(!1),[p,N]=g.useState(!1),k=()=>{const I="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let L="";for(let z=0;z<8;z++)L+=I.charAt(Math.floor(Math.random()*I.length));return L},w=async()=>{try{return await wI(ie,async I=>{const L=je(ie,"counters","reservations"),z=await I.get(L);let O;return z.exists()?(O=z.data().count+1,I.update(L,{count:O})):(O=1001,I.set(L,{count:O})),`SBS${O}`})}catch(I){console.error("Rezervasyon kodu oluşturma hatası:",I);const L="SBS",z=Date.now().toString().slice(-6),O=Math.random().toString(36).substring(2,5).toUpperCase();return`${L}${z}${O}`}},j=async I=>{var L;try{if(console.log("QR kod oluşturuluyor:",I),!((L=r==null?void 0:r.customerInfo)!=null&&L.phone)){console.log("QR kod için telefon numarası bulunamadı");return}const z=`SBS Transfer - Rezervasyon: ${I} - Tel: ${r.customerInfo.phone}`,O=await sl.toDataURL(z,{width:200,margin:2,color:{dark:"#1f2937",light:"#ffffff"}});u(O),console.log("✅ QR kod başarıyla oluşturuldu")}catch(z){console.error("❌ QR kod oluşturma hatası:",z)}},C=()=>{if(c){const I=document.createElement("a");I.download=`SBS-Transfer-${d}.png`,I.href=c,I.click()}},E=async(I,L,z)=>{try{console.log("Otomatik kullanıcı kaydı başlatılıyor:",I);const U=(await Tf($n,I,L)).user;console.log("Firebase Auth kullanıcısı oluşturuldu:",U.uid);const q={uid:U.uid,email:I,firstName:(z==null?void 0:z.firstName)||"",lastName:(z==null?void 0:z.lastName)||"",phone:(z==null?void 0:z.phone)||"",createdAt:new Date().toISOString(),registrationMethod:"automatic_booking",isActive:!0,tempPassword:L};return await Ai(Ie(ie,"users"),q),console.log("Kullanıcı profili Firestore'a kaydedildi"),l(!0),oe.success("Müşteri hesabınız otomatik olarak oluşturuldu!"),U}catch(O){return console.error("Otomatik kullanıcı kaydı hatası:",O),O.code==="auth/email-already-in-use"?(console.log("Email zaten kayıtlı, mevcut kullanıcı kullanılacak"),oe.info("Bu e-posta adresi zaten kayıtlı. Mevcut hesabınızı kullanabilirsiniz.")):oe.error("Hesap oluşturulurken bir hata oluştu."),null}};g.useEffect(()=>{if(f||p){console.log("⚠️ BookingConfirmation: Zaten işlendi, tekrar çalışmıyor",{isProcessed:f,isGlobalProcessing:p});return}(async()=>{var L,z;if((L=t.state)!=null&&L.bookingData){console.log("🔄 BookingConfirmation: İşlem başlatılıyor..."),m(!0),N(!0);let O=t.state.bookingData;O.personalInfo&&!O.customerInfo&&(O.customerInfo={firstName:O.personalInfo.firstName,lastName:O.personalInfo.lastName,phone:O.personalInfo.phone,email:O.personalInfo.email,flightNumber:O.personalInfo.flightNumber,flightTime:O.personalInfo.flightTime,specialRequests:O.personalInfo.specialRequests},delete O.personalInfo),s(O);const U=await w();if(h(U),(z=O.customerInfo)!=null&&z.email){const q=k();a(q),E(O.customerInfo.email,q,O.customerInfo)}await B(O,U),setTimeout(()=>{var q;(q=O.customerInfo)!=null&&q.phone&&j(U)},1500),console.log("✅ BookingConfirmation: İşlem tamamlandı")}else e("/")})()},[]);const B=async(I,L)=>{var z,O,U,q,Y,J,G,ae,le,xe,Ae,ue,pe,Qe;try{const He={reservationCode:L,status:"pending",direction:I.direction==="airport-to-hotel"?"from_airport":"to_airport",customerInfo:{firstName:((z=I.customerInfo)==null?void 0:z.firstName)||"",lastName:((O=I.customerInfo)==null?void 0:O.lastName)||"",phone:((U=I.customerInfo)==null?void 0:U.phone)||"",email:((q=I.customerInfo)==null?void 0:q.email)||""},tripDetails:{date:I.date||"",time:I.time||"",pickupLocation:typeof I.pickupLocation=="object"?((Y=I.pickupLocation)==null?void 0:Y.address)||((J=I.pickupLocation)==null?void 0:J.formatted_address)||((G=I.pickupLocation)==null?void 0:G.name)||"":I.pickupLocation||"",dropoffLocation:typeof I.dropoffLocation=="object"?((ae=I.dropoffLocation)==null?void 0:ae.address)||((le=I.dropoffLocation)==null?void 0:le.formatted_address)||((xe=I.dropoffLocation)==null?void 0:xe.name)||"":I.dropoffLocation||"",passengerCount:I.passengerCount||1,luggageCount:I.baggageCount||0,flightNumber:((Ae=I.customerInfo)==null?void 0:Ae.flightNumber)||""},selectedVehicle:((ue=I.selectedVehicle)==null?void 0:ue.id)||"",paymentMethod:I.paymentMethod||"cash",totalPrice:((pe=I.selectedVehicle)==null?void 0:pe.totalPrice)||I.totalPrice||((Qe=I.selectedVehicle)==null?void 0:Qe.price)||0,calculatedDistance:I.distance||0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ot=await Ai(Ie(ie,"reservations"),He);console.log("✅ Rezervasyon admin paneline kaydedildi:",ot.id),console.log("📋 Kaydedilen veri yapısı:",He),oe.success("Rezervasyon başarıyla kaydedildi!")}catch(He){console.error("❌ Rezervasyon kaydedilirken hata:",He),oe.error("Rezervasyon kaydedilirken bir hata oluştu.")}},_=()=>{console.log("PDF download functionality will be implemented")};return r?n.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs($.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:n.jsx($e,{className:"w-12 h-12 text-green-600"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rezervasyonunuz Onaylandı!"}),n.jsxs("p",{className:"text-gray-600 text-lg",children:["Rezervasyon numaranız: ",n.jsxs("span",{className:"font-semibold text-green-600",children:["#",d]})]})]}),o&&n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-700 mb-3",children:[n.jsx(Yr,{className:"w-5 h-5"}),n.jsx("h3",{className:"text-lg font-bold",children:"Müşteri Hesabınız Otomatik Oluşturuldu!"})]}),n.jsxs("div",{className:"text-center text-blue-600 text-sm",children:[n.jsxs("p",{className:"mb-2",children:["E-posta: ",n.jsx("span",{className:"font-medium",children:(b=r.customerInfo)==null?void 0:b.email})]}),n.jsxs("p",{className:"mb-2",children:["Geçici Şifre: ",n.jsx("span",{className:"font-bold bg-blue-100 px-2 py-1 rounded",children:i})]}),n.jsx("p",{className:"text-xs text-blue-500",children:"Bu bilgilerle müşteri sayfanıza giriş yapabilirsiniz."})]})]}),n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Rezervasyon Detayları"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(sv,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Güzergah"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{children:typeof r.pickupLocation=="object"?(v=r.pickupLocation)==null?void 0:v.address:r.pickupLocation||"Belirlenmedi"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(Aa,{className:"w-3 h-3 text-gray-400"})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),n.jsx("span",{children:typeof r.dropoffLocation=="object"?(y=r.dropoffLocation)==null?void 0:y.address:r.dropoffLocation||"Belirlenmedi"})]})]})]})]}),r.routeInfo&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Mesafe:"}),n.jsx("span",{className:"font-medium",children:r.routeInfo.distance})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Tahmini Süre:"}),n.jsx("span",{className:"font-medium",children:r.routeInfo.duration})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(tt,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Tarih ve Saat"}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Gidiş:"})," ",r.date," - ",r.time]}),r.tripType==="round-trip"&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Dönüş:"})," ",r.returnDate," - ",r.returnTime]})]})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(De,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Araç"}),n.jsx("p",{className:"text-sm text-gray-600",children:((A=r.selectedVehicle)==null?void 0:A.name)||"Belirlenmedi"}),n.jsx("p",{className:"text-sm text-gray-500",children:(F=r.selectedVehicle)==null?void 0:F.description})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(mt,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Yolcu Bilgileri"}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Yolcu Sayısı:"})," ",r.passengerCount," kişi"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Bagaj:"})," ",r.baggageCount," adet"]})]})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(pr,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Ödeme"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.paymentMethod==="credit_card"?"Kredi Kartı":"Nakit"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["₺",r.totalPrice]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"İletişim Bilgileri"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Ad Soyad:"})," ",(P=r.customerInfo)==null?void 0:P.firstName," ",(S=r.customerInfo)==null?void 0:S.lastName]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Telefon:"})," ",(V=r.customerInfo)==null?void 0:V.phone]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"E-posta:"})," ",(M=r.customerInfo)==null?void 0:M.email]})]})]}),((H=r.customerInfo)==null?void 0:H.flightNumber)&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Uçuş Bilgileri"}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Uçuş No:"})," ",r.customerInfo.flightNumber]}),r.customerInfo.flightTime&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Uçuş Saati:"})," ",r.customerInfo.flightTime]})]})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"QR Kod"}),c?n.jsxs("div",{children:[n.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 inline-block mb-4",children:n.jsx("img",{src:c,alt:"QR Code",className:"w-32 h-32 mx-auto"})}),n.jsxs("button",{onClick:C,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(U0,{className:"w-4 h-4"}),"QR Kodunu İndir"]})]}):n.jsxs("div",{className:"bg-gray-100 p-6 rounded-xl border border-gray-200",children:[n.jsx("div",{className:"w-32 h-32 mx-auto flex items-center justify-center bg-gray-200 rounded",children:n.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}),n.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"QR kod oluşturuluyor..."})]})]})})]})]}),n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Sırada Ne Var?"}),n.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),n.jsx("span",{children:"E-posta adresinize onay mesajı gönderilecek"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),n.jsx("span",{children:"Şoförümüz seyahat öncesi sizinle iletişime geçecek"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),n.jsx("span",{children:"Belirlenen zamanda kalkış noktasında hazır olun"})]})]})]}),n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"İletişim"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(kt,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Telefon"}),n.jsx("p",{className:"text-sm text-gray-600",children:"+90 555 123 45 67"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(gr,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"E-posta"}),n.jsx("p",{className:"text-sm text-gray-600",children:"info@sonstransfer.com"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Z4,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),n.jsx("p",{className:"text-sm text-gray-600",children:"7/24 Destek"})]})]})]})]}),n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"space-y-6",children:[o&&n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-xl p-8 text-center",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(ze,{className:"w-6 h-6 text-purple-600"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Müşteri Hesabınız Hazır!"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Rezervasyonlarınızı takip edin ve profil ayarlarınızı düzenleyin"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>e("/profil"),className:"w-full px-6 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 font-bold shadow-lg hover:shadow-xl flex items-center justify-center gap-3",children:[n.jsx(ze,{className:"w-6 h-6"}),"Müşteri Sayfama Git"]}),n.jsxs("button",{onClick:()=>e("/rezervasyonlarim"),className:"w-full px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl hover:from-emerald-700 hover:to-green-700 transition-all duration-300 font-bold shadow-lg hover:shadow-xl flex items-center justify-center gap-3",children:[n.jsx(tt,{className:"w-6 h-6"}),"Rezervasyonlarım"]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs("button",{onClick:_,className:"bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 font-semibold shadow-md",children:[n.jsx(U0,{className:"w-5 h-5"}),n.jsx("span",{children:"PDF İndir"})]}),n.jsxs("button",{onClick:()=>e("/"),className:"bg-gray-600 text-white px-8 py-4 rounded-xl hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2 font-semibold shadow-md",children:[n.jsx(Y4,{className:"w-5 h-5"}),n.jsx("span",{children:"Ana Sayfa"})]})]})]}),n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"text-center mt-8 p-6 bg-gray-100 rounded-lg",children:[n.jsx(fn,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Deneyiminizi Değerlendirin"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Hizmetimizden memnun kaldınız mı? Geri bildiriminiz bizim için çok değerli."}),n.jsx("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:"Değerlendir"})]})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})})},cU=()=>{const{user:t,userProfile:e,signOut:r}=Ds(),s=Dr(),[i,a]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState([]),[d,h]=g.useState([]),[f,m]=g.useState(""),[p,N]=g.useState("all"),[k,w]=g.useState(null),[j,C]=g.useState(!1),[E,B]=g.useState(!0);g.useEffect(()=>{if(!(t!=null&&t.email)){B(!1);return}console.log("MyReservations: Firebase listeners başlatılıyor...");const I=hr(Ie(ie,"reservations")),L=Hr(I,Y=>{const J=Y.docs.map(xe=>({id:xe.id,...xe.data()})),G=t.email.toLowerCase(),ae=new Set,le=J.filter(xe=>{var He,ot,be,Vt;const Ae=(ot=(He=xe.personalInfo)==null?void 0:He.email)==null?void 0:ot.toLowerCase(),ue=(Vt=(be=xe.customerInfo)==null?void 0:be.email)==null?void 0:Vt.toLowerCase(),pe=Ae===G||ue===G,Qe=xe.reservationCode||xe.reservationId||xe.id;return pe&&!ae.has(Qe)?(ae.add(Qe),!0):!1});console.log("Kullanıcı rezervasyonları (çifte kayıt temizlendi):",le),u(le)},Y=>{console.error("MyReservations: Rezervasyonlar yüklenirken hata:",Y)}),z=hr(Ie(ie,"users"),Ar("role","==",It.DRIVER)),O=Hr(z,Y=>{const J=Y.docs.map(G=>({id:G.id,...G.data(),firstName:G.data().firstName||"",lastName:G.data().lastName||"",phone:G.data().phone||""}));a(J)},Y=>{console.error("MyReservations: Şoförler yüklenirken hata:",Y)}),U=hr(Ie(ie,"vehicles"),Ar("status","==","active")),q=Hr(U,Y=>{const J=Y.docs.map(G=>({id:G.id,...G.data()}));l(J),B(!1)},Y=>{console.error("MyReservations: Araçlar yüklenirken hata:",Y),B(!1)});return()=>{L(),O(),q()}},[t]),g.useEffect(()=>{let I=c;f&&(I=I.filter(L=>{var z,O,U,q,Y,J;return((z=L.id)==null?void 0:z.toLowerCase().includes(f.toLowerCase()))||((O=L.reservationCode)==null?void 0:O.toLowerCase().includes(f.toLowerCase()))||((U=L.reservationId)==null?void 0:U.toLowerCase().includes(f.toLowerCase()))||((q=M(P(L)))==null?void 0:q.toLowerCase().includes(f.toLowerCase()))||((Y=M(S(L)))==null?void 0:Y.toLowerCase().includes(f.toLowerCase()))||((J=V(L))==null?void 0:J.toLowerCase().includes(f.toLowerCase()))})),p!=="all"&&(I=I.filter(L=>L.status===p)),I.sort((L,z)=>{const O=new Date(L.createdAt||L.date||0);return new Date(z.createdAt||z.date||0)-O}),h(I)},[c,f,p]);const _=[{value:"PENDING",label:"Bekleyen",color:"bg-yellow-100 text-yellow-800"},{value:"CONFIRMED",label:"Onaylandı",color:"bg-blue-100 text-blue-800"},{value:"ASSIGNED",label:"Atandı",color:"bg-green-100 text-green-800"},{value:"IN_PROGRESS",label:"Devam Ediyor",color:"bg-purple-100 text-purple-800"},{value:"COMPLETED",label:"Tamamlandı",color:"bg-green-100 text-green-800"},{value:"CANCELLED",label:"İptal Edildi",color:"bg-red-100 text-red-800"}],b=I=>_.find(L=>L.value===I)||_[0],v=I=>{if(!I)return"Henüz atanmadı";const L=i.find(z=>z.id===I);return L?`${L.firstName} ${L.lastName}`:"Bilinmeyen Şoför"},y=I=>{if(!I)return null;const L=i.find(z=>z.id===I);return L==null?void 0:L.phone},A=I=>{if(!I)return{brand:"Henüz atanmadı",model:"",plateNumber:"",full:"Henüz atanmadı"};const L=o.find(z=>z.id===I);return L?{brand:L.brand||"Bilinmeyen",model:L.model||"",plateNumber:L.plateNumber||"Bilinmeyen",full:`${L.brand} ${L.model} (${L.plateNumber})`}:{brand:"Bilinmeyen araç",model:"",plateNumber:"",full:"Bilinmeyen araç"}},F=I=>{var q,Y;const L=((q=I.tripDetails)==null?void 0:q.date)||I.date,z=((Y=I.tripDetails)==null?void 0:Y.time)||I.time;if(!L)return"Tarih belirtilmemiş";const U=new Date(L).toLocaleDateString("tr-TR");return z?`${U} - ${z}`:U},P=I=>{var z;const L=((z=I.tripDetails)==null?void 0:z.pickupLocation)||I.pickupLocation;return M(L)},S=I=>{var z;const L=((z=I.tripDetails)==null?void 0:z.dropoffLocation)||I.dropoffLocation;return M(L)},V=I=>{var O,U,q,Y;const L=((O=I.customerInfo)==null?void 0:O.firstName)||((U=I.personalInfo)==null?void 0:U.firstName)||"",z=((q=I.customerInfo)==null?void 0:q.lastName)||((Y=I.personalInfo)==null?void 0:Y.lastName)||"";return`${L} ${z}`.trim()||"İsimsiz"},M=I=>I?typeof I=="string"?I:typeof I=="object"?I.address?String(I.address):I.name?String(I.name):I.formatted_address?String(I.formatted_address):I.description?String(I.description):"Lokasyon bilgisi mevcut":String(I):"Bilinmiyor",H=async()=>{try{await logout(),s("/")}catch(I){console.error("Çıkış hatası:",I)}};return t?E?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Rezervasyonlar yükleniyor..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezervasyonlarım"}),n.jsxs("p",{className:"text-gray-600",children:["Hoş geldiniz, ",(e==null?void 0:e.firstName)||t.email]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>s("/profil"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(bu,{className:"w-4 h-4"}),n.jsx("span",{children:"Profil"})]}),n.jsxs("button",{onClick:H,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(Xx,{className:"w-4 h-4"}),n.jsx("span",{children:"Çıkış"})]})]})]})})}),n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Rezervasyon"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:c.filter(I=>I.status==="PENDING").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Bekleyen"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(I=>I.status==="COMPLETED").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Tamamlandı"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.filter(I=>["CONFIRMED","ASSIGNED","IN_PROGRESS"].includes(I.status)).length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Aktif"})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Rezervasyon ara...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:f,onChange:I=>m(I.target.value)})]}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:p,onChange:I=>N(I.target.value),children:[n.jsx("option",{value:"all",children:"Tüm Durumlar"}),_.map(I=>n.jsx("option",{value:I.value,children:I.label},I.value))]})]})}),d.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[n.jsx(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:f||p!=="all"?"Rezervasyon bulunamadı":"Henüz rezervasyon yok"}),n.jsx("p",{className:"text-gray-500 mb-6",children:f||p!=="all"?"Arama kriterlerinize uygun rezervasyon bulunamadı":"İlk rezervasyonunuzu yapmaya başlayın"}),!f&&p==="all"&&n.jsx("button",{onClick:()=>s("/"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Rezervasyon Yap"})]}):n.jsx("div",{className:"space-y-4",children:d.map((I,L)=>{var z;return n.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.05},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["#",I.reservationCode||I.reservationId||((z=I.id)==null?void 0:z.slice(-8))||"Rezervasyon"]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${b(I.status).color}`,children:b(I.status).label})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["₺",Number(I.totalPrice||0).toLocaleString("tr-TR")]}),n.jsx("p",{className:"text-sm text-gray-500",children:F(I)})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[n.jsx(lt,{className:"w-4 h-4 mr-1"}),n.jsx("span",{className:"font-medium",children:"Güzergah"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-2"}),n.jsx("p",{className:"text-sm text-gray-900",children:M(P(I))})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 rounded-full mr-2"}),n.jsx("p",{className:"text-sm text-gray-900",children:M(S(I))})]})]})]}),(I.status==="ASSIGNED"||I.status==="IN_PROGRESS"||I.status==="COMPLETED")&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 text-sm mb-3",children:"🚗 Şoför & Araç Bilgileri"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-blue-700 mb-1",children:[n.jsx(ze,{className:"w-4 h-4 mr-1"}),n.jsx("span",{className:"font-medium",children:"Şoför"})]}),n.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:v(I.assignedDriver||I.driverId)}),y(I.assignedDriver||I.driverId)&&n.jsxs("a",{href:`tel:${y(I.assignedDriver||I.driverId)}`,className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 bg-blue-100 hover:bg-blue-200 px-2 py-1 rounded transition-colors",children:[n.jsx(kt,{className:"w-3 h-3 mr-1"}),y(I.assignedDriver||I.driverId)]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-blue-700 mb-1",children:[n.jsx(De,{className:"w-4 h-4 mr-1"}),n.jsx("span",{className:"font-medium",children:"Araç"})]}),n.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:A(I.assignedVehicle||I.vehicleId).full}),A(I.assignedVehicle||I.vehicleId).plateNumber&&A(I.assignedVehicle||I.vehicleId).plateNumber!=="Bilinmeyen"&&n.jsx("span",{className:"inline-block text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded font-mono",children:A(I.assignedVehicle||I.vehicleId).plateNumber})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>{w(I),C(!0)},className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(ws,{className:"w-4 h-4 mr-1"}),"Detaylar"]}),y(I.assignedDriver||I.driverId)&&n.jsxs("a",{href:`tel:${y(I.assignedDriver||I.driverId)}`,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:[n.jsx(kt,{className:"w-4 h-4 mr-1"}),"Şoförü Ara"]}),I.pickupLocation&&I.dropoffLocation&&n.jsxs("a",{href:`https://www.google.com/maps/dir/${encodeURIComponent(M(I.pickupLocation))}/${encodeURIComponent(M(I.dropoffLocation))}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(rv,{className:"w-4 h-4 mr-1"}),"Harita"]})]})]})},I.id)})}),j&&k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Rezervasyon Detayları"}),n.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 text-xl",children:"×"})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Rezervasyon Kodu"}),n.jsxs("p",{className:"font-medium",children:["#",k.reservationCode||k.reservationId||k.id]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Durum"}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ml-2 ${b(k.status).color}`,children:b(k.status).label})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Tarih & Saat"}),n.jsx("p",{className:"font-medium",children:F(k.date,k.time)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Nereden"}),n.jsx("p",{className:"font-medium",children:M(k.pickupLocation)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Nereye"}),n.jsx("p",{className:"font-medium",children:M(k.dropoffLocation)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Toplam Ücret"}),n.jsxs("p",{className:"font-medium text-blue-600",children:["₺",Number(k.totalPrice||0).toLocaleString("tr-TR")]})]})]})}),n.jsx("div",{className:"sticky bottom-0 bg-white border-t p-4",children:n.jsx("button",{onClick:()=>C(!1),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Kapat"})})]})})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"max-w-md mx-auto text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Giriş Yapmanız Gerekiyor"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Rezervasyonlarınızı görmek için lütfen giriş yapın."}),n.jsx("button",{onClick:()=>s("/giriş"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Giriş Yap"})]})})},uU=()=>{const{user:t,userProfile:e,updateUserProfile:r}=Ds(),s=Dr(),[i,a]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState({current:!1,new:!1,confirm:!1}),[d,h]=g.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",phone:(e==null?void 0:e.phone)||""}),[f,m]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,N]=g.useState(!1),k=async()=>{if(!d.firstName.trim()||!d.lastName.trim()){oe.error("Ad ve soyad alanları zorunludur");return}try{N(!0),await r(d),a(!1),oe.success("Profil başarıyla güncellendi")}catch(E){console.error("Profil güncelleme hatası:",E),oe.error("Profil güncellenirken bir hata oluştu")}finally{N(!1)}},w=async()=>{if(!f.currentPassword||!f.newPassword||!f.confirmPassword){oe.error("Tüm şifre alanları zorunludur");return}if(f.newPassword!==f.confirmPassword){oe.error("Yeni şifreler eşleşmiyor");return}if(f.newPassword.length<6){oe.error("Yeni şifre en az 6 karakter olmalıdır");return}try{N(!0);const E=_a.credential(t.email,f.currentPassword);await rF(t,E),await oF(t,f.newPassword),m({currentPassword:"",newPassword:"",confirmPassword:""}),l(!1),oe.success("Şifre başarıyla değiştirildi")}catch(E){console.error("Şifre değiştirme hatası:",E),E.code==="auth/wrong-password"?oe.error("Mevcut şifre yanlış"):oe.error("Şifre değiştirilirken bir hata oluştu")}finally{N(!1)}},j=E=>{u(B=>({...B,[E]:!B[E]}))},C=()=>{h({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",phone:(e==null?void 0:e.phone)||""}),a(!1)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>s("/rezervasyonlarim"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(bs,{className:"w-5 h-5"}),n.jsx("span",{children:"Rezervasyonlarım"})]}),n.jsx("div",{className:"h-6 w-px bg-gray-300"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profil Ayarları"})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[n.jsx(ze,{className:"w-5 h-5 mr-2 text-blue-600"}),"Kişisel Bilgiler"]}),!i&&n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[n.jsx(QV,{className:"w-4 h-4"}),n.jsx("span",{children:"Düzenle"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"E-posta adresi değiştirilemez"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad *"}),n.jsx("input",{type:"text",value:d.firstName,onChange:E=>h(B=>({...B,firstName:E.target.value})),disabled:!i,className:`w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i?"":"bg-gray-50 text-gray-600"}`,placeholder:"Adınızı girin"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Soyad *"}),n.jsx("input",{type:"text",value:d.lastName,onChange:E=>h(B=>({...B,lastName:E.target.value})),disabled:!i,className:`w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i?"":"bg-gray-50 text-gray-600"}`,placeholder:"Soyadınızı girin"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon Numarası"}),n.jsxs("div",{className:"relative",children:[n.jsx(kt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"tel",value:d.phone,onChange:E=>h(B=>({...B,phone:E.target.value})),disabled:!i,className:`w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i?"":"bg-gray-50 text-gray-600"}`,placeholder:"+90 (5xx) xxx xx xx"})]})]}),i&&n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsxs("button",{onClick:k,disabled:p,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[n.jsx(_n,{className:"w-4 h-4"}),n.jsx("span",{children:p?"Kaydediliyor...":"Kaydet"})]}),n.jsxs("button",{onClick:C,disabled:p,className:"flex items-center space-x-2 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(We,{className:"w-4 h-4"}),n.jsx("span",{children:"İptal"})]})]})]})]})}),n.jsxs("div",{children:[n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center mb-6",children:[n.jsx(Yr,{className:"w-5 h-5 mr-2 text-green-600"}),"Güvenlik"]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("button",{onClick:()=>l(!o),className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(WV,{className:"w-5 h-5 text-gray-600"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Şifre Değiştir"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Hesap şifrenizi güncelleyin"})]})]}),n.jsx(Oo,{className:"w-4 h-4 text-gray-400"})]})})]}),n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Hesap Bilgileri"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Hesap Türü:"}),n.jsx("span",{className:"font-medium",children:"Müşteri"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Üyelik Tarihi:"}),n.jsx("span",{className:"font-medium",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString("tr-TR"):"Bilinmiyor"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Durum:"}),n.jsx("span",{className:"font-medium text-green-600",children:"Aktif"})]})]})]})]})]}),o&&n.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs($.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Şifre Değiştir"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mevcut Şifre *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c.current?"text":"password",value:f.currentPassword,onChange:E=>m(B=>({...B,currentPassword:E.target.value})),className:"w-full pr-10 px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mevcut şifrenizi girin"}),n.jsx("button",{type:"button",onClick:()=>j("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.current?n.jsx(ua,{className:"w-5 h-5"}):n.jsx(ws,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni Şifre *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c.new?"text":"password",value:f.newPassword,onChange:E=>m(B=>({...B,newPassword:E.target.value})),className:"w-full pr-10 px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Yeni şifrenizi girin"}),n.jsx("button",{type:"button",onClick:()=>j("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.new?n.jsx(ua,{className:"w-5 h-5"}):n.jsx(ws,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni Şifre Tekrar *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c.confirm?"text":"password",value:f.confirmPassword,onChange:E=>m(B=>({...B,confirmPassword:E.target.value})),className:"w-full pr-10 px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Yeni şifrenizi tekrar girin"}),n.jsx("button",{type:"button",onClick:()=>j("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.confirm?n.jsx(ua,{className:"w-5 h-5"}):n.jsx(ws,{className:"w-5 h-5"})})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:w,disabled:p,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:p?"Değiştiriliyor...":"Şifre Değiştir"}),n.jsx("button",{onClick:()=>l(!1),disabled:p,className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"})]})]})})]})]})},dU=()=>{var B,_;const t=Dr(),e=Ns(),{login:r,signInWithGoogle:s}=Ds(),[i,a]=g.useState({email:"",password:""}),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[p,N]=g.useState({}),k=((_=(B=e.state)==null?void 0:B.from)==null?void 0:_.pathname)||"/",w=(b,v)=>{a(y=>({...y,[b]:v})),p[b]&&N(y=>({...y,[b]:""}))},j=()=>{const b={};return i.email?/\S+@\S+\.\S+/.test(i.email)||(b.email="Geçerli bir e-posta adresi girin"):b.email="E-posta adresi gerekli",i.password||(b.password="Şifre gerekli"),N(b),Object.keys(b).length===0},C=async b=>{if(b.preventDefault(),!!j()){u(!0);try{await r(i.email,i.password),oe.success("Başarıyla giriş yaptınız!"),t(k,{replace:!0})}catch(v){console.error("Login error:",v);let y="Giriş yapılırken bir hata oluştu";v.code==="auth/user-not-found"?y="Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı":v.code==="auth/wrong-password"?y="Hatalı şifre":v.code==="auth/invalid-credential"?y="Geçersiz giriş bilgileri. Demo hesapları henüz oluşturulmamış olabilir.":v.code==="auth/invalid-email"?y="Geçersiz e-posta adresi":v.code==="auth/too-many-requests"&&(y="Çok fazla başarısız deneme. Lütfen daha sonra tekrar deneyin"),oe.error(y),N({general:y})}finally{u(!1)}}},E=async()=>{h(!0);try{await s(),oe.success("Google ile başarıyla giriş yaptınız!",{icon:"🎉",duration:3e3}),t(k,{replace:!0})}catch(b){console.error("Google sign-in error:",b);let v="Google ile giriş yapılırken bir hata oluştu";b.code==="auth/popup-closed-by-user"?v="Giriş penceresi kapatıldı. Lütfen tekrar deneyin.":b.code==="auth/popup-blocked"?v="Pop-up engellendi. Lütfen pop-up engelleyiciyi devre dışı bırakın.":b.code==="auth/account-exists-with-different-credential"&&(v="Bu e-posta adresi zaten farklı bir yöntemle kayıtlı."),oe.error(v),N({general:v})}finally{h(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs($.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[n.jsxs(Ge,{to:"/",className:"inline-flex items-center space-x-3 mb-8 group",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:n.jsx(De,{className:"w-8 h-8 text-white"})}),n.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"SBS Transfer"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Hoş Geldiniz! 👋"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Hesabınıza giriş yaparak devam edin"})]})]}),n.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8",children:[n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:E,disabled:d||c,className:"w-full mb-6 flex items-center justify-center space-x-3 py-4 px-6 border-2 border-gray-200 rounded-2xl text-gray-700 font-medium hover:bg-gray-50 hover:border-gray-300 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",children:[d?n.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"}):n.jsx(W4,{className:"w-5 h-5 text-blue-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{children:d?"Google ile bağlanılıyor...":"Google ile Devam Et"}),n.jsx(J4,{className:"w-4 h-4 text-yellow-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"veya e-posta ile"})})]}),n.jsxs("form",{onSubmit:C,className:"space-y-5",children:[p.general&&n.jsx($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})}),n.jsx("p",{className:"text-red-700 text-sm font-medium",children:p.general})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"E-posta Adresi"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",value:i.email,onChange:b=>w("email",b.target.value),placeholder:"ornek@email.com",disabled:c||d,className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${p.email?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(gr,{className:`absolute left-4 top-4 w-5 h-5 transition-colors ${p.email?"text-red-400":"text-gray-400"}`})]}),p.email&&n.jsxs($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm flex items-center space-x-1",children:[n.jsx("div",{className:"w-1 h-1 bg-red-500 rounded-full"}),n.jsx("span",{children:p.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Şifre"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:o?"text":"password",value:i.password,onChange:b=>w("password",b.target.value),placeholder:"••••••••",disabled:c||d,className:`w-full pl-12 pr-12 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${p.password?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(Oo,{className:`absolute left-4 top-4 w-5 h-5 transition-colors ${p.password?"text-red-400":"text-gray-400"}`}),n.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors",children:o?n.jsx(ua,{className:"w-5 h-5"}):n.jsx(ws,{className:"w-5 h-5"})})]}),p.password&&n.jsxs($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm flex items-center space-x-1",children:[n.jsx("div",{className:"w-1 h-1 bg-red-500 rounded-full"}),n.jsx("span",{children:p.password})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),n.jsx("span",{className:"text-sm text-gray-600 group-hover:text-gray-800 transition-colors",children:"Beni hatırla"})]}),n.jsx(Ge,{to:"/şifre-sıfırla",className:"text-sm text-blue-600 hover:text-blue-700 font-medium hover:underline transition-colors",children:"Şifremi unuttum"})]}),n.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c||d,className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n.jsx("span",{children:"Giriş yapılıyor..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Giriş Yap"}),n.jsx(Aa,{className:"w-5 h-5"})]})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-gray-600",children:["Hesabınız yok mu?"," ",n.jsx(Ge,{to:"/kayıt",className:"text-blue-600 hover:text-blue-700 font-semibold hover:underline transition-colors",children:"Kayıt olun"})]})}),n.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-2xl p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(Yr,{className:"w-5 h-5 text-amber-600"}),n.jsx("h4",{className:"text-sm font-semibold text-amber-800",children:"Demo Hesapları"})]}),n.jsxs("div",{className:"space-y-2 text-xs text-amber-700",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($e,{className:"w-3 h-3 text-green-600"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Admin:"})," admin@sbstransfer.com / admin123"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($e,{className:"w-3 h-3 text-green-600"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Şoför:"})," sofor@sbstransfer.com / sofor123"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($e,{className:"w-3 h-3 text-green-600"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Müşteri:"})," musteri@sbstransfer.com / musteri123"]})]})]})]})]}),n.jsx($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center mt-8",children:n.jsxs(Ge,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors group",children:[n.jsx(Aa,{className:"w-4 h-4 rotate-180 group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{children:"Ana sayfaya dön"})]})})]})})},xU=()=>{const t=Dr(),{register:e,signInWithGoogle:r}=Ds(),[s,i]=g.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",role:It.CUSTOMER}),[a,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[h,f]=g.useState(!1),[m,p]=g.useState({}),N=(C,E)=>{i(B=>({...B,[C]:E})),m[C]&&p(B=>({...B,[C]:""}))},k=()=>{const C={};return s.firstName.trim()?s.firstName.trim().length<2&&(C.firstName="Ad en az 2 karakter olmalıdır"):C.firstName="Ad alanı zorunludur",s.lastName.trim()?s.lastName.trim().length<2&&(C.lastName="Soyad en az 2 karakter olmalıdır"):C.lastName="Soyad alanı zorunludur",s.email?/\S+@\S+\.\S+/.test(s.email)||(C.email="Geçerli bir e-posta adresi girin"):C.email="E-posta adresi gerekli",s.phone.trim()?/^(\+90|0)?[0-9]{10}$/.test(s.phone.replace(/\s/g,""))||(C.phone="Geçerli bir telefon numarası girin"):C.phone="Telefon numarası gerekli",s.password?s.password.length<6&&(C.password="Şifre en az 6 karakter olmalıdır"):C.password="Şifre gerekli",s.confirmPassword?s.password!==s.confirmPassword&&(C.confirmPassword="Şifreler eşleşmiyor"):C.confirmPassword="Şifre tekrarı gerekli",p(C),Object.keys(C).length===0},w=async C=>{if(C.preventDefault(),!!k()){d(!0);try{await e(s.email,s.password,{firstName:s.firstName.trim(),lastName:s.lastName.trim(),phone:s.phone.trim(),role:s.role}),oe.success("Hesabınız başarıyla oluşturuldu! 🎉",{duration:4e3}),t("/giriş")}catch(E){console.error("Register error:",E);let B="Kayıt olurken bir hata oluştu";E.code==="auth/email-already-in-use"?B="Bu e-posta adresi zaten kullanımda":E.code==="auth/weak-password"?B="Şifre çok zayıf. Daha güçlü bir şifre seçin":E.code==="auth/invalid-email"&&(B="Geçersiz e-posta adresi"),oe.error(B),p({general:B})}finally{d(!1)}}},j=async()=>{f(!0);try{await r(),oe.success("Google ile başarıyla kayıt oldunuz! 🎉",{duration:3e3}),t("/")}catch(C){console.error("Google sign-in error:",C);let E="Google ile kayıt olurken bir hata oluştu";C.code==="auth/popup-closed-by-user"?E="Kayıt penceresi kapatıldı. Lütfen tekrar deneyin.":C.code==="auth/popup-blocked"?E="Pop-up engellendi. Lütfen pop-up engelleyiciyi devre dışı bırakın.":C.code==="auth/account-exists-with-different-credential"&&(E="Bu e-posta adresi zaten farklı bir yöntemle kayıtlı."),oe.error(E),p({general:E})}finally{f(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-lg",children:[n.jsxs($.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[n.jsxs(Ge,{to:"/",className:"inline-flex items-center space-x-3 mb-8 group",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:n.jsx(De,{className:"w-8 h-8 text-white"})}),n.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"SBS Transfer"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Hesap Oluşturun 🚀"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Hemen kayıt olun ve avantajları keşfedin"})]})]}),n.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8",children:[n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:h||u,className:"w-full mb-6 flex items-center justify-center space-x-3 py-4 px-6 border-2 border-gray-200 rounded-2xl text-gray-700 font-medium hover:bg-gray-50 hover:border-gray-300 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",children:[h?n.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"}):n.jsx(W4,{className:"w-5 h-5 text-blue-600 group-hover:scale-110 transition-transform"}),n.jsx("span",{children:h?"Google ile bağlanılıyor...":"Google ile Kayıt Ol"}),n.jsx(J4,{className:"w-4 h-4 text-yellow-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"veya e-posta ile"})})]}),n.jsxs("form",{onSubmit:w,className:"space-y-5",children:[m.general&&n.jsx($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})}),n.jsx("p",{className:"text-red-700 text-sm font-medium",children:m.general})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Ad"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:s.firstName,onChange:C=>N("firstName",C.target.value),placeholder:"Adınız",disabled:u||h,className:`w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${m.firstName?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(ze,{className:`absolute left-3 top-3 w-4 h-4 transition-colors ${m.firstName?"text-red-400":"text-gray-400"}`})]}),m.firstName&&n.jsx($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-xs",children:m.firstName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Soyad"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:s.lastName,onChange:C=>N("lastName",C.target.value),placeholder:"Soyadınız",disabled:u||h,className:`w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${m.lastName?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(ze,{className:`absolute left-3 top-3 w-4 h-4 transition-colors ${m.lastName?"text-red-400":"text-gray-400"}`})]}),m.lastName&&n.jsx($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-xs",children:m.lastName})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"E-posta Adresi"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",value:s.email,onChange:C=>N("email",C.target.value),placeholder:"ornek@email.com",disabled:u||h,className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${m.email?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(gr,{className:`absolute left-4 top-4 w-5 h-5 transition-colors ${m.email?"text-red-400":"text-gray-400"}`})]}),m.email&&n.jsx($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm",children:m.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Telefon Numarası"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"tel",value:s.phone,onChange:C=>N("phone",C.target.value),placeholder:"555 123 4567",disabled:u||h,className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${m.phone?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(kt,{className:`absolute left-4 top-4 w-5 h-5 transition-colors ${m.phone?"text-red-400":"text-gray-400"}`})]}),m.phone&&n.jsx($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm",children:m.phone})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Şifre"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:a?"text":"password",value:s.password,onChange:C=>N("password",C.target.value),placeholder:"••••••••",disabled:u||h,className:`w-full pl-12 pr-12 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${m.password?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(Oo,{className:`absolute left-4 top-4 w-5 h-5 transition-colors ${m.password?"text-red-400":"text-gray-400"}`}),n.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors",children:a?n.jsx(ua,{className:"w-5 h-5"}):n.jsx(ws,{className:"w-5 h-5"})})]}),m.password&&n.jsx($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm",children:m.password})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Şifre Tekrar"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:l?"text":"password",value:s.confirmPassword,onChange:C=>N("confirmPassword",C.target.value),placeholder:"••••••••",disabled:u||h,className:`w-full pl-12 pr-12 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${m.confirmPassword?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(Oo,{className:`absolute left-4 top-4 w-5 h-5 transition-colors ${m.confirmPassword?"text-red-400":"text-gray-400"}`}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors",children:l?n.jsx(ua,{className:"w-5 h-5"}):n.jsx(ws,{className:"w-5 h-5"})})]}),m.confirmPassword&&n.jsx($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm",children:m.confirmPassword})]})]}),n.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:u||h,className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n.jsx("span",{children:"Hesap oluşturuluyor..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(nz,{className:"w-5 h-5"}),n.jsx("span",{children:"Hesap Oluştur"})]})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs("p",{className:"text-gray-600",children:["Zaten hesabınız var mı?"," ",n.jsx(Ge,{to:"/giriş",className:"text-blue-600 hover:text-blue-700 font-semibold hover:underline transition-colors",children:"Giriş yapın"})]})}),n.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(Yr,{className:"w-5 h-5 text-green-600"}),n.jsx("h4",{className:"text-sm font-semibold text-green-800",children:"Otomatik Üyelik"})]}),n.jsxs("div",{className:"space-y-2 text-xs text-green-700",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($e,{className:"w-3 h-3 text-green-600"}),n.jsx("span",{children:"Rezervasyon sonrası otomatik hesap oluşturulur"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($e,{className:"w-3 h-3 text-green-600"}),n.jsx("span",{children:"Google ile hızlı kayıt imkanı"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($e,{className:"w-3 h-3 text-green-600"}),n.jsx("span",{children:"Güvenli ve kolay profil yönetimi"})]})]})]})]}),n.jsx($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center mt-8",children:n.jsxs(Ge,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors group",children:[n.jsx(Aa,{className:"w-4 h-4 rotate-180 group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{children:"Ana sayfaya dön"})]})})]})})},hU=()=>{Dr();const{resetPassword:t}=Ds(),[e,r]=g.useState(""),[s,i]=g.useState(!1),[a,o]=g.useState(!1),[l,c]=g.useState({}),u=()=>{const f={};return e?/\S+@\S+\.\S+/.test(e)||(f.email="Geçerli bir e-posta adresi girin"):f.email="E-posta adresi gerekli",c(f),Object.keys(f).length===0},d=async f=>{if(f.preventDefault(),!!u()){i(!0);try{await t(e),o(!0),oe.success("Şifre sıfırlama e-postası gönderildi! 📧",{duration:4e3})}catch(m){console.error("Reset password error:",m);let p="Şifre sıfırlama e-postası gönderilirken hata oluştu";m.code==="auth/user-not-found"?p="Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı":m.code==="auth/invalid-email"?p="Geçersiz e-posta adresi":m.code==="auth/too-many-requests"&&(p="Çok fazla istek gönderildi. Lütfen daha sonra tekrar deneyin"),oe.error(p),c({general:p})}finally{i(!1)}}},h=f=>{r(f),l.email&&c(m=>({...m,email:""}))};return a?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx($e,{className:"w-8 h-8 text-green-600"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"E-posta Gönderildi! ✅"}),n.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed",children:[n.jsx("strong",{children:e})," adresine şifre sıfırlama bağlantısı gönderdik. E-postanızı kontrol edin ve talimatları takip edin."]}),n.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Yr,{className:"w-4 h-4 text-amber-600"}),n.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Önemli Notlar"})]}),n.jsxs("ul",{className:"text-xs text-amber-700 space-y-1 text-left",children:[n.jsx("li",{children:"• E-posta birkaç dakika içinde gelebilir"}),n.jsx("li",{children:"• Spam klasörünü kontrol etmeyi unutmayın"}),n.jsx("li",{children:"• Bağlantı 1 saat boyunca geçerlidir"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-2xl font-medium hover:bg-blue-700 transition-colors",children:"Tekrar Gönder"}),n.jsx(Ge,{to:"/giriş",className:"w-full block text-center py-3 px-6 border border-gray-200 rounded-2xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Giriş Sayfasına Dön"})]})]})})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs($.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[n.jsxs(Ge,{to:"/",className:"inline-flex items-center space-x-3 mb-8 group",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:n.jsx(De,{className:"w-8 h-8 text-white"})}),n.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"SBS Transfer"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Şifrenizi mi Unuttunuz? 🔑"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"E-posta adresinizi girin, size yardım edelim"})]})]}),n.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8",children:[n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.general&&n.jsx($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})}),n.jsx("p",{className:"text-red-700 text-sm font-medium",children:l.general})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"E-posta Adresi"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",value:e,onChange:f=>h(f.target.value),placeholder:"Kayıtlı e-posta adresinizi girin",disabled:s,className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 ${l.email?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300"}`}),n.jsx(gr,{className:`absolute left-4 top-4 w-5 h-5 transition-colors ${l.email?"text-red-400":"text-gray-400"}`})]}),l.email&&n.jsxs($.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm flex items-center space-x-1",children:[n.jsx("div",{className:"w-1 h-1 bg-red-500 rounded-full"}),n.jsx("span",{children:l.email})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Yr,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Nasıl Çalışır?"})]}),n.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[n.jsx("li",{children:"• E-posta adresinizi girin"}),n.jsx("li",{children:"• Size şifre sıfırlama bağlantısı göndereceğiz"}),n.jsx("li",{children:"• Bağlantıya tıklayarak yeni şifre oluşturun"}),n.jsx("li",{children:"• Hesabınıza tekrar erişim sağlayın"})]})]}),n.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n.jsx("span",{children:"Gönderiliyor..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Şifre Sıfırlama E-postası Gönder"}),n.jsx(Aa,{className:"w-5 h-5"})]})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsxs(Ge,{to:"/giriş",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors group",children:[n.jsx(bs,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{children:"Giriş sayfasına dön"})]})})]})]})})},i2=()=>{const{state:t}=Ii(),{reservations:e,vehicles:r,drivers:s,customers:i}=t,[a,o]=g.useState({totalReservations:0,todayReservations:0,totalRevenue:0,activeDrivers:0,pendingReservations:0,completedReservations:0,monthlyGrowth:0,customerSatisfaction:0});g.useEffect(()=>{const u=new Date().toDateString(),d=e.filter(w=>{var j;return new Date((j=w.tripDetails)==null?void 0:j.date).toDateString()===u}).length,h=e.filter(w=>w.status==="pending").length,f=e.filter(w=>w.status==="completed").length,m=e.filter(w=>w.status==="completed").reduce((w,j)=>w+(j.totalPrice||0),0),p=s.filter(w=>w.status==="active").length,N=e.length>0?Math.round(f/e.length*100):0,k=f>0?Math.min(95,85+Math.round(f/10)):0;o({totalReservations:e.length,todayReservations:d,totalRevenue:m,activeDrivers:p,pendingReservations:h,completedReservations:f,monthlyGrowth:N,customerSatisfaction:k})},[e,s]);const l=[{title:"Toplam Rezervasyon",value:a.totalReservations,icon:tt,color:"blue"},{title:"Bugünkü Rezervasyonlar",value:a.todayReservations,icon:Mt,color:"green"},{title:"Bekleyen Rezervasyonlar",value:a.pendingReservations,icon:Qr,color:"yellow"},{title:"Tamamlanan Rezervasyon",value:a.completedReservations,icon:$e,color:"emerald"},{title:"Araçlar",value:r.length,icon:De,color:"purple"},{title:"Müşteriler",value:i.length,icon:mt,color:"indigo"},{title:"Şoförler",value:s.length,icon:mt,color:"orange"}],c=u=>{switch(u){case"blue":return"bg-blue-500 text-blue-100";case"orange":return"bg-orange-500 text-orange-100";case"green":return"bg-green-500 text-green-100";case"purple":return"bg-purple-500 text-purple-100";case"yellow":return"bg-yellow-500 text-yellow-100";case"emerald":return"bg-emerald-500 text-emerald-100";case"indigo":return"bg-indigo-500 text-indigo-100";default:return"bg-gray-500 text-gray-100"}};return n.jsxs("div",{className:"space-y-8 p-6 lg:p-8",children:[n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-3xl p-8 text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/90 via-indigo-600/90 to-purple-600/90 backdrop-blur-sm"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Hoş Geldiniz! 👋"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"SBS Transfer Platform Yönetim Paneli"})]}),n.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]}),n.jsx($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((u,d)=>n.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:d*.1},whileHover:{y:-8,transition:{duration:.2}},className:"bg-white/80 backdrop-blur-lg rounded-3xl p-6 shadow-xl border border-white/50 hover:shadow-2xl transition-all duration-300 group",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${c(u.color)} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(u.icon,{className:"w-7 h-7"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:u.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:u.title})]})]},u.title))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/50 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200/50",children:n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Son Rezervasyonlar"})}),n.jsx("div",{className:"p-6",children:e.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"Henüz rezervasyon yok"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Yeni rezervasyonlar burada görünecektir"})]}):n.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(u=>{var d,h,f;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl border border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full shadow-lg"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-bold text-gray-900",children:u.reservationId||`RES-${(d=u.id)==null?void 0:d.slice(-6)}`}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(h=u.customerInfo)==null?void 0:h.firstName," ",(f=u.customerInfo)==null?void 0:f.lastName]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["₺",u.totalPrice||0]}),n.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-bold rounded-full mt-1 ${u.status==="completed"?"bg-emerald-100 text-emerald-600":u.status==="pending"?"bg-yellow-100 text-yellow-600":u.status==="assigned"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:u.status==="completed"?"Tamamlandı":u.status==="pending"?"Bekleyen":u.status==="assigned"?"Atandı":"Bilinmeyen"})]})]},u.id)})})})]}),n.jsxs($.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/50 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200/50",children:n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Hızlı İşlemler"})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs($.div,{whileHover:{scale:1.05,y:-2},className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-2xl text-center border border-orange-200",children:[n.jsx(Qr,{className:"w-10 h-10 text-orange-500 mx-auto mb-3"}),n.jsx("p",{className:"text-sm font-bold text-gray-900 mb-1",children:"Bekleyen"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:a.pendingReservations})]}),n.jsxs($.div,{whileHover:{scale:1.05,y:-2},className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-2xl text-center border border-emerald-200",children:[n.jsx($e,{className:"w-10 h-10 text-emerald-500 mx-auto mb-3"}),n.jsx("p",{className:"text-sm font-bold text-gray-900 mb-1",children:"Tamamlanan"}),n.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:a.completedReservations})]}),n.jsxs($.div,{whileHover:{scale:1.05,y:-2},className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl text-center border border-purple-200",children:[n.jsx(De,{className:"w-10 h-10 text-purple-500 mx-auto mb-3"}),n.jsx("p",{className:"text-sm font-bold text-gray-900 mb-1",children:"Araçlar"}),n.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.length})]}),n.jsxs($.div,{whileHover:{scale:1.05,y:-2},className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-2xl text-center border border-indigo-200",children:[n.jsx(mt,{className:"w-10 h-10 text-indigo-500 mx-auto mb-3"}),n.jsx("p",{className:"text-sm font-bold text-gray-900 mb-1",children:"Müşteriler"}),n.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:i.length})]})]})})]})]})]})},mU=()=>{const{state:t,addVehicle:e,updateVehicle:r,deleteVehicle:s}=Ii(),{vehicles:i=[]}=t,[a,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(""),[h,f]=g.useState(!1),[m,p]=g.useState({brand:"",model:"",year:new Date().getFullYear(),plateNumber:"",capacity:"",kmRate:"",color:"",status:"active",fuelType:"benzin",transmission:"otomatik"}),N=()=>{p({brand:"",model:"",year:new Date().getFullYear(),plateNumber:"",capacity:"",kmRate:"",color:"",status:"active",fuelType:"benzin",transmission:"otomatik"})},k=(y,A)=>{p(F=>({...F,[y]:A}))},w=()=>{const y={};return m.brand.trim()||(y.brand="Marka gerekli"),m.model.trim()||(y.model="Model gerekli"),m.plateNumber.trim()||(y.plateNumber="Plaka gerekli"),(!m.capacity||m.capacity<1)&&(y.capacity="Geçerli kapasite gerekli"),(!m.kmRate||m.kmRate<0)&&(y.kmRate="KM başı ücret gerekli"),y},j=async y=>{y.preventDefault();const A=w();if(Object.keys(A).length>0){Object.values(A).forEach(F=>oe.error(F));return}f(!0);try{const F={...m,capacity:parseInt(m.capacity),kmRate:parseFloat(m.kmRate),year:parseInt(m.year),createdAt:l?l.createdAt:new Date,updatedAt:new Date};l?(await r(l.id,F),oe.success("Araç başarıyla güncellendi!")):(await e(F),oe.success("Araç başarıyla eklendi!")),B()}catch(F){console.error("Vehicle operation error:",F),oe.error("İşlem sırasında bir hata oluştu")}finally{f(!1)}},C=y=>{c(y),p({brand:y.brand||"",model:y.model||"",year:y.year||new Date().getFullYear(),plateNumber:y.plateNumber||"",capacity:y.capacity||"",kmRate:y.kmRate||"",color:y.color||"",status:y.status||"active",fuelType:y.fuelType||"benzin",transmission:y.transmission||"otomatik"}),o(!0)},E=async y=>{if(window.confirm("Bu aracı silmek istediğinizden emin misiniz?"))try{await s(y),oe.success("Araç başarıyla silindi!")}catch(A){console.error("Delete error:",A),oe.error("Araç silinirken hata oluştu")}},B=()=>{o(!1),c(null),N()},_=()=>{c(null),N(),o(!0)},b=i.filter(y=>{if(!u)return!0;const A=u.toLowerCase();return(y.brand||"").toLowerCase().includes(A)||(y.model||"").toLowerCase().includes(A)||(y.plateNumber||"").toLowerCase().includes(A)}),v=[{value:"active",label:"Aktif",color:"text-green-600 bg-green-100"},{value:"maintenance",label:"Bakımda",color:"text-yellow-600 bg-yellow-100"},{value:"inactive",label:"Pasif",color:"text-red-600 bg-red-100"}];return n.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[n.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[n.jsx(qr,{className:"w-5 h-5"}),"Yeni Araç Ekle"]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Li,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Marka, model veya plaka ile ara...",value:u,onChange:y=>d(y.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.jsx(Ni,{children:b.map((y,A)=>{const F=v.find(P=>P.value===y.status);return n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:A*.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:n.jsx(De,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[y.brand," ",y.model]}),n.jsx("p",{className:"text-sm text-gray-500",children:y.year})]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(F==null?void 0:F.color)||"text-gray-600 bg-gray-100"}`,children:(F==null?void 0:F.label)||"Bilinmiyor"})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Plaka"}),n.jsx("span",{className:"font-semibold text-gray-900",children:y.plateNumber})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Kapasite"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(mt,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[y.capacity," kişi"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"KM Ücreti"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:["₺",y.kmRate,"/km"]})]}),y.color&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Renk"}),n.jsx("span",{className:"font-semibold text-gray-900",children:y.color})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(y),className:"flex-1 bg-blue-50 hover:bg-blue-100 text-blue-600 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[n.jsx(Zx,{className:"w-4 h-4"}),n.jsx("span",{children:"Düzenle"})]}),n.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(y.id),className:"flex-1 bg-red-50 hover:bg-red-100 text-red-600 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[n.jsx(rl,{className:"w-4 h-4"}),n.jsx("span",{children:"Sil"})]})]})]},y.id)})})}),b.length===0&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(De,{className:"w-12 h-12 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:u?"Araç bulunamadı":"Henüz araç eklenmemiş"}),n.jsx("p",{className:"text-gray-500 mb-6",children:u?"Arama kriterlerinizi değiştirerek tekrar deneyin":"İlk aracınızı ekleyerek başlayın"}),!u&&n.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"İlk Aracı Ekle"})]})]}),n.jsx(Ni,{children:a&&n.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:B,children:n.jsxs($.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:y=>y.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l?"Araç Düzenle":"Yeni Araç Ekle"}),n.jsx("button",{onClick:B,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors",children:n.jsx(We,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Marka *"}),n.jsx("input",{type:"text",value:m.brand,onChange:y=>k("brand",y.target.value),placeholder:"Örn: Mercedes",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model *"}),n.jsx("input",{type:"text",value:m.model,onChange:y=>k("model",y.target.value),placeholder:"Örn: Vito",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Yıl"}),n.jsx("input",{type:"number",value:m.year,onChange:y=>k("year",y.target.value),min:"1990",max:new Date().getFullYear()+1,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Plaka *"}),n.jsx("input",{type:"text",value:m.plateNumber,onChange:y=>k("plateNumber",y.target.value.toUpperCase()),placeholder:"Örn: 34 ABC 123",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Kapasite *"}),n.jsx("input",{type:"number",value:m.capacity,onChange:y=>k("capacity",y.target.value),placeholder:"Örn: 8",min:"1",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"KM Başı Ücret (₺) *"}),n.jsx("input",{type:"number",step:"0.01",value:m.kmRate,onChange:y=>k("kmRate",y.target.value),placeholder:"Örn: 12.50",min:"0",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Renk"}),n.jsx("input",{type:"text",value:m.color,onChange:y=>k("color",y.target.value),placeholder:"Örn: Beyaz",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Durum"}),n.jsx("select",{value:m.status,onChange:y=>k("status",y.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:v.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Yakıt Türü"}),n.jsxs("select",{value:m.fuelType,onChange:y=>k("fuelType",y.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[n.jsx("option",{value:"benzin",children:"Benzin"}),n.jsx("option",{value:"dizel",children:"Dizel"}),n.jsx("option",{value:"lpg",children:"LPG"}),n.jsx("option",{value:"elektrik",children:"Elektrik"}),n.jsx("option",{value:"hibrit",children:"Hibrit"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Vites Türü"}),n.jsxs("select",{value:m.transmission,onChange:y=>k("transmission",y.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[n.jsx("option",{value:"otomatik",children:"Otomatik"}),n.jsx("option",{value:"manuel",children:"Manuel"})]})]})]}),n.jsx("div",{className:"pt-6 border-t border-gray-200",children:n.jsx($.button,{type:"submit",disabled:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center space-x-2",children:h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"İşleniyor..."})]}):n.jsxs(n.Fragment,{children:[n.jsx($e,{className:"w-5 h-5"}),n.jsx("span",{children:l?"Güncelle":"Araç Ekle"})]})})})]})]})})})]})},fU=({vehicles:t,onShowDetails:e,onEditVehicle:r,onDeleteVehicle:s,onStatusChange:i,onManageFeatures:a})=>{const[o,l]=g.useState(null),[c,u]=g.useState(null),d=p=>{const N={active:{color:"bg-green-100 text-green-800",icon:$e,text:"Aktif"},inactive:{color:"bg-red-100 text-red-800",icon:Hc,text:"Pasif"},maintenance:{color:"bg-yellow-100 text-yellow-800",icon:Ke,text:"Bakımda"}},k=N[p]||N.inactive,w=k.icon;return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${k.color}`,children:[n.jsx(w,{className:"w-3 h-3"}),k.text]})},h=p=>({sedan:"🚗",suv:"🚙",minibus:"🚐",midibus:"🚌",bus:"🚍",vip:"🏎️"})[p]||"🚗",f=async p=>{window.confirm("Bu aracı silmek istediğinizden emin misiniz?")&&(u(p),await s(p)&&u(null))},m=async(p,N)=>{await i(p,N)&&l(null)};return t.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[n.jsx(De,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz araç yok"}),n.jsx("p",{className:"text-gray-600",children:"İlk aracınızı ekleyerek başlayın."})]}):n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Araç Bilgileri"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kapasite"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KM Ücreti"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Özellikler"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(p=>{var N;return n.jsxs($.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:n.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-100 flex items-center justify-center text-2xl",children:p.imageUrl?n.jsx("img",{src:p.imageUrl,alt:`${p.brand} ${p.model}`,className:"h-12 w-12 rounded-lg object-cover"}):h(p.type)})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[p.brand," ",p.model]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[p.year," • ",p.plateNumber]}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[p.color," • ",p.fuelType]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(mt,{className:"w-4 h-4 text-gray-400 mr-1"}),p.capacity," Kişi"]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["₺",((N=p.kmRate)==null?void 0:N.toFixed(2))||"0.00"]}),n.jsx("div",{className:"text-xs text-gray-500",children:"per km"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d(p.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[p.features&&p.features.length>0?p.features.slice(0,3).map((k,w)=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:k},w)):n.jsx("span",{className:"text-xs text-gray-400",children:"Özellik yok"}),p.features&&p.features.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",p.features.length-3," daha"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>e(p),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",title:"Detayları Görüntüle",children:n.jsx(ws,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>r(p),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded",title:"Düzenle",children:n.jsx(Zx,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>a(p),className:"text-purple-600 hover:text-purple-900 p-1 hover:bg-purple-50 rounded",title:"Özellikleri Yönet",children:n.jsx(bu,{className:"w-4 h-4"})}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>l(o===p.id?null:p.id),className:"text-gray-600 hover:text-gray-900 p-1 hover:bg-gray-50 rounded",title:"Daha Fazla",children:n.jsx(VV,{className:"w-4 h-4"})}),o===p.id&&n.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-10",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{onClick:()=>m(p.id,p.status==="active"?"inactive":"active"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:p.status==="active"?"Pasif Et":"Aktif Et"}),n.jsx("button",{onClick:()=>m(p.id,"maintenance"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Bakıma Al"}),n.jsx("button",{onClick:()=>f(p.id),disabled:c===p.id,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 disabled:opacity-50",children:c===p.id?"Siliniyor...":"Sil"})]})})]})]})})]},p.id)})})]})})})},pU=({vehicles:t,onShowDetails:e,onEditVehicle:r,onDeleteVehicle:s,onStatusChange:i,onManageFeatures:a})=>{const[o,l]=g.useState(null);return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4",children:t.map(c=>n.jsxs($.div,{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-100 rounded-2xl shadow-xl border border-slate-200 flex flex-col overflow-hidden hover:shadow-2xl transition-all duration-300",whileHover:{scale:1.02,y:-2},children:[n.jsx("div",{className:"h-40 bg-gradient-to-br from-blue-600/10 via-indigo-600/10 to-purple-600/10 flex items-center justify-center",children:n.jsx(De,{className:"w-16 h-16 text-blue-500/80 drop-shadow-lg"})}),n.jsxs("div",{className:"flex-1 flex flex-col p-5 space-y-2",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsxs("h3",{className:"text-lg font-bold text-slate-800 truncate",children:[c.brand," ",c.model]})}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500",children:[n.jsx("span",{className:"font-semibold text-blue-600",children:c.plate}),n.jsx("span",{children:"•"}),n.jsx("span",{className:"capitalize",children:c.type})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-slate-400",children:[n.jsx("span",{children:"Kapasite:"}),n.jsx("span",{className:"font-semibold text-slate-700",children:c.capacity})]}),n.jsx("div",{className:"flex-1"}),n.jsxs("div",{className:"flex space-x-2 mt-3",children:[n.jsx("button",{onClick:()=>r(c),className:"flex-1 px-3 py-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all text-sm font-semibold shadow-lg",children:"Düzenle"}),n.jsx("button",{onClick:()=>s(c),className:"flex-1 px-3 py-2 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl hover:from-red-600 hover:to-pink-600 transition-all text-sm font-semibold shadow-lg",children:"Sil"})]})]})]},c.id))})},gU=({searchTerm:t,setSearchTerm:e,statusFilter:r,setStatusFilter:s,capacityFilter:i,setCapacityFilter:a,typeFilter:o,setTypeFilter:l})=>{const c=()=>{e(""),s("all"),a("all"),l("all")},u=t||r!=="all"||i!=="all"||o!=="all";return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsx("div",{className:"flex-1 min-w-64",children:n.jsxs("div",{className:"relative",children:[n.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Marka, model veya plaka ile ara...",value:t,onChange:d=>e(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsx("div",{className:"min-w-32",children:n.jsxs("select",{value:r,onChange:d=>s(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Tüm Durumlar"}),n.jsx("option",{value:"active",children:"Aktif"}),n.jsx("option",{value:"inactive",children:"Pasif"}),n.jsx("option",{value:"maintenance",children:"Bakımda"})]})}),n.jsx("div",{className:"min-w-32",children:n.jsxs("select",{value:i,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Tüm Kapasiteler"}),n.jsx("option",{value:"4",children:"4+ Kişi"}),n.jsx("option",{value:"8",children:"8+ Kişi"}),n.jsx("option",{value:"12",children:"12+ Kişi"}),n.jsx("option",{value:"16",children:"16+ Kişi"})]})}),n.jsx("div",{className:"min-w-32",children:n.jsxs("select",{value:o,onChange:d=>l(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Tüm Tipler"}),n.jsx("option",{value:"sedan",children:"Sedan"}),n.jsx("option",{value:"suv",children:"SUV"}),n.jsx("option",{value:"minibus",children:"Minibüs"}),n.jsx("option",{value:"midibus",children:"Midibüs"}),n.jsx("option",{value:"bus",children:"Otobüs"}),n.jsx("option",{value:"vip",children:"VIP"})]})}),u&&n.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(We,{className:"w-4 h-4"}),"Temizle"]})]}),u&&n.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-200",children:[t&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-md text-sm",children:['Arama: "',t,'"',n.jsx("button",{onClick:()=>e(""),className:"text-blue-600 hover:text-blue-800",children:n.jsx(We,{className:"w-3 h-3"})})]}),r!=="all"&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-md text-sm",children:["Durum: ",r==="active"?"Aktif":r==="inactive"?"Pasif":"Bakımda",n.jsx("button",{onClick:()=>s("all"),className:"text-green-600 hover:text-green-800",children:n.jsx(We,{className:"w-3 h-3"})})]}),i!=="all"&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded-md text-sm",children:["Kapasite: ",i,"+ Kişi",n.jsx("button",{onClick:()=>a("all"),className:"text-purple-600 hover:text-purple-800",children:n.jsx(We,{className:"w-3 h-3"})})]}),o!=="all"&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-800 rounded-md text-sm",children:["Tip: ",o.charAt(0).toUpperCase()+o.slice(1),n.jsx("button",{onClick:()=>l("all"),className:"text-orange-600 hover:text-orange-800",children:n.jsx(We,{className:"w-3 h-3"})})]})]})]})},yU=({onClose:t,onSubmit:e})=>{const[r,s]=g.useState({brand:"",model:"",year:new Date().getFullYear(),plateNumber:"",capacity:"",kmRate:"",color:"",fuelType:"benzin",transmission:"otomatik",type:"sedan",imageUrl:"",features:[],description:""}),[i,a]=g.useState(!1),[o,l]=g.useState({}),c=["Klima","WiFi","USB Şarj","Su İkramı","Bebek Koltuğu","Çocuk Koltuğu","Tekerlekli Sandalye Desteği","Müzik Sistemi","TV/Monitör","Mikrobus","Büyük Bagaj","Hostesli Hizmet","Premium İç Tasarım","Deri Koltuk","Panoramik Cam","Bluetooth","Navigasyon","Kamera Sistemi"],u=(m,p)=>{s(N=>({...N,[m]:p})),o[m]&&l(N=>({...N,[m]:""}))},d=m=>{s(p=>({...p,features:p.features.includes(m)?p.features.filter(N=>N!==m):[...p.features,m]}))},h=()=>{const m={};r.brand.trim()||(m.brand="Marka gerekli"),r.model.trim()||(m.model="Model gerekli"),r.plateNumber.trim()||(m.plateNumber="Plaka gerekli"),(!r.capacity||r.capacity<1)&&(m.capacity="Geçerli kapasite gerekli"),(!r.kmRate||r.kmRate<0)&&(m.kmRate="KM başı ücret gerekli"),r.color.trim()||(m.color="Renk gerekli");const p=/^[0-9]{2}[A-Z]{1,3}[0-9]{2,4}$/;return r.plateNumber&&!p.test(r.plateNumber.replace(/\s/g,""))&&(m.plateNumber="Geçerli plaka formatı girin (örn: 06ABC123)"),l(m),Object.keys(m).length===0},f=async m=>{if(m.preventDefault(),!!h()){a(!0);try{const p={...r,capacity:parseInt(r.capacity),kmRate:parseFloat(r.kmRate),year:parseInt(r.year),plateNumber:r.plateNumber.toUpperCase().replace(/\s/g,""),brand:r.brand.trim(),model:r.model.trim(),color:r.color.trim()};await e(p)&&t()}catch(p){console.error("Araç eklenirken hata:",p)}finally{a(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(De,{className:"w-6 h-6 text-blue-600"}),"Yeni Araç Ekle"]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:f,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Temel Bilgiler"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marka ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.brand,onChange:m=>u("brand",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.brand?"border-red-300":"border-gray-300"}`,placeholder:"Marka giriniz"}),o.brand&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),o.brand]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.model,onChange:m=>u("model",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.model?"border-red-300":"border-gray-300"}`,placeholder:"Model giriniz"}),o.model&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),o.model]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yıl"}),n.jsx("input",{type:"number",value:r.year,onChange:m=>u("year",m.target.value),min:"1990",max:new Date().getFullYear()+1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip"}),n.jsxs("select",{value:r.type,onChange:m=>u("type",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"sedan",children:"Sedan"}),n.jsx("option",{value:"suv",children:"SUV"}),n.jsx("option",{value:"minibus",children:"Minibüs"}),n.jsx("option",{value:"midibus",children:"Midibüs"}),n.jsx("option",{value:"bus",children:"Otobüs"}),n.jsx("option",{value:"vip",children:"VIP"})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Plaka ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.plateNumber,onChange:m=>u("plateNumber",m.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.plateNumber?"border-red-300":"border-gray-300"}`,placeholder:"06ABC123"}),o.plateNumber&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),o.plateNumber]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Renk ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:r.color,onChange:m=>u("color",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.color?"border-red-300":"border-gray-300"}`,placeholder:"Renk giriniz"}),o.color&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),o.color]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Teknik Bilgiler"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kapasite ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:r.capacity,onChange:m=>u("capacity",m.target.value),min:"1",max:"50",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.capacity?"border-red-300":"border-gray-300"}`,placeholder:"Kişi sayısı"}),o.capacity&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),o.capacity]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["KM Başı Ücret (₺) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:r.kmRate,onChange:m=>u("kmRate",m.target.value),min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.kmRate?"border-red-300":"border-gray-300"}`,placeholder:"0.00"}),o.kmRate&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),o.kmRate]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yakıt Türü"}),n.jsxs("select",{value:r.fuelType,onChange:m=>u("fuelType",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"benzin",children:"Benzin"}),n.jsx("option",{value:"dizel",children:"Dizel"}),n.jsx("option",{value:"lpg",children:"LPG"}),n.jsx("option",{value:"elektrik",children:"Elektrik"}),n.jsx("option",{value:"hibrit",children:"Hibrit"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şanzıman"}),n.jsxs("select",{value:r.transmission,onChange:m=>u("transmission",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"otomatik",children:"Otomatik"}),n.jsx("option",{value:"manuel",children:"Manuel"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Araç Resmi (URL)"}),n.jsx("input",{type:"url",value:r.imageUrl,onChange:m=>u("imageUrl",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Araç fotoğrafının URL'ini girin (opsiyonel)"})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2 mb-4",children:"Araç Özellikleri"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:c.map(m=>n.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:r.features.includes(m),onChange:()=>d(m),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:m})]},m))})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),n.jsx("textarea",{value:r.description,onChange:m=>u("description",m.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Araç hakkında ek bilgiler..."})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),n.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydediliyor..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"w-4 h-4"}),"Kaydet"]})})]})]})]})})},vU=({vehicle:t,onClose:e,onSubmit:r})=>{const[s,i]=g.useState({brand:t.brand||"",model:t.model||"",year:t.year||new Date().getFullYear(),plateNumber:t.plateNumber||"",capacity:t.capacity||"",kmRate:t.kmRate||"",color:t.color||"",fuelType:t.fuelType||"benzin",transmission:t.transmission||"otomatik",type:t.type||"sedan",imageUrl:t.imageUrl||"",features:t.features||[],description:t.description||""}),[a,o]=g.useState(!1),[l,c]=g.useState({}),u=["Klima","WiFi","USB Şarj","Su İkramı","Bebek Koltuğu","Çocuk Koltuğu","Tekerlekli Sandalye Desteği","Müzik Sistemi","TV/Monitör","Mikrobus","Büyük Bagaj","Hostesli Hizmet","Premium İç Tasarım","Deri Koltuk","Panoramik Cam","Bluetooth","Navigasyon","Kamera Sistemi"],d=(p,N)=>{i(k=>({...k,[p]:N})),l[p]&&c(k=>({...k,[p]:""}))},h=p=>{i(N=>({...N,features:N.features.includes(p)?N.features.filter(k=>k!==p):[...N.features,p]}))},f=()=>{const p={};s.brand.trim()||(p.brand="Marka gerekli"),s.model.trim()||(p.model="Model gerekli"),s.plateNumber.trim()||(p.plateNumber="Plaka gerekli"),(!s.capacity||s.capacity<1)&&(p.capacity="Geçerli kapasite gerekli"),(!s.kmRate||s.kmRate<0)&&(p.kmRate="KM başı ücret gerekli"),s.color.trim()||(p.color="Renk gerekli");const N=/^[0-9]{2}[A-Z]{1,3}[0-9]{2,4}$/;return s.plateNumber&&!N.test(s.plateNumber.replace(/\s/g,""))&&(p.plateNumber="Geçerli plaka formatı girin (örn: 06ABC123)"),c(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!!f()){o(!0);try{const N={...s,capacity:parseInt(s.capacity),kmRate:parseFloat(s.kmRate),year:parseInt(s.year),plateNumber:s.plateNumber.toUpperCase().replace(/\s/g,""),brand:s.brand.trim(),model:s.model.trim(),color:s.color.trim()};await r(t.id,N)&&e()}catch(N){console.error("Araç güncellenirken hata:",N)}finally{o(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(De,{className:"w-6 h-6 text-blue-600"}),"Araç Düzenle"]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:m,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Temel Bilgiler"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marka ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:s.brand,onChange:p=>d("brand",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.brand?"border-red-300":"border-gray-300"}`,placeholder:"Marka giriniz"}),l.brand&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),l.brand]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:s.model,onChange:p=>d("model",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.model?"border-red-300":"border-gray-300"}`,placeholder:"Model giriniz"}),l.model&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),l.model]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yıl"}),n.jsx("input",{type:"number",value:s.year,onChange:p=>d("year",p.target.value),min:"1990",max:new Date().getFullYear()+1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip"}),n.jsxs("select",{value:s.type,onChange:p=>d("type",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"sedan",children:"Sedan"}),n.jsx("option",{value:"suv",children:"SUV"}),n.jsx("option",{value:"minibus",children:"Minibüs"}),n.jsx("option",{value:"midibus",children:"Midibüs"}),n.jsx("option",{value:"bus",children:"Otobüs"}),n.jsx("option",{value:"vip",children:"VIP"})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Plaka ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:s.plateNumber,onChange:p=>d("plateNumber",p.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.plateNumber?"border-red-300":"border-gray-300"}`,placeholder:"06ABC123"}),l.plateNumber&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),l.plateNumber]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Renk ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:s.color,onChange:p=>d("color",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.color?"border-red-300":"border-gray-300"}`,placeholder:"Renk giriniz"}),l.color&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),l.color]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Teknik Bilgiler"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kapasite ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:s.capacity,onChange:p=>d("capacity",p.target.value),min:"1",max:"50",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.capacity?"border-red-300":"border-gray-300"}`,placeholder:"Kişi sayısı"}),l.capacity&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),l.capacity]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["KM Başı Ücret (₺) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:s.kmRate,onChange:p=>d("kmRate",p.target.value),min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.kmRate?"border-red-300":"border-gray-300"}`,placeholder:"0.00"}),l.kmRate&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Ke,{className:"w-4 h-4"}),l.kmRate]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yakıt Türü"}),n.jsxs("select",{value:s.fuelType,onChange:p=>d("fuelType",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"benzin",children:"Benzin"}),n.jsx("option",{value:"dizel",children:"Dizel"}),n.jsx("option",{value:"lpg",children:"LPG"}),n.jsx("option",{value:"elektrik",children:"Elektrik"}),n.jsx("option",{value:"hibrit",children:"Hibrit"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şanzıman"}),n.jsxs("select",{value:s.transmission,onChange:p=>d("transmission",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"otomatik",children:"Otomatik"}),n.jsx("option",{value:"manuel",children:"Manuel"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Araç Resmi (URL)"}),n.jsx("input",{type:"url",value:s.imageUrl,onChange:p=>d("imageUrl",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Araç fotoğrafının URL'ini girin (opsiyonel)"})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2 mb-4",children:"Araç Özellikleri"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:u.map(p=>n.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.features.includes(p),onChange:()=>h(p),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:p})]},p))})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),n.jsx("textarea",{value:s.description,onChange:p=>d("description",p.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Araç hakkında ek bilgiler..."})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),n.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Güncelleniyor..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"w-4 h-4"}),"Güncelle"]})})]})]})]})})},EU=({vehicle:t,onClose:e})=>{var a,o;const r=l=>({sedan:"🚗",suv:"🚙",minibus:"🚐",midibus:"🚌",bus:"🚍",vip:"🏎️"})[l]||"🚗",s=l=>{const c={active:{color:"bg-green-100 text-green-800",text:"Aktif"},inactive:{color:"bg-red-100 text-red-800",text:"Pasif"},maintenance:{color:"bg-yellow-100 text-yellow-800",text:"Bakımda"}},u=c[l]||c.inactive;return n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${u.color}`,children:u.text})},i=l=>{if(!l)return"Belirtilmemiş";try{return(l.toDate?l.toDate():new Date(l)).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Geçersiz tarih"}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(De,{className:"w-6 h-6 text-blue-600"}),"Araç Detayları"]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:t.imageUrl?n.jsx("img",{src:t.imageUrl,alt:`${t.brand} ${t.model}`,className:"w-full h-full object-cover rounded-lg"}):n.jsx("div",{className:"text-6xl",children:r(t.type)})}),n.jsx("div",{className:"flex justify-center mb-4",children:s(t.status)}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[n.jsx(mt,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Kapasite"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[t.capacity," Kişi"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"KM Ücreti"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["₺",(a=t.kmRate)==null?void 0:a.toFixed(2)," / km"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[n.jsx($V,{className:"w-5 h-5 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Yakıt Türü"}),n.jsx("p",{className:"text-sm text-gray-600 capitalize",children:t.fuelType})]})]})]})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Temel Bilgiler"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Marka"}),n.jsx("p",{className:"text-sm text-gray-900",children:t.brand})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Model"}),n.jsx("p",{className:"text-sm text-gray-900",children:t.model})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Yıl"}),n.jsx("p",{className:"text-sm text-gray-900",children:t.year})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Plaka"}),n.jsx("p",{className:"text-sm text-gray-900 font-mono",children:t.plateNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Renk"}),n.jsx("p",{className:"text-sm text-gray-900",children:t.color})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tip"}),n.jsx("p",{className:"text-sm text-gray-900 capitalize",children:t.type})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Teknik Bilgiler"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Kapasite"}),n.jsxs("p",{className:"text-sm text-gray-900",children:[t.capacity," Kişi"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"KM Başı Ücret"}),n.jsxs("p",{className:"text-sm text-gray-900",children:["₺",(o=t.kmRate)==null?void 0:o.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Yakıt Türü"}),n.jsx("p",{className:"text-sm text-gray-900 capitalize",children:t.fuelType})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Şanzıman"}),n.jsx("p",{className:"text-sm text-gray-900 capitalize",children:t.transmission})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Oluşturma Tarihi"}),n.jsx("p",{className:"text-sm text-gray-900",children:i(t.createdAt)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Son Güncelleme"}),n.jsx("p",{className:"text-sm text-gray-900",children:i(t.updatedAt)})]})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2 mb-4",children:"Araç Özellikleri"}),t.features&&t.features.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:t.features.map((l,c)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[n.jsx(Yr,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm text-gray-900",children:l})]},c))}):n.jsx("p",{className:"text-gray-500 text-sm",children:"Henüz özellik eklenmemiş"})]}),t.description&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2 mb-4",children:"Açıklama"}),n.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-4 rounded-lg",children:t.description})]})]})]})}),n.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:n.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Kapat"})})]})})},bU=({vehicle:t,onClose:e,onUpdate:r})=>{const[s,i]=g.useState(t.features||[]),[a,o]=g.useState(""),[l,c]=g.useState(!1),u=["Klima","WiFi","USB Şarj","Su İkramı","Bebek Koltuğu","Çocuk Koltuğu","Tekerlekli Sandalye Desteği","Müzik Sistemi","TV/Monitör","Mikrobus","Büyük Bagaj","Hostesli Hizmet","Premium İç Tasarım","Deri Koltuk","Panoramik Cam","Bluetooth","Navigasyon","Kamera Sistemi","Elektrikli Kapılar","Masaj Koltuğu","Mini Bar","Gazete/Dergi","Havlu Hizmeti","Şemsiye","Telefon Şarj Kablosu","Tablet/iPad","Çocuk Oyuncağı","Battaniye","Maske/Dezenfektan","VIP Lounge Erişim"],d=k=>{k.trim()&&!s.includes(k.trim())&&(i([...s,k.trim()]),o(""))},h=k=>{i(s.filter(w=>w!==k))},f=k=>{s.includes(k)||i([...s,k])},m=async k=>{k.preventDefault(),c(!0);try{await r(t.id,{...t,features:s})&&e()}catch(w){console.error("Özellikler güncellenirken hata:",w)}finally{c(!1)}},p=k=>{k.key==="Enter"&&(k.preventDefault(),d(a))},N=u.filter(k=>!s.includes(k));return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(bu,{className:"w-6 h-6 text-blue-600"}),"Araç Özelliklerini Yönet"]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[n.jsxs("h3",{className:"font-medium text-blue-900 mb-2",children:[t.brand," ",t.model]}),n.jsxs("p",{className:"text-sm text-blue-700",children:[t.year," • ",t.plateNumber," • ",t.capacity," Kişi"]})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Mevcut Özellikler (",s.length,")"]}),s.length>0?n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:s.map((k,w)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yr,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm text-gray-900",children:k})]}),n.jsx("button",{type:"button",onClick:()=>h(k),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded transition-colors",children:n.jsx(rl,{className:"w-4 h-4"})})]},w))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Yr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Henüz özellik eklenmemiş"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Özellik Ekle"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Özel Özellik Ekle"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value),onKeyPress:p,placeholder:"Özellik adı girin...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{type:"button",onClick:()=>d(a),disabled:!a.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(qr,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hazır Özellikler"}),n.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:N.map(k=>n.jsx("button",{type:"button",onClick:()=>f(k),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qr,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm text-gray-900",children:k})]})},k))}),N.length===0&&n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Tüm hazır özellikler eklendi"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),n.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydediliyor..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"w-4 h-4"}),"Özellikleri Kaydet"]})})]})]})]})]})})},wU=()=>{const[t,e]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState("table"),[d,h]=g.useState(""),[f,m]=g.useState("all"),[p,N]=g.useState("all"),[k,w]=g.useState("all"),[j,C]=g.useState(!1),[E,B]=g.useState(!1),[_,b]=g.useState(!1),[v,y]=g.useState(!1);g.useEffect(()=>{console.log("Araç verileri yükleniyor..."),a(!0);const I=Hr(Ie(ie,"vehicles"),L=>{console.log("Vehicles koleksiyonu güncellendi, döküman sayısı:",L.docs.length);const z=L.docs.map(O=>({id:O.id,...O.data()}));e(z),s(z),a(!1)},L=>{console.error("Araç verileri yüklenirken hata:",L),a(!1)});return()=>I()},[]),g.useEffect(()=>{let I=t;if(d&&(I=I.filter(L=>{var z,O,U;return((z=L.brand)==null?void 0:z.toLowerCase().includes(d.toLowerCase()))||((O=L.model)==null?void 0:O.toLowerCase().includes(d.toLowerCase()))||((U=L.plateNumber)==null?void 0:U.toLowerCase().includes(d.toLowerCase()))})),f!=="all"&&(I=I.filter(L=>L.status===f)),p!=="all"){const L=parseInt(p);I=I.filter(z=>z.capacity>=L)}k!=="all"&&(I=I.filter(L=>L.type===k)),s(I)},[t,d,f,p,k]);const A=async I=>{try{const L={...I,createdAt:new Date,updatedAt:new Date,status:"active"};return await Ai(Ie(ie,"vehicles"),L),console.log("Araç başarıyla eklendi"),C(!1),!0}catch(L){return console.error("Araç eklenirken hata:",L),!1}},F=async(I,L)=>{try{const z={...L,updatedAt:new Date};return await Kt(je(ie,"vehicles",I),z),console.log("Araç başarıyla güncellendi"),B(!1),l(null),!0}catch(z){return console.error("Araç güncellenirken hata:",z),!1}},P=async I=>{try{return await pu(je(ie,"vehicles",I)),console.log("Araç başarıyla silindi"),!0}catch(L){return console.error("Araç silinirken hata:",L),!1}},S=I=>{l(I),b(!0)},V=I=>{l(I),B(!0)},M=I=>{l(I),y(!0)},H=async(I,L)=>{try{return await Kt(je(ie,"vehicles",I),{status:L,updatedAt:new Date}),console.log("Araç durumu güncellendi"),!0}catch(z){return console.error("Araç durumu güncellenirken hata:",z),!1}};return i?n.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[n.jsx(Jx,{className:"w-8 h-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Araçlar yükleniyor..."})]}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(De,{className:"w-7 h-7 text-blue-600"}),"Araç Yönetimi"]}),n.jsxs("p",{className:"text-gray-600 mt-1",children:[t.length," araç kayıtlı • ",r.length," gösteriliyor"]})]}),n.jsxs("button",{onClick:()=>C(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(qr,{className:"w-4 h-4"}),"Yeni Araç Ekle"]})]}),n.jsx(gU,{searchTerm:d,setSearchTerm:h,statusFilter:f,setStatusFilter:m,capacityFilter:p,setCapacityFilter:N,typeFilter:k,setTypeFilter:w}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(De,{className:"w-5 h-5 text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Görünüm"})]}),n.jsxs("div",{className:"flex rounded-lg border border-gray-200 p-1",children:[n.jsxs("button",{onClick:()=>u("table"),className:`flex items-center gap-2 px-3 py-1 rounded text-sm transition-colors ${c==="table"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(qV,{className:"w-4 h-4"}),"Tablo"]}),n.jsxs("button",{onClick:()=>u("grid"),className:`flex items-center gap-2 px-3 py-1 rounded text-sm transition-colors ${c==="grid"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(KV,{className:"w-4 h-4"}),"Kart"]})]})]})}),c==="table"?n.jsx(fU,{vehicles:r,onShowDetails:S,onEditVehicle:V,onDeleteVehicle:P,onStatusChange:H,onManageFeatures:M}):n.jsx(pU,{vehicles:r,onShowDetails:S,onEditVehicle:V,onDeleteVehicle:P,onStatusChange:H,onManageFeatures:M}),j&&n.jsx(yU,{onClose:()=>C(!1),onSubmit:A}),E&&o&&n.jsx(vU,{vehicle:o,onClose:()=>{B(!1),l(null)},onSubmit:F}),_&&o&&n.jsx(EU,{vehicle:o,onClose:()=>{b(!1),l(null)}}),v&&o&&n.jsx(bU,{vehicle:o,onClose:()=>{y(!1),l(null)},onUpdate:F})]})},CU=({drivers:t=[],vehicles:e=[],onEdit:r,onDelete:s,onStatusChange:i,onViewDetails:a})=>{const o=u=>{const d=e.find(h=>h.id===u);return d?`${d.brand} ${d.model} (${d.plateNumber})`:"Araç atanmamış"},l=u=>{const d={active:{color:"bg-green-100 text-green-800 border-green-200",icon:rh,label:"Aktif"},inactive:{color:"bg-red-100 text-red-800 border-red-200",icon:nv,label:"Pasif"},suspended:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Qr,label:"Askıya Alındı"}},h=d[u]||d.inactive,f=h.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${h.color}`,children:[n.jsx(f,{className:"w-3 h-3 mr-1"}),h.label]})},c=u=>{const d=new Date,f=new Date(u)-d,m=Math.ceil(f/(1e3*60*60*24));return m<0?{color:"text-red-600",label:"Süresi Dolmuş",urgent:!0}:m<=30?{color:"text-orange-600",label:`${m} gün kaldı`,urgent:!0}:m<=90?{color:"text-yellow-600",label:`${m} gün kaldı`,urgent:!1}:{color:"text-green-600",label:"Geçerli",urgent:!1}};return n.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-100 rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:[n.jsx("div",{children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{className:"bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Şoför"}),n.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"İletişim"}),n.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Ehliyet"}),n.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Durum"}),n.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Araç"}),n.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Kom."}),n.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"İşlem"})]})}),n.jsx("tbody",{className:"bg-white/80 divide-y divide-slate-100",children:t&&t.length>0?t.map(u=>n.jsx(Ko.Fragment,{children:n.jsxs("tr",{className:"hover:bg-blue-50/60 transition-colors",children:[n.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-full flex items-center justify-center border border-blue-200",children:n.jsxs("span",{className:"text-base font-bold text-blue-700",children:[(u.firstName||"")[0]||"",(u.lastName||"")[0]||""]})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[u.firstName||""," ",u.lastName||""]}),n.jsxs("div",{className:"text-xs text-slate-500",children:[u.totalTrips||0," sefer"]})]})]})}),n.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-slate-800",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(kt,{className:"w-4 h-4 text-blue-400 mr-2"}),u.phone]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(gr,{className:"w-4 h-4 text-blue-400 mr-2"}),u.email]})]})}),n.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-slate-800",children:[n.jsx("div",{className:"font-semibold",children:u.licenseNumber}),n.jsxs("div",{className:`text-xs ${c(u.licenseExpiry).color} flex items-center`,children:[c(u.licenseExpiry).label,c(u.licenseExpiry).urgent&&n.jsx(Qr,{className:"w-3 h-3 inline ml-1 text-orange-500"})]})]})}),n.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[l(u.status),n.jsxs("select",{value:u.status,onChange:d=>i(u.id,d.target.value),className:"text-xs border border-slate-300 rounded-lg px-2 py-1 bg-white/80 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",children:[n.jsx("option",{value:"active",children:"Aktif"}),n.jsx("option",{value:"inactive",children:"Pasif"}),n.jsx("option",{value:"suspended",children:"Askıya Al"})]})]})}),n.jsx("td",{className:"px-2 py-2",children:n.jsxs("div",{className:"flex items-center text-sm text-slate-800",children:[n.jsx(De,{className:"w-4 h-4 text-blue-400 mr-2"}),n.jsx("div",{className:"max-w-xs",children:n.jsx("div",{className:`truncate ${u.assignedVehicle?"text-slate-800":"text-slate-400"}`,children:o(u.assignedVehicle)})})]})}),n.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-green-700 font-bold",children:["%",u.commission||0,n.jsx("span",{className:"text-xs text-slate-400 ml-1 font-normal",children:"komisyon"})]})}),n.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-xs font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>a(u),className:"p-2 text-blue-600 hover:text-white hover:bg-blue-600 rounded-lg transition-colors shadow",title:"Detayları Görüntüle",children:n.jsx(ws,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>r(u),className:"p-2 text-green-600 hover:text-white hover:bg-green-600 rounded-lg transition-colors shadow",title:"Düzenle",children:n.jsx(eh,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>s(u.id),className:"p-2 text-red-600 hover:text-white hover:bg-red-600 rounded-lg transition-colors shadow",title:"Sil",children:n.jsx(rl,{className:"w-4 h-4"})})]})})]})},u.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"px-2 py-2 text-center text-slate-400",children:"Henüz şoför bulunmuyor"})})})]})}),(!t||t.length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(mt,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-400",children:"Henüz şoför bulunmuyor"})]})]})},AU=({searchTerm:t,setSearchTerm:e,statusFilter:r,setStatusFilter:s,vehicleFilter:i,setVehicleFilter:a,licenseExpiryFilter:o,setLicenseExpiryFilter:l,onClearFilters:c,vehicles:u})=>{const[d,h]=g.useState(!1),f=()=>{let p=0;return t&&p++,r&&r!=="all"&&p++,i&&i!=="all"&&p++,o&&o!=="all"&&p++,p},m=()=>{const p=[];if(t&&p.push({key:"search",label:`Arama: "${t}"`,onRemove:()=>e("")}),r&&r!=="all"){const N={active:"Aktif",inactive:"Pasif",suspended:"Askıya Alındı"};p.push({key:"status",label:`Durum: ${N[r]}`,onRemove:()=>s("all")})}if(i&&i!=="all"){const N={assigned:"Araç Atanmış",unassigned:"Araç Atanmamış"};p.push({key:"vehicle",label:`Araç: ${N[i]}`,onRemove:()=>a("all")})}if(o&&o!=="all"){const N={expired:"Süresi Dolmuş",expiring:"Süresi Dolmak Üzere",valid:"Geçerli"};p.push({key:"license",label:`Ehliyet: ${N[o]}`,onRemove:()=>l("all")})}return p};return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Şoför adı, telefon veya e-posta ara...",value:t,onChange:p=>e(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:r,onChange:p=>s(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[n.jsx("option",{value:"all",children:"Tüm Durumlar"}),n.jsx("option",{value:"active",children:"Aktif"}),n.jsx("option",{value:"inactive",children:"Pasif"}),n.jsx("option",{value:"suspended",children:"Askıya Alındı"})]}),n.jsx(_r,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:i,onChange:p=>a(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[n.jsx("option",{value:"all",children:"Tüm Araçlar"}),n.jsx("option",{value:"assigned",children:"Araç Atanmış"}),n.jsx("option",{value:"unassigned",children:"Araç Atanmamış"})]}),n.jsx(_r,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>h(!d),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(q4,{className:"w-4 h-4"}),n.jsx("span",{children:"Gelişmiş"}),n.jsx(_r,{className:`w-4 h-4 transition-transform ${d?"rotate-180":""}`})]}),f()>0&&n.jsxs("button",{onClick:c,className:"px-4 py-2 bg-red-50 text-red-700 border border-red-200 rounded-lg hover:bg-red-100 transition-colors",children:["Temizle (",f(),")"]})]})]}),d&&n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ehliyet Durumu"}),n.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[n.jsx("option",{value:"all",children:"Tüm Ehliyetler"}),n.jsx("option",{value:"expired",children:"Süresi Dolmuş"}),n.jsx("option",{value:"expiring",children:"Süresi Dolmak Üzere (30 gün)"}),n.jsx("option",{value:"valid",children:"Geçerli"})]}),n.jsx(_r,{className:"absolute right-3 top-9 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),n.jsx("div",{})]})}),m().length>0&&n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Aktif filtreler:"}),m().map(p=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:[p.label,n.jsx("button",{onClick:p.onRemove,className:"hover:bg-blue-100 rounded-full p-0.5",children:n.jsx(We,{className:"w-3 h-3"})})]},p.key))]})}),(r!=="all"||i!=="all"||o!=="all")&&n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rh,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{children:"Aktif Şoförler"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nv,{className:"w-4 h-4 text-red-600"}),n.jsx("span",{children:"Pasif Şoförler"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{children:"Askıya Alınanlar"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(De,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{children:"Araç Atanmış"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-4 h-4 text-orange-600"}),n.jsx("span",{children:"Ehliyet Süresi Dolacak"})]})]})})]})},NU=({isOpen:t,onClose:e,onSave:r,vehicles:s,loading:i=!1})=>{const[a,o]=g.useState({firstName:"",lastName:"",email:"",phone:"",address:"",licenseNumber:"",licenseExpiry:"",joinDate:new Date().toISOString().split("T")[0],bloodType:"",emergencyContact:"",emergencyPhone:"",assignedVehicle:"",bankAccount:"",bankName:"",salary:"",commission:"",notes:""}),[l,c]=g.useState({}),u=["A+","A-","B+","B-","AB+","AB-","0+","0-"],d=p=>{const{name:N,value:k}=p.target;o(w=>({...w,[N]:k})),l[N]&&c(w=>({...w,[N]:""}))},h=()=>{const p={};if(a.firstName.trim()||(p.firstName="Ad alanı gereklidir"),a.lastName.trim()||(p.lastName="Soyad alanı gereklidir"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(p.email="Geçerli bir e-posta adresi girin"):p.email="E-posta alanı gereklidir",a.phone.trim()||(p.phone="Telefon alanı gereklidir"),a.licenseNumber.trim()||(p.licenseNumber="Ehliyet numarası gereklidir"),a.licenseExpiry||(p.licenseExpiry="Ehliyet bitiş tarihi gereklidir"),a.commission||(p.commission="Komisyon oranı gereklidir"),a.email&&!/\S+@\S+\.\S+/.test(a.email)&&(p.email="Geçerli bir e-posta adresi girin"),a.phone&&!/^[0-9+\-\s\(\)]+$/.test(a.phone)&&(p.phone="Geçerli bir telefon numarası girin"),a.licenseExpiry){const N=new Date;new Date(a.licenseExpiry)<=N&&(p.licenseExpiry="Ehliyet bitiş tarihi bugünden sonra olmalıdır")}if(a.salary&&(isNaN(a.salary)||parseFloat(a.salary)<0)&&(p.salary="Geçerli bir maaş miktarı girin"),a.commission){const N=parseFloat(a.commission);(isNaN(N)||N<0||N>100)&&(p.commission="Komisyon 0 ile 100 arasında olmalıdır")}return c(p),Object.keys(p).length===0},f=p=>{if(p.preventDefault(),!h())return;const N={...a,status:"active",totalTrips:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(N)},m=()=>{o({firstName:"",lastName:"",email:"",phone:"",address:"",licenseNumber:"",licenseExpiry:"",joinDate:new Date().toISOString().split("T")[0],bloodType:"",emergencyContact:"",emergencyPhone:"",assignedVehicle:"",bankAccount:"",bankName:"",salary:"",commission:"",notes:""}),c({})};return t?n.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-100 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[85vh] overflow-y-auto border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10",children:[n.jsxs("h2",{className:"text-2xl font-bold text-blue-700 flex items-center gap-2",children:[n.jsx(ze,{className:"w-6 h-6"})," Yeni Şoför Ekle"]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-100 text-blue-600 rounded-full transition-colors border border-blue-100",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:f,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2 mb-3",children:[n.jsx(ze,{className:"w-5 h-5"}),"Kişisel Bilgiler"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad *"}),n.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.firstName?"border-red-500":"border-gray-300"}`,placeholder:"Ad"}),l.firstName&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.firstName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad *"}),n.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.lastName?"border-red-500":"border-gray-300"}`,placeholder:"Soyad"}),l.lastName&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.lastName})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.email?"border-red-500":"border-gray-300"}`,placeholder:"E-posta adresi"})]}),l.email&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon *"}),n.jsxs("div",{className:"relative",children:[n.jsx(kt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:d,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.phone?"border-red-500":"border-gray-300"}`,placeholder:"Telefon numarası"})]}),l.phone&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adres"}),n.jsxs("div",{className:"relative",children:[n.jsx(lt,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{name:"address",value:a.address,onChange:d,rows:2,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Adres"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kan Grubu"}),n.jsxs("select",{name:"bloodType",value:a.bloodType,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Kan grubu seçiniz"}),u.map(p=>n.jsx("option",{value:p,children:p},p))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İşe Başlama Tarihi"}),n.jsx("input",{type:"date",name:"joinDate",value:a.joinDate,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acil Durumda Aranacak Kişi"}),n.jsx("input",{type:"text",name:"emergencyContact",value:a.emergencyContact,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"İsim ve telefon"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2 mb-3",children:[n.jsx(pr,{className:"w-5 h-5"}),"Lisans ve İş Bilgileri"]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ehliyet Numarası *"}),n.jsx("input",{type:"text",name:"licenseNumber",value:a.licenseNumber,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.licenseNumber?"border-red-500":"border-gray-300"}`,placeholder:"Ehliyet numarası"}),l.licenseNumber&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.licenseNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ehliyet Bitiş Tarihi *"}),n.jsxs("div",{className:"relative",children:[n.jsx(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"date",name:"licenseExpiry",value:a.licenseExpiry,onChange:d,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.licenseExpiry?"border-red-500":"border-gray-300"}`})]}),l.licenseExpiry&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.licenseExpiry})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Atanacak Araç"}),n.jsxs("div",{className:"relative",children:[n.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s&&s.filter(p=>p.status==="active").length>0?n.jsxs("select",{name:"assignedVehicle",value:a.assignedVehicle,onChange:d,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Araç seçiniz"}),s.filter(p=>p.status==="active").map(p=>n.jsxs("option",{value:p.id,children:[p.brand," ",p.model," (",p.plateNumber,")"]},p.id))]}):n.jsx("div",{className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-400 flex items-center",children:"Uygun araç bulunamadı"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banka Adı"}),n.jsx("input",{type:"text",name:"bankName",value:a.bankName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Banka adı"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banka Hesap No"}),n.jsx("input",{type:"text",name:"bankAccount",value:a.bankAccount,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Hesap numarası"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maaş"}),n.jsx("input",{type:"number",name:"salary",value:a.salary,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.salary?"border-red-500":"border-gray-300"}`,placeholder:"0",min:"0"}),l.salary&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.salary})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Komisyon (%) *"}),n.jsx("input",{type:"number",name:"commission",value:a.commission,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.commission?"border-red-500":"border-gray-300"}`,placeholder:"25",min:"0",max:"100"}),l.commission&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.commission})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qx,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{name:"notes",value:a.notes,onChange:d,rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Şoför hakkında notlar..."})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-slate-200 bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10 -mx-6 -mb-6 px-6 py-6",children:[n.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-xl hover:bg-slate-100 transition-colors font-semibold",children:"Temizle"}),n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-xl hover:bg-slate-100 transition-colors font-semibold",children:"İptal"}),n.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all flex items-center gap-2 font-semibold shadow disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydediliyor..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"w-4 h-4"}),"Şoför Ekle"]})})]})]})]})}):null},jU=({isOpen:t,onClose:e,onSave:r,driver:s,vehicles:i,loading:a=!1})=>{const[o,l]=g.useState({firstName:"",lastName:"",email:"",phone:"",address:"",licenseNumber:"",licenseExpiry:"",joinDate:"",bloodType:"",emergencyContact:"",emergencyPhone:"",assignedVehicle:"",bankAccount:"",bankName:"",salary:"",commission:"",notes:""}),[c,u]=g.useState({}),[d,h]=g.useState(!1),f=["A+","A-","B+","B-","AB+","AB-","0+","0-"];g.useEffect(()=>{s&&t&&(l({firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",phone:s.phone||"",address:s.address||"",licenseNumber:s.licenseNumber||"",licenseExpiry:s.licenseExpiry?s.licenseExpiry.split("T")[0]:"",joinDate:s.joinDate?s.joinDate.split("T")[0]:"",bloodType:s.bloodType||"",emergencyContact:s.emergencyContact||"",emergencyPhone:s.emergencyPhone||"",assignedVehicle:s.assignedVehicle||"",bankAccount:s.bankAccount||"",bankName:s.bankName||"",salary:s.salary||"",commission:s.commission||"",notes:s.notes||""}),h(!1),u({}))},[s,t]);const m=C=>{const{name:E,value:B}=C.target;l(_=>({..._,[E]:B})),h(!0),c[E]&&u(_=>({..._,[E]:""}))},p=()=>{const C={};if(o.firstName.trim()||(C.firstName="Ad alanı gereklidir"),o.lastName.trim()||(C.lastName="Soyad alanı gereklidir"),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(C.email="Geçerli bir e-posta adresi girin"):C.email="E-posta alanı gereklidir",o.phone.trim()||(C.phone="Telefon alanı gereklidir"),o.licenseNumber.trim()||(C.licenseNumber="Ehliyet numarası gereklidir"),o.licenseExpiry||(C.licenseExpiry="Ehliyet bitiş tarihi gereklidir"),o.commission||(C.commission="Komisyon oranı gereklidir"),o.email&&!/\S+@\S+\.\S+/.test(o.email)&&(C.email="Geçerli bir e-posta adresi girin"),o.phone&&!/^[0-9+\-\s\(\)]+$/.test(o.phone)&&(C.phone="Geçerli bir telefon numarası girin"),o.licenseExpiry){const E=new Date;new Date(o.licenseExpiry)<=E&&(C.licenseExpiry="Ehliyet bitiş tarihi bugünden sonra olmalıdır")}if(o.salary&&(isNaN(o.salary)||parseFloat(o.salary)<0)&&(C.salary="Geçerli bir maaş miktarı girin"),o.commission){const E=parseFloat(o.commission);(isNaN(E)||E<0||E>100)&&(C.commission="Komisyon 0 ile 100 arasında olmalıdır")}return u(C),Object.keys(C).length===0},N=C=>{if(C.preventDefault(),!p())return;if(!d){e();return}const E={...s,...o,updatedAt:new Date().toISOString()};r(E)},k=()=>{d?window.confirm("Değişiklikler kaydedilmedi. Çıkmak istediğinizden emin misiniz?")&&e():e()};if(!t||!s)return null;const j=(C=>{const E=new Date,_=new Date(C)-E,b=Math.ceil(_/(1e3*60*60*24));return b<0?{color:"text-red-600",message:"Ehliyet süresi dolmuş!",urgent:!0}:b<=30?{color:"text-orange-600",message:`${b} gün içinde dolacak`,urgent:!0}:b<=90?{color:"text-yellow-600",message:`${b} gün kaldı`,urgent:!1}:{color:"text-green-600",message:"Geçerli",urgent:!1}})(o.licenseExpiry);return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[85vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Şoför Düzenle"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.firstName," ",s.lastName]})]}),n.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:N,className:"p-4",children:[o.licenseExpiry&&j.urgent&&n.jsx("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"w-4 h-4 text-orange-600"}),n.jsxs("span",{className:`font-medium ${j.color}`,children:["Ehliyet Uyarısı: ",j.message]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2 mb-3",children:[n.jsx(ze,{className:"w-5 h-5"}),"Kişisel Bilgiler"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad *"}),n.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.firstName?"border-red-500":"border-gray-300"}`,placeholder:"Ad"}),c.firstName&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:c.firstName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad *"}),n.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.lastName?"border-red-500":"border-gray-300"}`,placeholder:"Soyad"}),c.lastName&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:c.lastName})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"email",name:"email",value:o.email,onChange:m,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.email?"border-red-500":"border-gray-300"}`,placeholder:"ornek@email.com"})]}),c.email&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:c.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon *"}),n.jsxs("div",{className:"relative",children:[n.jsx(kt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:m,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.phone?"border-red-500":"border-gray-300"}`,placeholder:"0555 123 4567"})]}),c.phone&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:c.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adres"}),n.jsxs("div",{className:"relative",children:[n.jsx(lt,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{name:"address",value:o.address,onChange:m,rows:2,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tam adres..."})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kan Grubu"}),n.jsxs("select",{name:"bloodType",value:o.bloodType,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Seçiniz"}),f.map(C=>n.jsx("option",{value:C,children:C},C))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İşe Başlama Tarihi"}),n.jsx("input",{type:"date",name:"joinDate",value:o.joinDate,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acil Durumda Aranacak Kişi"}),n.jsx("input",{type:"text",name:"emergencyContact",value:o.emergencyContact,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"İsim ve telefon"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2 mb-3",children:[n.jsx(pr,{className:"w-5 h-5"}),"Lisans ve İş Bilgileri"]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ehliyet Numarası *"}),n.jsx("input",{type:"text",name:"licenseNumber",value:o.licenseNumber,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.licenseNumber?"border-red-500":"border-gray-300"}`,placeholder:"Ehliyet numarası"}),c.licenseNumber&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:c.licenseNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ehliyet Bitiş Tarihi *"}),n.jsxs("div",{className:"relative",children:[n.jsx(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"date",name:"licenseExpiry",value:o.licenseExpiry,onChange:m,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.licenseExpiry?"border-red-500":"border-gray-300"}`})]}),c.licenseExpiry&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:c.licenseExpiry})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Atanan Araç"}),n.jsxs("div",{className:"relative",children:[n.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsxs("select",{name:"assignedVehicle",value:o.assignedVehicle,onChange:m,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Araç seçiniz"}),i&&i.length>0?i.map(C=>n.jsxs("option",{value:C.id,children:[C.brand," ",C.model," (",C.plateNumber,") - ",C.status||"Durum Belirtilmemiş"]},C.id)):n.jsx("option",{value:"",disabled:!0,children:"Araç bulunamadı"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banka Adı"}),n.jsx("input",{type:"text",name:"bankName",value:o.bankName,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Banka adı"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banka Hesap No"}),n.jsx("input",{type:"text",name:"bankAccount",value:o.bankAccount,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Hesap numarası"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maaş"}),n.jsx("input",{type:"number",name:"salary",value:o.salary,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.salary?"border-red-500":"border-gray-300"}`,placeholder:"0",min:"0"}),c.salary&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:c.salary})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Komisyon (%) *"}),n.jsx("input",{type:"number",name:"commission",value:o.commission,onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.commission?"border-red-500":"border-gray-300"}`,placeholder:"25",min:"0",max:"100"}),c.commission&&n.jsx("p",{className:"mt-1 text-xs text-red-600",children:c.commission})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qx,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{name:"notes",value:o.notes,onChange:m,rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Şoför hakkında notlar..."})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t bg-gray-50 -mx-4 -mb-4 px-4 py-4",children:[n.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"İptal"}),n.jsx("button",{type:"submit",disabled:a||!d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydediliyor..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"w-4 h-4"}),"Değişiklikleri Kaydet"]})})]})]})]})})},DU=({isOpen:t,onClose:e,driver:r,vehicles:s=[]})=>{if(!t||!r)return null;const i=c=>{const u=s.find(d=>d.id===c);return u?`${u.brand} ${u.model} (${u.plateNumber})`:"Araç atanmamış"},a=c=>{const u={active:{color:"bg-green-100 text-green-800 border-green-200",icon:rh,label:"Aktif"},inactive:{color:"bg-red-100 text-red-800 border-red-200",icon:nv,label:"Pasif"},suspended:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Qr,label:"Askıya Alındı"}},d=u[c]||u.inactive,h=d.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${d.color}`,children:[n.jsx(h,{className:"w-3 h-3 mr-1"}),d.label]})},l=(c=>{const u=new Date,h=new Date(c)-u,f=Math.ceil(h/(1e3*60*60*24));return f<0?{color:"text-red-600",label:"Süresi Dolmuş",urgent:!0}:f<=30?{color:"text-orange-600",label:`${f} gün kaldı`,urgent:!0}:f<=90?{color:"text-yellow-600",label:`${f} gün kaldı`,urgent:!1}:{color:"text-green-600",label:"Geçerli",urgent:!1}})(r.licenseExpiry);return n.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-100 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[85vh] overflow-y-auto border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-full flex items-center justify-center border border-blue-200",children:n.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[(r.firstName||"")[0]||"",(r.lastName||"")[0]||""]})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:[r.firstName||""," ",r.lastName||""]}),n.jsx("div",{className:"flex items-center gap-2 mt-1",children:a(r.status)})]})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-100 text-blue-600 rounded-full transition-colors border border-blue-100",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6",children:[l.urgent&&n.jsx("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"w-4 h-4 text-orange-600"}),n.jsxs("span",{className:`font-semibold ${l.color}`,children:["Ehliyet Uyarısı: ",l.label]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-100/30 to-white/60 rounded-xl p-5 border border-blue-100 shadow",children:[n.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[n.jsx(ze,{className:"w-4 h-4"}),"Kişisel Bilgiler"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Telefon:"}),n.jsx("p",{className:"font-medium",children:r.phone})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"E-posta:"}),n.jsx("p",{className:"font-medium",children:r.email})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Kan Grubu:"}),n.jsx("p",{className:"font-medium",children:r.bloodType})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"İşe Başlama:"}),n.jsx("p",{className:"font-medium",children:new Date(r.joinDate).toLocaleDateString("tr-TR")})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-100/30 to-white/60 rounded-xl p-5 border border-blue-100 shadow",children:[n.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[n.jsx(kt,{className:"w-4 h-4"}),"İletişim"]}),n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Adres:"}),n.jsx("p",{className:"font-medium",children:r.address})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Acil Durum:"}),n.jsx("p",{className:"font-medium",children:r.emergencyContact})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-100/30 to-white/60 rounded-xl p-5 border border-blue-100 shadow",children:[n.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[n.jsx(pr,{className:"w-4 h-4"}),"Lisans & Araç"]}),n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Ehliyet No:"}),n.jsx("p",{className:"font-medium",children:r.licenseNumber})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Geçerlilik:"}),n.jsxs("p",{className:`font-medium ${l.color}`,children:[new Date(r.licenseExpiry).toLocaleDateString("tr-TR")," (",l.label,")"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Atanan Araç:"}),n.jsx("p",{className:"font-medium",children:i(r.assignedVehicle)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-100/30 to-white/60 rounded-xl p-5 border border-blue-100 shadow",children:[n.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[n.jsx(zr,{className:"w-4 h-4"}),"Finansal & Performans"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Komisyon:"}),n.jsxs("p",{className:"font-medium text-green-600",children:["%",r.commission||0]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Toplam Sefer:"}),n.jsx("p",{className:"font-medium",children:r.totalTrips})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Aylık Ort.:"}),n.jsx("p",{className:"font-medium",children:Math.round(r.totalTrips/12)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Durum:"}),n.jsx("p",{className:"font-medium",children:r.status==="active"?"Aktif":"Pasif"})]})]})]})]})]})]}),n.jsx("div",{className:"flex justify-end p-6 border-t border-slate-200 bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10",children:n.jsx("button",{onClick:e,className:"px-5 py-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all font-semibold shadow",children:"Kapat"})})]})})},kU=()=>{const[t,e]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(null),[d,h]=g.useState(""),[f,m]=g.useState("all"),[p,N]=g.useState("all"),[k,w]=g.useState("all"),[j,C]=g.useState(!1),[E,B]=g.useState(!1),[_,b]=g.useState(!1);g.useEffect(()=>{(async()=>{l(!0);try{const V=hr(Ie(ie,"users"),Ar("role","==",It.DRIVER)),M=Hr(V,L=>{const z=L.docs.map(O=>({id:O.id,...O.data(),name:O.data().firstName&&O.data().lastName?`${O.data().firstName} ${O.data().lastName}`:O.data().name||O.data().email,phone:O.data().phone||"",licenseNumber:O.data().licenseNumber||"Belirtilmemiş",vehicle:O.data().assignedVehicle||"Atanmamış",status:O.data().isActive?"active":"inactive"}));e(z),l(!1)},L=>{console.error("Şoförler yüklenirken hata:",L),l(!1)}),H=hr(Ie(ie,"vehicles"),Ar("status","==","active")),I=Hr(H,L=>{console.log("Aktif araçlar güncellendi, döküman sayısı:",L.docs.length);const z=L.docs.map(O=>({id:O.id,...O.data()}));a(z)},L=>{console.error("Araçlar yüklenirken hata:",L)});return()=>{M(),I()}}catch(V){console.error("Firebase başlatma hatası:",V),l(!1)}})()},[]);const v=()=>{if(!t||t.length===0){s([]);return}let S=[...t];if(d){const V=d.toLowerCase();S=S.filter(M=>(M.firstName||"").toLowerCase().includes(V)||(M.lastName||"").toLowerCase().includes(V)||(M.phone||"").includes(d)||(M.email||"").toLowerCase().includes(V)||(M.licenseNumber||"").includes(d))}if(f!=="all"&&(S=S.filter(V=>V.status===f)),p!=="all"&&(p==="assigned"?S=S.filter(V=>V.assignedVehicle):p==="unassigned"&&(S=S.filter(V=>!V.assignedVehicle))),k!=="all"){const V=new Date,M=new Date(V.getTime()+30*24*60*60*1e3);new Date(V.getTime()+90*24*60*60*1e3),S=S.filter(H=>{const I=new Date(H.licenseExpiry);switch(k){case"expired":return I<V;case"expiring":return I>=V&&I<=M;case"valid":return I>M;default:return!0}})}s(S)};g.useEffect(()=>{v()},[t,d,f,p,k]);const y=async S=>{console.log("Şoför ekleme başlatılıyor:",S);try{const V={...S,role:"driver",isActive:!0,totalTrips:0,joinDate:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("Firebase'a eklenecek veri:",V);const M=await Ai(Ie(ie,"users"),V);console.log("Yeni şoför eklendi, ID:",M.id),C(!1),alert("Şoför başarıyla eklendi!")}catch(V){console.error("Şoför eklenirken hata:",V),alert("Şoför eklenirken bir hata oluştu: "+V.message)}},A=async(S,V)=>{console.log("Şoför güncelleme başlatılıyor:",S,V);try{await Kt(je(ie,"users",S),{...V,updatedAt:new Date().toISOString()}),console.log("Şoför güncellendi:",S),B(!1),u(null),alert("Şoför bilgileri başarıyla güncellendi!")}catch(M){console.error("Şoför güncellenirken hata:",M),alert("Şoför güncellenirken bir hata oluştu: "+M.message)}},F=async S=>{if(window.confirm("Bu şoförü silmek istediğinizden emin misiniz?"))try{await pu(je(ie,"users",S)),console.log("Şoför silindi:",S),alert("Şoför başarıyla silindi!")}catch(V){console.error("Şoför silinirken hata:",V),alert("Şoför silinirken bir hata oluştu: "+V.message)}},P=async(S,V)=>{console.log("Durum değiştirme başlatılıyor:",S,V);try{const M=V==="active";await Kt(je(ie,"users",S),{isActive:M,status:V,updatedAt:new Date().toISOString()}),console.log("Şoför durumu güncellendi:",S,V)}catch(M){console.error("Durum güncellenirken hata:",M),alert("Durum güncellenirken bir hata oluştu: "+M.message)}};return o?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Jx,{className:"w-8 h-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Şoförler yükleniyor..."})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Şoför Yönetimi"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Toplam ",t.length," şoför • Filtrelenmiş ",r.length," şoför"]})]}),n.jsxs("button",{onClick:()=>{console.log("Yeni Şoför Ekle butonuna tıklandı"),C(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(qr,{className:"w-4 h-4"}),"Yeni Şoför Ekle"]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Aktif Şoförler",value:t.filter(S=>S.status==="active").length,color:"text-green-600",bg:"bg-green-100"},{label:"Pasif Şoförler",value:t.filter(S=>S.status==="inactive").length,color:"text-red-600",bg:"bg-red-100"},{label:"Araç Atanmış",value:t.filter(S=>S.assignedVehicle).length,color:"text-blue-600",bg:"bg-blue-100"},{label:"Araç Bekleyen",value:t.filter(S=>!S.assignedVehicle).length,color:"text-yellow-600",bg:"bg-yellow-100"}].map((S,V)=>n.jsx("div",{className:"bg-white rounded-lg border border-gray-100 p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${S.bg}`,children:n.jsx(mt,{className:`w-4 h-4 ${S.color}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:S.label}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:S.value})]})]})},V))}),n.jsx(AU,{searchTerm:d,setSearchTerm:h,statusFilter:f,setStatusFilter:m,vehicleFilter:p,setVehicleFilter:N,licenseExpiryFilter:k,setLicenseExpiryFilter:w,onClearFilters:()=>{h(""),m("all"),N("all"),w("all")},vehicles:i}),n.jsx(CU,{drivers:r,vehicles:i,onEdit:S=>{console.log("Şoför düzenleme başlatılıyor:",S),u(S),B(!0)},onDelete:F,onStatusChange:P,onViewDetails:S=>{u(S),b(!0)}}),n.jsx(NU,{isOpen:j,vehicles:i,onClose:()=>C(!1),onSave:y}),n.jsx(jU,{isOpen:E,driver:c,vehicles:i,onClose:()=>{B(!1),u(null)},onSave:S=>A(S.id,S)}),n.jsx(DU,{isOpen:_,driver:c,vehicles:i,onClose:()=>{b(!1),u(null)}})]})},BU=()=>{const{state:t,addExtraService:e,updateExtraService:r,deleteExtraService:s}=Ii(),{extraServices:i=[]}=t,[a,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(""),[h,f]=g.useState(!1),[m,p]=g.useState({name:"",description:"",price:"",category:"comfort",icon:"Package",status:"active",isPopular:!1,duration:"",restrictions:""}),N=[{value:"comfort",label:"Konfor",icon:fn},{value:"luggage",label:"Bagaj",icon:bo},{value:"time",label:"Zaman",icon:Mt},{value:"vehicle",label:"Araç",icon:De},{value:"passenger",label:"Yolcu",icon:mt}],k=["Package","Star","Clock","Car","Users","Shield","Coffee","Wifi","Music","Phone","MapPin","Heart","Gift"],w=()=>{p({name:"",description:"",price:"",category:"comfort",icon:"Package",status:"active",isPopular:!1,duration:"",restrictions:""})},j=(A,F)=>{p(P=>({...P,[A]:F}))},C=()=>{const A={};return m.name.trim()||(A.name="Hizmet adı gerekli"),m.description.trim()||(A.description="Açıklama gerekli"),(!m.price||m.price<0)&&(A.price="Geçerli fiyat gerekli"),A},E=async A=>{A.preventDefault();const F=C();if(Object.keys(F).length>0){Object.values(F).forEach(P=>oe.error(P));return}f(!0);try{const P={...m,price:parseFloat(m.price),createdAt:l?l.createdAt:new Date,updatedAt:new Date};l?(await r(l.id,P),oe.success("Ek hizmet başarıyla güncellendi!")):(await e(P),oe.success("Ek hizmet başarıyla eklendi!")),w(),o(!1),c(null)}catch(P){console.error("Ek hizmet işlem hatası:",P),oe.error("İşlem sırasında bir hata oluştu")}finally{f(!1)}},B=A=>{c(A),p(A),o(!0)},_=async A=>{if(window.confirm("Bu ek hizmeti silmek istediğinizden emin misiniz?"))try{await s(A),oe.success("Ek hizmet başarıyla silindi!")}catch(F){console.error("Ek hizmet silme hatası:",F),oe.error("Silme işlemi sırasında bir hata oluştu")}},b=()=>{o(!1),c(null),w()},v=i.filter(A=>{var F,P,S;return((F=A.name)==null?void 0:F.toLowerCase().includes(u.toLowerCase()))||((P=A.description)==null?void 0:P.toLowerCase().includes(u.toLowerCase()))||((S=A.category)==null?void 0:S.toLowerCase().includes(u.toLowerCase()))}),y=A=>N.find(F=>F.value===A)||N[0];return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ek Hizmetler Yönetimi"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Transfer hizmetlerinize eklenebilecek ek hizmetleri yönetin"})]}),n.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors shadow-lg",children:[n.jsx(qr,{className:"h-5 w-5"}),n.jsx("span",{children:"Yeni Ek Hizmet"})]})]}),n.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Li,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Ek hizmet ara...",value:u,onChange:A=>d(A.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-80"})]})}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bo,{className:"h-4 w-4 text-blue-500"}),n.jsxs("span",{children:["Toplam: ",i.length]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($e,{className:"h-4 w-4 text-green-500"}),n.jsxs("span",{children:["Aktif: ",i.filter(A=>A.status==="active").length]})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(A=>{const F=y(A.category),P=F.icon;return n.jsxs($.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${A.status==="active"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:n.jsx(P,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[n.jsx("span",{children:A.name}),A.isPopular&&n.jsx(fn,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),n.jsx("p",{className:"text-sm text-gray-500",children:F.label})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx($.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>B(A),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:n.jsx(Zx,{className:"h-4 w-4"})}),n.jsx($.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>_(A.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(rl,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-gray-600 text-sm",children:A.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zr,{className:"h-4 w-4 text-green-500"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["₺",A.price]})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.status==="active"?"Aktif":"Pasif"})]}),A.duration&&n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsx(Mt,{className:"h-4 w-4"}),n.jsx("span",{children:A.duration})]})]})]},A.id)})}),v.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(bo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ek hizmet bulunamadı"}),n.jsx("p",{className:"text-gray-500 mb-6",children:u?"Arama kriterlerinize uygun ek hizmet bulunamadı.":"Henüz ek hizmet eklenmemiş."}),!u&&n.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"inline-flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(qr,{className:"h-5 w-5"}),n.jsx("span",{children:"İlk Ek Hizmeti Ekle"})]})]}),n.jsx(Ni,{children:a&&n.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs($.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l?"Ek Hizmeti Düzenle":"Yeni Ek Hizmet Ekle"}),n.jsx("button",{onClick:b,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(We,{className:"h-5 w-5"})})]}),n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hizmet Adı *"}),n.jsx("input",{type:"text",value:m.name,onChange:A=>j("name",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Örn: VIP Karşılama, Bagaj Taşıma...",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama *"}),n.jsx("textarea",{value:m.description,onChange:A=>j("description",A.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Hizmet detaylarını açıklayın...",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiyat (₺) *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:m.price,onChange:A=>j("price",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),n.jsx("select",{value:m.category,onChange:A=>j("category",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:N.map(A=>n.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İkon"}),n.jsx("select",{value:m.icon,onChange:A=>j("icon",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:k.map(A=>n.jsx("option",{value:A,children:A},A))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durum"}),n.jsxs("select",{value:m.status,onChange:A=>j("status",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"active",children:"Aktif"}),n.jsx("option",{value:"inactive",children:"Pasif"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Süre (Opsiyonel)"}),n.jsx("input",{type:"text",value:m.duration,onChange:A=>j("duration",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Örn: 30 dakika, 1 saat..."})]}),n.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[n.jsx("input",{type:"checkbox",id:"isPopular",checked:m.isPopular,onChange:A=>j("isPopular",A.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isPopular",className:"text-sm font-medium text-gray-700",children:"Popüler hizmet olarak işaretle"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kısıtlamalar (Opsiyonel)"}),n.jsx("textarea",{value:m.restrictions,onChange:A=>j("restrictions",A.target.value),rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Bu hizmet için özel koşullar veya kısıtlamalar..."})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:b,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),n.jsx($.button,{type:"submit",disabled:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Kaydediliyor...":l?"Güncelle":"Kaydet"})]})]})]})})})]})},gN=async(t,e)=>{try{const r=e.assignedDriver||e.assignedDriverId||e.driverId,{totalPrice:s,paymentMethod:i,customerInfo:a,tripDetails:o}=e;if(!r||!s){console.log("Eksik veri: driverId veya totalPrice bulunamadı");return}const l=await Eo(je(ie,"users",r));if(!l.exists())throw console.error("Şoför bulunamadı:",r),new Error(`Şoför bulunamadı: ${r}`);const c=l.data(),u=c.commissionRate||15,d=s*u/100,h=s-d;let f=0,m="";i==="cash"?(f=-d,m=`Nakit rezervasyon komisyonu - ${t}`):(i==="card"||i==="credit_card")&&(f=+h,m=`Kart rezervasyon kazancı - ${t}`);const p=c.balance||0,N=p+f,k={id:Date.now().toString(),type:f>0?"earning":"commission_debt",amount:Math.abs(f),note:m,date:new Date,balanceBefore:p,balanceAfter:N,reservationId:t,paymentMethod:i,totalPrice:s,commission:d,customerName:`${a.firstName} ${a.lastName}`,tripRoute:`${o.pickupLocation} → ${o.dropoffLocation}`},j=[...c.transactions||[],k];return await Kt(je(ie,"users",r),{balance:N,transactions:j,lastTransactionDate:new Date,totalEarnings:(c.totalEarnings||0)+(f>0?f:0),totalCommission:(c.totalCommission||0)+d,completedTrips:(c.completedTrips||0)+1}),await Ai(Ie(ie,"financial_transactions"),{...k,driverId:r,createdAt:new Date,processedBy:"system_auto"}),console.log(`Şoför ${r} cari hesabı güncellendi:`,{oldBalance:p,newBalance:N,change:f,paymentMethod:i}),{success:!0,oldBalance:p,newBalance:N,transaction:k}}catch(r){throw console.error("Şoför finansal güncelleme hatası:",r),r}},_U=async(t,e)=>{try{const r=await Eo(je(ie,"reservations",t));if(!r.exists())throw new Error("Rezervasyon bulunamadı");const s=r.data();if(s.status==="completed")throw new Error("Bu rezervasyon zaten tamamlanmış");if(!(s.assignedDriver||s.assignedDriverId||s.driverId))throw new Error("Bu rezervasyona şoför atanmamış");const a={status:"completed",completedAt:new Date,qrScannedAt:new Date,financialProcessed:!0};e&&e!==void 0&&e!==null&&(a.qrScannedBy=e),await Kt(je(ie,"reservations",t),a);const o=await gN(t,s);return{success:!0,message:"Rezervasyon başarıyla tamamlandı",reservation:s,financial:o}}catch(r){throw console.error("QR scan completion error:",r),r}},FU=async(t,e)=>{try{const r=await Eo(je(ie,"reservations",t));if(!r.exists())throw new Error("Rezervasyon bulunamadı");const s=r.data();if(s.status==="completed")throw new Error("Bu rezervasyon zaten tamamlanmış");await Kt(je(ie,"reservations",t),{status:"completed",completedAt:new Date,completedBy:e,completionMethod:"manual",financialProcessed:!0});const i=await gN(t,s);return{success:!0,message:"Rezervasyon manuel olarak tamamlandı",reservation:s,financial:i}}catch(r){throw console.error("Manual completion error:",r),r}};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function SU(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Gc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TU(t){var e=SU(t,"string");return Gc(e)=="symbol"?e:e+""}function Q(t,e,r){return(e=TU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bm,a2;function PU(){if(a2)return bm;a2=1;var t=function(r,s,i,a,o,l,c,u){if(!r){var d;if(s===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,a,o,l,c,u],f=0;d=new Error(s.replace(/%s/g,function(){return h[f++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return bm=t,bm}var IU=PU(),Ot=yN(IU),Ne=g.createContext(null);function RU(){Ot(!!g.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=g.useContext(Ne);return Ot(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function LU(t,e,r){return Object.keys(t).reduce(function(i,a){return e(i,t[a],a)},r)}function MU(t,e){Object.keys(t).forEach(r=>e(t[r],r))}function OU(t,e,r,s){var i={},a=(o,l)=>{var c=r[l];c!==e[l]&&(i[l]=c,o(s,c))};return MU(t,a),i}function VU(t,e,r){var s=LU(r,function(a,o,l){return typeof t[l]=="function"&&a.push(google.maps.event.addListener(e,o,t[l])),a},[]);return s}function zU(t){google.maps.event.removeListener(t)}function Te(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(zU)}function _e(t){var{updaterMap:e,eventMap:r,prevProps:s,nextProps:i,instance:a}=t,o=VU(i,a,r);return OU(e,s,i,a),o}function UU(t){var{children:e,options:r,id:s,mapContainerStyle:i,mapContainerClassName:a,center:o,onClick:l,onDblClick:c,onDrag:u,onDragEnd:d,onDragStart:h,onMouseMove:f,onMouseOut:m,onMouseOver:p,onMouseDown:N,onMouseUp:k,onRightClick:w,onCenterChanged:j,onLoad:C,onUnmount:E}=t,[B,_]=g.useState(null),b=g.useRef(null),[v,y]=g.useState(null),[A,F]=g.useState(null),[P,S]=g.useState(null),[V,M]=g.useState(null),[H,I]=g.useState(null),[L,z]=g.useState(null),[O,U]=g.useState(null),[q,Y]=g.useState(null),[J,G]=g.useState(null),[ae,le]=g.useState(null),[xe,Ae]=g.useState(null),[ue,pe]=g.useState(null);return g.useEffect(()=>{r&&B!==null&&B.setOptions(r)},[B,r]),g.useEffect(()=>{B!==null&&typeof o<"u"&&B.setCenter(o)},[B,o]),g.useEffect(()=>{B&&c&&(A!==null&&google.maps.event.removeListener(A),F(google.maps.event.addListener(B,"dblclick",c)))},[c]),g.useEffect(()=>{B&&d&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(B,"dragend",d)))},[d]),g.useEffect(()=>{B&&h&&(V!==null&&google.maps.event.removeListener(V),M(google.maps.event.addListener(B,"dragstart",h)))},[h]),g.useEffect(()=>{B&&N&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener(B,"mousedown",N)))},[N]),g.useEffect(()=>{B&&f&&(L!==null&&google.maps.event.removeListener(L),z(google.maps.event.addListener(B,"mousemove",f)))},[f]),g.useEffect(()=>{B&&m&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(B,"mouseout",m)))},[m]),g.useEffect(()=>{B&&p&&(q!==null&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(B,"mouseover",p)))},[p]),g.useEffect(()=>{B&&k&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(B,"mouseup",k)))},[k]),g.useEffect(()=>{B&&w&&(ae!==null&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(B,"rightclick",w)))},[w]),g.useEffect(()=>{B&&l&&(xe!==null&&google.maps.event.removeListener(xe),Ae(google.maps.event.addListener(B,"click",l)))},[l]),g.useEffect(()=>{B&&u&&(ue!==null&&google.maps.event.removeListener(ue),pe(google.maps.event.addListener(B,"drag",u)))},[u]),g.useEffect(()=>{B&&j&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(B,"center_changed",j)))},[l]),g.useEffect(()=>{var Qe=b.current===null?null:new google.maps.Map(b.current,r);return _(Qe),Qe!==null&&C&&C(Qe),()=>{Qe!==null&&E&&E(Qe)}},[]),n.jsx("div",{id:s,ref:b,style:i,className:a,children:n.jsx(Ne.Provider,{value:B,children:B!==null?e:null})})}g.memo(UU);function o2(t,e,r,s,i,a,o){try{var l=t[a](o),c=l.value}catch(u){return void r(u)}l.done?e(c):Promise.resolve(c).then(s,i)}function vN(t){return function(){var e=this,r=arguments;return new Promise(function(s,i){var a=t.apply(e,r);function o(c){o2(a,s,i,o,l,"next",c)}function l(c){o2(a,s,i,o,l,"throw",c)}o(void 0)})}}function EN(t){var{googleMapsApiKey:e,googleMapsClientId:r,version:s="weekly",language:i,region:a,libraries:o,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:d="https://maps.googleapis.com"}=t,h=[];return Ot(e&&r||!(e&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?h.push("key=".concat(e)):r&&h.push("client=".concat(r)),s&&h.push("v=".concat(s)),i&&h.push("language=".concat(i)),a&&h.push("region=".concat(a)),o&&o.length&&h.push("libraries=".concat(o.sort().join(","))),l&&h.push("channel=".concat(l)),c&&c.length&&h.push("map_ids=".concat(c.join(","))),u&&h.push("auth_referrer_policy=".concat(u)),h.push("loading=async"),h.push("callback=initMap"),"".concat(d,"/maps/api/js?").concat(h.join("&"))}var ia=typeof document<"u";function bN(t){var{url:e,id:r,nonce:s}=t;return ia?new Promise(function(a,o){var l=document.getElementById(r),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return a(r);var d=c.initMap,h=l.onerror;c.initMap=function(){d&&d(),a(r)},l.onerror=function(m){h&&h(m),o(m)};return}else l.remove()}var f=document.createElement("script");f.type="text/javascript",f.src=e,f.id=r,f.async=!0,f.nonce=s||"",f.onerror=function(p){f.setAttribute("data-state","error"),o(p)},c.initMap=function(){f.setAttribute("data-state","ready"),a(r)},document.head.appendChild(f)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function l2(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function wN(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,a){return l2(i)||Reflect.apply(e,t,[i,a]),i};var r=t.appendChild.bind(t);t.appendChild=function(i){return l2(i)||Reflect.apply(r,t,[i]),i}}}var Dl=!1;function CN(){return n.jsx("div",{children:"Loading..."})}var yp={id:"script-loader",version:"weekly"};class $U extends g.PureComponent{constructor(){super(...arguments),Q(this,"check",null),Q(this,"state",{loaded:!1}),Q(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Q(this,"isCleaningUp",vN(function*(){function e(r){if(!Dl)r();else if(ia)var s=window.setInterval(function(){Dl||(window.clearInterval(s),r())},1)}return new Promise(e)})),Q(this,"cleanup",()=>{Dl=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),Q(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&wN(),Ot(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:EN(this.props)};bN(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Q(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ia){if(window.google&&window.google.maps&&!Dl){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ia&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ia){this.cleanup();var e=()=>{this.check||(delete window.google,Dl=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||n.jsx(CN,{})]})}}Q($U,"defaultProps",yp);function HU(t,e){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;r[s]=t[s]}return r}function uv(t,e){if(t==null)return{};var r,s,i=HU(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var c2;function AN(t){var{id:e=yp.id,version:r=yp.version,nonce:s,googleMapsApiKey:i,googleMapsClientId:a,language:o,region:l,libraries:c,preventGoogleFontsLoading:u,channel:d,mapIds:h,authReferrerPolicy:f,apiUrl:m="https://maps.googleapis.com"}=t,p=g.useRef(!1),[N,k]=g.useState(!1),[w,j]=g.useState(void 0);g.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),g.useEffect(function(){ia&&u&&wN()},[u]),g.useEffect(function(){N&&Ot(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[N]);var C=EN({version:r,googleMapsApiKey:i,googleMapsClientId:a,language:o,region:l,libraries:c,channel:d,mapIds:h,authReferrerPolicy:f,apiUrl:m});g.useEffect(function(){if(!ia)return;function _(){p.current&&(k(!0),c2=C)}if(window.google&&window.google.maps&&c2===C){_();return}bN({id:e,url:C,nonce:s}).then(_).catch(function(v){p.current&&j(v),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(v)})},[e,C,s]);var E=g.useRef(void 0);return g.useEffect(function(){E.current&&c!==E.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),E.current=c},[c]),{isLoaded:N,loadError:w,url:C}}var KU=["loadingElement","onLoad","onError","onUnmount","children"],GU=n.jsx(CN,{});function WU(t){var{loadingElement:e,onLoad:r,onError:s,onUnmount:i,children:a}=t,o=uv(t,KU),{isLoaded:l,loadError:c}=AN(o);return g.useEffect(function(){l&&typeof r=="function"&&r()},[l,r]),g.useEffect(function(){c&&typeof s=="function"&&s(c)},[c,s]),g.useEffect(function(){return()=>{i&&i()}},[i]),l?a:e||GU}g.memo(WU);var u2;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(u2||(u2={}));function d2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function W0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var x2={},h2={options(t,e){t.setOptions(e)}};function qU(t){var{options:e,onLoad:r,onUnmount:s}=t,i=g.useContext(Ne),[a,o]=g.useState(null);return g.useEffect(()=>{a!==null&&a.setMap(i)},[i]),g.useEffect(()=>{e&&a!==null&&a.setOptions(e)},[a,e]),g.useEffect(()=>{var l=new google.maps.TrafficLayer(W0(W0({},e),{},{map:i}));return o(l),r&&r(l),()=>{a!==null&&(s&&s(a),a.setMap(null))}},[]),null}g.memo(qU);class YU extends g.PureComponent{constructor(){super(...arguments),Q(this,"state",{trafficLayer:null}),Q(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Q(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(W0(W0({},this.props.options),{},{map:this.context}));this.registeredEvents=_e({updaterMap:h2,eventMap:x2,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:h2,eventMap:x2,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Te(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Q(YU,"contextType",Ne);function QU(t){var{onLoad:e,onUnmount:r}=t,s=g.useContext(Ne),[i,a]=g.useState(null);return g.useEffect(()=>{i!==null&&i.setMap(s)},[s]),g.useEffect(()=>{var o=new google.maps.BicyclingLayer;return a(o),o.setMap(s),e&&e(o),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}g.memo(QU);class XU extends g.PureComponent{constructor(){super(...arguments),Q(this,"state",{bicyclingLayer:null}),Q(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Q(XU,"contextType",Ne);function ZU(t){var{onLoad:e,onUnmount:r}=t,s=g.useContext(Ne),[i,a]=g.useState(null);return g.useEffect(()=>{i!==null&&i.setMap(s)},[s]),g.useEffect(()=>{var o=new google.maps.TransitLayer;return a(o),o.setMap(s),e&&e(o),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}g.memo(ZU);class JU extends g.PureComponent{constructor(){super(...arguments),Q(this,"state",{transitLayer:null}),Q(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Q(JU,"contextType",Ne);function m2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var f2={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},p2={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function e$(t){var{options:e,drawingMode:r,onCircleComplete:s,onMarkerComplete:i,onOverlayComplete:a,onPolygonComplete:o,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:d}=t,h=g.useContext(Ne),[f,m]=g.useState(null),[p,N]=g.useState(null),[k,w]=g.useState(null),[j,C]=g.useState(null),[E,B]=g.useState(null),[_,b]=g.useState(null),[v,y]=g.useState(null);return g.useEffect(()=>{f!==null&&f.setMap(h)},[h]),g.useEffect(()=>{e&&f!==null&&f.setOptions(e)},[f,e]),g.useEffect(()=>{f!==null&&f.setDrawingMode(r??null)},[f,r]),g.useEffect(()=>{f&&s&&(p!==null&&google.maps.event.removeListener(p),N(google.maps.event.addListener(f,"circlecomplete",s)))},[f,s]),g.useEffect(()=>{f&&i&&(k!==null&&google.maps.event.removeListener(k),w(google.maps.event.addListener(f,"markercomplete",i)))},[f,i]),g.useEffect(()=>{f&&a&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(f,"overlaycomplete",a)))},[f,a]),g.useEffect(()=>{f&&o&&(E!==null&&google.maps.event.removeListener(E),B(google.maps.event.addListener(f,"polygoncomplete",o)))},[f,o]),g.useEffect(()=>{f&&l&&(_!==null&&google.maps.event.removeListener(_),b(google.maps.event.addListener(f,"polylinecomplete",l)))},[f,l]),g.useEffect(()=>{f&&c&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(f,"rectanglecomplete",c)))},[f,c]),g.useEffect(()=>{Ot(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var A=new google.maps.drawing.DrawingManager(q0(q0({},e),{},{map:h}));return r&&A.setDrawingMode(r),s&&N(google.maps.event.addListener(A,"circlecomplete",s)),i&&w(google.maps.event.addListener(A,"markercomplete",i)),a&&C(google.maps.event.addListener(A,"overlaycomplete",a)),o&&B(google.maps.event.addListener(A,"polygoncomplete",o)),l&&b(google.maps.event.addListener(A,"polylinecomplete",l)),c&&y(google.maps.event.addListener(A,"rectanglecomplete",c)),m(A),u&&u(A),()=>{f!==null&&(p&&google.maps.event.removeListener(p),k&&google.maps.event.removeListener(k),j&&google.maps.event.removeListener(j),E&&google.maps.event.removeListener(E),_&&google.maps.event.removeListener(_),v&&google.maps.event.removeListener(v),d&&d(f),f.setMap(null))}},[]),null}g.memo(e$);class t$ extends g.PureComponent{constructor(e){super(e),Q(this,"registeredEvents",[]),Q(this,"state",{drawingManager:null}),Q(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ot(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(q0(q0({},this.props.options),{},{map:this.context}));this.registeredEvents=_e({updaterMap:p2,eventMap:f2,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:p2,eventMap:f2,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Te(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Q(t$,"contextType",Ne);function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function wo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var y2={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},v2={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Y0={};function r$(t){var{position:e,options:r,clusterer:s,noClustererRedraw:i,children:a,draggable:o,visible:l,animation:c,clickable:u,cursor:d,icon:h,label:f,opacity:m,shape:p,title:N,zIndex:k,onClick:w,onDblClick:j,onDrag:C,onDragEnd:E,onDragStart:B,onMouseOut:_,onMouseOver:b,onMouseUp:v,onMouseDown:y,onRightClick:A,onClickableChanged:F,onCursorChanged:P,onAnimationChanged:S,onDraggableChanged:V,onFlatChanged:M,onIconChanged:H,onPositionChanged:I,onShapeChanged:L,onTitleChanged:z,onVisibleChanged:O,onZindexChanged:U,onLoad:q,onUnmount:Y}=t,J=g.useContext(Ne),[G,ae]=g.useState(null),[le,xe]=g.useState(null),[Ae,ue]=g.useState(null),[pe,Qe]=g.useState(null),[He,ot]=g.useState(null),[be,Vt]=g.useState(null),[yr,sr]=g.useState(null),[bt,Ys]=g.useState(null),[wt,Pa]=g.useState(null),[ks,Fn]=g.useState(null),[Sn,gt]=g.useState(null),[ut,Bs]=g.useState(null),[Qs,Tn]=g.useState(null),[Pn,Z]=g.useState(null),[de,Ye]=g.useState(null),[Xe,Bt]=g.useState(null),[Fe,Tt]=g.useState(null),[Xs,il]=g.useState(null),[In,Ia]=g.useState(null),[Rn,_s]=g.useState(null),[Oi,Vi]=g.useState(null),[zi,Ln]=g.useState(null);g.useEffect(()=>{G!==null&&G.setMap(J)},[J]),g.useEffect(()=>{typeof r<"u"&&G!==null&&G.setOptions(r)},[G,r]),g.useEffect(()=>{typeof o<"u"&&G!==null&&G.setDraggable(o)},[G,o]),g.useEffect(()=>{e&&G!==null&&G.setPosition(e)},[G,e]),g.useEffect(()=>{typeof l<"u"&&G!==null&&G.setVisible(l)},[G,l]),g.useEffect(()=>{G==null||G.setAnimation(c)},[G,c]),g.useEffect(()=>{G&&u!==void 0&&G.setClickable(u)},[G,u]),g.useEffect(()=>{G&&d!==void 0&&G.setCursor(d)},[G,d]),g.useEffect(()=>{G&&h!==void 0&&G.setIcon(h)},[G,h]),g.useEffect(()=>{G&&f!==void 0&&G.setLabel(f)},[G,f]),g.useEffect(()=>{G&&m!==void 0&&G.setOpacity(m)},[G,m]),g.useEffect(()=>{G&&p!==void 0&&G.setShape(p)},[G,p]),g.useEffect(()=>{G&&N!==void 0&&G.setTitle(N)},[G,N]),g.useEffect(()=>{G&&k!==void 0&&G.setZIndex(k)},[G,k]),g.useEffect(()=>{G&&j&&(le!==null&&google.maps.event.removeListener(le),xe(google.maps.event.addListener(G,"dblclick",j)))},[j]),g.useEffect(()=>{G&&E&&(Ae!==null&&google.maps.event.removeListener(Ae),ue(google.maps.event.addListener(G,"dragend",E)))},[E]),g.useEffect(()=>{G&&B&&(pe!==null&&google.maps.event.removeListener(pe),Qe(google.maps.event.addListener(G,"dragstart",B)))},[B]),g.useEffect(()=>{G&&y&&(He!==null&&google.maps.event.removeListener(He),ot(google.maps.event.addListener(G,"mousedown",y)))},[y]),g.useEffect(()=>{G&&_&&(be!==null&&google.maps.event.removeListener(be),Vt(google.maps.event.addListener(G,"mouseout",_)))},[_]),g.useEffect(()=>{G&&b&&(yr!==null&&google.maps.event.removeListener(yr),sr(google.maps.event.addListener(G,"mouseover",b)))},[b]),g.useEffect(()=>{G&&v&&(bt!==null&&google.maps.event.removeListener(bt),Ys(google.maps.event.addListener(G,"mouseup",v)))},[v]),g.useEffect(()=>{G&&A&&(wt!==null&&google.maps.event.removeListener(wt),Pa(google.maps.event.addListener(G,"rightclick",A)))},[A]),g.useEffect(()=>{G&&w&&(ks!==null&&google.maps.event.removeListener(ks),Fn(google.maps.event.addListener(G,"click",w)))},[w]),g.useEffect(()=>{G&&C&&(Sn!==null&&google.maps.event.removeListener(Sn),gt(google.maps.event.addListener(G,"drag",C)))},[C]),g.useEffect(()=>{G&&F&&(ut!==null&&google.maps.event.removeListener(ut),Bs(google.maps.event.addListener(G,"clickable_changed",F)))},[F]),g.useEffect(()=>{G&&P&&(Qs!==null&&google.maps.event.removeListener(Qs),Tn(google.maps.event.addListener(G,"cursor_changed",P)))},[P]),g.useEffect(()=>{G&&S&&(Pn!==null&&google.maps.event.removeListener(Pn),Z(google.maps.event.addListener(G,"animation_changed",S)))},[S]),g.useEffect(()=>{G&&V&&(de!==null&&google.maps.event.removeListener(de),Ye(google.maps.event.addListener(G,"draggable_changed",V)))},[V]),g.useEffect(()=>{G&&M&&(Xe!==null&&google.maps.event.removeListener(Xe),Bt(google.maps.event.addListener(G,"flat_changed",M)))},[M]),g.useEffect(()=>{G&&H&&(Fe!==null&&google.maps.event.removeListener(Fe),Tt(google.maps.event.addListener(G,"icon_changed",H)))},[H]),g.useEffect(()=>{G&&I&&(Xs!==null&&google.maps.event.removeListener(Xs),il(google.maps.event.addListener(G,"position_changed",I)))},[I]),g.useEffect(()=>{G&&L&&(In!==null&&google.maps.event.removeListener(In),Ia(google.maps.event.addListener(G,"shape_changed",L)))},[L]),g.useEffect(()=>{G&&z&&(Rn!==null&&google.maps.event.removeListener(Rn),_s(google.maps.event.addListener(G,"title_changed",z)))},[z]),g.useEffect(()=>{G&&O&&(Oi!==null&&google.maps.event.removeListener(Oi),Vi(google.maps.event.addListener(G,"visible_changed",O)))},[O]),g.useEffect(()=>{G&&U&&(zi!==null&&google.maps.event.removeListener(zi),Ln(google.maps.event.addListener(G,"zindex_changed",U)))},[U]),g.useEffect(()=>{var Ct=wo(wo(wo({},r||Y0),s?Y0:{map:J}),{},{position:e}),Ce=new google.maps.Marker(Ct);return s?s.addMarker(Ce,!!i):Ce.setMap(J),e&&Ce.setPosition(e),typeof l<"u"&&Ce.setVisible(l),typeof o<"u"&&Ce.setDraggable(o),typeof u<"u"&&Ce.setClickable(u),typeof d=="string"&&Ce.setCursor(d),h&&Ce.setIcon(h),typeof f<"u"&&Ce.setLabel(f),typeof m<"u"&&Ce.setOpacity(m),p&&Ce.setShape(p),typeof N=="string"&&Ce.setTitle(N),typeof k=="number"&&Ce.setZIndex(k),j&&xe(google.maps.event.addListener(Ce,"dblclick",j)),E&&ue(google.maps.event.addListener(Ce,"dragend",E)),B&&Qe(google.maps.event.addListener(Ce,"dragstart",B)),y&&ot(google.maps.event.addListener(Ce,"mousedown",y)),_&&Vt(google.maps.event.addListener(Ce,"mouseout",_)),b&&sr(google.maps.event.addListener(Ce,"mouseover",b)),v&&Ys(google.maps.event.addListener(Ce,"mouseup",v)),A&&Pa(google.maps.event.addListener(Ce,"rightclick",A)),w&&Fn(google.maps.event.addListener(Ce,"click",w)),C&&gt(google.maps.event.addListener(Ce,"drag",C)),F&&Bs(google.maps.event.addListener(Ce,"clickable_changed",F)),P&&Tn(google.maps.event.addListener(Ce,"cursor_changed",P)),S&&Z(google.maps.event.addListener(Ce,"animation_changed",S)),V&&Ye(google.maps.event.addListener(Ce,"draggable_changed",V)),M&&Bt(google.maps.event.addListener(Ce,"flat_changed",M)),H&&Tt(google.maps.event.addListener(Ce,"icon_changed",H)),I&&il(google.maps.event.addListener(Ce,"position_changed",I)),L&&Ia(google.maps.event.addListener(Ce,"shape_changed",L)),z&&_s(google.maps.event.addListener(Ce,"title_changed",z)),O&&Vi(google.maps.event.addListener(Ce,"visible_changed",O)),U&&Ln(google.maps.event.addListener(Ce,"zindex_changed",U)),ae(Ce),q&&q(Ce),()=>{le!==null&&google.maps.event.removeListener(le),Ae!==null&&google.maps.event.removeListener(Ae),pe!==null&&google.maps.event.removeListener(pe),He!==null&&google.maps.event.removeListener(He),be!==null&&google.maps.event.removeListener(be),yr!==null&&google.maps.event.removeListener(yr),bt!==null&&google.maps.event.removeListener(bt),wt!==null&&google.maps.event.removeListener(wt),ks!==null&&google.maps.event.removeListener(ks),ut!==null&&google.maps.event.removeListener(ut),Qs!==null&&google.maps.event.removeListener(Qs),Pn!==null&&google.maps.event.removeListener(Pn),de!==null&&google.maps.event.removeListener(de),Xe!==null&&google.maps.event.removeListener(Xe),Fe!==null&&google.maps.event.removeListener(Fe),Xs!==null&&google.maps.event.removeListener(Xs),Rn!==null&&google.maps.event.removeListener(Rn),Oi!==null&&google.maps.event.removeListener(Oi),zi!==null&&google.maps.event.removeListener(zi),Y&&Y(Ce),s?s.removeMarker(Ce,!!i):Ce&&Ce.setMap(null)}},[]);var Cu=g.useMemo(()=>a?g.Children.map(a,Ct=>{if(!g.isValidElement(Ct))return Ct;var Ce=Ct;return g.cloneElement(Ce,{anchor:G})}):null,[a,G]);return n.jsx(n.Fragment,{children:Cu})||null}g.memo(r$);class s$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[])}componentDidMount(){var e=this;return vN(function*(){var r=wo(wo(wo({},e.props.options||Y0),e.props.clusterer?Y0:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(r),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=_e({updaterMap:v2,eventMap:y2,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:v2,eventMap:y2,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Te(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?g.Children.map(this.props.children,r=>{if(!g.isValidElement(r))return r;var s=r;return g.cloneElement(s,{anchor:this.marker})}):null;return e||null}}Q(s$,"contextType",Ne);var n$=function(){function t(e,r){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var s=r.getMaxZoom(),i=this.cluster.getBounds(),a=r.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=r.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var l=o.getZoom()||0;s!==null&&l>s&&o.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,r,s,i,a,o;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),d=parseInt(((r=c[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var f=document.createElement("img");f.alt=l,f.src=this.url,f.width=this.width,f.height=this.height,f.setAttribute("style","position: absolute; top: ".concat(d,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(f.style.clip="rect(-".concat(d,"px, -").concat(u+this.width,"px, -").concat(d+this.height,", -").concat(u,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(m.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(m.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(f),this.div.appendChild(m),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var r=this.cluster.getClusterer().getStyles(),s=r[Math.min(r.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var r=this.getProjection().fromLatLngToDivPixel(e);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},t}(),i$=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new n$(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),s=0,i=r;s<i.length;s++){var a=i[s],o=a.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var r;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var s=e.getPosition();if(s){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+s.lat())/i,(this.center.lng()*(i-1)+s.lng())/i),this.calculateBounds()}}}else{var s=e.getPosition();s&&(this.center=s,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var a=this.markers.length,o=this.markerClusterer.getMaxZoom(),l=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(o!==null&&typeof l<"u"&&l>o)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var d=u[c];d.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var r=e.getPosition();if(r)return this.bounds.contains(r)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,r=this.markers.length,s=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(s!==null&&typeof i<"u"&&i>s){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var r=0;r<this.markers.length;r++)if(e===this.markers[r])return!0;return!1},t}();function a$(t,e){var r=t.length,s=r.toString().length,i=Math.min(s,e);return{text:r.toString(),index:i,title:""}}var o$=2e3,l$=500,c$="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",u$="png",d$=[53,56,66,78,90],x$="cluster",NN=function(){function t(e,r,s){r===void 0&&(r=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||c$,this.imageExtension=s.imageExtension||u$,this.imageSizes=s.imageSizes||d$,this.calculator=s.calculator||a$,this.batchSize=s.batchSize||o$,this.batchSizeIE=s.batchSizeIE||l$,this.clusterClass=s.clusterClass||x$,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,r;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,r=this.markers;e<r.length;e++){var s=r[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var i=0,a=this.clusters;i<a.length;i++){var o=a[i];o.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),r=new google.maps.LatLngBounds,s=0,i=e;s<i.length;s++){var a=i[s],o=a.getPosition();o&&r.extend(o)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(r)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,r){this.pushMarkerTo(e),r||this.redraw()},t.prototype.addMarkers=function(e,r){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=e[s];i&&this.pushMarkerTo(i)}r||this.redraw()},t.prototype.pushMarkerTo=function(e){var r=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){r.ready&&(e.isAdded=!1,r.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){r=s;break}return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),!0)},t.prototype.removeMarker=function(e,r){var s=this.removeMarker_(e);return!r&&s&&this.repaint(),s},t.prototype.removeMarkers=function(e,r){for(var s=!1,i=0,a=e;i<a.length;i++){var o=a[i];s=s||this.removeMarker_(o)}return!r&&s&&this.repaint(),s},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,i=e;s<i.length;s++){var a=i[s];a.remove()}},0)},t.prototype.getExtendedBounds=function(e){var r=this.getProjection(),s=r.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var i=r.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),s!==null){var a=r.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}if(i!==null){var o=r.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var r=0,s=this.clusters;r<s.length;r++){var i=s[r];i.remove()}this.clusters=[];for(var a=0,o=this.markers;a<o.length;a++){var l=o[a];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,r){var s=6371,i=(r.lat()-e.lat())*Math.PI/180,a=(r.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return s*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,r){var s=e.getPosition();return s?r.contains(s):!1},t.prototype.addToClosestCluster=function(e){for(var r,s=4e4,i=null,a=0,o=this.clusters;a<o.length;a++){var l=o[a];r=l;var c=r.getCenter(),u=e.getPosition();if(c&&u){var d=this.distanceBetweenPoints(c,u);d<s&&(s=d,i=r)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(r=new i$(this),r.addMarker(e),this.clusters.push(r))},t.prototype.createClusters=function(e){var r=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),i=s!==null&&("getBounds"in s)?s.getBounds():null,a=(s==null?void 0:s.getZoom())||0,o=a>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(o),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var d=this.markers[u];d&&!d.isAdded&&this.isMarkerInBounds(d,l)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,f=this.clusters;h<f.length;h++){var m=f[h];m.updateIcon()}}}},t.prototype.extend=function(e,r){return(function(i){for(var a in i.prototype){var o=a;this.prototype[o]=i.prototype[o]}return this}).apply(e,[r])},t}();function E2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function h$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var rs={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Oe={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},m$={};function f$(t){var{children:e,options:r,averageCenter:s,batchSizeIE:i,calculator:a,clusterClass:o,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:d,imagePath:h,imageSizes:f,maxZoom:m,minimumClusterSize:p,styles:N,title:k,zoomOnClick:w,onClick:j,onClusteringBegin:C,onClusteringEnd:E,onMouseOver:B,onMouseOut:_,onLoad:b,onUnmount:v}=t,[y,A]=g.useState(null),F=g.useContext(Ne),[P,S]=g.useState(null),[V,M]=g.useState(null),[H,I]=g.useState(null),[L,z]=g.useState(null),[O,U]=g.useState(null);return g.useEffect(()=>{y&&_&&(L!==null&&google.maps.event.removeListener(L),z(google.maps.event.addListener(y,rs.onMouseOut,_)))},[_]),g.useEffect(()=>{y&&B&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(y,rs.onMouseOver,B)))},[B]),g.useEffect(()=>{y&&j&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(y,rs.onClick,j)))},[j]),g.useEffect(()=>{y&&C&&(V!==null&&google.maps.event.removeListener(V),M(google.maps.event.addListener(y,rs.onClusteringBegin,C)))},[C]),g.useEffect(()=>{y&&E&&(H!==null&&google.maps.event.removeListener(H),M(google.maps.event.addListener(y,rs.onClusteringEnd,E)))},[E]),g.useEffect(()=>{typeof s<"u"&&y!==null&&Oe.averageCenter(y,s)},[y,s]),g.useEffect(()=>{typeof i<"u"&&y!==null&&Oe.batchSizeIE(y,i)},[y,i]),g.useEffect(()=>{typeof a<"u"&&y!==null&&Oe.calculator(y,a)},[y,a]),g.useEffect(()=>{typeof o<"u"&&y!==null&&Oe.clusterClass(y,o)},[y,o]),g.useEffect(()=>{typeof l<"u"&&y!==null&&Oe.enableRetinaIcons(y,l)},[y,l]),g.useEffect(()=>{typeof c<"u"&&y!==null&&Oe.gridSize(y,c)},[y,c]),g.useEffect(()=>{typeof u<"u"&&y!==null&&Oe.ignoreHidden(y,u)},[y,u]),g.useEffect(()=>{typeof d<"u"&&y!==null&&Oe.imageExtension(y,d)},[y,d]),g.useEffect(()=>{typeof h<"u"&&y!==null&&Oe.imagePath(y,h)},[y,h]),g.useEffect(()=>{typeof f<"u"&&y!==null&&Oe.imageSizes(y,f)},[y,f]),g.useEffect(()=>{typeof m<"u"&&y!==null&&Oe.maxZoom(y,m)},[y,m]),g.useEffect(()=>{typeof p<"u"&&y!==null&&Oe.minimumClusterSize(y,p)},[y,p]),g.useEffect(()=>{typeof N<"u"&&y!==null&&Oe.styles(y,N)},[y,N]),g.useEffect(()=>{typeof k<"u"&&y!==null&&Oe.title(y,k)},[y,k]),g.useEffect(()=>{typeof w<"u"&&y!==null&&Oe.zoomOnClick(y,w)},[y,w]),g.useEffect(()=>{if(F){var q=h$({},r||m$),Y=new NN(F,[],q);return s&&Oe.averageCenter(Y,s),i&&Oe.batchSizeIE(Y,i),a&&Oe.calculator(Y,a),o&&Oe.clusterClass(Y,o),l&&Oe.enableRetinaIcons(Y,l),c&&Oe.gridSize(Y,c),u&&Oe.ignoreHidden(Y,u),d&&Oe.imageExtension(Y,d),h&&Oe.imagePath(Y,h),f&&Oe.imageSizes(Y,f),m&&Oe.maxZoom(Y,m),p&&Oe.minimumClusterSize(Y,p),N&&Oe.styles(Y,N),k&&Oe.title(Y,k),w&&Oe.zoomOnClick(Y,w),_&&z(google.maps.event.addListener(Y,rs.onMouseOut,_)),B&&U(google.maps.event.addListener(Y,rs.onMouseOver,B)),j&&S(google.maps.event.addListener(Y,rs.onClick,j)),C&&M(google.maps.event.addListener(Y,rs.onClusteringBegin,C)),E&&I(google.maps.event.addListener(Y,rs.onClusteringEnd,E)),A(Y),b&&b(Y),()=>{L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),P!==null&&google.maps.event.removeListener(P),V!==null&&google.maps.event.removeListener(V),H!==null&&google.maps.event.removeListener(H),v&&v(Y)}}},[]),y!==null&&e(y)||null}g.memo(f$);class p$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{markerClusterer:null}),Q(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new NN(this.context,[],this.props.options);this.registeredEvents=_e({updaterMap:Oe,eventMap:rs,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:Oe,eventMap:rs,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Te(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Q(p$,"contextType",Ne);function b2(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var jN=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,r=function(d){d.returnValue=!1,d.preventDefault&&d.preventDefault(),e.enableEventPropagation||b2(d)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,l=a;o<l.length;o++){var c=l[o];this.eventListeners.push(google.maps.event.addListener(this.div,c,b2))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var r=this.getMap();if(r instanceof google.maps.Map){var s=0,i=0,a=r.getBounds();a&&!a.contains(this.position)&&r.setCenter(this.position);var o=r.getDiv(),l=o.offsetWidth,c=o.offsetHeight,u=this.pixelOffset.width,d=this.pixelOffset.height,h=this.div.offsetWidth,f=this.div.offsetHeight,m=this.infoBoxClearance.width,p=this.infoBoxClearance.height,N=this.getProjection(),k=N.fromLatLngToContainerPixel(this.position);k!==null&&(k.x<-u+m?s=k.x+u-m:k.x+h+u+m>l&&(s=k.x+h+u+m-l),this.alignBottom?k.y<-d+p+f?i=k.y+d-p-f:k.y+d+p>c&&(i=k.y+d+p-c):k.y<-d+p?i=k.y+d-p:k.y+f+d+p>c&&(i=k.y+f+d+p-c)),s===0&&i===0||r.panBy(s,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.div.style[r]=e[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var r=this.div.ownerDocument,s=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),r=e.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,r){var s=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var i=r.getPosition();s.setPosition(i)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){s.setMap(r.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,r=this.eventListeners;e<r.length;e++){var s=r[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,r){return(function(i){for(var a in i.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=i.prototype[a]);return this}).apply(e,[r])},t}(),g$=["position"],y$=["position"];function w2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var C2={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},A2={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},v$={};function E$(t){var{children:e,anchor:r,options:s,position:i,zIndex:a,onCloseClick:o,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:f}=t,m=g.useContext(Ne),[p,N]=g.useState(null),[k,w]=g.useState(null),[j,C]=g.useState(null),[E,B]=g.useState(null),[_,b]=g.useState(null),[v,y]=g.useState(null),A=g.useRef(null);return g.useEffect(()=>{m&&p!==null&&(p.close(),r?p.open(m,r):p.getPosition()&&p.open(m))},[m,p,r]),g.useEffect(()=>{s&&p!==null&&p.setOptions(s)},[p,s]),g.useEffect(()=>{if(i&&p!==null){var F=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);p.setPosition(F)}},[i]),g.useEffect(()=>{typeof a=="number"&&p!==null&&p.setZIndex(a)},[a]),g.useEffect(()=>{p&&o&&(k!==null&&google.maps.event.removeListener(k),w(google.maps.event.addListener(p,"closeclick",o)))},[o]),g.useEffect(()=>{p&&l&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(p,"domready",l)))},[l]),g.useEffect(()=>{p&&c&&(E!==null&&google.maps.event.removeListener(E),B(google.maps.event.addListener(p,"content_changed",c)))},[c]),g.useEffect(()=>{p&&u&&(_!==null&&google.maps.event.removeListener(_),b(google.maps.event.addListener(p,"position_changed",u)))},[u]),g.useEffect(()=>{p&&d&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"zindex_changed",d)))},[d]),g.useEffect(()=>{if(m){var F=s||v$,{position:P}=F,S=uv(F,g$),V;P&&!(P instanceof google.maps.LatLng)&&(V=new google.maps.LatLng(P.lat,P.lng));var M=new jN(Q0(Q0({},S),V?{position:V}:{}));A.current=document.createElement("div"),N(M),o&&w(google.maps.event.addListener(M,"closeclick",o)),l&&C(google.maps.event.addListener(M,"domready",l)),c&&B(google.maps.event.addListener(M,"content_changed",c)),u&&b(google.maps.event.addListener(M,"position_changed",u)),d&&y(google.maps.event.addListener(M,"zindex_changed",d)),M.setContent(A.current),r?M.open(m,r):M.getPosition()?M.open(m):Ot(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(M)}return()=>{p!==null&&(k&&google.maps.event.removeListener(k),E&&google.maps.event.removeListener(E),j&&google.maps.event.removeListener(j),_&&google.maps.event.removeListener(_),v&&google.maps.event.removeListener(v),f&&f(p),p.close())}},[]),A.current?Da.createPortal(g.Children.only(e),A.current):null}g.memo(E$);class b$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"containerElement",null),Q(this,"state",{infoBox:null}),Q(this,"open",(e,r)=>{r?this.context!==null&&e.open(this.context,r):e.getPosition()?this.context!==null&&e.open(this.context):Ot(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Q(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:r}=e,s=uv(e,y$),i;r&&!(r instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(r.lat,r.lng));var a=new jN(Q0(Q0({},s),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=_e({updaterMap:A2,eventMap:C2,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:r}=this.state;r!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:A2,eventMap:C2,prevProps:e,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:r}=this.state;r!==null&&(e&&e(r),Te(this.registeredEvents),r.close())}render(){return this.containerElement?Da.createPortal(g.Children.only(this.props.children),this.containerElement):null}}Q(b$,"contextType",Ne);var wm,N2;function w$(){return N2||(N2=1,wm=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,i,a;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(i=s;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),s=a.length,s!==Object.keys(r).length)return!1;for(i=s;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=s;i--!==0;){var o=a[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),wm}var C$=w$(),j2=yN(C$),D2=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Cm=1,kl=8;class dv{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,s]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=s>>4;if(i!==Cm)throw new Error("Got v".concat(i," data when expected v").concat(Cm,"."));var a=D2[s&15];if(!a)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new dv(l,o,a,e)}constructor(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=D2.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(s,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,kl,e),this.coords=new this.ArrayType(this.data,kl+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(kl+o+l+c),this.ids=new this.IndexArrayType(this.data,kl,e),this.coords=new this.ArrayType(this.data,kl+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Cm<<4)+a]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=r,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return vp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,s,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:o,nodeSize:l}=this,c=[0,a.length-1,0],u=[];c.length;){var d=c.pop()||0,h=c.pop()||0,f=c.pop()||0;if(h-f<=l){for(var m=f;m<=h;m++){var p=o[2*m],N=o[2*m+1];p>=e&&p<=s&&N>=r&&N<=i&&u.push(a[m])}continue}var k=f+h>>1,w=o[2*k],j=o[2*k+1];w>=e&&w<=s&&j>=r&&j<=i&&u.push(a[k]),(d===0?e<=w:r<=j)&&(c.push(f),c.push(k-1),c.push(1-d)),(d===0?s>=w:i>=j)&&(c.push(k+1),c.push(h),c.push(1-d))}return u}within(e,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:o}=this,l=[0,i.length-1,0],c=[],u=s*s;l.length;){var d=l.pop()||0,h=l.pop()||0,f=l.pop()||0;if(h-f<=o){for(var m=f;m<=h;m++)k2(a[2*m],a[2*m+1],e,r)<=u&&c.push(i[m]);continue}var p=f+h>>1,N=a[2*p],k=a[2*p+1];k2(N,k,e,r)<=u&&c.push(i[p]),(d===0?e-s<=N:r-s<=k)&&(l.push(f),l.push(p-1),l.push(1-d)),(d===0?e+s>=N:r+s>=k)&&(l.push(p+1),l.push(h),l.push(1-d))}return c}}function vp(t,e,r,s,i,a){if(!(i-s<=r)){var o=s+i>>1;DN(t,e,o,s,i,a),vp(t,e,r,s,o-1,1-a),vp(t,e,r,o+1,i,1-a)}}function DN(t,e,r,s,i,a){for(;i>s;){if(i-s>600){var o=i-s+1,l=r-s+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*(l-o/2<0?-1:1),h=Math.max(s,Math.floor(r-l*u/o+d)),f=Math.min(i,Math.floor(r+(o-l)*u/o+d));DN(t,e,r,h,f,a)}var m=e[2*r+a],p=s,N=i;for(Bl(t,e,s,r),e[2*i+a]>m&&Bl(t,e,s,i);p<N;){for(Bl(t,e,p,N),p++,N--;e[2*p+a]<m;)p++;for(;e[2*N+a]>m;)N--}e[2*s+a]===m?Bl(t,e,s,N):(N++,Bl(t,e,N,i)),N<=r&&(s=N+1),r<=N&&(i=N-1)}}function Bl(t,e,r,s){Am(t,r,s),Am(e,2*r,2*s),Am(e,2*r+1,2*s+1)}function Am(t,e,r){var s=t[e];t[e]=t[r],t[r]=s}function k2(t,e,r,s){var i=t-r,a=e-s;return i*i+a*a}var A$={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},B2=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Gi=2,qn=3,Nm=4,Kn=5,kN=6;class N${constructor(e){this.options=Object.assign(Object.create(A$),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:r,minZoom:s,maxZoom:i}=this.options;r&&console.time("total time");var a="prepare ".concat(e.length," points");r&&console.time(a),this.points=e;for(var o=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[u,d]=c.geometry.coordinates,h=B2(md(u)),f=B2(fd(d));o.push(h,f,1/0,l,-1,1),this.options.reduce&&o.push(0)}}var m=this.trees[i+1]=this._createTree(o);r&&console.timeEnd(a);for(var p=i;p>=s;p--){var N=+Date.now();m=this.trees[p]=this._createTree(this._cluster(m,p)),r&&console.log("z%d: %d clusters in %dms",p,m.numItems,+Date.now()-N)}return r&&console.timeEnd("total time"),this}getClusters(e,r){var s=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),a=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,a=180;else if(s>a){var l=this.getClusters([s,i,180,o],r),c=this.getClusters([-180,i,a,o],r);return l.concat(c)}var u=this.trees[this._limitZoom(r)],d=u.range(md(s),fd(o),md(a),fd(i)),h=u.data,f=[];for(var m of d){var p=this.stride*m;f.push(h[p+Kn]>1?_2(h,p,this.clusterProps):this.points[h[p+qn]])}return f}getChildren(e){var r=this._getOriginId(e),s=this._getOriginZoom(e),i="No cluster with the specified id.",a=this.trees[s];if(!a)throw new Error(i);var o=a.data;if(r*this.stride>=o.length)throw new Error(i);var l=this.options.radius/(this.options.extent*Math.pow(2,s-1)),c=o[r*this.stride],u=o[r*this.stride+1],d=a.within(c,u,l),h=[];for(var f of d){var m=f*this.stride;o[m+Nm]===e&&h.push(o[m+Kn]>1?_2(o,m,this.clusterProps):this.points[o[m+qn]])}if(h.length===0)throw new Error(i);return h}getLeaves(e,r,s){r=r||10,s=s||0;var i=[];return this._appendLeaves(i,e,r,s,0),i}getTile(e,r,s){var i=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:o,radius:l}=this.options,c=l/o,u=(s-c)/a,d=(s+1+c)/a,h={features:[]};return this._addTileFeatures(i.range((r-c)/a,u,(r+1+c)/a,d),i.data,r,s,a,h),r===0&&this._addTileFeatures(i.range(1-c/a,u,1,d),i.data,a,s,a,h),r===a-1&&this._addTileFeatures(i.range(0,u,c/a,d),i.data,-1,s,a,h),h.features.length?h:null}getClusterExpansionZoom(e){for(var r=this._getOriginZoom(e)-1;r<=this.options.maxZoom;){var s=this.getChildren(e);if(r++,s.length!==1)break;e=s[0].properties.cluster_id}return r}_appendLeaves(e,r,s,i,a){var o=this.getChildren(r);for(var l of o){var c=l.properties;if(c&&c.cluster?a+c.point_count<=i?a+=c.point_count:a=this._appendLeaves(e,c.cluster_id,s,i,a):a<i?a++:e.push(l),e.length===s)break}return a}_createTree(e){for(var r=new dv(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)r.add(e[s],e[s+1]);return r.finish(),r.data=e,r}_addTileFeatures(e,r,s,i,a,o){for(var l of e){var c=l*this.stride,u=r[c+Kn]>1,d=void 0,h=void 0,f=void 0;if(u)d=BN(r,c,this.clusterProps),h=r[c],f=r[c+1];else{var m=this.points[r[c+qn]];d=m.properties;var[p,N]=m.geometry.coordinates;h=md(p),f=fd(N)}var k={type:1,geometry:[[Math.round(this.options.extent*(h*a-s)),Math.round(this.options.extent*(f*a-i))]],tags:d},w=void 0;u||this.options.generateId?w=r[c+qn]:w=this.points[r[c+qn]].id,w!==void 0&&(k.id=w),o.features.push(k)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){for(var{radius:s,extent:i,reduce:a,minPoints:o}=this.options,l=s/(i*Math.pow(2,r)),c=e.data,u=[],d=this.stride,h=0;h<c.length;h+=d)if(!(c[h+Gi]<=r)){c[h+Gi]=r;var f=c[h],m=c[h+1],p=e.within(c[h],c[h+1],l),N=c[h+Kn],k=N;for(var w of p){var j=w*d;c[j+Gi]>r&&(k+=c[j+Kn])}if(k>N&&k>=o){var C=f*N,E=m*N,B=void 0,_=-1,b=((h/d|0)<<5)+(r+1)+this.points.length;for(var v of p){var y=v*d;if(!(c[y+Gi]<=r)){c[y+Gi]=r;var A=c[y+Kn];C+=c[y]*A,E+=c[y+1]*A,c[y+Nm]=b,a&&(B||(B=this._map(c,h,!0),_=this.clusterProps.length,this.clusterProps.push(B)),a(B,this._map(c,y)))}}c[h+Nm]=b,u.push(C/k,E/k,1/0,b,-1,k),a&&u.push(_)}else{for(var F=0;F<d;F++)u.push(c[h+F]);if(k>1)for(var P of p){var S=P*d;if(!(c[S+Gi]<=r)){c[S+Gi]=r;for(var V=0;V<d;V++)u.push(c[S+V])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r,s){if(e[r+Kn]>1){var i=this.clusterProps[e[r+kN]];return s?Object.assign({},i):i}var a=this.points[e[r+qn]].properties,o=this.options.map(a);return s&&o===a?Object.assign({},o):o}}function _2(t,e,r){return{type:"Feature",id:t[e+qn],properties:BN(t,e,r),geometry:{type:"Point",coordinates:[j$(t[e]),D$(t[e+1])]}}}function BN(t,e,r){var s=t[e+Kn],i=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,a=t[e+kN],o=a===-1?{}:Object.assign({},r[a]);return Object.assign(o,{cluster:!0,cluster_id:t[e+qn],point_count:s,point_count_abbreviated:i})}function md(t){return t/360+.5}function fd(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function j$(t){return(t-.5)*360}function D$(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function k$(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}class Mr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,r){this.isAdvancedMarker(e)?e.map=r:e.setMap(r)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Ep{constructor(e){var{markers:r,position:s}=e;this.markers=r,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)e.extend(Mr.getPosition(r));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Mr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Mr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class B${constructor(e){var{maxZoom:r=16}=e;this.maxZoom=r}noop(e){var{markers:r}=e;return _$(r)}}var _$=t=>{var e=t.map(r=>new Ep({position:Mr.getPosition(r),markers:[r]}));return e};class F$ extends B${constructor(e){var{maxZoom:r,radius:s=60}=e,i=k$(e,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new N$(Object.assign({maxZoom:this.maxZoom,radius:s},i))}calculate(e){var r=!1,s={zoom:e.map.getZoom()};if(!j2(e.markers,this.markers)){r=!0,this.markers=[...e.markers];var i=this.markers.map(a=>{var o=Mr.getPosition(a),l=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:a}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(r=!j2(this.state,s)),this.state=s,r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r}}cluster(e){var{map:r}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(s=>this.transformCluster(s))}transformCluster(e){var{geometry:{coordinates:[r,s]},properties:i}=e;if(i.cluster)return new Ep({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:s,lng:r}});var a=i.marker;return new Ep({markers:[a],position:Mr.getPosition(a)})}}class S${constructor(e,r){this.markers={sum:e.length};var s=r.map(a=>a.count),i=s.reduce((a,o)=>a+o,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...s),max:Math.max(...s)}}}}class T${render(e,r,s){var{count:i,position:a}=e,o=i>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),c="Cluster of ".concat(i," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+i;if(Mr.isAdvancedMarkerAvailable(s)){var d=new DOMParser,h=d.parseFromString(l,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var f={map:s,position:a,zIndex:u,title:c,content:h};return new google.maps.marker.AdvancedMarkerElement(f)}var m={position:a,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}function P$(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]}class xv{constructor(){P$(xv,google.maps.OverlayView)}}var cc;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(cc||(cc={}));var I$=(t,e,r)=>{r.fitBounds(e.bounds)};class R$ extends xv{constructor(e){var{map:r,markers:s=[],algorithmOptions:i={},algorithm:a=new F$(i),renderer:o=new T$,onClusterClick:l=I$}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=a,this.renderer=o,this.onClusterClick=l,r&&this.setMap(r)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(s=>{this.addMarker(s,!0)}),r||this.render()}removeMarker(e,r){var s=this.markers.indexOf(e);return s===-1?!1:(Mr.setMap(e,null),this.markers.splice(s,1),r||this.render(),!0)}removeMarkers(e,r){var s=!1;return e.forEach(i=>{s=this.removeMarker(i,!0)||s}),s&&!r&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,cc.CLUSTERING_BEGIN,this);var{clusters:r,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||s==null){var i=new Set;for(var a of r)a.markers.length==1&&i.add(a.markers[0]);var o=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?i.has(l.marker)||Mr.setMap(l.marker,null):o.push(l.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>o.forEach(c=>Mr.setMap(c,null)))}google.maps.event.trigger(this,cc.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Mr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new S$(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,r),s.markers.forEach(i=>Mr.setMap(i,null)),this.onClusterClick&&s.marker.addListener("click",i=>{google.maps.event.trigger(this,cc.CLUSTER_CLICK,s),this.onClusterClick(i,s,r)})),Mr.setMap(s.marker,r)})}}function F2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function S2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function L$(t){var e=RU(),[r,s]=g.useState(null);return g.useEffect(()=>{if(e&&r===null){var i=new R$(S2(S2({},t),{},{map:e}));s(i)}},[e]),r}function M$(t){var{children:e,options:r}=t,s=L$(r);return s!==null?e(s):null}g.memo(M$);var T2={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},P2={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function O$(t){var{children:e,anchor:r,options:s,position:i,zIndex:a,onCloseClick:o,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:f}=t,m=g.useContext(Ne),[p,N]=g.useState(null),[k,w]=g.useState(null),[j,C]=g.useState(null),[E,B]=g.useState(null),[_,b]=g.useState(null),[v,y]=g.useState(null),A=g.useRef(null);return g.useEffect(()=>{p!==null&&(p.close(),r?p.open(m,r):p.getPosition()&&p.open(m))},[m,p,r]),g.useEffect(()=>{s&&p!==null&&p.setOptions(s)},[p,s]),g.useEffect(()=>{i&&p!==null&&p.setPosition(i)},[i]),g.useEffect(()=>{typeof a=="number"&&p!==null&&p.setZIndex(a)},[a]),g.useEffect(()=>{p&&o&&(k!==null&&google.maps.event.removeListener(k),w(google.maps.event.addListener(p,"closeclick",o)))},[o]),g.useEffect(()=>{p&&l&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(p,"domready",l)))},[l]),g.useEffect(()=>{p&&c&&(E!==null&&google.maps.event.removeListener(E),B(google.maps.event.addListener(p,"content_changed",c)))},[c]),g.useEffect(()=>{p&&u&&(_!==null&&google.maps.event.removeListener(_),b(google.maps.event.addListener(p,"position_changed",u)))},[u]),g.useEffect(()=>{p&&d&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"zindex_changed",d)))},[d]),g.useEffect(()=>{var F=new google.maps.InfoWindow(s);return N(F),A.current=document.createElement("div"),o&&w(google.maps.event.addListener(F,"closeclick",o)),l&&C(google.maps.event.addListener(F,"domready",l)),c&&B(google.maps.event.addListener(F,"content_changed",c)),u&&b(google.maps.event.addListener(F,"position_changed",u)),d&&y(google.maps.event.addListener(F,"zindex_changed",d)),F.setContent(A.current),i&&F.setPosition(i),a&&F.setZIndex(a),r?F.open(m,r):F.getPosition()?F.open(m):Ot(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(F),()=>{k&&google.maps.event.removeListener(k),E&&google.maps.event.removeListener(E),j&&google.maps.event.removeListener(j),_&&google.maps.event.removeListener(_),v&&google.maps.event.removeListener(v),f&&f(F),F.close()}},[]),A.current?Da.createPortal(g.Children.only(e),A.current):null}g.memo(O$);class V$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"containerElement",null),Q(this,"state",{infoWindow:null}),Q(this,"open",(e,r)=>{r?e.open(this.context,r):e.getPosition()?e.open(this.context):Ot(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Q(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=_e({updaterMap:P2,eventMap:T2,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:P2,eventMap:T2,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Te(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Da.createPortal(g.Children.only(this.props.children),this.containerElement):null}}Q(V$,"contextType",Ne);function I2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function X0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var R2={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},L2={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},z$={};function U$(t){var{options:e,draggable:r,editable:s,visible:i,path:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:f,onMouseUp:m,onRightClick:p,onClick:N,onDrag:k,onLoad:w,onUnmount:j}=t,C=g.useContext(Ne),[E,B]=g.useState(null),[_,b]=g.useState(null),[v,y]=g.useState(null),[A,F]=g.useState(null),[P,S]=g.useState(null),[V,M]=g.useState(null),[H,I]=g.useState(null),[L,z]=g.useState(null),[O,U]=g.useState(null),[q,Y]=g.useState(null),[J,G]=g.useState(null),[ae,le]=g.useState(null);return g.useEffect(()=>{E!==null&&E.setMap(C)},[C]),g.useEffect(()=>{typeof e<"u"&&E!==null&&E.setOptions(e)},[E,e]),g.useEffect(()=>{typeof r<"u"&&E!==null&&E.setDraggable(r)},[E,r]),g.useEffect(()=>{typeof s<"u"&&E!==null&&E.setEditable(s)},[E,s]),g.useEffect(()=>{typeof i<"u"&&E!==null&&E.setVisible(i)},[E,i]),g.useEffect(()=>{typeof a<"u"&&E!==null&&E.setPath(a)},[E,a]),g.useEffect(()=>{E&&o&&(_!==null&&google.maps.event.removeListener(_),b(google.maps.event.addListener(E,"dblclick",o)))},[o]),g.useEffect(()=>{E&&l&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(E,"dragend",l)))},[l]),g.useEffect(()=>{E&&c&&(A!==null&&google.maps.event.removeListener(A),F(google.maps.event.addListener(E,"dragstart",c)))},[c]),g.useEffect(()=>{E&&u&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(E,"mousedown",u)))},[u]),g.useEffect(()=>{E&&d&&(V!==null&&google.maps.event.removeListener(V),M(google.maps.event.addListener(E,"mousemove",d)))},[d]),g.useEffect(()=>{E&&h&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener(E,"mouseout",h)))},[h]),g.useEffect(()=>{E&&f&&(L!==null&&google.maps.event.removeListener(L),z(google.maps.event.addListener(E,"mouseover",f)))},[f]),g.useEffect(()=>{E&&m&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(E,"mouseup",m)))},[m]),g.useEffect(()=>{E&&p&&(q!==null&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(E,"rightclick",p)))},[p]),g.useEffect(()=>{E&&N&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(E,"click",N)))},[N]),g.useEffect(()=>{E&&k&&(ae!==null&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(E,"drag",k)))},[k]),g.useEffect(()=>{var xe=new google.maps.Polyline(X0(X0({},e||z$),{},{map:C}));return a&&xe.setPath(a),typeof i<"u"&&xe.setVisible(i),typeof s<"u"&&xe.setEditable(s),typeof r<"u"&&xe.setDraggable(r),o&&b(google.maps.event.addListener(xe,"dblclick",o)),l&&y(google.maps.event.addListener(xe,"dragend",l)),c&&F(google.maps.event.addListener(xe,"dragstart",c)),u&&S(google.maps.event.addListener(xe,"mousedown",u)),d&&M(google.maps.event.addListener(xe,"mousemove",d)),h&&I(google.maps.event.addListener(xe,"mouseout",h)),f&&z(google.maps.event.addListener(xe,"mouseover",f)),m&&U(google.maps.event.addListener(xe,"mouseup",m)),p&&Y(google.maps.event.addListener(xe,"rightclick",p)),N&&G(google.maps.event.addListener(xe,"click",N)),k&&le(google.maps.event.addListener(xe,"drag",k)),B(xe),w&&w(xe),()=>{_!==null&&google.maps.event.removeListener(_),v!==null&&google.maps.event.removeListener(v),A!==null&&google.maps.event.removeListener(A),P!==null&&google.maps.event.removeListener(P),V!==null&&google.maps.event.removeListener(V),H!==null&&google.maps.event.removeListener(H),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),j&&j(xe),xe.setMap(null)}},[]),null}g.memo(U$);class $$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{polyline:null}),Q(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(X0(X0({},this.props.options),{},{map:this.context}));this.registeredEvents=_e({updaterMap:L2,eventMap:R2,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:L2,eventMap:R2,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Te(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Q($$,"contextType",Ne);function M2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function O2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var V2={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},z2={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function H$(t){var{options:e,draggable:r,editable:s,visible:i,path:a,paths:o,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:f,onMouseOver:m,onMouseUp:p,onRightClick:N,onClick:k,onDrag:w,onLoad:j,onUnmount:C,onEdit:E}=t,B=g.useContext(Ne),[_,b]=g.useState(null),[v,y]=g.useState(null),[A,F]=g.useState(null),[P,S]=g.useState(null),[V,M]=g.useState(null),[H,I]=g.useState(null),[L,z]=g.useState(null),[O,U]=g.useState(null),[q,Y]=g.useState(null),[J,G]=g.useState(null),[ae,le]=g.useState(null),[xe,Ae]=g.useState(null);return g.useEffect(()=>{_!==null&&_.setMap(B)},[B]),g.useEffect(()=>{typeof e<"u"&&_!==null&&_.setOptions(e)},[_,e]),g.useEffect(()=>{typeof r<"u"&&_!==null&&_.setDraggable(r)},[_,r]),g.useEffect(()=>{typeof s<"u"&&_!==null&&_.setEditable(s)},[_,s]),g.useEffect(()=>{typeof i<"u"&&_!==null&&_.setVisible(i)},[_,i]),g.useEffect(()=>{typeof a<"u"&&_!==null&&_.setPath(a)},[_,a]),g.useEffect(()=>{typeof o<"u"&&_!==null&&_.setPaths(o)},[_,o]),g.useEffect(()=>{_&&typeof l=="function"&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(_,"dblclick",l)))},[l]),g.useEffect(()=>{_&&(google.maps.event.addListener(_.getPath(),"insert_at",()=>{E==null||E(_)}),google.maps.event.addListener(_.getPath(),"set_at",()=>{E==null||E(_)}),google.maps.event.addListener(_.getPath(),"remove_at",()=>{E==null||E(_)}))},[_,E]),g.useEffect(()=>{_&&typeof c=="function"&&(A!==null&&google.maps.event.removeListener(A),F(google.maps.event.addListener(_,"dragend",c)))},[c]),g.useEffect(()=>{_&&typeof u=="function"&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(_,"dragstart",u)))},[u]),g.useEffect(()=>{_&&typeof d=="function"&&(V!==null&&google.maps.event.removeListener(V),M(google.maps.event.addListener(_,"mousedown",d)))},[d]),g.useEffect(()=>{_&&typeof h=="function"&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener(_,"mousemove",h)))},[h]),g.useEffect(()=>{_&&typeof f=="function"&&(L!==null&&google.maps.event.removeListener(L),z(google.maps.event.addListener(_,"mouseout",f)))},[f]),g.useEffect(()=>{_&&typeof m=="function"&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(_,"mouseover",m)))},[m]),g.useEffect(()=>{_&&typeof p=="function"&&(q!==null&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(_,"mouseup",p)))},[p]),g.useEffect(()=>{_&&typeof N=="function"&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(_,"rightclick",N)))},[N]),g.useEffect(()=>{_&&typeof k=="function"&&(ae!==null&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(_,"click",k)))},[k]),g.useEffect(()=>{_&&typeof w=="function"&&(xe!==null&&google.maps.event.removeListener(xe),Ae(google.maps.event.addListener(_,"drag",w)))},[w]),g.useEffect(()=>{var ue=new google.maps.Polygon(O2(O2({},e),{},{map:B}));return a&&ue.setPath(a),o&&ue.setPaths(o),typeof i<"u"&&ue.setVisible(i),typeof s<"u"&&ue.setEditable(s),typeof r<"u"&&ue.setDraggable(r),l&&y(google.maps.event.addListener(ue,"dblclick",l)),c&&F(google.maps.event.addListener(ue,"dragend",c)),u&&S(google.maps.event.addListener(ue,"dragstart",u)),d&&M(google.maps.event.addListener(ue,"mousedown",d)),h&&I(google.maps.event.addListener(ue,"mousemove",h)),f&&z(google.maps.event.addListener(ue,"mouseout",f)),m&&U(google.maps.event.addListener(ue,"mouseover",m)),p&&Y(google.maps.event.addListener(ue,"mouseup",p)),N&&G(google.maps.event.addListener(ue,"rightclick",N)),k&&le(google.maps.event.addListener(ue,"click",k)),w&&Ae(google.maps.event.addListener(ue,"drag",w)),b(ue),j&&j(ue),()=>{v!==null&&google.maps.event.removeListener(v),A!==null&&google.maps.event.removeListener(A),P!==null&&google.maps.event.removeListener(P),V!==null&&google.maps.event.removeListener(V),H!==null&&google.maps.event.removeListener(H),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),ae!==null&&google.maps.event.removeListener(ae),C&&C(ue),ue.setMap(null)}},[]),null}g.memo(H$);class K$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=_e({updaterMap:z2,eventMap:V2,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:z2,eventMap:V2,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Te(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Q(K$,"contextType",Ne);function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Z0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var $2={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},H2={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function G$(t){var{options:e,bounds:r,draggable:s,editable:i,visible:a,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:f,onMouseUp:m,onRightClick:p,onClick:N,onDrag:k,onBoundsChanged:w,onLoad:j,onUnmount:C}=t,E=g.useContext(Ne),[B,_]=g.useState(null),[b,v]=g.useState(null),[y,A]=g.useState(null),[F,P]=g.useState(null),[S,V]=g.useState(null),[M,H]=g.useState(null),[I,L]=g.useState(null),[z,O]=g.useState(null),[U,q]=g.useState(null),[Y,J]=g.useState(null),[G,ae]=g.useState(null),[le,xe]=g.useState(null),[Ae,ue]=g.useState(null);return g.useEffect(()=>{B!==null&&B.setMap(E)},[E]),g.useEffect(()=>{typeof e<"u"&&B!==null&&B.setOptions(e)},[B,e]),g.useEffect(()=>{typeof s<"u"&&B!==null&&B.setDraggable(s)},[B,s]),g.useEffect(()=>{typeof i<"u"&&B!==null&&B.setEditable(i)},[B,i]),g.useEffect(()=>{typeof a<"u"&&B!==null&&B.setVisible(a)},[B,a]),g.useEffect(()=>{typeof r<"u"&&B!==null&&B.setBounds(r)},[B,r]),g.useEffect(()=>{B&&o&&(b!==null&&google.maps.event.removeListener(b),v(google.maps.event.addListener(B,"dblclick",o)))},[o]),g.useEffect(()=>{B&&l&&(y!==null&&google.maps.event.removeListener(y),A(google.maps.event.addListener(B,"dragend",l)))},[l]),g.useEffect(()=>{B&&c&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(B,"dragstart",c)))},[c]),g.useEffect(()=>{B&&u&&(S!==null&&google.maps.event.removeListener(S),V(google.maps.event.addListener(B,"mousedown",u)))},[u]),g.useEffect(()=>{B&&d&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(B,"mousemove",d)))},[d]),g.useEffect(()=>{B&&h&&(I!==null&&google.maps.event.removeListener(I),L(google.maps.event.addListener(B,"mouseout",h)))},[h]),g.useEffect(()=>{B&&f&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(B,"mouseover",f)))},[f]),g.useEffect(()=>{B&&m&&(U!==null&&google.maps.event.removeListener(U),q(google.maps.event.addListener(B,"mouseup",m)))},[m]),g.useEffect(()=>{B&&p&&(Y!==null&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(B,"rightclick",p)))},[p]),g.useEffect(()=>{B&&N&&(G!==null&&google.maps.event.removeListener(G),ae(google.maps.event.addListener(B,"click",N)))},[N]),g.useEffect(()=>{B&&k&&(le!==null&&google.maps.event.removeListener(le),xe(google.maps.event.addListener(B,"drag",k)))},[k]),g.useEffect(()=>{B&&w&&(Ae!==null&&google.maps.event.removeListener(Ae),ue(google.maps.event.addListener(B,"bounds_changed",w)))},[w]),g.useEffect(()=>{var pe=new google.maps.Rectangle(Z0(Z0({},e),{},{map:E}));return typeof a<"u"&&pe.setVisible(a),typeof i<"u"&&pe.setEditable(i),typeof s<"u"&&pe.setDraggable(s),typeof r<"u"&&pe.setBounds(r),o&&v(google.maps.event.addListener(pe,"dblclick",o)),l&&A(google.maps.event.addListener(pe,"dragend",l)),c&&P(google.maps.event.addListener(pe,"dragstart",c)),u&&V(google.maps.event.addListener(pe,"mousedown",u)),d&&H(google.maps.event.addListener(pe,"mousemove",d)),h&&L(google.maps.event.addListener(pe,"mouseout",h)),f&&O(google.maps.event.addListener(pe,"mouseover",f)),m&&q(google.maps.event.addListener(pe,"mouseup",m)),p&&J(google.maps.event.addListener(pe,"rightclick",p)),N&&ae(google.maps.event.addListener(pe,"click",N)),k&&xe(google.maps.event.addListener(pe,"drag",k)),w&&ue(google.maps.event.addListener(pe,"bounds_changed",w)),_(pe),j&&j(pe),()=>{b!==null&&google.maps.event.removeListener(b),y!==null&&google.maps.event.removeListener(y),F!==null&&google.maps.event.removeListener(F),S!==null&&google.maps.event.removeListener(S),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),Y!==null&&google.maps.event.removeListener(Y),G!==null&&google.maps.event.removeListener(G),le!==null&&google.maps.event.removeListener(le),Ae!==null&&google.maps.event.removeListener(Ae),C&&C(pe),pe.setMap(null)}},[]),null}g.memo(G$);class W$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{rectangle:null}),Q(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Z0(Z0({},this.props.options),{},{map:this.context}));this.registeredEvents=_e({updaterMap:H2,eventMap:$2,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:H2,eventMap:$2,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Te(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Q(W$,"contextType",Ne);function K2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function J0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var G2={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},W2={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},q$={};function Y$(t){var{options:e,center:r,radius:s,draggable:i,editable:a,visible:o,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:f,onMouseOver:m,onMouseUp:p,onRightClick:N,onClick:k,onDrag:w,onCenterChanged:j,onRadiusChanged:C,onLoad:E,onUnmount:B}=t,_=g.useContext(Ne),[b,v]=g.useState(null),[y,A]=g.useState(null),[F,P]=g.useState(null),[S,V]=g.useState(null),[M,H]=g.useState(null),[I,L]=g.useState(null),[z,O]=g.useState(null),[U,q]=g.useState(null),[Y,J]=g.useState(null),[G,ae]=g.useState(null),[le,xe]=g.useState(null),[Ae,ue]=g.useState(null),[pe,Qe]=g.useState(null),[He,ot]=g.useState(null);return g.useEffect(()=>{b!==null&&b.setMap(_)},[_]),g.useEffect(()=>{typeof e<"u"&&b!==null&&b.setOptions(e)},[b,e]),g.useEffect(()=>{typeof i<"u"&&b!==null&&b.setDraggable(i)},[b,i]),g.useEffect(()=>{typeof a<"u"&&b!==null&&b.setEditable(a)},[b,a]),g.useEffect(()=>{typeof o<"u"&&b!==null&&b.setVisible(o)},[b,o]),g.useEffect(()=>{typeof s=="number"&&b!==null&&b.setRadius(s)},[b,s]),g.useEffect(()=>{typeof r<"u"&&b!==null&&b.setCenter(r)},[b,r]),g.useEffect(()=>{b&&l&&(y!==null&&google.maps.event.removeListener(y),A(google.maps.event.addListener(b,"dblclick",l)))},[l]),g.useEffect(()=>{b&&c&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(b,"dragend",c)))},[c]),g.useEffect(()=>{b&&u&&(S!==null&&google.maps.event.removeListener(S),V(google.maps.event.addListener(b,"dragstart",u)))},[u]),g.useEffect(()=>{b&&d&&(M!==null&&google.maps.event.removeListener(M),H(google.maps.event.addListener(b,"mousedown",d)))},[d]),g.useEffect(()=>{b&&h&&(I!==null&&google.maps.event.removeListener(I),L(google.maps.event.addListener(b,"mousemove",h)))},[h]),g.useEffect(()=>{b&&f&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(b,"mouseout",f)))},[f]),g.useEffect(()=>{b&&m&&(U!==null&&google.maps.event.removeListener(U),q(google.maps.event.addListener(b,"mouseover",m)))},[m]),g.useEffect(()=>{b&&p&&(Y!==null&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(b,"mouseup",p)))},[p]),g.useEffect(()=>{b&&N&&(G!==null&&google.maps.event.removeListener(G),ae(google.maps.event.addListener(b,"rightclick",N)))},[N]),g.useEffect(()=>{b&&k&&(le!==null&&google.maps.event.removeListener(le),xe(google.maps.event.addListener(b,"click",k)))},[k]),g.useEffect(()=>{b&&w&&(Ae!==null&&google.maps.event.removeListener(Ae),ue(google.maps.event.addListener(b,"drag",w)))},[w]),g.useEffect(()=>{b&&j&&(pe!==null&&google.maps.event.removeListener(pe),Qe(google.maps.event.addListener(b,"center_changed",j)))},[k]),g.useEffect(()=>{b&&C&&(He!==null&&google.maps.event.removeListener(He),ot(google.maps.event.addListener(b,"radius_changed",C)))},[C]),g.useEffect(()=>{var be=new google.maps.Circle(J0(J0({},e||q$),{},{map:_}));return typeof s=="number"&&be.setRadius(s),typeof r<"u"&&be.setCenter(r),typeof s=="number"&&be.setRadius(s),typeof o<"u"&&be.setVisible(o),typeof a<"u"&&be.setEditable(a),typeof i<"u"&&be.setDraggable(i),l&&A(google.maps.event.addListener(be,"dblclick",l)),c&&P(google.maps.event.addListener(be,"dragend",c)),u&&V(google.maps.event.addListener(be,"dragstart",u)),d&&H(google.maps.event.addListener(be,"mousedown",d)),h&&L(google.maps.event.addListener(be,"mousemove",h)),f&&O(google.maps.event.addListener(be,"mouseout",f)),m&&q(google.maps.event.addListener(be,"mouseover",m)),p&&J(google.maps.event.addListener(be,"mouseup",p)),N&&ae(google.maps.event.addListener(be,"rightclick",N)),k&&xe(google.maps.event.addListener(be,"click",k)),w&&ue(google.maps.event.addListener(be,"drag",w)),j&&Qe(google.maps.event.addListener(be,"center_changed",j)),C&&ot(google.maps.event.addListener(be,"radius_changed",C)),v(be),E&&E(be),()=>{y!==null&&google.maps.event.removeListener(y),F!==null&&google.maps.event.removeListener(F),S!==null&&google.maps.event.removeListener(S),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),Y!==null&&google.maps.event.removeListener(Y),G!==null&&google.maps.event.removeListener(G),le!==null&&google.maps.event.removeListener(le),pe!==null&&google.maps.event.removeListener(pe),He!==null&&google.maps.event.removeListener(He),B&&B(be),be.setMap(null)}},[]),null}g.memo(Y$);class Q$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{circle:null}),Q(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(J0(J0({},this.props.options),{},{map:this.context}));this.registeredEvents=_e({updaterMap:W2,eventMap:G2,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:W2,eventMap:G2,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Te(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Q(Q$,"contextType",Ne);function q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function ex(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var Y2={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Q2={add(t,e){t.add(e)},addgeojson(t,e,r){t.addGeoJson(e,r)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,r,s){t.loadGeoJson(e,r,s)},overridestyle(t,e,r){t.overrideStyle(e,r)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function X$(t){var{options:e,onClick:r,onDblClick:s,onMouseDown:i,onMouseMove:a,onMouseOut:o,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:d,onRemoveFeature:h,onRemoveProperty:f,onSetGeometry:m,onSetProperty:p,onLoad:N,onUnmount:k}=t,w=g.useContext(Ne),[j,C]=g.useState(null),[E,B]=g.useState(null),[_,b]=g.useState(null),[v,y]=g.useState(null),[A,F]=g.useState(null),[P,S]=g.useState(null),[V,M]=g.useState(null),[H,I]=g.useState(null),[L,z]=g.useState(null),[O,U]=g.useState(null),[q,Y]=g.useState(null),[J,G]=g.useState(null),[ae,le]=g.useState(null),[xe,Ae]=g.useState(null);return g.useEffect(()=>{j!==null&&j.setMap(w)},[w]),g.useEffect(()=>{j&&s&&(E!==null&&google.maps.event.removeListener(E),B(google.maps.event.addListener(j,"dblclick",s)))},[s]),g.useEffect(()=>{j&&i&&(_!==null&&google.maps.event.removeListener(_),b(google.maps.event.addListener(j,"mousedown",i)))},[i]),g.useEffect(()=>{j&&a&&(v!==null&&google.maps.event.removeListener(v),y(google.maps.event.addListener(j,"mousemove",a)))},[a]),g.useEffect(()=>{j&&o&&(A!==null&&google.maps.event.removeListener(A),F(google.maps.event.addListener(j,"mouseout",o)))},[o]),g.useEffect(()=>{j&&l&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(j,"mouseover",l)))},[l]),g.useEffect(()=>{j&&c&&(V!==null&&google.maps.event.removeListener(V),M(google.maps.event.addListener(j,"mouseup",c)))},[c]),g.useEffect(()=>{j&&u&&(H!==null&&google.maps.event.removeListener(H),I(google.maps.event.addListener(j,"rightclick",u)))},[u]),g.useEffect(()=>{j&&r&&(L!==null&&google.maps.event.removeListener(L),z(google.maps.event.addListener(j,"click",r)))},[r]),g.useEffect(()=>{j&&d&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(j,"addfeature",d)))},[d]),g.useEffect(()=>{j&&h&&(q!==null&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(j,"removefeature",h)))},[h]),g.useEffect(()=>{j&&f&&(J!==null&&google.maps.event.removeListener(J),G(google.maps.event.addListener(j,"removeproperty",f)))},[f]),g.useEffect(()=>{j&&m&&(ae!==null&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(j,"setgeometry",m)))},[m]),g.useEffect(()=>{j&&p&&(xe!==null&&google.maps.event.removeListener(xe),Ae(google.maps.event.addListener(j,"setproperty",p)))},[p]),g.useEffect(()=>{if(w!==null){var ue=new google.maps.Data(ex(ex({},e),{},{map:w}));s&&B(google.maps.event.addListener(ue,"dblclick",s)),i&&b(google.maps.event.addListener(ue,"mousedown",i)),a&&y(google.maps.event.addListener(ue,"mousemove",a)),o&&F(google.maps.event.addListener(ue,"mouseout",o)),l&&S(google.maps.event.addListener(ue,"mouseover",l)),c&&M(google.maps.event.addListener(ue,"mouseup",c)),u&&I(google.maps.event.addListener(ue,"rightclick",u)),r&&z(google.maps.event.addListener(ue,"click",r)),d&&U(google.maps.event.addListener(ue,"addfeature",d)),h&&Y(google.maps.event.addListener(ue,"removefeature",h)),f&&G(google.maps.event.addListener(ue,"removeproperty",f)),m&&le(google.maps.event.addListener(ue,"setgeometry",m)),p&&Ae(google.maps.event.addListener(ue,"setproperty",p)),C(ue),N&&N(ue)}return()=>{j&&(E!==null&&google.maps.event.removeListener(E),_!==null&&google.maps.event.removeListener(_),v!==null&&google.maps.event.removeListener(v),A!==null&&google.maps.event.removeListener(A),P!==null&&google.maps.event.removeListener(P),V!==null&&google.maps.event.removeListener(V),H!==null&&google.maps.event.removeListener(H),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),q!==null&&google.maps.event.removeListener(q),J!==null&&google.maps.event.removeListener(J),ae!==null&&google.maps.event.removeListener(ae),xe!==null&&google.maps.event.removeListener(xe),k&&k(j),j.setMap(null))}},[]),null}g.memo(X$);class Z$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{data:null}),Q(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(ex(ex({},this.props.options),{},{map:this.context}));this.registeredEvents=_e({updaterMap:Q2,eventMap:Y2,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:Q2,eventMap:Y2,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Te(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Q(Z$,"contextType",Ne);function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var J2={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ew={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class J$ extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{kmlLayer:null}),Q(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Z2(Z2({},this.props.options),{},{map:this.context}));this.registeredEvents=_e({updaterMap:ew,eventMap:J2,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:ew,eventMap:J2,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Te(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Q(J$,"contextType",Ne);function _N(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function eH(t,e){return new e(t.lat,t.lng)}function tH(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function rH(t,e,r){return t instanceof e?t:r(t,e)}function sH(t,e,r){return t instanceof e?t:r(t,e)}function nH(t,e,r){var s=t&&t.fromLatLngToDivPixel(r.getNorthEast()),i=t&&t.fromLatLngToDivPixel(r.getSouthWest());return s&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(s.y+e.y,"px"),width:"".concat(s.x-i.x-e.x,"px"),height:"".concat(i.y-s.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function iH(t,e,r){var s=t&&t.fromLatLngToDivPixel(r);if(s){var{x:i,y:a}=s;return{left:"".concat(i+e.x,"px"),top:"".concat(a+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function FN(t,e,r,s){return r!==void 0?nH(t,e,sH(r,google.maps.LatLngBounds,tH)):iH(t,e,rH(s,google.maps.LatLng,eH))}function aH(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function tw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function oH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tw(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function lH(t,e,r,s,i){class a extends google.maps.OverlayView{constructor(l,c,u,d){super(),this.container=l,this.pane=c,this.position=u,this.bounds=d}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=oH({},this.container?_N(this.container,i):{x:0,y:0}),u=FN(l,c,this.bounds,this.position);for(var[d,h]of Object.entries(u))this.container.style[d]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(t,e,r,s)}function rw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function cH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rw(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function sw(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function nw(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function uH(t){var{position:e,bounds:r,mapPaneName:s,zIndex:i,onLoad:a,onUnmount:o,getPixelPositionOffset:l,children:c}=t,u=g.useContext(Ne),d=g.useMemo(()=>{var f=document.createElement("div");return f.style.position="absolute",f},[]),h=g.useMemo(()=>lH(d,s,e,r,l),[d,s,e,r]);return g.useEffect(()=>(a==null||a(h),h==null||h.setMap(u),()=>{o==null||o(h),h==null||h.setMap(null)}),[u,h]),g.useEffect(()=>{d.style.zIndex="".concat(i)},[i,d]),Da.createPortal(c,d)}g.memo(uH);class nl extends g.PureComponent{constructor(e){super(e),Q(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Q(this,"updatePane",()=>{var s=this.props.mapPaneName,i=this.overlayView.getPanes();Ot(!!s,"OverlayView requires props.mapPaneName but got %s",s),i?this.setState({paneEl:i[s]}):this.setState({paneEl:null})}),Q(this,"onAdd",()=>{var s,i;this.updatePane(),(s=(i=this.props).onLoad)===null||s===void 0||s.call(i,this.overlayView)}),Q(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),i=cH({x:0,y:0},this.containerRef.current?_N(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=FN(s,i,this.props.bounds,this.props.position);if(!aH(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,l,c,u;this.setState({containerStyle:{top:(o=a.top)!==null&&o!==void 0?o:0,left:(l=a.left)!==null&&l!==void 0?l:0,width:(c=a.width)!==null&&c!==void 0?c:0,height:(u=a.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),Q(this,"draw",()=>{this.onPositionElement()}),Q(this,"onRemove",()=>{var s,i;this.setState(()=>({paneEl:null})),(s=(i=this.props).onUnmount)===null||s===void 0||s.call(i,this.overlayView)}),this.containerRef=g.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var r=sw(e.position),s=sw(this.props.position),i=nw(e.bounds),a=nw(this.props.bounds);(r!==s||i!==a)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Da.createPortal(n.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:g.Children.only(this.props.children)}),e):null}}Q(nl,"FLOAT_PANE","floatPane");Q(nl,"MAP_PANE","mapPane");Q(nl,"MARKER_LAYER","markerLayer");Q(nl,"OVERLAY_LAYER","overlayLayer");Q(nl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Q(nl,"contextType",Ne);function dH(){}function iw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function aw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var ow={onDblClick:"dblclick",onClick:"click"},lw={opacity(t,e){t.setOpacity(e)}};function xH(t){var{url:e,bounds:r,options:s,visible:i}=t,a=g.useContext(Ne),o=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=g.useMemo(()=>new google.maps.GroundOverlay(e,o,s),[]);return g.useEffect(()=>{l!==null&&l.setMap(a)},[a]),g.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(a))},[l,e]),g.useEffect(()=>{typeof i<"u"&&l!==null&&l.setOpacity(i?1:0)},[l,i]),g.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&l!==null&&(l.set("bounds",c),l.setMap(a))},[l,r]),null}g.memo(xH);class SN extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{groundOverlay:null}),Q(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ot(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,aw(aw({},this.props.options),{},{map:this.context}));this.registeredEvents=_e({updaterMap:lw,eventMap:ow,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:lw,eventMap:ow,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Q(SN,"defaultProps",{onLoad:dH});Q(SN,"contextType",Ne);function cw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function tx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(r),!0).forEach(function(s){Q(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var uw={},dw={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function hH(t){var{data:e,onLoad:r,onUnmount:s,options:i}=t,a=g.useContext(Ne),[o,l]=g.useState(null);return g.useEffect(()=>{google.maps.visualization||Ot(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),g.useEffect(()=>{Ot(!!e,"data property is required in HeatmapLayer %s",e)},[e]),g.useEffect(()=>{o!==null&&o.setMap(a)},[a]),g.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),g.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(tx(tx({},i),{},{data:e,map:a}));return l(c),r&&r(c),()=>{o!==null&&(s&&s(o),o.setMap(null))}},[]),null}g.memo(hH);class mH extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{heatmapLayer:null}),Q(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ot(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ot(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(tx(tx({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=_e({updaterMap:dw,eventMap:uw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:dw,eventMap:uw,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Te(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Q(mH,"contextType",Ne);var xw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},hw={register(t,e,r){t.registerPanoProvider(e,r)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class fH extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{streetViewPanorama:null}),Q(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,r,s=(e=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=_e({updaterMap:hw,eventMap:xw,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:hw,eventMap:xw,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Te(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Q(fH,"contextType",Ne);class pH extends g.PureComponent{constructor(){super(...arguments),Q(this,"state",{streetViewService:null}),Q(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Q(pH,"contextType",Ne);var mw={onDirectionsChanged:"directions_changed"},fw={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class gH extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"state",{directionsRenderer:null}),Q(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=_e({updaterMap:fw,eventMap:mw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:fw,eventMap:mw,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Te(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Q(gH,"contextType",Ne);var pw={onPlacesChanged:"places_changed"},gw={bounds(t,e){t.setBounds(e)}};class yH extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"containerElement",g.createRef()),Q(this,"state",{searchBox:null}),Q(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ot(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var r=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=_e({updaterMap:gw,eventMap:pw,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:gw,eventMap:pw,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Te(this.registeredEvents))}render(){return n.jsx("div",{ref:this.containerElement,children:g.Children.only(this.props.children)})}}Q(yH,"contextType",Ne);var yw={onPlaceChanged:"place_changed"},vw={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class rx extends g.PureComponent{constructor(){super(...arguments),Q(this,"registeredEvents",[]),Q(this,"containerElement",g.createRef()),Q(this,"state",{autocomplete:null}),Q(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Ot(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(r){var s=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=_e({updaterMap:vw,eventMap:yw,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){Te(this.registeredEvents),this.registeredEvents=_e({updaterMap:vw,eventMap:yw,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Te(this.registeredEvents)}render(){return n.jsx("div",{ref:this.containerElement,className:this.props.className,children:g.Children.only(this.props.children)})}}Q(rx,"defaultProps",{className:""});Q(rx,"contextType",Ne);const vH=["places"],EH=({onClose:t,onSubmit:e,vehicles:r=[]})=>{const[s,i]=g.useState({customerInfo:{firstName:"",lastName:"",phone:"",email:""},tripDetails:{date:"",time:"",pickupLocation:"",dropoffLocation:"Antalya Havalimanı",passengerCount:1,luggageCount:0,flightNumber:""},transferDirection:"to_airport",paymentMethod:"cash",selectedVehicle:"",totalPrice:0,calculatedDistance:0}),[a,o]=g.useState({}),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,p]=g.useState(null),{isLoaded:N}=AN({googleMapsApiKey:"AIzaSyDa66vbuMgm_L4wdOgPutliu_PLzI3xqEw",libraries:vH}),k=async(y,A,F)=>{if(!y||!A||!F||!window.google)return console.log("Fiyat hesaplama - eksik parametre:",{pickup:y,dropoff:A,vehicleId:F,google:!!window.google}),{price:0,distance:0};try{d(!0);const P=new window.google.maps.DistanceMatrixService;return new Promise(S=>{P.getDistanceMatrix({origins:[y],destinations:[A],travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC},(V,M)=>{if(M==="OK"&&V.rows[0].elements[0].status==="OK"){const H=V.rows[0].elements[0].distance.value/1e3,I=r.find(O=>O.id===F);console.log("Araç bulundu:",I),console.log("Mevcut tüm araçlar:",r);const L=I&&I.kmRate||3;console.log("Kullanılan km fiyatı (kmRate):",L);const z=Math.round(H*L);console.log("Hesaplanan fiyat:",{distance:H,pricePerKm:L,calculatedPrice:z}),S({price:z,distance:Math.round(H*100)/100})}else{console.log("Google Maps API hatası:",M);const H=r.find(L=>L.id===F);console.log("Hata durumunda araç:",H);const I=H&&H.kmRate*10||100;console.log("Hata durumunda fiyat:",I),S({price:I,distance:0})}d(!1)})})}catch(P){return console.error("Fiyat hesaplama hatası:",P),d(!1),{price:100,distance:0}}},w=async()=>{const{pickupLocation:y,dropoffLocation:A}=s.tripDetails,{selectedVehicle:F}=s;if(console.log("updatePrice çağrıldı:",{pickupLocation:y,dropoffLocation:A,selectedVehicle:F}),y&&A&&F){console.log("Fiyat hesaplanıyor...");const{price:P,distance:S}=await k(y,A,F);console.log("Hesaplanan fiyat ve mesafe:",{price:P,distance:S}),i(V=>({...V,totalPrice:P,calculatedDistance:S}))}else console.log("Fiyat hesaplanamadı - eksik veri:",{pickupLocation:!!y,dropoffLocation:!!A,selectedVehicle:!!F})},j=(y,A,F)=>{i(P=>({...P,[y]:{...P[y],[A]:F}})),a[`${y}.${A}`]&&o(P=>{const S={...P};return delete S[`${y}.${A}`],S})},C=y=>{f(y)},E=y=>{p(y)},B=()=>{if(h!==null){const y=h.getPlace();i(A=>({...A,tripDetails:{...A.tripDetails,pickupLocation:y.formatted_address}})),setTimeout(()=>w(),500)}},_=()=>{if(m!==null){const y=m.getPlace();i(A=>({...A,tripDetails:{...A.tripDetails,dropoffLocation:y.formatted_address}})),setTimeout(()=>w(),500)}},b=()=>{const y={};return s.customerInfo.firstName.trim()||(y["customerInfo.firstName"]="Ad zorunludur"),s.customerInfo.lastName.trim()||(y["customerInfo.lastName"]="Soyad zorunludur"),s.customerInfo.phone.trim()||(y["customerInfo.phone"]="Telefon zorunludur"),s.customerInfo.email.trim()||(y["customerInfo.email"]="E-posta zorunludur"),s.tripDetails.date||(y["tripDetails.date"]="Tarih zorunludur"),s.tripDetails.time||(y["tripDetails.time"]="Saat zorunludur"),s.tripDetails.pickupLocation.trim()||(y["tripDetails.pickupLocation"]="Kalkış noktası zorunludur"),s.tripDetails.dropoffLocation.trim()||(y["tripDetails.dropoffLocation"]="Varış noktası zorunludur"),s.selectedVehicle||(y.selectedVehicle="Araç seçimi zorunludur"),o(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!!b()){c(!0);try{if(s.totalPrice===0&&s.selectedVehicle){const{price:F}=await k(s.tripDetails.pickupLocation,s.tripDetails.dropoffLocation,s.selectedVehicle);s.totalPrice=F}const A={...s,totalPrice:s.totalPrice||100,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await e(A)}catch(A){console.error("Rezervasyon ekleme hatası:",A)}finally{c(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Hızlı Rezervasyon Ekle"}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:v,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ze,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Müşteri Bilgileri"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad *"}),n.jsx("input",{type:"text",value:s.customerInfo.firstName,onChange:y=>j("customerInfo","firstName",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["customerInfo.firstName"]?"border-red-500":"border-gray-300"}`,placeholder:"Müşteri adı"}),a["customerInfo.firstName"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["customerInfo.firstName"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad *"}),n.jsx("input",{type:"text",value:s.customerInfo.lastName,onChange:y=>j("customerInfo","lastName",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["customerInfo.lastName"]?"border-red-500":"border-gray-300"}`,placeholder:"Müşteri soyadı"}),a["customerInfo.lastName"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["customerInfo.lastName"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon *"}),n.jsx("input",{type:"tel",value:s.customerInfo.phone,onChange:y=>j("customerInfo","phone",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["customerInfo.phone"]?"border-red-500":"border-gray-300"}`,placeholder:"+90 555 123 45 67"}),a["customerInfo.phone"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["customerInfo.phone"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),n.jsx("input",{type:"email",value:s.customerInfo.email,onChange:y=>j("customerInfo","email",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["customerInfo.email"]?"border-red-500":"border-gray-300"}`,placeholder:"ornek@email.com"}),a["customerInfo.email"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["customerInfo.email"]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Seyahat Bilgileri"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih *"}),n.jsx("input",{type:"date",value:s.tripDetails.date,onChange:y=>j("tripDetails","date",y.target.value),min:new Date().toISOString().split("T")[0],className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["tripDetails.date"]?"border-red-500":"border-gray-300"}`}),a["tripDetails.date"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["tripDetails.date"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saat *"}),n.jsx("input",{type:"time",value:s.tripDetails.time,onChange:y=>j("tripDetails","time",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["tripDetails.time"]?"border-red-500":"border-gray-300"}`}),a["tripDetails.time"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["tripDetails.time"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Yönü *"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${s.transferDirection==="to_airport"?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[n.jsx("input",{type:"radio",name:"transferDirection",value:"to_airport",checked:s.transferDirection==="to_airport",onChange:y=>{i(A=>({...A,transferDirection:y.target.value,tripDetails:{...A.tripDetails,pickupLocation:"",dropoffLocation:"Antalya Havalimanı"}}))},className:"mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Otelden Havalimanına"})]}),n.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${s.transferDirection==="from_airport"?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[n.jsx("input",{type:"radio",name:"transferDirection",value:"from_airport",checked:s.transferDirection==="from_airport",onChange:y=>{i(A=>({...A,transferDirection:y.target.value,tripDetails:{...A.tripDetails,pickupLocation:"Antalya Havalimanı",dropoffLocation:""}}))},className:"mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Havalimanından Otele"})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.transferDirection==="to_airport"?"Kalkış Noktası (Otel)":"Varış Noktası (Otel)"," *"]}),N?n.jsxs("div",{className:"relative",children:[s.transferDirection==="to_airport"?n.jsx(rx,{onLoad:C,onPlaceChanged:B,bounds:{north:36.9081,south:36.8847,east:30.7133,west:30.6694},options:{componentRestrictions:{country:"tr"},fields:["formatted_address","name","geometry"],types:["establishment","geocode"]},children:n.jsx("input",{type:"text",value:s.tripDetails.pickupLocation,onChange:y=>j("tripDetails","pickupLocation",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["tripDetails.pickupLocation"]?"border-red-500":"border-gray-300"}`,placeholder:"Otel adı veya adresi yazın..."})}):n.jsx(rx,{onLoad:E,onPlaceChanged:_,bounds:{north:36.9081,south:36.8847,east:30.7133,west:30.6694},options:{componentRestrictions:{country:"tr"},fields:["formatted_address","name","geometry"],types:["establishment","geocode"]},children:n.jsx("input",{type:"text",value:s.tripDetails.dropoffLocation,onChange:y=>j("tripDetails","dropoffLocation",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["tripDetails.dropoffLocation"]?"border-red-500":"border-gray-300"}`,placeholder:"Otel adı veya adresi yazın..."})}),n.jsx(lt,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400"})]}):n.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",children:"Google Maps yükleniyor..."}),(a["tripDetails.pickupLocation"]||a["tripDetails.dropoffLocation"])&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["tripDetails.pickupLocation"]||a["tripDetails.dropoffLocation"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(De,{className:"w-4 h-4 text-blue-600"}),n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Araç Seçimi *"})]}),n.jsxs("select",{value:s.selectedVehicle,onChange:y=>{console.log("Araç seçildi:",y.target.value),i(A=>({...A,selectedVehicle:y.target.value})),setTimeout(()=>{console.log("Fiyat hesaplama başlatılıyor..."),w()},100)},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.selectedVehicle?"border-red-500":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:"Araç seçiniz..."}),r.map(y=>n.jsxs("option",{value:y.id,children:[y.brand," ",y.model," - ",y.plateNumber,y.kmRate&&` (${y.kmRate} TL/km)`]},y.id))]}),a.selectedVehicle&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.selectedVehicle})]}),s.totalPrice>0&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-700",children:"Hesaplanan Fiyat"}),n.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["₺",s.totalPrice]}),s.calculatedDistance>0&&n.jsxs("p",{className:"text-xs text-green-600",children:["Mesafe: ",s.calculatedDistance," km"]})]}),u&&n.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yolcu Sayısı"}),n.jsx("input",{type:"number",min:"1",max:"8",value:s.tripDetails.passengerCount,onChange:y=>j("tripDetails","passengerCount",parseInt(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bagaj Adedi"}),n.jsx("input",{type:"number",min:"0",max:"10",value:s.tripDetails.luggageCount,onChange:y=>j("tripDetails","luggageCount",parseInt(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uçuş No"}),n.jsx("input",{type:"text",value:s.tripDetails.flightNumber,onChange:y=>j("tripDetails","flightNumber",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"TK123 (opsiyonel)"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(pr,{className:"w-5 h-5 text-purple-600"}),n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Ödeme Yöntemi"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"cash",label:"Nakit",desc:"Araçta ödeme"},{value:"card",label:"Kredi Kartı",desc:"Online ödeme"},{value:"transfer",label:"Havale",desc:"Banka havalesi"}].map(y=>n.jsxs("label",{className:`flex flex-col p-3 border rounded-lg cursor-pointer transition-colors ${s.paymentMethod===y.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-gray-900",children:y.label}),n.jsx("input",{type:"radio",name:"paymentMethod",value:y.value,checked:s.paymentMethod===y.value,onChange:A=>i(F=>({...F,paymentMethod:A.target.value})),className:"text-blue-600"})]}),n.jsx("span",{className:"text-xs text-gray-500 mt-1",children:y.desc})]},y.value))})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),n.jsx("button",{type:"submit",disabled:l,className:"px-8 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Ekleniyor..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tt,{className:"w-4 h-4"}),"Rezervasyon Ekle"]})})]})]})]})})},bH=({reservation:t,onClose:e,onUpdate:r})=>{const[s,i]=g.useState({customerInfo:{firstName:"",lastName:"",phone:"",email:""},tripDetails:{date:"",time:"",pickupLocation:"",dropoffLocation:"",passengerCount:1,luggageCount:0,flightNumber:""},paymentMethod:"cash",totalPrice:0}),[a,o]=g.useState({}),[l,c]=g.useState(!1),u=["Lara Kundu Otelleri","Kaleici Otelleri","Belek Otelleri","Side Otelleri","Alanya Otelleri","Kemer Otelleri","Antalya Merkez","Kepez","Muratpaşa","Aksu"];g.useEffect(()=>{t&&i({customerInfo:t.customerInfo||{firstName:"",lastName:"",phone:"",email:""},tripDetails:t.tripDetails||{date:"",time:"",pickupLocation:"",dropoffLocation:"",passengerCount:1,luggageCount:0,flightNumber:""},paymentMethod:t.paymentMethod||"cash",totalPrice:t.totalPrice||0})},[t]);const d=(m,p,N)=>{i(k=>({...k,[m]:{...k[m],[p]:N}})),a[`${m}.${p}`]&&o(k=>{const w={...k};return delete w[`${m}.${p}`],w})},h=()=>{const m={};return s.customerInfo.firstName.trim()||(m["customerInfo.firstName"]="Ad zorunludur"),s.customerInfo.lastName.trim()||(m["customerInfo.lastName"]="Soyad zorunludur"),s.customerInfo.phone.trim()||(m["customerInfo.phone"]="Telefon zorunludur"),s.customerInfo.email.trim()||(m["customerInfo.email"]="E-posta zorunludur"),s.tripDetails.date||(m["tripDetails.date"]="Tarih zorunludur"),s.tripDetails.time||(m["tripDetails.time"]="Saat zorunludur"),s.tripDetails.pickupLocation.trim()||(m["tripDetails.pickupLocation"]="Kalkış noktası zorunludur"),s.tripDetails.dropoffLocation.trim()||(m["tripDetails.dropoffLocation"]="Varış noktası zorunludur"),o(m),Object.keys(m).length===0},f=async m=>{if(m.preventDefault(),!!h()){c(!0);try{const p={...t,...s,updatedAt:new Date().toISOString()};await r(p)}catch(p){console.error("Rezervasyon güncelleme hatası:",p),alert("Rezervasyon güncellenirken hata oluştu")}finally{c(!1)}}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(eh,{className:"w-5 h-5"}),"Rezervasyon Düzenle - ",t.reservationId]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:f,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Müşteri Bilgileri"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad *"}),n.jsx("input",{type:"text",value:s.customerInfo.firstName,onChange:m=>d("customerInfo","firstName",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["customerInfo.firstName"]?"border-red-500":"border-gray-300"}`}),a["customerInfo.firstName"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["customerInfo.firstName"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad *"}),n.jsx("input",{type:"text",value:s.customerInfo.lastName,onChange:m=>d("customerInfo","lastName",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["customerInfo.lastName"]?"border-red-500":"border-gray-300"}`}),a["customerInfo.lastName"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["customerInfo.lastName"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon *"}),n.jsx("input",{type:"tel",value:s.customerInfo.phone,onChange:m=>d("customerInfo","phone",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["customerInfo.phone"]?"border-red-500":"border-gray-300"}`}),a["customerInfo.phone"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["customerInfo.phone"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),n.jsx("input",{type:"email",value:s.customerInfo.email,onChange:m=>d("customerInfo","email",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["customerInfo.email"]?"border-red-500":"border-gray-300"}`}),a["customerInfo.email"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["customerInfo.email"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seyahat Bilgileri"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih *"}),n.jsx("input",{type:"date",value:s.tripDetails.date,onChange:m=>d("tripDetails","date",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["tripDetails.date"]?"border-red-500":"border-gray-300"}`}),a["tripDetails.date"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["tripDetails.date"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saat *"}),n.jsx("input",{type:"time",value:s.tripDetails.time,onChange:m=>d("tripDetails","time",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["tripDetails.time"]?"border-red-500":"border-gray-300"}`}),a["tripDetails.time"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["tripDetails.time"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kalkış Noktası *"}),n.jsxs("select",{value:s.tripDetails.pickupLocation,onChange:m=>d("tripDetails","pickupLocation",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["tripDetails.pickupLocation"]?"border-red-500":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:"Kalkış noktası seçin"}),n.jsx("option",{value:"Antalya Havalimanı",children:"Antalya Havalimanı"}),u.map(m=>n.jsx("option",{value:m,children:m},m))]}),a["tripDetails.pickupLocation"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["tripDetails.pickupLocation"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Varış Noktası *"}),n.jsxs("select",{value:s.tripDetails.dropoffLocation,onChange:m=>d("tripDetails","dropoffLocation",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a["tripDetails.dropoffLocation"]?"border-red-500":"border-gray-300"}`,children:[n.jsx("option",{value:"",children:"Varış noktası seçin"}),n.jsx("option",{value:"Antalya Havalimanı",children:"Antalya Havalimanı"}),u.map(m=>n.jsx("option",{value:m,children:m},m))]}),a["tripDetails.dropoffLocation"]&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:a["tripDetails.dropoffLocation"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yolcu"}),n.jsx("input",{type:"number",min:"1",max:"8",value:s.tripDetails.passengerCount,onChange:m=>d("tripDetails","passengerCount",parseInt(m.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bagaj"}),n.jsx("input",{type:"number",min:"0",max:"10",value:s.tripDetails.luggageCount,onChange:m=>d("tripDetails","luggageCount",parseInt(m.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fiyat (₺)"}),n.jsx("input",{type:"number",min:"0",value:s.totalPrice,onChange:m=>i(p=>({...p,totalPrice:parseInt(m.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uçuş Numarası"}),n.jsx("input",{type:"text",value:s.tripDetails.flightNumber,onChange:m=>d("tripDetails","flightNumber",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"TK123 (opsiyonel)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ödeme Yöntemi"}),n.jsxs("select",{value:s.paymentMethod,onChange:m=>i(p=>({...p,paymentMethod:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"cash",children:"Nakit"}),n.jsx("option",{value:"card",children:"Kredi Kartı"}),n.jsx("option",{value:"transfer",children:"Havale"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),n.jsx("button",{type:"submit",disabled:l,className:"px-8 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Güncelleniyor..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"w-4 h-4"}),"Güncelle"]})})]})]})]})}):null},wH=({status:t,type:e="reservation"})=>{const s=(()=>{if(e==="payment")switch(t){case"paid":return{color:"bg-green-100 text-green-800 border-green-200",icon:$e,label:"Ödendi"};case"pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Mt,label:"Bekleyen"};case"unpaid":return{color:"bg-red-100 text-red-800 border-red-200",icon:Hc,label:"Ödenmedi"};case"refunded":return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:zr,label:"İade Edildi"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:Ke,label:"Bilinmeyen"}}else switch(t){case"confirmed":return{color:"bg-green-100 text-green-800 border-green-200",icon:$e,label:"Onaylandı"};case"assigned":return{color:"bg-purple-100 text-purple-800 border-purple-200",icon:ze,label:"Şoför Atandı"};case"trip-started":return{color:"bg-orange-100 text-orange-800 border-orange-200",icon:Ke,label:"🚗 Yolculuk Başladı"};case"pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Mt,label:"Bekleyen"};case"cancelled":return{color:"bg-red-100 text-red-800 border-red-200",icon:Hc,label:"İptal Edildi"};case"completed":return{color:"bg-blue-100 text-blue-800 border-blue-200",icon:$e,label:"Tamamlandı"};case"in_progress":return{color:"bg-purple-100 text-purple-800 border-purple-200",icon:Ke,label:"Devam Ediyor"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:Ke,label:"Bilinmeyen"}}})(),i=s.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${s.color}`,children:[n.jsx(i,{className:"w-3 h-3 mr-1"}),s.label]})},CH=({reservations:t,drivers:e,vehicles:r,onEdit:s,onDriverAssign:i,onShowQR:a,onStatusChange:o,onCompleteReservation:l,onDeleteReservation:c})=>{const[u,d]=g.useState(new Set),h=w=>{d(j=>{const C=new Set(j);return C.has(w)?C.delete(w):C.add(w),C})},f=w=>{const j=e.find(C=>C.id===w);return j?`${j.firstName} ${j.lastName}`:"Atanmamış"},m=w=>{const j=r.find(C=>C.id===w);return j?`${j.brand} ${j.model}`:"Araç yok"},p=w=>w?typeof w=="string"?w:typeof w=="object"?w.address?String(w.address):w.name?String(w.name):w.formatted_address?String(w.formatted_address):w.description?String(w.description):"Lokasyon bilgisi mevcut":String(w):"Belirtilmemiş",N=w=>{var j,C,E,B,_,b,v,y;return{firstName:((j=w.customerInfo)==null?void 0:j.firstName)||((C=w.personalInfo)==null?void 0:C.firstName)||"",lastName:((E=w.customerInfo)==null?void 0:E.lastName)||((B=w.personalInfo)==null?void 0:B.lastName)||"",phone:((_=w.customerInfo)==null?void 0:_.phone)||((b=w.personalInfo)==null?void 0:b.phone)||"",email:((v=w.customerInfo)==null?void 0:v.email)||((y=w.personalInfo)==null?void 0:y.email)||""}},k=w=>{var j,C,E,B,_,b,v,y;return{date:((j=w.tripDetails)==null?void 0:j.date)||w.date,time:((C=w.tripDetails)==null?void 0:C.time)||w.time,pickupLocation:p(((E=w.tripDetails)==null?void 0:E.pickupLocation)||w.pickupLocation),dropoffLocation:p(((B=w.tripDetails)==null?void 0:B.dropoffLocation)||w.dropoffLocation),passengerCount:((_=w.tripDetails)==null?void 0:_.passengerCount)||w.passengerCount||1,luggageCount:((b=w.tripDetails)==null?void 0:b.luggageCount)||w.baggageCount||0,flightNumber:((v=w.tripDetails)==null?void 0:v.flightNumber)||((y=w.personalInfo)==null?void 0:y.flightNumber)||""}};return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rezervasyon"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Müşteri"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih & Saat"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rota"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Şoför"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detay"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(w=>n.jsxs(Ko.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex items-center",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.reservationId})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ze,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[N(w).firstName," ",N(w).lastName]}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx(kt,{className:"w-3 h-3 mr-1"}),N(w).phone]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(tt,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{children:k(w).date}),n.jsx("div",{className:"text-gray-500",children:k(w).time})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(lt,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{className:"max-w-xs truncate",children:[n.jsx("div",{className:"truncate",children:k(w).pickupLocation}),n.jsxs("div",{className:"text-gray-500 truncate",children:["↓ ",k(w).dropoffLocation]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(wH,{status:w.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(De,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-900",children:f(w.assignedDriver)}),n.jsx("div",{className:"text-gray-500",children:m(w.assignedVehicle)})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("button",{onClick:()=>h(w.id),className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:u.has(w.id)?n.jsxs(n.Fragment,{children:[n.jsx(ua,{className:"w-4 h-4 mr-1"}),n.jsx(_r,{className:"w-4 h-4"})]}):n.jsxs(n.Fragment,{children:[n.jsx(ws,{className:"w-4 h-4 mr-1"}),n.jsx(xp,{className:"w-4 h-4"})]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>s(w),className:"text-blue-600 hover:text-blue-800",title:"Düzenle",children:n.jsx(eh,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>i(w),className:"text-purple-600 hover:text-purple-800",title:"Şoför Ata",children:n.jsx(ze,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>a(w),className:"text-green-600 hover:text-green-800",title:"QR Kod",children:n.jsx(H0,{className:"w-4 h-4"})}),w.status!=="completed"&&(w.assignedDriver||w.assignedDriverId||w.driverId)&&n.jsx("button",{onClick:()=>l(w.id),className:"text-emerald-600 hover:text-emerald-800",title:"Rezervasyonu Tamamla & Cari Güncelle",children:n.jsx($e,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>c(w.id),className:"text-red-600 hover:text-red-800",title:"Rezervasyonu Sil",children:n.jsx(rl,{className:"w-4 h-4"})})]})})]}),u.has(w.id)&&n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-4 bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Müşteri Bilgileri"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ze,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{children:[N(w).firstName," ",N(w).lastName]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kt,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:N(w).phone})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-400",children:"@"}),n.jsx("span",{children:N(w).email})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Seyahat Detayları"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{children:[k(w).date," - ",k(w).time]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ze,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{children:[k(w).passengerCount," Yolcu"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-400",children:"✈️"}),n.jsx("span",{children:k(w).flightNumber||"Uçuş no yok"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-400",children:"🧳"}),n.jsxs("span",{children:[k(w).luggageCount," Bagaj"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Ödeme & Durum"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pr,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"capitalize",children:w.paymentMethod})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-400",children:"💰"}),n.jsxs("span",{className:"font-medium",children:[w.totalPrice," TL"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-400",children:"📅"}),n.jsx("span",{children:new Date(w.createdAt).toLocaleDateString("tr-TR")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-gray-400",children:"🔄"}),n.jsx("span",{children:w.updatedAt?new Date(w.updatedAt).toLocaleDateString("tr-TR"):"Güncellenmemiş"})]})]})]})]})})})]},w.id))})]})}),t.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(tt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Henüz rezervasyon bulunmuyor"})]})]})},AH=({onFilterChange:t,reservations:e})=>{const[r,s]=g.useState({search:"",status:"all",dateRange:"all",assignedDriver:"all",paymentMethod:"all"}),[i,a]=g.useState(!1),o=(d,h)=>{const f={...r,[d]:h};s(f),t(f)},l=()=>{const d={search:"",status:"all",dateRange:"all",assignedDriver:"all",paymentMethod:"all"};s(d),t(d)},u={all:e.length,pending:e.filter(h=>h.status==="pending").length,confirmed:e.filter(h=>h.status==="confirmed").length,assigned:e.filter(h=>h.status==="assigned").length,in_progress:e.filter(h=>h.status==="in_progress").length,completed:e.filter(h=>h.status==="completed").length,cancelled:e.filter(h=>h.status==="cancelled").length};return n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[n.jsx("div",{className:"flex-1 min-w-64",children:n.jsxs("div",{className:"relative",children:[n.jsx(Li,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Rezervasyon ID, müşteri adı, telefon...",value:r.search,onChange:d=>o("search",d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:r.status,onChange:d=>o("status",d.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsxs("option",{value:"all",children:["Tüm Durumlar (",u.all,")"]}),n.jsxs("option",{value:"pending",children:["Beklemede (",u.pending,")"]}),n.jsxs("option",{value:"confirmed",children:["Onaylandı (",u.confirmed,")"]}),n.jsxs("option",{value:"assigned",children:["Atandı (",u.assigned,")"]}),n.jsxs("option",{value:"in_progress",children:["Devam Ediyor (",u.in_progress,")"]}),n.jsxs("option",{value:"completed",children:["Tamamlandı (",u.completed,")"]}),n.jsxs("option",{value:"cancelled",children:["İptal (",u.cancelled,")"]})]}),n.jsx(_r,{className:"absolute right-2 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:r.dateRange,onChange:d=>o("dateRange",d.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"Tüm Tarihler"}),n.jsx("option",{value:"today",children:"Bugün"}),n.jsx("option",{value:"tomorrow",children:"Yarın"}),n.jsx("option",{value:"this_week",children:"Bu Hafta"}),n.jsx("option",{value:"this_month",children:"Bu Ay"}),n.jsx("option",{value:"next_month",children:"Gelecek Ay"})]}),n.jsx(_r,{className:"absolute right-2 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]}),n.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(q4,{className:"w-4 h-4"}),"Gelişmiş Filtreler",n.jsx(_r,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),(r.search||r.status!=="all"||r.dateRange!=="all"||r.assignedDriver!=="all"||r.paymentMethod!=="all")&&n.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:[n.jsx(We,{className:"w-4 h-4"}),"Temizle"]})]}),i&&n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şoför Durumu"}),n.jsxs("select",{value:r.assignedDriver,onChange:d=>o("assignedDriver",d.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"Tüm Rezervasyonlar"}),n.jsx("option",{value:"assigned",children:"Şoför Atanmış"}),n.jsx("option",{value:"unassigned",children:"Şoför Atanmamış"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ödeme Yöntemi"}),n.jsxs("select",{value:r.paymentMethod,onChange:d=>o("paymentMethod",d.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"Tüm Yöntemler"}),n.jsx("option",{value:"cash",children:"Nakit"}),n.jsx("option",{value:"card",children:"Kredi Kartı"}),n.jsx("option",{value:"transfer",children:"Banka Transferi"}),n.jsx("option",{value:"online",children:"Online Ödeme"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yolcu Sayısı"}),n.jsxs("select",{value:r.passengerCount||"all",onChange:d=>o("passengerCount",d.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"Tüm Yolcu Sayıları"}),n.jsx("option",{value:"1",children:"1 Kişi"}),n.jsx("option",{value:"2",children:"2 Kişi"}),n.jsx("option",{value:"3",children:"3 Kişi"}),n.jsx("option",{value:"4",children:"4 Kişi"}),n.jsx("option",{value:"5+",children:"5+ Kişi"})]})]})]})}),Object.entries(r).some(([d,h])=>d!=="search"&&h!=="all"&&h!=="")&&n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("span",{children:"Aktif filtreler:"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.status!=="all"&&n.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:["Durum: ",r.status]}),r.dateRange!=="all"&&n.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full",children:["Tarih: ",r.dateRange]}),r.assignedDriver!=="all"&&n.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:["Şoför: ",r.assignedDriver]}),r.paymentMethod!=="all"&&n.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full",children:["Ödeme: ",r.paymentMethod]})]})]})})]})},NH=({reservation:t,drivers:e,vehicles:r,onClose:s,onAssign:i})=>{var m,p,N,k,w,j,C;const[a,o]=g.useState(""),[l,c]=g.useState(!1),u=E=>E?typeof E=="string"?E:typeof E=="object"?E.address?String(E.address):E.name?String(E.name):E.formatted_address?String(E.formatted_address):E.description?String(E.description):"Lokasyon bilgisi mevcut":String(E):"Belirtilmemiş",d=e.filter(E=>E.status==="active"),h=E=>{o(E)},f=async E=>{if(E.preventDefault(),!a){alert("Lütfen şoför seçin");return}c(!0);try{const B=e.find(b=>b.id===a),_=(B==null?void 0:B.assignedVehicle)||null;await i(t.id,a,_)}catch(B){console.error("Şoför atama hatası:",B),alert("Şoför atama sırasında bir hata oluştu")}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Şoför Atama"}),n.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:t.reservationId}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Müşteri:"})," ",(m=t.customerInfo)==null?void 0:m.firstName," ",(p=t.customerInfo)==null?void 0:p.lastName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Tarih:"})," ",(N=t.tripDetails)==null?void 0:N.date," - ",(k=t.tripDetails)==null?void 0:k.time]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Rota:"})," ",u((w=t.tripDetails)==null?void 0:w.pickupLocation)," → ",u((j=t.tripDetails)==null?void 0:j.dropoffLocation)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Yolcu:"})," ",(C=t.tripDetails)==null?void 0:C.passengerCount," kişi"]})]})]}),n.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Şoför Seçin *"}),d.length===0?n.jsxs("div",{className:"text-center py-4 text-gray-500",children:[n.jsx(ze,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{children:"Aktif şoför bulunamadı"})]}):n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:d.map(E=>{var B;return r.find(_=>_.id===E.assignedVehicle),n.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${a===E.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[n.jsx("input",{type:"radio",name:"driver",value:E.id,checked:a===E.id,onChange:()=>h(E.id),className:"sr-only"}),n.jsxs("div",{children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:E.firstName&&E.lastName?`${E.firstName} ${E.lastName}`:E.name||E.email||"İsimsiz Şoför"}),n.jsx("p",{className:"text-sm text-gray-600",children:E.phone||"Telefon belirtilmemiş"}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Ehliyet: ",E.licenseNumber||"Belirtilmemiş"]}),E.assignedVehicle&&n.jsxs("p",{className:"text-xs text-green-600",children:["✓ Atanmış araç: ",((B=r.find(_=>_.id===E.assignedVehicle))==null?void 0:B.plateNumber)||"Araç bilgisi bulunamadı"]}),!E.assignedVehicle&&n.jsx("p",{className:"text-xs text-orange-600",children:"⚠ Atanmış araç yok"})]}),a===E.id&&n.jsx(G4,{className:"w-5 h-5 text-blue-600"})]})]},E.id)})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),n.jsx("button",{type:"submit",disabled:l||!a||d.length===0,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Atanıyor..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4"}),"Şoför Ata"]})})]})]})]})})},jH=({reservation:t,onClose:e})=>{var o,l,c,u,d,h,f;const r=g.useRef(null),s=m=>m?typeof m=="string"?m:typeof m=="object"?m.address?String(m.address):m.name?String(m.name):m.formatted_address?String(m.formatted_address):m.description?String(m.description):"Lokasyon bilgisi mevcut":String(m):"Belirtilmemiş";Ko.useEffect(()=>{if(t&&r.current){const m=t.reservationId||t.id;console.log("QR Modal: QR kod verisi:",m),console.log("QR Modal: Rezervasyon bilgileri:",t),sl.toCanvas(r.current,m,{width:200,margin:2,color:{dark:"#000000",light:"#ffffff"}})}},[t]);const i=()=>{if(r.current){const m=document.createElement("a");m.download=`QR-${t.reservationId}.png`,m.href=r.current.toDataURL(),m.click()}},a=async()=>{if(r.current&&navigator.share)try{r.current.toBlob(async p=>{var k,w;const N=new File([p],`QR-${t.reservationId}.png`,{type:"image/png"});await navigator.share({files:[N],title:`QR Kod - ${t.reservationId}`,text:`${(k=t.customerInfo)==null?void 0:k.firstName} ${(w=t.customerInfo)==null?void 0:w.lastName} rezervasyon QR kodu`})})}catch(m){console.error("Paylaşım hatası:",m)}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(H0,{className:"w-5 h-5"}),"QR Kod"]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 text-center",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:t.reservationId}),n.jsxs("p",{className:"text-sm text-gray-600",children:[(o=t.customerInfo)==null?void 0:o.firstName," ",(l=t.customerInfo)==null?void 0:l.lastName]})]}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"p-4 bg-white border-2 border-gray-200 rounded-lg",children:n.jsx("canvas",{ref:r,className:"block"})})}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tarih:"}),n.jsxs("span",{className:"font-medium",children:[(c=t.tripDetails)==null?void 0:c.date," ",(u=t.tripDetails)==null?void 0:u.time]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Kalkış:"}),n.jsx("span",{className:"font-medium",children:s((d=t.tripDetails)==null?void 0:d.pickupLocation)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Varış:"}),n.jsx("span",{className:"font-medium",children:s((h=t.tripDetails)==null?void 0:h.dropoffLocation)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Yolcu:"}),n.jsxs("span",{className:"font-medium",children:[(f=t.tripDetails)==null?void 0:f.passengerCount," kişi"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tutar:"}),n.jsxs("span",{className:"font-medium text-green-600",children:["₺",t.totalPrice]})]})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[n.jsx(U0,{className:"w-4 h-4"}),"İndir"]}),navigator.share&&n.jsxs("button",{onClick:a,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[n.jsx(ez,{className:"w-4 h-4"}),"Paylaş"]})]})]})]})}):null},DH=()=>{const[t,e]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(!0),[d,h]=g.useState(null),[f,m]=g.useState(!1),[p,N]=g.useState(!1),[k,w]=g.useState(!1),[j,C]=g.useState(!1);g.useEffect(()=>{console.log("Rezervasyon index: Firebase listeners başlatılıyor..."),u(!0);const A=Hr(Ie(ie,"reservations"),M=>{console.log("🔄 Admin Panel: Rezervasyonlar güncellendi, döküman sayısı:",M.docs.length);const H=M.docs.map(I=>{const L=I.data();return console.log(`📋 Rezervasyon ${I.id}:`,{id:I.id,status:L.status,reservationId:L.reservationId,assignedDriver:L.assignedDriver,assignedDriverId:L.assignedDriverId}),{id:I.id,...L,reservationId:L.reservationId||`SBS-${I.id.slice(-6)}`,customerInfo:L.customerInfo||{firstName:"Belirtilmemiş",lastName:"",phone:"",email:""},tripDetails:L.tripDetails||{date:"",time:"",pickupLocation:"",dropoffLocation:"",passengerCount:1,luggageCount:0},status:L.status||"pending",paymentMethod:L.paymentMethod||"cash",totalPrice:L.totalPrice||0,createdAt:L.createdAt||new Date().toISOString()}});console.log("✅ Admin Panel: İşlenmiş rezervasyonlar:",H.map(I=>{var L,z;return{id:I.id,reservationId:I.reservationId,status:I.status,customer:`${(L=I.customerInfo)==null?void 0:L.firstName} ${(z=I.customerInfo)==null?void 0:z.lastName}`}})),e(H),u(!1)},M=>{console.error("Rezervasyonlar yüklenirken hata:",M),e([]),u(!1)}),F=hr(Ie(ie,"users"),Ar("role","==",It.DRIVER)),P=Hr(F,M=>{console.log("Rezervasyon index: Şoförler güncellendi, döküman sayısı:",M.docs.length);const H=M.docs.map(I=>({id:I.id,...I.data(),firstName:I.data().firstName||"",lastName:I.data().lastName||"",name:I.data().firstName&&I.data().lastName?`${I.data().firstName} ${I.data().lastName}`:I.data().name||I.data().email,phone:I.data().phone||"",licenseNumber:I.data().licenseNumber||"Belirtilmemiş",assignedVehicle:I.data().assignedVehicle||null,vehicle:I.data().assignedVehicle||"Atanmamış",status:I.data().isActive!==!1?"active":"inactive"}));console.log("Firebase şoförleri işlendi:",H),a(H)},M=>{console.error("Şoförler yüklenirken hata:",M),a([])}),S=hr(Ie(ie,"vehicles"),Ar("status","==","active")),V=Hr(S,M=>{console.log("Aktif araçlar güncellendi, döküman sayısı:",M.docs.length);const H=M.docs.map(I=>({id:I.id,...I.data()}));console.log("Aktif araç verileri:",H),l(H)},M=>{console.error("Araçlar yüklenirken hata:",M),l([])});return()=>{A(),P(),V()}},[]);const E=A=>{let F=[...t];if(A.search){const P=A.search.toLowerCase();F=F.filter(S=>{var L,z,O,U,q,Y,J,G,ae;const V=((L=S.customerInfo)==null?void 0:L.firstName)||((z=S.personalInfo)==null?void 0:z.firstName)||"",M=((O=S.customerInfo)==null?void 0:O.lastName)||((U=S.personalInfo)==null?void 0:U.lastName)||"",H=((q=S.customerInfo)==null?void 0:q.phone)||((Y=S.personalInfo)==null?void 0:Y.phone)||"",I=((J=S.customerInfo)==null?void 0:J.email)||((G=S.personalInfo)==null?void 0:G.email)||"";return((ae=S.reservationId)==null?void 0:ae.toLowerCase().includes(P))||V.toLowerCase().includes(P)||M.toLowerCase().includes(P)||H.includes(P)||I.toLowerCase().includes(P)})}if(A.status!=="all"&&(F=F.filter(P=>P.status===A.status)),A.dateRange!=="all"){const P=new Date,S=new Date(P);S.setDate(S.getDate()+1),F=F.filter(V=>{var H;const M=new Date(((H=V.tripDetails)==null?void 0:H.date)||V.date);switch(A.dateRange){case"today":return M.toDateString()===P.toDateString();case"tomorrow":return M.toDateString()===S.toDateString();case"this_week":const I=new Date(P);I.setDate(P.getDate()-P.getDay());const L=new Date(I);return L.setDate(I.getDate()+6),M>=I&&M<=L;case"this_month":return M.getMonth()===P.getMonth()&&M.getFullYear()===P.getFullYear();case"next_month":const z=new Date(P);return z.setMonth(P.getMonth()+1),M.getMonth()===z.getMonth()&&M.getFullYear()===z.getFullYear();default:return!0}})}A.assignedDriver!=="all"&&(A.assignedDriver==="assigned"?F=F.filter(P=>P.assignedDriver):A.assignedDriver==="unassigned"&&(F=F.filter(P=>!P.assignedDriver))),A.paymentMethod!=="all"&&(F=F.filter(P=>P.paymentMethod===A.paymentMethod)),A.passengerCount!=="all"&&(A.passengerCount==="5+"?F=F.filter(P=>{var S;return((S=P.tripDetails)==null?void 0:S.passengerCount)>=5}):F=F.filter(P=>{var S;return((S=P.tripDetails)==null?void 0:S.passengerCount)===parseInt(A.passengerCount)})),s(F)};g.useEffect(()=>{s(t)},[t]);const B=async A=>{try{const F={...A,reservationId:`SBS-${Date.now()}`,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},P=await Ai(Ie(ie,"reservations"),F);m(!1),oe.success("Rezervasyon başarıyla eklendi!"),console.log("Yeni rezervasyon eklendi:",P.id)}catch(F){console.error("Rezervasyon eklenirken hata:",F),oe.error("Rezervasyon eklenirken bir hata oluştu: "+F.message)}},_=async(A,F,P)=>{try{console.log("🔍 Şoför atama başlatılıyor:",{reservationId:A,driverId:F,vehicleId:P});const S=t.find(H=>H.id===A);if(!S){console.error("❌ Rezervasyon bulunamadı:",A),console.log("📋 Mevcut rezervasyonlar:",t.map(H=>({id:H.id,reservationId:H.reservationId}))),oe.error("Rezervasyon bulunamadı");return}console.log("✅ Güncellenecek rezervasyon bulundu:",{id:S.id,reservationId:S.reservationId,currentStatus:S.status,currentAssignedDriver:S.assignedDriver,currentAssignedDriverId:S.assignedDriverId});const V={assignedDriver:F,assignedDriverId:F,assignedVehicle:P,status:"assigned",updatedAt:new Date().toISOString()},M=Object.keys(V).reduce((H,I)=>(V[I]!==void 0&&V[I]!==null&&(H[I]=V[I]),H),{});console.log("🔄 Firebase güncellenecek veri:",M),console.log("📍 Güncelleme yapılacak doküman ID:",A),await Kt(je(ie,"reservations",A),M),console.log("✅ Firebase rezervasyon başarıyla güncellendi!"),N(!1),h(null),oe.success("Şoför başarıyla atandı!")}catch(S){console.error("Şoför atama hatası:",S),oe.error("Şoför atama sırasında bir hata oluştu: "+S.message)}},b=async(A,F)=>{try{if(!t.find(S=>S.id===A)){console.error("Rezervasyon bulunamadı:",A),oe.error("Rezervasyon bulunamadı");return}await Kt(je(ie,"reservations",A),{...F,updatedAt:new Date().toISOString()}),w(!1),h(null),oe.success("Rezervasyon başarıyla güncellendi!")}catch(P){console.error("Rezervasyon güncelleme hatası:",P),oe.error("Rezervasyon güncellenirken bir hata oluştu: "+P.message)}},v=async A=>{try{const F=t.find(M=>M.id===A);if(!F){oe.error("Rezervasyon bulunamadı");return}if(F.status==="completed"){oe.error("Bu rezervasyon zaten tamamlanmış");return}const P=F.assignedDriver||F.assignedDriverId||F.driverId;if(!P){oe.error("Rezervasyona şoför atanmamış");return}console.log("Rezervasyon tamamlanacak:",{reservation:F,driverId:P});const S=await FU(A,"admin-user"),V=F.paymentMethod==="cash"?"Şoför komisyon borcu eklendi":"Şoför alacağı eklendi";oe.success(`Rezervasyon tamamlandı! ${V}`)}catch(F){console.error("Rezervasyon tamamlama hatası:",F),oe.error("Rezervasyon tamamlanırken hata oluştu: "+F.message)}},y=async A=>{if(window.confirm("Bu rezervasyonu silmek istediğinizden emin misiniz?"))try{await pu(je(ie,"reservations",A)),oe.success("Rezervasyon başarıyla silindi!")}catch(F){console.error("Rezervasyon silme hatası:",F),oe.error("Rezervasyon silinirken bir hata oluştu: "+F.message)}};return c?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Jx,{className:"w-8 h-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Rezervasyonlar yükleniyor..."})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezervasyon Yönetimi"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Toplam ",t.length," rezervasyon • Filtrelenmiş ",r.length," rezervasyon"]})]}),n.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(qr,{className:"w-4 h-4"}),"Hızlı Rezervasyon Ekle"]})]})}),n.jsx(AH,{onFilterChange:E,reservations:t}),n.jsx(CH,{reservations:r,drivers:i,vehicles:o,onEdit:A=>{h(A),w(!0)},onDriverAssign:A=>{h(A),N(!0)},onShowQR:A=>{h(A),C(!0)},onStatusChange:(A,F)=>{console.log("Durum değişikliği:",A,F)},onCompleteReservation:v,onDeleteReservation:y}),f&&n.jsx(EH,{onClose:()=>m(!1),onSubmit:B,vehicles:o}),k&&d&&n.jsx(bH,{reservation:d,onClose:()=>{w(!1),h(null)},onUpdate:b}),p&&d&&n.jsx(NH,{reservation:d,drivers:i,vehicles:o,onClose:()=>{N(!1),h(null)},onAssign:_}),j&&d&&n.jsx(jH,{reservation:d,onClose:()=>{C(!1),h(null)}})]})},kH=()=>n.jsx(DH,{}),BH=()=>{const[t,e]=g.useState({totalRevenue:0,pendingPayments:0,driverDebts:0,completedTrips:0,monthlyGrowth:0}),[r,s]=g.useState([]),[i,a]=g.useState(!0);g.useEffect(()=>{o()},[]);const o=async()=>{try{a(!0);const c=hr(Ie(ie,"reservations"),Ar("status","==","completed"),zx("createdAt","desc")),d=(await Pr(c)).docs.map(C=>({id:C.id,...C.data()})),h=hr(Ie(ie,"users"),Ar("role","==","driver")),m=(await Pr(h)).docs.map(C=>({id:C.id,...C.data()})),p=d.reduce((C,E)=>C+(E.totalPrice||0),0),N=d.filter(C=>C.paymentMethod==="cash").reduce((C,E)=>C+(E.totalPrice||0),0);let k=0,w=0,j=0;m.forEach(C=>{const E=C.balance||0;E<0?k+=Math.abs(E):E>0&&(w+=E),j+=C.totalCommission||0}),e({totalRevenue:p,pendingCashPayments:N,driverDebts:k,driverCredits:w,totalCommissionRevenue:j,completedTrips:d.length,activeDrivers:m.filter(C=>C.isActive!==!1).length,monthlyGrowth:12.5}),s(d.slice(0,10))}catch(c){console.error("Finansal veri getirme hatası:",c)}finally{a(!1)}},l=({title:c,value:u,icon:d,color:h,trend:f,prefix:m="₺"})=>n.jsx($.div,{whileHover:{scale:1.02},className:`bg-white rounded-xl p-6 shadow-lg border-l-4 ${h}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 text-sm font-medium",children:c}),n.jsxs("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:[m,typeof u=="number"?u.toLocaleString():u]}),f&&n.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[f>0?n.jsx(H4,{className:"w-4 h-4 text-green-500"}):n.jsx(PV,{className:"w-4 h-4 text-red-500"}),n.jsxs("span",{className:`text-sm font-medium ${f>0?"text-green-600":"text-red-600"}`,children:["%",Math.abs(f)]})]})]}),n.jsx("div",{className:`p-3 rounded-full ${h.replace("border-l-","bg-").replace("-500","-100")}`,children:n.jsx(d,{className:`w-8 h-8 ${h.replace("border-l-","text-")}`})})]})});return i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(l,{title:"Toplam Gelir",value:t.totalRevenue,icon:zr,color:"border-l-green-500",trend:t.monthlyGrowth}),n.jsx(l,{title:"Komisyon Gelirimiz",value:t.totalCommissionRevenue,icon:th,color:"border-l-purple-500"}),n.jsx(l,{title:"Şoför Borçları (Nakit Komisyon)",value:t.driverDebts,icon:Ke,color:"border-l-red-500"}),n.jsx(l,{title:"Şofore Borçlarımız (Kart Ödemeleri)",value:t.driverCredits,icon:mt,color:"border-l-blue-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(l,{title:"Bekleyen Nakit Tahsilat",value:t.pendingCashPayments,icon:zr,color:"border-l-yellow-500"}),n.jsx(l,{title:"Tamamlanan Yolculuklar",value:t.completedTrips,icon:pr,color:"border-l-indigo-500",prefix:""}),n.jsx(l,{title:"Aktif Şoförler",value:t.activeDrivers,icon:mt,color:"border-l-emerald-500",prefix:""})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx(pr,{className:"w-6 h-6 text-green-600"}),"Son İşlemler"]}),n.jsx("button",{className:"text-green-600 hover:text-green-700 font-medium",children:"Tümünü Gör"})]}),n.jsx("div",{className:"space-y-4",children:r.map((c,u)=>{var d,h,f,m,p;return n.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c.paymentMethod==="cash"?"bg-yellow-100":"bg-green-100"}`,children:n.jsx(zr,{className:`w-5 h-5 ${c.paymentMethod==="cash"?"text-yellow-600":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800",children:c.customerName||"Müşteri"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[((d=c.pickupLocation)==null?void 0:d.address)||"Lokasyon"," → ",((h=c.dropoffLocation)==null?void 0:h.address)||"Varış"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["₺",(c.totalPrice||0).toLocaleString()]}),n.jsx("p",{className:"text-sm text-gray-500",children:((p=(m=(f=c.createdAt)==null?void 0:f.toDate)==null?void 0:m.call(f))==null?void 0:p.toLocaleDateString("tr-TR"))||"Tarih"})]})]},c.id)})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[n.jsx(zr,{className:"w-8 h-8 mb-3"}),n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Ödeme Yap"}),n.jsx("p",{className:"text-green-100 text-sm",children:"Şoförlere ödeme yap"})]}),n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[n.jsx(mt,{className:"w-8 h-8 mb-3"}),n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Cari Takip"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Şoför carilerini görüntüle"})]}),n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[n.jsx(tt,{className:"w-8 h-8 mb-3"}),n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Rapor Al"}),n.jsx("p",{className:"text-purple-100 text-sm",children:"Finansal rapor oluştur"})]})]})]})},_H=()=>{var _;const[t,e]=g.useState([]),[r,s]=g.useState(null),[i,a]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,h]=g.useState(!1),[f,m]=g.useState("payment"),[p,N]=g.useState(""),[k,w]=g.useState("");g.useEffect(()=>{j();const b=Hr(Ie(ie,"reservations"),v=>{v.docChanges().forEach(y=>{if(y.type==="modified"){const A=y.doc.data();A.status==="completed"&&!A.financialProcessed&&setTimeout(()=>j(),1e3)}})});return()=>b()},[]);const j=async()=>{try{a(!0);const b=hr(Ie(ie,"users"),Ar("role","==","driver")),v=await Pr(b),y=await Promise.all(v.docs.map(async A=>{const F={id:A.id,...A.data()},P=hr(Ie(ie,"reservations"),Ar("assignedDriver","==",F.id),Ar("status","==","completed")),V=(await Pr(P)).docs.map(q=>({id:q.id,...q.data()}));let M=0,H=0,I=0,L=0,z=0;V.forEach(q=>{const Y=q.totalPrice||0,J=F.commissionRate||F.commission||15,G=Y*J/100,ae=Y-G;M+=ae,H+=G,q.paymentMethod==="cash"?(I+=Y,L+=G):(q.paymentMethod==="card"||q.paymentMethod==="credit_card")&&(z+=ae)});const O=F.balance||0,U=F.transactions||[];return{...F,totalEarnings:M,totalCommission:H,cashToCollect:I,cashCommissionOwed:L,cardEarnings:z,currentBalance:O,tripCount:V.length,transactions:U,completedTrips:F.completedTrips||V.length,commissionRate:F.commissionRate||F.commission||15}}));e(y)}catch(b){console.error("Şoför cari verilerini getirme hatası:",b)}finally{a(!1)}},C=t.filter(b=>{const v=(b.firstName||"").toLowerCase().includes(o.toLowerCase())||(b.lastName||"").toLowerCase().includes(o.toLowerCase())||(b.phone||"").includes(o);return c==="all"?v:c==="positive"?v&&b.currentBalance>=0:c==="negative"?v&&b.currentBalance<0:v}),E=async()=>{if(!r||!p||!k){oe.error("Lütfen tüm alanları doldurun");return}try{const b=parseFloat(p),v=f==="payment"?r.currentBalance+b:r.currentBalance-b,y={id:Date.now().toString(),type:f,amount:b,note:k,date:new Date,balanceBefore:r.currentBalance,balanceAfter:v},A=[...r.transactions||[],y];await Kt(je(ie,"users",r.id),{balance:v,transactions:A,lastTransactionDate:new Date}),e(F=>F.map(P=>P.id===r.id?{...P,currentBalance:v,transactions:A}:P)),s(F=>({...F,currentBalance:v,transactions:A})),h(!1),N(""),w(""),oe.success("İşlem başarıyla kaydedildi")}catch(b){console.error("İşlem kaydetme hatası:",b),oe.error("İşlem kaydedilirken hata oluştu")}},B=({driver:b})=>n.jsxs($.div,{whileHover:{scale:1.02},className:`bg-white rounded-lg p-6 shadow-sm border cursor-pointer transition-shadow hover:shadow-md ${b.currentBalance>=0?"border-l-4 border-l-green-500":"border-l-4 border-l-red-500"}`,onClick:()=>s(b),children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:n.jsx(mt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-800",children:[b.firstName," ",b.lastName]}),n.jsx("p",{className:"text-sm text-gray-500",children:b.phone})]})]}),n.jsx("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${b.currentBalance>=0?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:b.currentBalance>=0?"Alacaklı":"Borçlu"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Cari Bakiye"}),n.jsxs("p",{className:`text-lg font-bold ${b.currentBalance>=0?"text-green-600":"text-red-600"}`,children:["₺",Math.abs(b.currentBalance).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Toplam Yolculuk"}),n.jsx("p",{className:"text-lg font-bold text-gray-800",children:b.tripCount})]})]}),b.cashCommissionOwed>0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ke,{className:"w-4 h-4 text-yellow-600"}),n.jsxs("span",{className:"text-xs font-medium text-yellow-800",children:["Nakit Komisyon Borcu: ₺",b.cashCommissionOwed.toLocaleString()]})]})})]});return i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Şoför Cari Hesapları"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Şoförlerin finansal durumlarını yönetin"})]}),n.jsxs("div",{className:"bg-white rounded-lg px-4 py-2 shadow-sm border",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Şoför"}),n.jsx("div",{className:"text-xl font-bold text-gray-800",children:t.length})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Li,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Şoför ara (isim, telefon)...",value:o,onChange:b=>l(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("select",{value:c,onChange:b=>u(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Tüm Şoförler"}),n.jsx("option",{value:"positive",children:"Alacaklılar"}),n.jsx("option",{value:"negative",children:"Borçlular"})]})})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(b=>n.jsx(B,{driver:b},b.id))}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-auto shadow-xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[r.firstName," ",r.lastName," - Cari Hesap"]}),n.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-600",children:"Cari Bakiye"}),n.jsxs("p",{className:`text-2xl font-bold ${r.currentBalance>=0?"text-green-600":"text-red-600"}`,children:["₺",Math.abs(r.currentBalance).toLocaleString()]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-green-600",children:"Toplam Kazanç"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₺",r.totalEarnings.toLocaleString()]})]}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-purple-600",children:"Toplam Komisyon"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["₺",r.totalCommission.toLocaleString()]})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-yellow-600",children:"Nakit Borç"}),n.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["₺",r.cashCommissionOwed.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>{m("payment"),h(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(qr,{className:"w-4 h-4"}),"Ödeme Yap"]}),n.jsxs("button",{onClick:()=>{m("debt"),h(!0)},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[n.jsx($0,{className:"w-4 h-4"}),"Borç Ekle"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"İşlem Geçmişi"}),n.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:(_=r.transactions)==null?void 0:_.map(b=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${b.type==="payment"?"bg-green-100":"bg-red-100"}`,children:b.type==="payment"?n.jsx(qr,{className:"w-4 h-4 text-green-600"}):n.jsx($0,{className:"w-4 h-4 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800",children:b.note}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(b.date).toLocaleDateString("tr-TR")})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-bold ${b.type==="payment"?"text-green-600":"text-red-600"}`,children:[b.type==="payment"?"+":"-","₺",b.amount.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Bakiye: ₺",b.balanceAfter.toLocaleString()]})]})]},b.id))})]})]})]})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:f==="payment"?"Ödeme Yap":"Borç Ekle"}),n.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(We,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tutar (₺)"}),n.jsx("input",{type:"number",value:p,onChange:b=>N(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),n.jsx("textarea",{value:k,onChange:b=>w(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"İşlem açıklaması..."})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"İptal"}),n.jsx("button",{onClick:E,className:`flex-1 px-4 py-2 text-white rounded-lg transition-colors ${f==="payment"?"bg-blue-600 hover:bg-blue-700":"bg-red-600 hover:bg-red-700"}`,children:"Kaydet"})]})]})]})})]})},FH=()=>{const[t,e]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState("pending"),[d,h]=g.useState(null),[f,m]=g.useState("all"),[p,N]=g.useState("all");g.useEffect(()=>{k()},[]);const k=async()=>{var E,B;try{l(!0);const b=(await Pr(Ie(ie,"drivers"))).docs.map(F=>({id:F.id,...F.data()}));a(b);const v=hr(Ie(ie,"reservations"),Ar("status","==","completed"),zx("completedAt","desc")),y=await Pr(v),A=[];for(const F of y.docs){const P={id:F.id,...F.data()};if(P.driverId){const S=b.find(V=>V.id===P.driverId);if(S){const V=S.commissionRate||15,M=P.totalPrice||0,H=M*V/100,I=M-H,L={id:P.id,driverId:P.driverId,driverName:`${S.firstName} ${S.lastName}`,customerName:P.customerName,tripPrice:M,commission:H,driverEarning:I,paymentMethod:P.paymentMethod,completedAt:P.completedAt,paymentStatus:P.driverPaymentStatus||"pending",route:`${((E=P.pickupLocation)==null?void 0:E.address)||"Bilinmiyor"} → ${((B=P.dropoffLocation)==null?void 0:B.address)||"Bilinmiyor"}`,commissionRate:V};A.push(L)}}}e(A.filter(F=>F.paymentStatus==="pending")),s(A.filter(F=>F.paymentStatus==="paid"))}catch(_){console.error("Ödeme verilerini getirme hatası:",_)}finally{l(!1)}},w=async E=>{try{if(await Kt(je(ie,"reservations",E.id),{driverPaymentStatus:"paid",paidAt:new Date}),E.paymentMethod!=="cash"){const _=(i.find(b=>b.id===E.driverId).balance||0)+E.driverEarning;await Kt(je(ie,"drivers",E.driverId),{balance:_})}e(B=>B.filter(_=>_.id!==E.id)),s(B=>[...B,{...E,paymentStatus:"paid",paidAt:new Date}]),alert("Ödeme başarıyla işaretlendi")}catch(B){console.error("Ödeme işaretleme hatası:",B),alert("Ödeme işaretlenirken hata oluştu")}},j=(c==="pending"?t:r).filter(E=>{var B,_;if(f!=="all"&&E.driverId!==f)return!1;if(p!=="all"){const b=((_=(B=E.completedAt)==null?void 0:B.toDate)==null?void 0:_.call(B))||new Date(E.completedAt),y=Math.floor((new Date-b)/(1e3*60*60*24));if(p==="today"&&y!==0||p==="week"&&y>7||p==="month"&&y>30)return!1}return!0}),C=({payment:E})=>{var B,_,b;return n.jsxs($.div,{whileHover:{scale:1.01},className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-blue-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${E.paymentMethod==="cash"?"bg-yellow-100":"bg-green-100"}`,children:n.jsx(zr,{className:`w-5 h-5 ${E.paymentMethod==="cash"?"text-yellow-600":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800",children:E.driverName}),n.jsx("p",{className:"text-sm text-gray-600",children:E.customerName})]})]}),n.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${E.paymentMethod==="cash"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:E.paymentMethod==="cash"?"Nakit":"Kredi/Havale"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Yolculuk Ücreti"}),n.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["₺",E.tripPrice.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Komisyon (%",E.commissionRate,")"]}),n.jsxs("p",{className:"text-lg font-bold text-red-600",children:["₺",E.commission.toLocaleString()]})]})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Şoför Kazancı"}),n.jsxs("span",{className:"text-xl font-bold text-green-600",children:["₺",E.driverEarning.toLocaleString()]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rota"}),n.jsx("p",{className:"text-sm text-gray-800",children:E.route})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:((b=(_=(B=E.completedAt)==null?void 0:B.toDate)==null?void 0:_.call(B))==null?void 0:b.toLocaleDateString("tr-TR"))||"Tarih bilinmiyor"}),c==="pending"&&n.jsxs("button",{onClick:()=>w(E),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[n.jsx($e,{className:"w-4 h-4"}),"Ödendi İşaretle"]}),c==="completed"&&n.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[n.jsx($e,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Ödendi"})]})]}),E.paymentMethod==="cash"&&n.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{className:"text-sm text-yellow-800",children:"Nakit ödeme - Şoför komisyonu toplamalı"})]})})]})};return o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-yellow-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mt,{className:"w-8 h-8 text-yellow-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Bekleyen Ödemeler"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t.length})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-green-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($e,{className:"w-8 h-8 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tamamlanan"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.length})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-blue-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zr,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Bekleyen Tutar"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["₺",t.reduce((E,B)=>E+B.driverEarning,0).toLocaleString()]})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-purple-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mt,{className:"w-8 h-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Şoförler"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.length})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsx("button",{onClick:()=>u("pending"),className:`flex-1 px-6 py-4 font-medium transition-colors ${c==="pending"?"bg-yellow-50 text-yellow-600 border-b-2 border-yellow-600":"text-gray-600 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Mt,{className:"w-5 h-5"}),"Bekleyen Ödemeler (",t.length,")"]})}),n.jsx("button",{onClick:()=>u("completed"),className:`flex-1 px-6 py-4 font-medium transition-colors ${c==="completed"?"bg-green-50 text-green-600 border-b-2 border-green-600":"text-gray-600 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx($e,{className:"w-5 h-5"}),"Tamamlanan Ödemeler (",r.length,")"]})})]}),n.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("select",{value:f,onChange:E=>m(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Tüm Şoförler"}),i.map(E=>n.jsxs("option",{value:E.id,children:[E.firstName," ",E.lastName]},E.id))]})}),n.jsx("div",{className:"flex-1",children:n.jsxs("select",{value:p,onChange:E=>N(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Tüm Tarihler"}),n.jsx("option",{value:"today",children:"Bugün"}),n.jsx("option",{value:"week",children:"Son 7 Gün"}),n.jsx("option",{value:"month",children:"Son 30 Gün"})]})})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.map(E=>n.jsx(C,{payment:E},E.id))}),j.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(pr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 text-lg",children:c==="pending"?"Bekleyen ödeme bulunamadı":"Tamamlanan ödeme bulunamadı"})]})]})]})]})},SH=()=>{const[t,e]=g.useState([]),[r,s]=g.useState([]),[i,a]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState({driverId:"",title:"",description:"",dueDate:"",amount:"",type:"payment",priority:"medium"});g.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const v=(await Pr(Ie(ie,"drivers"))).docs.map(F=>({id:F.id,...F.data()}));s(v);const A=(await Pr(Ie(ie,"paymentReminders"))).docs.map(F=>{var P;return{id:F.id,...F.data(),dueDate:((P=F.data().dueDate)==null?void 0:P.toDate())||new Date(F.data().dueDate)}});A.sort((F,P)=>new Date(F.dueDate)-new Date(P.dueDate)),e(A)}catch(b){console.error("Veri getirme hatası:",b)}finally{a(!1)}},m=async b=>{if(b.preventDefault(),!d.driverId||!d.title||!d.dueDate){alert("Lütfen zorunlu alanları doldurun");return}try{const v={...d,dueDate:new Date(d.dueDate),amount:parseFloat(d.amount)||0,createdAt:new Date,status:"active"};if(c)await Kt(je(ie,"paymentReminders",c.id),v),e(y=>y.map(A=>A.id===c.id?{...A,...v}:A));else{const y=await Ai(Ie(ie,"paymentReminders"),v);e(A=>[...A,{id:y.id,...v}])}h({driverId:"",title:"",description:"",dueDate:"",amount:"",type:"payment",priority:"medium"}),l(!1),u(null)}catch(v){console.error("Uyarı kaydetme hatası:",v),alert("Uyarı kaydedilirken hata oluştu")}},p=async b=>{if(confirm("Bu uyarıyı silmek istediğinizden emin misiniz?"))try{await pu(je(ie,"paymentReminders",b)),e(v=>v.filter(y=>y.id!==b))}catch(v){console.error("Uyarı silme hatası:",v),alert("Uyarı silinirken hata oluştu")}},N=async b=>{try{await Kt(je(ie,"paymentReminders",b),{status:"completed",completedAt:new Date}),e(v=>v.map(y=>y.id===b?{...y,status:"completed",completedAt:new Date}:y))}catch(v){console.error("Uyarı tamamlama hatası:",v),alert("Uyarı tamamlanırken hata oluştu")}},k=b=>{u(b),h({driverId:b.driverId,title:b.title,description:b.description,dueDate:b.dueDate.toISOString().split("T")[0],amount:b.amount.toString(),type:b.type,priority:b.priority}),l(!0)},w=b=>{const v=r.find(y=>y.id===b);return v?`${v.firstName} ${v.lastName}`:"Bilinmeyen Şoför"},j=b=>{const v=new Date,A=new Date(b)-v;return Math.ceil(A/(1e3*60*60*24))},C=b=>{switch(b){case"high":return"border-l-red-500 bg-red-50";case"medium":return"border-l-yellow-500 bg-yellow-50";case"low":return"border-l-green-500 bg-green-50";default:return"border-l-gray-500 bg-gray-50"}},E=b=>{switch(b){case"payment":return"💰";case"commission":return"💼";case"other":return"📝";default:return"📋"}},B=t.filter(b=>b.status!=="completed"),_=t.filter(b=>b.status==="completed");return i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Ödeme Uyarıları"}),n.jsx("p",{className:"text-gray-600",children:"Şoför ödemelerini ve komisyon tahsilat tarihlerini takip edin"})]}),n.jsxs("button",{onClick:()=>{u(null),h({driverId:"",title:"",description:"",dueDate:"",amount:"",type:"payment",priority:"medium"}),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(qr,{className:"w-4 h-4"}),"Yeni Uyarı"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-red-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Qr,{className:"w-8 h-8 text-red-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Acil Uyarılar"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:B.filter(b=>j(b.dueDate)<=0).length})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-yellow-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Mt,{className:"w-8 h-8 text-yellow-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Bu Hafta"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:B.filter(b=>{const v=j(b.dueDate);return v>0&&v<=7}).length})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-blue-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tt,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Aktif"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:B.length})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-green-500",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($e,{className:"w-8 h-8 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tamamlanan"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.length})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx($c,{className:"w-6 h-6 text-orange-600"}),"Aktif Uyarılar"]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[B.map(b=>{const v=j(b.dueDate),y=v<0,A=v===0;return n.jsx($.div,{whileHover:{scale:1.01},className:`border-l-4 rounded-lg p-4 ${C(b.priority)} ${y?"ring-2 ring-red-200":A?"ring-2 ring-yellow-200":""}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:E(b.type)}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800",children:b.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:[w(b.driverId)," • ",b.dueDate.toLocaleDateString("tr-TR")]}),b.description&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:b.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right mr-4",children:[b.amount>0&&n.jsxs("p",{className:"font-bold text-green-600",children:["₺",b.amount.toLocaleString()]}),n.jsx("p",{className:`text-sm font-medium ${y?"text-red-600":A?"text-yellow-600":"text-gray-600"}`,children:y?`${Math.abs(v)} gün gecikmiş`:A?"Bugün":`${v} gün kaldı`})]}),n.jsx("button",{onClick:()=>k(b),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg",children:n.jsx(eh,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>N(b.id),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg",children:n.jsx($e,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>p(b.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:n.jsx(rl,{className:"w-4 h-4"})})]})]})},b.id)}),B.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx($c,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Aktif uyarı bulunamadı"})]})]})})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:c?"Uyarı Düzenle":"Yeni Uyarı Oluştur"}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şoför *"}),n.jsxs("select",{value:d.driverId,onChange:b=>h(v=>({...v,driverId:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Şoför seçin"}),r.map(b=>n.jsxs("option",{value:b.id,children:[b.firstName," ",b.lastName]},b.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Başlık *"}),n.jsx("input",{type:"text",value:d.title,onChange:b=>h(v=>({...v,title:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Uyarı başlığı",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),n.jsx("textarea",{value:d.description,onChange:b=>h(v=>({...v,description:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:"3",placeholder:"Detaylı açıklama"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tür"}),n.jsxs("select",{value:d.type,onChange:b=>h(v=>({...v,type:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"payment",children:"Ödeme"}),n.jsx("option",{value:"commission",children:"Komisyon"}),n.jsx("option",{value:"other",children:"Diğer"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Öncelik"}),n.jsxs("select",{value:d.priority,onChange:b=>h(v=>({...v,priority:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"low",children:"Düşük"}),n.jsx("option",{value:"medium",children:"Orta"}),n.jsx("option",{value:"high",children:"Yüksek"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarih *"}),n.jsx("input",{type:"date",value:d.dueDate,onChange:b=>h(v=>({...v,dueDate:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tutar (₺)"}),n.jsx("input",{type:"number",value:d.amount,onChange:b=>h(v=>({...v,amount:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"İptal"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:c?"Güncelle":"Oluştur"})]})]})]})})]})},TH=()=>{const[t,e]=g.useState({totalRevenue:0,totalCommissions:0,driverPayments:0,pendingPayments:0,cashTransactions:0,cardTransactions:0}),[r,s]=g.useState([]),[i,a]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState({startDate:new Date(new Date().setDate(1)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[d,h]=g.useState("summary");g.useEffect(()=>{f()},[c]);const f=async()=>{try{l(!0);const w=new Date(c.startDate),j=new Date(c.endDate);j.setHours(23,59,59,999);const E=(await Pr(Ie(ie,"drivers"))).docs.map(V=>({id:V.id,...V.data()}));s(E);const B=hr(Ie(ie,"reservations"),Ar("status","==","completed"),zx("completedAt","desc"));let b=(await Pr(B)).docs.map(V=>({id:V.id,...V.data()})).filter(V=>{var H;const M=((H=V.completedAt)==null?void 0:H.toDate())||new Date(V.completedAt);return M>=w&&M<=j});a(b);let v=0,y=0,A=0,F=0,P=0,S=0;b.forEach(V=>{const M=V.totalPrice||0;if(v+=M,V.paymentMethod==="cash"?A+=M:F+=M,V.driverId){const H=E.find(I=>I.id===V.driverId);if(H){const I=H.commissionRate||15,L=M*I/100;y+=L,V.driverPaymentStatus==="paid"?P+=M-L:S+=M-L}}}),e({totalRevenue:v,totalCommissions:y,driverPayments:P,pendingPayments:S,cashTransactions:A,cardTransactions:F})}catch(w){console.error("Rapor verilerini getirme hatası:",w)}finally{l(!1)}},m=()=>r.map(w=>{const j=i.filter(v=>v.driverId===w.id),C=j.length,E=j.reduce((v,y)=>v+(y.totalPrice||0),0),B=w.commissionRate||15,_=E*B/100,b=E-_;return{id:w.id,name:`${w.firstName} ${w.lastName}`,phone:w.phone,totalTrips:C,totalRevenue:E,totalCommission:_,driverEarnings:b,commissionRate:B,averageTrip:C>0?E/C:0}}).sort((w,j)=>j.totalRevenue-w.totalRevenue),p=()=>{const w=i.filter(C=>C.paymentMethod==="cash").length,j=i.filter(C=>C.paymentMethod!=="cash").length;return{cash:{count:w,amount:t.cashTransactions,percentage:i.length>0?w/i.length*100:0},card:{count:j,amount:t.cardTransactions,percentage:i.length>0?j/i.length*100:0}}},N=(w,j)=>{const C=w.map(b=>Object.values(b).join(",")).join(`
`),E=new Blob([C],{type:"text/csv"}),B=window.URL.createObjectURL(E),_=document.createElement("a");_.href=B,_.download=j,_.click(),window.URL.revokeObjectURL(B)},k=({title:w,value:j,icon:C,color:E,change:B})=>n.jsx($.div,{whileHover:{scale:1.02},className:`bg-white rounded-xl p-6 shadow-lg border-l-4 ${E}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 text-sm font-medium",children:w}),n.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:typeof j=="number"&&w.includes("₺")?`₺${j.toLocaleString()}`:j.toLocaleString()}),B&&n.jsxs("p",{className:`text-sm mt-2 ${B>0?"text-green-600":"text-red-600"}`,children:[B>0?"+":"",B,"% önceki döneme göre"]})]}),n.jsx("div",{className:`p-3 rounded-full ${E.replace("border-l-","bg-").replace("-500","-100")}`,children:n.jsx(C,{className:`w-8 h-8 ${E.replace("border-l-","text-")}`})})]})});return o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Finansal Raporlar"}),n.jsx("p",{className:"text-gray-600",children:"Detaylı finansal analiz ve raporlama"})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs("button",{onClick:()=>N(m(),"sofor_raporu.csv"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(U0,{className:"w-4 h-4"}),"CSV İndir"]})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(tt,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-800",children:"Tarih Aralığı:"}),n.jsx("input",{type:"date",value:c.startDate,onChange:w=>u(j=>({...j,startDate:w.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"}),n.jsx("span",{className:"text-gray-500",children:"-"}),n.jsx("input",{type:"date",value:c.endDate,onChange:w=>u(j=>({...j,endDate:w.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(k,{title:"Toplam Gelir",value:t.totalRevenue,icon:zr,color:"border-l-green-500"}),n.jsx(k,{title:"Toplam Komisyon",value:t.totalCommissions,icon:th,color:"border-l-blue-500"}),n.jsx(k,{title:"Şoför Ödemeleri",value:t.driverPayments,icon:mt,color:"border-l-purple-500"}),n.jsx(k,{title:"Bekleyen Ödemeler",value:t.pendingPayments,icon:Qx,color:"border-l-yellow-500"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsx("button",{onClick:()=>h("summary"),className:`flex-1 px-6 py-4 font-medium transition-colors ${d==="summary"?"bg-green-50 text-green-600 border-b-2 border-green-600":"text-gray-600 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(K4,{className:"w-5 h-5"}),"Özet Rapor"]})}),n.jsx("button",{onClick:()=>h("drivers"),className:`flex-1 px-6 py-4 font-medium transition-colors ${d==="drivers"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(mt,{className:"w-5 h-5"}),"Şoför Performansı"]})}),n.jsx("button",{onClick:()=>h("payments"),className:`flex-1 px-6 py-4 font-medium transition-colors ${d==="payments"?"bg-purple-50 text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(ZV,{className:"w-5 h-5"}),"Ödeme Yöntemleri"]})})]}),n.jsxs("div",{className:"p-6",children:[d==="summary"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[n.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Gelir Dağılımı"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Nakit Ödemeler"}),n.jsxs("span",{className:"font-bold",children:["₺",t.cashTransactions.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Kredi Kartı/Havale"}),n.jsxs("span",{className:"font-bold",children:["₺",t.cardTransactions.toLocaleString()]})]}),n.jsxs("div",{className:"border-t pt-3 flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Toplam"}),n.jsxs("span",{children:["₺",t.totalRevenue.toLocaleString()]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200",children:[n.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Komisyon Analizi"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Toplam Komisyon"}),n.jsxs("span",{className:"font-bold",children:["₺",t.totalCommissions.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Ortalama Komisyon Oranı"}),n.jsxs("span",{className:"font-bold",children:["%",t.totalRevenue>0?(t.totalCommissions/t.totalRevenue*100).toFixed(1):0]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Toplam Yolculuk"}),n.jsx("span",{className:"font-bold",children:i.length})]})]})]})]})}),d==="drivers"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-bold text-gray-800",children:"Şoför Performans Raporu"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Şoför"}),n.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Yolculuk"}),n.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Toplam Gelir"}),n.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Komisyon"}),n.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Şoför Kazancı"}),n.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Ort. Yolculuk"})]})}),n.jsx("tbody",{children:m().map(w=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"border border-gray-300 px-4 py-2",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:w.name}),n.jsx("div",{className:"text-sm text-gray-600",children:w.phone})]})}),n.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center font-bold",children:w.totalTrips}),n.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center font-bold text-green-600",children:["₺",w.totalRevenue.toLocaleString()]}),n.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center font-bold text-red-600",children:["₺",w.totalCommission.toLocaleString()]}),n.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center font-bold text-blue-600",children:["₺",w.driverEarnings.toLocaleString()]}),n.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:["₺",w.averageTrip.toLocaleString()]})]},w.id))})]})})]}),d==="payments"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h4",{className:"text-lg font-bold text-gray-800",children:"Ödeme Yöntemi Analizi"}),(()=>{const w=p();return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl border border-yellow-200",children:[n.jsx("h5",{className:"text-lg font-bold text-gray-800 mb-4",children:"💰 Nakit Ödemeler"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"İşlem Sayısı"}),n.jsx("span",{className:"font-bold",children:w.cash.count})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Toplam Tutar"}),n.jsxs("span",{className:"font-bold",children:["₺",w.cash.amount.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Yüzde"}),n.jsxs("span",{className:"font-bold",children:["%",w.cash.percentage.toFixed(1)]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[n.jsx("h5",{className:"text-lg font-bold text-gray-800 mb-4",children:"💳 Kredi Kartı/Havale"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"İşlem Sayısı"}),n.jsx("span",{className:"font-bold",children:w.card.count})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Toplam Tutar"}),n.jsxs("span",{className:"font-bold",children:["₺",w.card.amount.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Yüzde"}),n.jsxs("span",{className:"font-bold",children:["%",w.card.percentage.toFixed(1)]})]})]})]})]})})()]})]})]})]})},PH=()=>{const[t,e]=g.useState("overview"),r=[{id:"overview",label:"Genel Bakış",icon:th,component:BH},{id:"drivers",label:"Şoför Cariler",icon:mt,component:_H},{id:"payments",label:"Ödeme Yönetimi",icon:pr,component:FH},{id:"reminders",label:"Ödeme Uyarıları",icon:Qr,component:SH},{id:"reports",label:"Finansal Raporlar",icon:Qx,component:TH}],s=()=>{const i=r.find(o=>o.id===t),a=i==null?void 0:i.component;return a?n.jsx(a,{}):null};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Finansal Yönetim"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Tüm finansal işlemler, şoför carilik hesapları ve ödeme takibi merkezi"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[n.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:r.map(i=>n.jsxs("button",{onClick:()=>e(i.id),className:`
                flex items-center gap-2 px-6 py-4 transition-all duration-200 font-medium
                ${t===i.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"}
              `,children:[n.jsx(i.icon,{className:"w-5 h-5"}),i.label]},i.id))}),n.jsx("div",{className:"p-6",children:n.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s()},t)})]})]})},IH=()=>{var j;const{state:t,updateSettings:e}=Ii(),[r,s]=g.useState("general"),[i,a]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState({general:{companyName:"SBS Transfer",companyEmail:"info@sbstransfer.com",companyPhone:"+90 555 123 45 67",companyAddress:"İstanbul, Türkiye",companyDescription:"Premium transfer hizmetleri",website:"https://sbstransfer.com",logo:"",favicon:""},payment:{paytrMerchantId:"",paytrMerchantKey:"",paytrMerchantSalt:"",testMode:!0,enabledMethods:{cash:!0,creditCard:!0,bankTransfer:!0,paytr:!1},currency:"TRY",taxRate:18},bankAccounts:[{id:1,bankName:"Türkiye İş Bankası",accountHolder:"SBS Transfer Hizmetleri Ltd. Şti.",iban:"TR33 0006 4000 0011 2345 6789 01",branch:"Ataşehir Şubesi",isActive:!0}],company:{taxNumber:"1234567890",commercialRegistrationNumber:"123456",mersisNumber:"0123456789012345",establishmentDate:"2020-01-01",legalStructure:"Ltd. Şti.",authorizedPerson:"Mehmet Yılmaz",authorizedPersonTitle:"Genel Müdür"},commission:{defaultDriverCommission:70,companyCommission:30,minimumCommission:50,maximumCommission:90,paymentFrequency:"weekly"},notifications:{email:{newReservation:!0,reservationUpdate:!0,driverAssignment:!0,paymentReceived:!0,cancellation:!0,weeklyReport:!0},sms:{reservationConfirmation:!0,driverAssignment:!0,paymentReminder:!1,promotions:!1},push:{newReservation:!0,statusUpdate:!0,promotions:!1}},system:{maintenanceMode:!1,debugMode:!1,dataRetention:365,backupFrequency:"daily",timezone:"Europe/Istanbul",language:"tr",dateFormat:"DD/MM/YYYY",timeFormat:"24h"}}),d=[{id:"general",name:"Genel Ayarlar",icon:bu,description:"Şirket bilgileri ve genel ayarlar"},{id:"payment",name:"Ödeme Ayarları",icon:pr,description:"PayTR API ve ödeme yöntemleri"},{id:"bankAccounts",name:"Banka Hesapları",icon:tv,description:"Havale için banka hesap bilgileri"},{id:"company",name:"Şirket Bilgileri",icon:IV,description:"Resmi şirket ve yasal bilgiler"},{id:"commission",name:"Komisyon Ayarları",icon:XV,description:"Şoför komisyon oranları"},{id:"notifications",name:"Bildirim Ayarları",icon:$c,description:"E-posta, SMS ve push bildirimleri"},{id:"system",name:"Sistem Ayarları",icon:JV,description:"Sistem konfigürasyonu ve güvenlik"}];g.useEffect(()=>{(async()=>{try{l(!0);const E=await Pr(Ie(ie,"settings"));if(!E.empty){const B=E.docs.find(_=>_.id==="main");if(B){const _=B.data();console.log("Firebase Settings Loaded:",_),u(b=>({...b,..._}))}}}catch(E){console.error("Settings yüklenirken hata:",E),oe.error("Ayarlar yüklenirken hata oluştu")}finally{l(!1)}})()},[]);const h=(C,E,B)=>{u(_=>({..._,[C]:{..._[C],[E]:B}})),a(!0)},f=(C,E,B,_)=>{u(b=>({...b,[C]:{...b[C],[E]:{...b[C][E],[B]:_}}})),a(!0)},m=(C,E,B)=>{u(_=>({..._,bankAccounts:_.bankAccounts.map((b,v)=>v===C?{...b,[E]:B}:b)})),a(!0)},p=()=>{const C={id:Date.now(),bankName:"",accountHolder:"",iban:"",branch:"",isActive:!0};u(E=>({...E,bankAccounts:[...E.bankAccounts,C]})),a(!0)},N=C=>{u(E=>({...E,bankAccounts:E.bankAccounts.filter((B,_)=>_!==C)})),a(!0)},k=async()=>{l(!0);try{await so(je(ie,"settings","main"),{...c,updatedAt:new Date().toISOString()}),a(!1),oe.success("Ayarlar başarıyla kaydedildi!")}catch(C){console.error("Settings save error:",C),oe.error("Ayarlar kaydedilirken hata oluştu: "+C.message)}finally{l(!1)}},w=()=>{switch(r){case"general":return n.jsx(RH,{settings:c.general,onChange:(C,E)=>h("general",C,E)});case"payment":return n.jsx(LH,{settings:c.payment,onChange:(C,E)=>h("payment",C,E),onNestedChange:(C,E,B)=>f("payment",C,E,B)});case"bankAccounts":return n.jsx(MH,{accounts:c.bankAccounts,onAccountChange:m,onAddAccount:p,onRemoveAccount:N});case"company":return n.jsx(OH,{settings:c.company,onChange:(C,E)=>h("company",C,E)});case"commission":return n.jsx(VH,{settings:c.commission,onChange:(C,E)=>h("commission",C,E)});case"notifications":return n.jsx(zH,{settings:c.notifications,onChange:(C,E,B)=>f("notifications",C,E,B)});case"system":return n.jsx(UH,{settings:c.system,onChange:(C,E)=>h("system",C,E)});default:return null}};return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sistem Ayarları"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Platform ayarlarını yönetin ve konfigürasyon yapın"})]}),i&&n.jsxs($.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:k,disabled:o,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(_n,{className:"h-5 w-5"}),n.jsx("span",{children:o?"Kaydediliyor...":"Değişiklikleri Kaydet"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex space-x-0",children:d.map((C,E)=>{const B=C.icon,_=r===C.id;return n.jsxs("button",{onClick:()=>s(C.id),className:`relative flex-1 py-4 px-6 text-sm font-medium transition-colors ${_?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"} ${E===0?"rounded-tl-xl":""} ${E===d.length-1?"rounded-tr-xl":""}`,children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(B,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:block",children:C.name})]}),_&&n.jsx($.div,{layoutId:"activeTab",className:"absolute inset-0 bg-blue-50 border-b-2 border-blue-600 rounded-t-xl",style:{zIndex:-1},transition:{type:"spring",stiffness:300,damping:30}})]},C.id)})})}),n.jsx("div",{className:"px-6 py-3 bg-gray-50 rounded-b-xl",children:n.jsx("p",{className:"text-sm text-gray-600",children:(j=d.find(C=>C.id===r))==null?void 0:j.description})})]}),n.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:w()},r),n.jsx(Ni,{children:i&&n.jsx($.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-6 right-6 bg-yellow-100 border border-yellow-300 rounded-lg p-4 shadow-lg max-w-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ke,{className:"h-5 w-5 text-yellow-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Kaydedilmemiş Değişiklikler"}),n.jsx("p",{className:"text-xs text-yellow-700",children:"Değişikliklerinizi kaydetmeyi unutmayın"})]})]})})})]})},RH=({settings:t,onChange:e})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket Adı *"}),n.jsx("input",{type:"text",value:t.companyName,onChange:r=>e("companyName",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Şirket adını girin"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi *"}),n.jsx("input",{type:"email",value:t.companyEmail,onChange:r=>e("companyEmail",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"info@company.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon Numarası *"}),n.jsx("input",{type:"tel",value:t.companyPhone,onChange:r=>e("companyPhone",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+90 555 123 45 67"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),n.jsx("input",{type:"url",value:t.website,onChange:r=>e("website",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://company.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket Adresi *"}),n.jsx("textarea",{value:t.companyAddress,onChange:r=>e("companyAddress",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tam adres bilgisi"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket Açıklaması"}),n.jsx("textarea",{value:t.companyDescription,onChange:r=>e("companyDescription",r.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Şirket hakkında kısa açıklama"})]})]}),LH=({settings:t,onChange:e,onNestedChange:r})=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(pr,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"PayTR API Ayarları"})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q4,{className:"h-4 w-4 text-blue-600"}),n.jsx("p",{className:"text-sm text-blue-800",children:"PayTR API bilgilerinizi PayTR merchant panelinden alabilirsiniz."})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Merchant ID"}),n.jsx("input",{type:"text",value:t.paytrMerchantId,onChange:s=>e("paytrMerchantId",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PayTR Merchant ID"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Merchant Key"}),n.jsx("input",{type:"password",value:t.paytrMerchantKey,onChange:s=>e("paytrMerchantKey",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PayTR Merchant Key"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Merchant Salt"}),n.jsx("input",{type:"password",value:t.paytrMerchantSalt,onChange:s=>e("paytrMerchantSalt",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PayTR Merchant Salt"})]}),n.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[n.jsx("input",{type:"checkbox",id:"testMode",checked:t.testMode,onChange:s=>e("testMode",s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"testMode",className:"text-sm font-medium text-gray-700",children:"Test Modu Aktif"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ödeme Yöntemleri"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(t.enabledMethods).map(([s,i])=>n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:i,onChange:a=>r("enabledMethods",s,a.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:s==="cash"?"Nakit":s==="creditCard"?"Kredi Kartı":s==="bankTransfer"?"Banka Havalesi":s==="paytr"?"PayTR":s})]},s))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Para Birimi"}),n.jsxs("select",{value:t.currency,onChange:s=>e("currency",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"TRY",children:"Türk Lirası (₺)"}),n.jsx("option",{value:"USD",children:"Amerikan Doları ($)"}),n.jsx("option",{value:"EUR",children:"Euro (€)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KDV Oranı (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:t.taxRate,onChange:s=>e("taxRate",parseFloat(s.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),MH=({accounts:t,onAccountChange:e,onAddAccount:r,onRemoveAccount:s})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Banka Hesapları"}),n.jsxs("button",{onClick:r,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(tv,{className:"h-4 w-4"}),n.jsx("span",{children:"Hesap Ekle"})]})]}),n.jsx("div",{className:"space-y-4",children:t.map((i,a)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banka Adı *"}),n.jsx("input",{type:"text",value:i.bankName,onChange:o=>e(a,"bankName",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Banka adı"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hesap Sahibi *"}),n.jsx("input",{type:"text",value:i.accountHolder,onChange:o=>e(a,"accountHolder",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Hesap sahibi adı"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IBAN *"}),n.jsx("input",{type:"text",value:i.iban,onChange:o=>e(a,"iban",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"TR00 0000 0000 0000 0000 0000 00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şube"}),n.jsx("input",{type:"text",value:i.branch,onChange:o=>e(a,"branch",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Şube adı"})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:i.isActive,onChange:o=>e(a,"isActive",o.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Aktif Hesap"})]}),n.jsx("button",{onClick:()=>s(a),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Hesabı Kaldır"})]})]},i.id))})]}),OH=({settings:t,onChange:e})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vergi Numarası"}),n.jsx("input",{type:"text",value:t.taxNumber,onChange:r=>e("taxNumber",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"1234567890"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ticaret Sicil Numarası"}),n.jsx("input",{type:"text",value:t.commercialRegistrationNumber,onChange:r=>e("commercialRegistrationNumber",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"123456"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MERSİS Numarası"}),n.jsx("input",{type:"text",value:t.mersisNumber,onChange:r=>e("mersisNumber",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0123456789012345"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kuruluş Tarihi"}),n.jsx("input",{type:"date",value:t.establishmentDate,onChange:r=>e("establishmentDate",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hukuki Yapı"}),n.jsxs("select",{value:t.legalStructure,onChange:r=>e("legalStructure",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"Ltd. Şti.",children:"Limited Şirket"}),n.jsx("option",{value:"A.Ş.",children:"Anonim Şirket"}),n.jsx("option",{value:"Şahıs",children:"Şahıs Şirketi"}),n.jsx("option",{value:"Koop.",children:"Kooperatif"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yetkili Kişi"}),n.jsx("input",{type:"text",value:t.authorizedPerson,onChange:r=>e("authorizedPerson",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ad Soyad"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yetkili Unvanı"}),n.jsx("input",{type:"text",value:t.authorizedPersonTitle,onChange:r=>e("authorizedPersonTitle",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Genel Müdür, CEO, vs."})]})]}),VH=({settings:t,onChange:e})=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Q4,{className:"h-4 w-4 text-blue-600"}),n.jsx("p",{className:"text-sm text-blue-800",children:"Komisyon oranları toplamı %100 olmalıdır. Şoför + Şirket = %100"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Varsayılan Şoför Komisyonu (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:t.defaultDriverCommission,onChange:r=>e("defaultDriverCommission",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Şoförlere verilen varsayılan komisyon oranı"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket Komisyonu (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:t.companyCommission,onChange:r=>e("companyCommission",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Şirketin aldığı komisyon oranı"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Komisyon (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:t.minimumCommission,onChange:r=>e("minimumCommission",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maksimum Komisyon (%)"}),n.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:t.maximumCommission,onChange:r=>e("maximumCommission",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ödeme Sıklığı"}),n.jsxs("select",{value:t.paymentFrequency,onChange:r=>e("paymentFrequency",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"daily",children:"Günlük"}),n.jsx("option",{value:"weekly",children:"Haftalık"}),n.jsx("option",{value:"monthly",children:"Aylık"})]})]})]}),zH=({settings:t,onChange:e})=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(gr,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"E-posta Bildirimleri"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.email).map(([r,s])=>n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:s,onChange:i=>e("email",r,i.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:r==="newReservation"?"Yeni Rezervasyon":r==="reservationUpdate"?"Rezervasyon Güncelleme":r==="driverAssignment"?"Şoför Atama":r==="paymentReceived"?"Ödeme Alındı":r==="cancellation"?"İptal Bildirimi":r==="weeklyReport"?"Haftalık Rapor":r})]},r))})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(tz,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"SMS Bildirimleri"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.sms).map(([r,s])=>n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:s,onChange:i=>e("sms",r,i.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:r==="reservationConfirmation"?"Rezervasyon Onayı":r==="driverAssignment"?"Şoför Atama":r==="paymentReminder"?"Ödeme Hatırlatması":r==="promotions"?"Promosyonlar":r})]},r))})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx($c,{className:"h-5 w-5 text-purple-600"}),n.jsx("span",{children:"Push Bildirimleri"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.push).map(([r,s])=>n.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsx("input",{type:"checkbox",checked:s,onChange:i=>e("push",r,i.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:r==="newReservation"?"Yeni Rezervasyon":r==="statusUpdate"?"Durum Güncellemesi":r==="promotions"?"Promosyonlar":r})]},r))})]})]}),UH=({settings:t,onChange:e})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Saat Dilimi"}),n.jsxs("select",{value:t.timezone,onChange:r=>e("timezone",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"Europe/Istanbul",children:"İstanbul (UTC+3)"}),n.jsx("option",{value:"Europe/London",children:"Londra (UTC+0)"}),n.jsx("option",{value:"America/New_York",children:"New York (UTC-5)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dil"}),n.jsxs("select",{value:t.language,onChange:r=>e("language",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"tr",children:"Türkçe"}),n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"de",children:"Deutsch"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarih Formatı"}),n.jsxs("select",{value:t.dateFormat,onChange:r=>e("dateFormat",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),n.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),n.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Saat Formatı"}),n.jsxs("select",{value:t.timeFormat,onChange:r=>e("timeFormat",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"24h",children:"24 Saat"}),n.jsx("option",{value:"12h",children:"12 Saat (AM/PM)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veri Saklama Süresi (Gün)"}),n.jsx("input",{type:"number",min:"30",max:"3650",value:t.dataRetention,onChange:r=>e("dataRetention",parseInt(r.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yedekleme Sıklığı"}),n.jsxs("select",{value:t.backupFrequency,onChange:r=>e("backupFrequency",r.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"daily",children:"Günlük"}),n.jsx("option",{value:"weekly",children:"Haftalık"}),n.jsx("option",{value:"monthly",children:"Aylık"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center space-x-3 p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:[n.jsx("input",{type:"checkbox",checked:t.maintenanceMode,onChange:r=>e("maintenanceMode",r.target.checked),className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Bakım Modu"}),n.jsx("p",{className:"text-xs text-yellow-700",children:"Aktif olduğunda site bakım moduna geçer"})]})]}),n.jsxs("label",{className:"flex items-center space-x-3 p-4 border border-red-200 rounded-lg bg-red-50",children:[n.jsx("input",{type:"checkbox",checked:t.debugMode,onChange:r=>e("debugMode",r.target.checked),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-red-800",children:"Debug Modu"}),n.jsx("p",{className:"text-xs text-red-700",children:"Sadece geliştirme aşamasında aktif edilmeli"})]})]})]})]});var TN={exports:{}};(function(t,e){(function(s,i){t.exports=i()})(typeof self<"u"?self:oj,function(){return function(r){var s={};function i(a){if(s[a])return s[a].exports;var o=s[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=s,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=3)}([function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function o(l,c){this.width=c,this.height=l.length/c,this.data=l}return o.createEmpty=function(l,c){return new o(new Uint8ClampedArray(l*c),l)},o.prototype.get=function(l,c){return l<0||l>=this.width||c<0||c>=this.height?!1:!!this.data[c*this.width+l]},o.prototype.set=function(l,c,u){this.data[c*this.width+l]=u?1:0},o.prototype.setRegion=function(l,c,u,d,h){for(var f=c;f<c+d;f++)for(var m=l;m<l+u;m++)this.set(m,f,!!h)},o}();s.BitMatrix=a},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(2);function o(c,u){return c^u}s.addOrSubtractGF=o;var l=function(){function c(u,d,h){this.primitive=u,this.size=d,this.generatorBase=h,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var f=1,m=0;m<this.size;m++)this.expTable[m]=f,f=f*2,f>=this.size&&(f=(f^this.primitive)&this.size-1);for(var m=0;m<this.size-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return c.prototype.multiply=function(u,d){return u===0||d===0?0:this.expTable[(this.logTable[u]+this.logTable[d])%(this.size-1)]},c.prototype.inverse=function(u){if(u===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[u]-1]},c.prototype.buildMonomial=function(u,d){if(u<0)throw new Error("Invalid monomial degree less than 0");if(d===0)return this.zero;var h=new Uint8ClampedArray(u+1);return h[0]=d,new a.default(this,h)},c.prototype.log=function(u){if(u===0)throw new Error("Can't take log(0)");return this.logTable[u]},c.prototype.exp=function(u){return this.expTable[u]},c}();s.default=l},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(1),o=function(){function l(c,u){if(u.length===0)throw new Error("No coefficients.");this.field=c;var d=u.length;if(d>1&&u[0]===0){for(var h=1;h<d&&u[h]===0;)h++;if(h===d)this.coefficients=c.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(d-h);for(var f=0;f<this.coefficients.length;f++)this.coefficients[f]=u[h+f]}}else this.coefficients=u}return l.prototype.degree=function(){return this.coefficients.length-1},l.prototype.isZero=function(){return this.coefficients[0]===0},l.prototype.getCoefficient=function(c){return this.coefficients[this.coefficients.length-1-c]},l.prototype.addOrSubtract=function(c){var u;if(this.isZero())return c;if(c.isZero())return this;var d=this.coefficients,h=c.coefficients;d.length>h.length&&(u=[h,d],d=u[0],h=u[1]);for(var f=new Uint8ClampedArray(h.length),m=h.length-d.length,p=0;p<m;p++)f[p]=h[p];for(var p=m;p<h.length;p++)f[p]=a.addOrSubtractGF(d[p-m],h[p]);return new l(this.field,f)},l.prototype.multiply=function(c){if(c===0)return this.field.zero;if(c===1)return this;for(var u=this.coefficients.length,d=new Uint8ClampedArray(u),h=0;h<u;h++)d[h]=this.field.multiply(this.coefficients[h],c);return new l(this.field,d)},l.prototype.multiplyPoly=function(c){if(this.isZero()||c.isZero())return this.field.zero;for(var u=this.coefficients,d=u.length,h=c.coefficients,f=h.length,m=new Uint8ClampedArray(d+f-1),p=0;p<d;p++)for(var N=u[p],k=0;k<f;k++)m[p+k]=a.addOrSubtractGF(m[p+k],this.field.multiply(N,h[k]));return new l(this.field,m)},l.prototype.multiplyByMonomial=function(c,u){if(c<0)throw new Error("Invalid degree less than 0");if(u===0)return this.field.zero;for(var d=this.coefficients.length,h=new Uint8ClampedArray(d+c),f=0;f<d;f++)h[f]=this.field.multiply(this.coefficients[f],u);return new l(this.field,h)},l.prototype.evaluateAt=function(c){var u=0;if(c===0)return this.getCoefficient(0);var d=this.coefficients.length;if(c===1)return this.coefficients.forEach(function(f){u=a.addOrSubtractGF(u,f)}),u;u=this.coefficients[0];for(var h=1;h<d;h++)u=a.addOrSubtractGF(this.field.multiply(c,u),this.coefficients[h]);return u},l}();s.default=o},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(4),o=i(5),l=i(11),c=i(12);function u(f){var m=c.locate(f);if(!m)return null;for(var p=0,N=m;p<N.length;p++){var k=N[p],w=l.extract(f,k),j=o.decode(w.matrix);if(j)return{binaryData:j.bytes,data:j.text,chunks:j.chunks,version:j.version,location:{topRightCorner:w.mappingFunction(k.dimension,0),topLeftCorner:w.mappingFunction(0,0),bottomRightCorner:w.mappingFunction(k.dimension,k.dimension),bottomLeftCorner:w.mappingFunction(0,k.dimension),topRightFinderPattern:k.topRight,topLeftFinderPattern:k.topLeft,bottomLeftFinderPattern:k.bottomLeft,bottomRightAlignmentPattern:k.alignmentPattern}}}return null}var d={inversionAttempts:"attemptBoth"};function h(f,m,p,N){N===void 0&&(N={});var k=d;Object.keys(k||{}).forEach(function(b){k[b]=N[b]||k[b]});var w=k.inversionAttempts==="attemptBoth"||k.inversionAttempts==="invertFirst",j=k.inversionAttempts==="onlyInvert"||k.inversionAttempts==="invertFirst",C=a.binarize(f,m,p,w),E=C.binarized,B=C.inverted,_=u(j?B:E);return!_&&(k.inversionAttempts==="attemptBoth"||k.inversionAttempts==="invertFirst")&&(_=u(j?E:B)),_}h.default=h,s.default=h},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0),o=8,l=24;function c(h,f,m){return h<f?f:h>m?m:h}var u=function(){function h(f,m){this.width=f,this.data=new Uint8ClampedArray(f*m)}return h.prototype.get=function(f,m){return this.data[m*this.width+f]},h.prototype.set=function(f,m,p){this.data[m*this.width+f]=p},h}();function d(h,f,m,p){if(h.length!==f*m*4)throw new Error("Malformed data passed to binarizer.");for(var N=new u(f,m),k=0;k<f;k++)for(var w=0;w<m;w++){var j=h[(w*f+k)*4+0],C=h[(w*f+k)*4+1],E=h[(w*f+k)*4+2];N.set(k,w,.2126*j+.7152*C+.0722*E)}for(var B=Math.ceil(f/o),_=Math.ceil(m/o),b=new u(B,_),v=0;v<_;v++)for(var y=0;y<B;y++){for(var A=0,F=1/0,P=0,w=0;w<o;w++)for(var k=0;k<o;k++){var S=N.get(y*o+k,v*o+w);A+=S,F=Math.min(F,S),P=Math.max(P,S)}var V=A/Math.pow(o,2);if(P-F<=l&&(V=F/2,v>0&&y>0)){var M=(b.get(y,v-1)+2*b.get(y-1,v)+b.get(y-1,v-1))/4;F<M&&(V=M)}b.set(y,v,V)}var H=a.BitMatrix.createEmpty(f,m),I=null;p&&(I=a.BitMatrix.createEmpty(f,m));for(var v=0;v<_;v++)for(var y=0;y<B;y++){for(var L=c(y,2,B-3),z=c(v,2,_-3),A=0,O=-2;O<=2;O++)for(var U=-2;U<=2;U++)A+=b.get(L+O,z+U);for(var q=A/25,O=0;O<o;O++)for(var U=0;U<o;U++){var k=y*o+O,w=v*o+U,Y=N.get(k,w);H.set(k,w,Y<=q),p&&I.set(k,w,!(Y<=q))}}return p?{binarized:H,inverted:I}:{binarized:H}}s.binarize=d},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0),o=i(6),l=i(9),c=i(10);function u(E,B){for(var _=E^B,b=0;_;)b++,_&=_-1;return b}function d(E,B){return B<<1|E}var h=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],f=[function(E){return(E.y+E.x)%2===0},function(E){return E.y%2===0},function(E){return E.x%3===0},function(E){return(E.y+E.x)%3===0},function(E){return(Math.floor(E.y/2)+Math.floor(E.x/3))%2===0},function(E){return E.x*E.y%2+E.x*E.y%3===0},function(E){return(E.y*E.x%2+E.y*E.x%3)%2===0},function(E){return((E.y+E.x)%2+E.y*E.x%3)%2===0}];function m(E){var B=17+4*E.versionNumber,_=a.BitMatrix.createEmpty(B,B);_.setRegion(0,0,9,9,!0),_.setRegion(B-8,0,8,9,!0),_.setRegion(0,B-8,9,8,!0);for(var b=0,v=E.alignmentPatternCenters;b<v.length;b++)for(var y=v[b],A=0,F=E.alignmentPatternCenters;A<F.length;A++){var P=F[A];y===6&&P===6||y===6&&P===B-7||y===B-7&&P===6||_.setRegion(y-2,P-2,5,5,!0)}return _.setRegion(6,9,1,B-17,!0),_.setRegion(9,6,B-17,1,!0),E.versionNumber>6&&(_.setRegion(B-11,0,3,6,!0),_.setRegion(0,B-11,6,3,!0)),_}function p(E,B,_){for(var b=f[_.dataMask],v=E.height,y=m(B),A=[],F=0,P=0,S=!0,V=v-1;V>0;V-=2){V===6&&V--;for(var M=0;M<v;M++)for(var H=S?v-1-M:M,I=0;I<2;I++){var L=V-I;if(!y.get(L,H)){P++;var z=E.get(L,H);b({y:H,x:L})&&(z=!z),F=d(z,F),P===8&&(A.push(F),P=0,F=0)}}S=!S}return A}function N(E){var B=E.height,_=Math.floor((B-17)/4);if(_<=6)return c.VERSIONS[_-1];for(var b=0,v=5;v>=0;v--)for(var y=B-9;y>=B-11;y--)b=d(E.get(y,v),b);for(var A=0,y=5;y>=0;y--)for(var v=B-9;v>=B-11;v--)A=d(E.get(y,v),A);for(var F=1/0,P,S=0,V=c.VERSIONS;S<V.length;S++){var M=V[S];if(M.infoBits===b||M.infoBits===A)return M;var H=u(b,M.infoBits);H<F&&(P=M,F=H),H=u(A,M.infoBits),H<F&&(P=M,F=H)}if(F<=3)return P}function k(E){for(var B=0,_=0;_<=8;_++)_!==6&&(B=d(E.get(_,8),B));for(var b=7;b>=0;b--)b!==6&&(B=d(E.get(8,b),B));for(var v=E.height,y=0,b=v-1;b>=v-7;b--)y=d(E.get(8,b),y);for(var _=v-8;_<v;_++)y=d(E.get(_,8),y);for(var A=1/0,F=null,P=0,S=h;P<S.length;P++){var V=S[P],M=V.bits,H=V.formatInfo;if(M===B||M===y)return H;var I=u(B,M);I<A&&(F=H,A=I),B!==y&&(I=u(y,M),I<A&&(F=H,A=I))}return A<=3?F:null}function w(E,B,_){var b=B.errorCorrectionLevels[_],v=[],y=0;if(b.ecBlocks.forEach(function(z){for(var O=0;O<z.numBlocks;O++)v.push({numDataCodewords:z.dataCodewordsPerBlock,codewords:[]}),y+=z.dataCodewordsPerBlock+b.ecCodewordsPerBlock}),E.length<y)return null;E=E.slice(0,y);for(var A=b.ecBlocks[0].dataCodewordsPerBlock,F=0;F<A;F++)for(var P=0,S=v;P<S.length;P++){var V=S[P];V.codewords.push(E.shift())}if(b.ecBlocks.length>1)for(var M=b.ecBlocks[0].numBlocks,H=b.ecBlocks[1].numBlocks,F=0;F<H;F++)v[M+F].codewords.push(E.shift());for(;E.length>0;)for(var I=0,L=v;I<L.length;I++){var V=L[I];V.codewords.push(E.shift())}return v}function j(E){var B=N(E);if(!B)return null;var _=k(E);if(!_)return null;var b=p(E,B,_),v=w(b,B,_.errorCorrectionLevel);if(!v)return null;for(var y=v.reduce(function(I,L){return I+L.numDataCodewords},0),A=new Uint8ClampedArray(y),F=0,P=0,S=v;P<S.length;P++){var V=S[P],M=l.decode(V.codewords,V.codewords.length-V.numDataCodewords);if(!M)return null;for(var H=0;H<V.numDataCodewords;H++)A[F++]=M[H]}try{return o.decode(A,B.versionNumber)}catch{return null}}function C(E){if(E==null)return null;var B=j(E);if(B)return B;for(var _=0;_<E.width;_++)for(var b=_+1;b<E.height;b++)E.get(_,b)!==E.get(b,_)&&(E.set(_,b,!E.get(_,b)),E.set(b,_,!E.get(b,_)));return j(E)}s.decode=C},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(7),o=i(8),l;(function(N){N.Numeric="numeric",N.Alphanumeric="alphanumeric",N.Byte="byte",N.Kanji="kanji",N.ECI="eci"})(l=s.Mode||(s.Mode={}));var c;(function(N){N[N.Terminator=0]="Terminator",N[N.Numeric=1]="Numeric",N[N.Alphanumeric=2]="Alphanumeric",N[N.Byte=4]="Byte",N[N.Kanji=8]="Kanji",N[N.ECI=7]="ECI"})(c||(c={}));function u(N,k){for(var w=[],j="",C=[10,12,14][k],E=N.readBits(C);E>=3;){var B=N.readBits(10);if(B>=1e3)throw new Error("Invalid numeric value above 999");var _=Math.floor(B/100),b=Math.floor(B/10)%10,v=B%10;w.push(48+_,48+b,48+v),j+=_.toString()+b.toString()+v.toString(),E-=3}if(E===2){var B=N.readBits(7);if(B>=100)throw new Error("Invalid numeric value above 99");var _=Math.floor(B/10),b=B%10;w.push(48+_,48+b),j+=_.toString()+b.toString()}else if(E===1){var B=N.readBits(4);if(B>=10)throw new Error("Invalid numeric value above 9");w.push(48+B),j+=B.toString()}return{bytes:w,text:j}}var d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function h(N,k){for(var w=[],j="",C=[9,11,13][k],E=N.readBits(C);E>=2;){var B=N.readBits(11),_=Math.floor(B/45),b=B%45;w.push(d[_].charCodeAt(0),d[b].charCodeAt(0)),j+=d[_]+d[b],E-=2}if(E===1){var _=N.readBits(6);w.push(d[_].charCodeAt(0)),j+=d[_]}return{bytes:w,text:j}}function f(N,k){for(var w=[],j="",C=[8,16,16][k],E=N.readBits(C),B=0;B<E;B++){var _=N.readBits(8);w.push(_)}try{j+=decodeURIComponent(w.map(function(b){return"%"+("0"+b.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:w,text:j}}function m(N,k){for(var w=[],j="",C=[8,10,12][k],E=N.readBits(C),B=0;B<E;B++){var _=N.readBits(13),b=Math.floor(_/192)<<8|_%192;b<7936?b+=33088:b+=49472,w.push(b>>8,b&255),j+=String.fromCharCode(o.shiftJISTable[b])}return{bytes:w,text:j}}function p(N,k){for(var w,j,C,E,B=new a.BitStream(N),_=k<=9?0:k<=26?1:2,b={text:"",bytes:[],chunks:[],version:k};B.available()>=4;){var v=B.readBits(4);if(v===c.Terminator)return b;if(v===c.ECI)B.readBits(1)===0?b.chunks.push({type:l.ECI,assignmentNumber:B.readBits(7)}):B.readBits(1)===0?b.chunks.push({type:l.ECI,assignmentNumber:B.readBits(14)}):B.readBits(1)===0?b.chunks.push({type:l.ECI,assignmentNumber:B.readBits(21)}):b.chunks.push({type:l.ECI,assignmentNumber:-1});else if(v===c.Numeric){var y=u(B,_);b.text+=y.text,(w=b.bytes).push.apply(w,y.bytes),b.chunks.push({type:l.Numeric,text:y.text})}else if(v===c.Alphanumeric){var A=h(B,_);b.text+=A.text,(j=b.bytes).push.apply(j,A.bytes),b.chunks.push({type:l.Alphanumeric,text:A.text})}else if(v===c.Byte){var F=f(B,_);b.text+=F.text,(C=b.bytes).push.apply(C,F.bytes),b.chunks.push({type:l.Byte,bytes:F.bytes,text:F.text})}else if(v===c.Kanji){var P=m(B,_);b.text+=P.text,(E=b.bytes).push.apply(E,P.bytes),b.chunks.push({type:l.Kanji,bytes:P.bytes,text:P.text})}}if(B.available()===0||B.readBits(B.available())===0)return b}s.decode=p},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=function(){function o(l){this.byteOffset=0,this.bitOffset=0,this.bytes=l}return o.prototype.readBits=function(l){if(l<1||l>32||l>this.available())throw new Error("Cannot read "+l.toString()+" bits");var c=0;if(this.bitOffset>0){var u=8-this.bitOffset,d=l<u?l:u,h=u-d,f=255>>8-d<<h;c=(this.bytes[this.byteOffset]&f)>>h,l-=d,this.bitOffset+=d,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(l>0){for(;l>=8;)c=c<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,l-=8;if(l>0){var h=8-l,f=255>>h<<h;c=c<<l|(this.bytes[this.byteOffset]&f)>>h,this.bitOffset+=l}}return c},o.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},o}();s.BitStream=a},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(1),o=i(2);function l(h,f,m,p){var N;f.degree()<m.degree()&&(N=[m,f],f=N[0],m=N[1]);for(var k=f,w=m,j=h.zero,C=h.one;w.degree()>=p/2;){var E=k,B=j;if(k=w,j=C,k.isZero())return null;w=E;for(var _=h.zero,b=k.getCoefficient(k.degree()),v=h.inverse(b);w.degree()>=k.degree()&&!w.isZero();){var y=w.degree()-k.degree(),A=h.multiply(w.getCoefficient(w.degree()),v);_=_.addOrSubtract(h.buildMonomial(y,A)),w=w.addOrSubtract(k.multiplyByMonomial(y,A))}if(C=_.multiplyPoly(j).addOrSubtract(B),w.degree()>=k.degree())return null}var F=C.getCoefficient(0);if(F===0)return null;var P=h.inverse(F);return[C.multiply(P),w.multiply(P)]}function c(h,f){var m=f.degree();if(m===1)return[f.getCoefficient(1)];for(var p=new Array(m),N=0,k=1;k<h.size&&N<m;k++)f.evaluateAt(k)===0&&(p[N]=h.inverse(k),N++);return N!==m?null:p}function u(h,f,m){for(var p=m.length,N=new Array(p),k=0;k<p;k++){for(var w=h.inverse(m[k]),j=1,C=0;C<p;C++)k!==C&&(j=h.multiply(j,a.addOrSubtractGF(1,h.multiply(m[C],w))));N[k]=h.multiply(f.evaluateAt(w),h.inverse(j)),h.generatorBase!==0&&(N[k]=h.multiply(N[k],w))}return N}function d(h,f){var m=new Uint8ClampedArray(h.length);m.set(h);for(var p=new a.default(285,256,0),N=new o.default(p,m),k=new Uint8ClampedArray(f),w=!1,j=0;j<f;j++){var C=N.evaluateAt(p.exp(j+p.generatorBase));k[k.length-1-j]=C,C!==0&&(w=!0)}if(!w)return m;var E=new o.default(p,k),B=l(p,p.buildMonomial(f,1),E,f);if(B===null)return null;var _=c(p,B[0]);if(_==null)return null;for(var b=u(p,B[1],_),v=0;v<_.length;v++){var y=m.length-1-p.log(_[v]);if(y<0)return null;m[y]=a.addOrSubtractGF(m[y],b[v])}return m}s.decode=d},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0}),s.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=i(0);function o(d,h,f,m){var p=d.x-h.x+f.x-m.x,N=d.y-h.y+f.y-m.y;if(p===0&&N===0)return{a11:h.x-d.x,a12:h.y-d.y,a13:0,a21:f.x-h.x,a22:f.y-h.y,a23:0,a31:d.x,a32:d.y,a33:1};var k=h.x-f.x,w=m.x-f.x,j=h.y-f.y,C=m.y-f.y,E=k*C-w*j,B=(p*C-w*N)/E,_=(k*N-p*j)/E;return{a11:h.x-d.x+B*h.x,a12:h.y-d.y+B*h.y,a13:B,a21:m.x-d.x+_*m.x,a22:m.y-d.y+_*m.y,a23:_,a31:d.x,a32:d.y,a33:1}}function l(d,h,f,m){var p=o(d,h,f,m);return{a11:p.a22*p.a33-p.a23*p.a32,a12:p.a13*p.a32-p.a12*p.a33,a13:p.a12*p.a23-p.a13*p.a22,a21:p.a23*p.a31-p.a21*p.a33,a22:p.a11*p.a33-p.a13*p.a31,a23:p.a13*p.a21-p.a11*p.a23,a31:p.a21*p.a32-p.a22*p.a31,a32:p.a12*p.a31-p.a11*p.a32,a33:p.a11*p.a22-p.a12*p.a21}}function c(d,h){return{a11:d.a11*h.a11+d.a21*h.a12+d.a31*h.a13,a12:d.a12*h.a11+d.a22*h.a12+d.a32*h.a13,a13:d.a13*h.a11+d.a23*h.a12+d.a33*h.a13,a21:d.a11*h.a21+d.a21*h.a22+d.a31*h.a23,a22:d.a12*h.a21+d.a22*h.a22+d.a32*h.a23,a23:d.a13*h.a21+d.a23*h.a22+d.a33*h.a23,a31:d.a11*h.a31+d.a21*h.a32+d.a31*h.a33,a32:d.a12*h.a31+d.a22*h.a32+d.a32*h.a33,a33:d.a13*h.a31+d.a23*h.a32+d.a33*h.a33}}function u(d,h){for(var f=l({x:3.5,y:3.5},{x:h.dimension-3.5,y:3.5},{x:h.dimension-6.5,y:h.dimension-6.5},{x:3.5,y:h.dimension-3.5}),m=o(h.topLeft,h.topRight,h.alignmentPattern,h.bottomLeft),p=c(m,f),N=a.BitMatrix.createEmpty(h.dimension,h.dimension),k=function(_,b){var v=p.a13*_+p.a23*b+p.a33;return{x:(p.a11*_+p.a21*b+p.a31)/v,y:(p.a12*_+p.a22*b+p.a32)/v}},w=0;w<h.dimension;w++)for(var j=0;j<h.dimension;j++){var C=j+.5,E=w+.5,B=k(C,E);N.set(j,w,d.get(Math.floor(B.x),Math.floor(B.y)))}return{matrix:N,mappingFunction:k}}s.extract=u},function(r,s,i){Object.defineProperty(s,"__esModule",{value:!0});var a=4,o=.5,l=1.5,c=function(C,E){return Math.sqrt(Math.pow(E.x-C.x,2)+Math.pow(E.y-C.y,2))};function u(C){return C.reduce(function(E,B){return E+B})}function d(C,E,B){var _,b,v,y,A=c(C,E),F=c(E,B),P=c(C,B),S,V,M;return F>=A&&F>=P?(_=[E,C,B],S=_[0],V=_[1],M=_[2]):P>=F&&P>=A?(b=[C,E,B],S=b[0],V=b[1],M=b[2]):(v=[C,B,E],S=v[0],V=v[1],M=v[2]),(M.x-V.x)*(S.y-V.y)-(M.y-V.y)*(S.x-V.x)<0&&(y=[M,S],S=y[0],M=y[1]),{bottomLeft:S,topLeft:V,topRight:M}}function h(C,E,B,_){var b=(u(m(C,B,_,5))/7+u(m(C,E,_,5))/7+u(m(B,C,_,5))/7+u(m(E,C,_,5))/7)/4;if(b<1)throw new Error("Invalid module size");var v=Math.round(c(C,E)/b),y=Math.round(c(C,B)/b),A=Math.floor((v+y)/2)+7;switch(A%4){case 0:A++;break;case 2:A--;break}return{dimension:A,moduleSize:b}}function f(C,E,B,_){var b=[{x:Math.floor(C.x),y:Math.floor(C.y)}],v=Math.abs(E.y-C.y)>Math.abs(E.x-C.x),y,A,F,P;v?(y=Math.floor(C.y),A=Math.floor(C.x),F=Math.floor(E.y),P=Math.floor(E.x)):(y=Math.floor(C.x),A=Math.floor(C.y),F=Math.floor(E.x),P=Math.floor(E.y));for(var S=Math.abs(F-y),V=Math.abs(P-A),M=Math.floor(-S/2),H=y<F?1:-1,I=A<P?1:-1,L=!0,z=y,O=A;z!==F+H;z+=H){var U=v?O:z,q=v?z:O;if(B.get(U,q)!==L&&(L=!L,b.push({x:U,y:q}),b.length===_+1))break;if(M+=V,M>0){if(O===P)break;O+=I,M-=S}}for(var Y=[],J=0;J<_;J++)b[J]&&b[J+1]?Y.push(c(b[J],b[J+1])):Y.push(0);return Y}function m(C,E,B,_){var b,v=E.y-C.y,y=E.x-C.x,A=f(C,E,B,Math.ceil(_/2)),F=f(C,{x:C.x-y,y:C.y-v},B,Math.ceil(_/2)),P=A.shift()+F.shift()-1;return(b=F.concat(P)).concat.apply(b,A)}function p(C,E){var B=u(C)/u(E),_=0;return E.forEach(function(b,v){_+=Math.pow(C[v]-b*B,2)}),{averageSize:B,error:_}}function N(C,E,B){try{var _=m(C,{x:-1,y:C.y},B,E.length),b=m(C,{x:C.x,y:-1},B,E.length),v={x:Math.max(0,C.x-C.y)-1,y:Math.max(0,C.y-C.x)-1},y=m(C,v,B,E.length),A={x:Math.min(B.width,C.x+C.y)+1,y:Math.min(B.height,C.y+C.x)+1},F=m(C,A,B,E.length),P=p(_,E),S=p(b,E),V=p(y,E),M=p(F,E),H=Math.sqrt(P.error*P.error+S.error*S.error+V.error*V.error+M.error*M.error),I=(P.averageSize+S.averageSize+V.averageSize+M.averageSize)/4,L=(Math.pow(P.averageSize-I,2)+Math.pow(S.averageSize-I,2)+Math.pow(V.averageSize-I,2)+Math.pow(M.averageSize-I,2))/I;return H+L}catch{return 1/0}}function k(C,E){for(var B=Math.round(E.x);C.get(B,Math.round(E.y));)B--;for(var _=Math.round(E.x);C.get(_,Math.round(E.y));)_++;for(var b=(B+_)/2,v=Math.round(E.y);C.get(Math.round(b),v);)v--;for(var y=Math.round(E.y);C.get(Math.round(b),y);)y++;var A=(v+y)/2;return{x:b,y:A}}function w(C){for(var E=[],B=[],_=[],b=[],v=function(U){for(var q=0,Y=!1,J=[0,0,0,0,0],G=function(le){var xe=C.get(le,U);if(xe===Y)q++;else{J=[J[1],J[2],J[3],J[4],q],q=1,Y=xe;var Ae=u(J)/7,ue=Math.abs(J[0]-Ae)<Ae&&Math.abs(J[1]-Ae)<Ae&&Math.abs(J[2]-3*Ae)<3*Ae&&Math.abs(J[3]-Ae)<Ae&&Math.abs(J[4]-Ae)<Ae&&!xe,pe=u(J.slice(-3))/3,Qe=Math.abs(J[2]-pe)<pe&&Math.abs(J[3]-pe)<pe&&Math.abs(J[4]-pe)<pe&&xe;if(ue){var He=le-J[3]-J[4],ot=He-J[2],be={startX:ot,endX:He,y:U},Vt=B.filter(function(bt){return ot>=bt.bottom.startX&&ot<=bt.bottom.endX||He>=bt.bottom.startX&&ot<=bt.bottom.endX||ot<=bt.bottom.startX&&He>=bt.bottom.endX&&J[2]/(bt.bottom.endX-bt.bottom.startX)<l&&J[2]/(bt.bottom.endX-bt.bottom.startX)>o});Vt.length>0?Vt[0].bottom=be:B.push({top:be,bottom:be})}if(Qe){var yr=le-J[4],sr=yr-J[3],be={startX:sr,y:U,endX:yr},Vt=b.filter(function(wt){return sr>=wt.bottom.startX&&sr<=wt.bottom.endX||yr>=wt.bottom.startX&&sr<=wt.bottom.endX||sr<=wt.bottom.startX&&yr>=wt.bottom.endX&&J[2]/(wt.bottom.endX-wt.bottom.startX)<l&&J[2]/(wt.bottom.endX-wt.bottom.startX)>o});Vt.length>0?Vt[0].bottom=be:b.push({top:be,bottom:be})}}},ae=-1;ae<=C.width;ae++)G(ae);E.push.apply(E,B.filter(function(le){return le.bottom.y!==U&&le.bottom.y-le.top.y>=2})),B=B.filter(function(le){return le.bottom.y===U}),_.push.apply(_,b.filter(function(le){return le.bottom.y!==U})),b=b.filter(function(le){return le.bottom.y===U})},y=0;y<=C.height;y++)v(y);E.push.apply(E,B.filter(function(U){return U.bottom.y-U.top.y>=2})),_.push.apply(_,b);var A=E.filter(function(U){return U.bottom.y-U.top.y>=2}).map(function(U){var q=(U.top.startX+U.top.endX+U.bottom.startX+U.bottom.endX)/4,Y=(U.top.y+U.bottom.y+1)/2;if(C.get(Math.round(q),Math.round(Y))){var J=[U.top.endX-U.top.startX,U.bottom.endX-U.bottom.startX,U.bottom.y-U.top.y+1],G=u(J)/J.length,ae=N({x:Math.round(q),y:Math.round(Y)},[1,1,3,1,1],C);return{score:ae,x:q,y:Y,size:G}}}).filter(function(U){return!!U}).sort(function(U,q){return U.score-q.score}).map(function(U,q,Y){if(q>a)return null;var J=Y.filter(function(ae,le){return q!==le}).map(function(ae){return{x:ae.x,y:ae.y,score:ae.score+Math.pow(ae.size-U.size,2)/U.size,size:ae.size}}).sort(function(ae,le){return ae.score-le.score});if(J.length<2)return null;var G=U.score+J[0].score+J[1].score;return{points:[U].concat(J.slice(0,2)),score:G}}).filter(function(U){return!!U}).sort(function(U,q){return U.score-q.score});if(A.length===0)return null;var F=d(A[0].points[0],A[0].points[1],A[0].points[2]),P=F.topRight,S=F.topLeft,V=F.bottomLeft,M=j(C,_,P,S,V),H=[];M&&H.push({alignmentPattern:{x:M.alignmentPattern.x,y:M.alignmentPattern.y},bottomLeft:{x:V.x,y:V.y},dimension:M.dimension,topLeft:{x:S.x,y:S.y},topRight:{x:P.x,y:P.y}});var I=k(C,P),L=k(C,S),z=k(C,V),O=j(C,_,I,L,z);return O&&H.push({alignmentPattern:{x:O.alignmentPattern.x,y:O.alignmentPattern.y},bottomLeft:{x:z.x,y:z.y},topLeft:{x:L.x,y:L.y},topRight:{x:I.x,y:I.y},dimension:O.dimension}),H.length===0?null:H}s.locate=w;function j(C,E,B,_,b){var v,y,A;try{v=h(_,B,b,C),y=v.dimension,A=v.moduleSize}catch{return null}var F={x:B.x-_.x+b.x,y:B.y-_.y+b.y},P=(c(_,b)+c(_,B))/2/A,S=1-3/P,V={x:_.x+S*(F.x-_.x),y:_.y+S*(F.y-_.y)},M=E.map(function(I){var L=(I.top.startX+I.top.endX+I.bottom.startX+I.bottom.endX)/4,z=(I.top.y+I.bottom.y+1)/2;if(C.get(Math.floor(L),Math.floor(z))){var O=[I.top.endX-I.top.startX,I.bottom.endX-I.bottom.startX,I.bottom.y-I.top.y+1];u(O)/O.length;var U=N({x:Math.floor(L),y:Math.floor(z)},[1,1,1],C),q=U+c({x:L,y:z},V);return{x:L,y:z,score:q}}}).filter(function(I){return!!I}).sort(function(I,L){return I.score-L.score}),H=P>=15&&M.length?M[0]:V;return{alignmentPattern:H,dimension:y}}}]).default})})(TN);var $H=TN.exports;const HH=bw($H),KH=({isOpen:t,onClose:e,onScan:r})=>{const[s,i]=g.useState(""),[a,o]=g.useState(!1),l=g.useRef(null),c=g.useRef(null),u=g.useRef(!1);g.useEffect(()=>(console.log("🔥 useEffect çalışıyor - isOpen:",t),t&&setTimeout(()=>{console.log("🔥 startCamera çağırılıyor (gecikme ile)..."),d()},100),()=>{u.current=!1,c.current&&c.current.getTracks().forEach(m=>m.stop())}),[t]);const d=async()=>{try{console.log("🎥 Kamera başlatılıyor...");const m=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});console.log("✅ Kamera stream alındı:",m),c.current=m,console.log("🔍 videoRef.current:",l.current),l.current?(l.current.srcObject=m,console.log("✅ Video element'e stream atandı"),o(!0),console.log("✅ setCameraActive(true) çağırıldı"),u.current=!0):console.error("❌ videoRef.current null!")}catch(m){console.error("❌ Kamera hatası:",m),o(!1)}},h=()=>{const m=()=>{if(!u.current||!l.current||!a)return;const p=l.current,N=document.createElement("canvas"),k=N.getContext("2d");if(N.width=p.videoWidth,N.height=p.videoHeight,N.width>0&&N.height>0){k.drawImage(p,0,0,N.width,N.height);const w=k.getImageData(0,0,N.width,N.height),j=HH(w.data,w.width,w.height);if(j){console.log("🎯 QR Kod bulundu:",j.data),u.current=!1,r(j.data);return}}requestAnimationFrame(m)};l.current&&l.current.readyState>=2?m():l.current&&l.current.addEventListener("loadeddata",m,{once:!0})},f=()=>{s.trim()&&(console.log("✋ Manuel ID girişi:",s.trim()),r(s.trim()),i(""),e())};return t?(console.log("🔥 QR Scanner Render - cameraActive:",a),n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"QR Kod Tarayıcı"}),n.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{height:"300px"},children:[!a&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx("p",{className:"text-lg",children:"📷 Kamera açılıyor..."}),n.jsx("p",{className:"text-sm mt-2 opacity-70",children:"Kamera izni gerekiyor"})]})}),n.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-full object-cover ${a?"opacity-100":"opacity-0"}`,onLoadedMetadata:()=>{console.log("✅ Video metadata yüklendi"),u.current&&h()}}),a&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-48 h-48 border-4 border-green-400 border-opacity-70 rounded-lg",children:n.jsx("div",{className:"w-full h-full border-2 border-white border-dashed rounded-lg animate-pulse"})})}),a&&n.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:n.jsx("p",{className:"text-white text-sm text-center bg-black bg-opacity-50 p-2 rounded",children:"📷 QR kodunu yeşil kare içinde tutun"})})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manuel Rezervasyon ID"}),n.jsx("input",{type:"text",value:s,onChange:m=>i(m.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"ID girin"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:f,disabled:!s.trim(),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Gönder"}),n.jsx("button",{onClick:e,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400",children:"İptal"})]})]})})):null},Ew=()=>{const{currentUser:t}=Ii(),{user:e,userProfile:r}=Ds(),[s,i]=g.useState([]),[a,o]=g.useState(!0),[l,c]=g.useState(null),[u,d]=g.useState("dashboard"),[h,f]=g.useState(!1),[m,p]=g.useState(null),N=v=>v?typeof v=="string"?v:typeof v=="object"?v.address?v.address:v.name?v.name:v.formatted_address?v.formatted_address:v.description?v.description:v.lat&&v.lng?`${v.lat}, ${v.lng}`:"Lokasyon bilgisi mevcut":String(v):"Belirtilmemiş";g.useEffect(()=>{if(!(t!=null&&t.uid)&&!(e!=null&&e.uid)){console.log("DriverDashboard: User ID bulunamadı");return}const v=(t==null?void 0:t.uid)||(e==null?void 0:e.uid),y=hr(Ie(ie,"reservations"),Ar("assignedDriverId","==",v)),A=hr(Ie(ie,"reservations"),Ar("assignedDriver","==",v)),F=Hr(y,V=>{S(V,"assignedDriverId")},V=>{console.error("DriverDashboard: assignedDriverId query error:",V)}),P=Hr(A,V=>{S(V,"assignedDriver")},V=>{console.error("DriverDashboard: assignedDriver query error:",V)});function S(V,M){const H=V.docs.map(I=>({id:I.id,...I.data()}));console.log(`🚗 DriverDashboard: ${M} sorgusu sonucu:`,{count:H.length,reservations:H.map(I=>({id:I.id,reservationId:I.reservationId,status:I.status,assignedDriver:I.assignedDriver,assignedDriverId:I.assignedDriverId}))}),i(I=>{const L=[...I];H.forEach(O=>{const U=L.findIndex(q=>q.id===O.id);U>=0?L[U]=O:L.push(O)}),L.sort((O,U)=>{var J,G;const q=((J=O.tripDetails)==null?void 0:J.date)||O.date,Y=((G=U.tripDetails)==null?void 0:G.date)||U.date;return q&&Y?new Date(Y)-new Date(q):0});const z=L.find(O=>O.status==="trip-started");return p(z),L}),o(!1)}return()=>{F(),P()}},[t,e,r]);const k=s.filter(v=>v.status==="assigned"||v.status==="confirmed"),w=async v=>{try{const y=je(ie,"reservations",v);await Kt(y,{status:"trip-started",tripStartTime:new Date().toISOString()});const A=s.find(F=>F.id===v);p(A),oe.success("Yolculuk başlatıldı!"),d("active-trip")}catch(y){console.error("Error starting trip:",y),oe.error("Yolculuk başlatılırken hata oluştu")}},j=async v=>{try{const y=(t==null?void 0:t.uid)||(e==null?void 0:e.uid);if(!y){oe.error("Kullanıcı bilgisi bulunamadı");return}console.log("🏁 Yolculuk tamamlanıyor - Finansal işlemler başlatılıyor..."),await _U(v,y),oe.success("Yolculuk tamamlandı! Finansal işlemler güncellendi."),d("dashboard"),p(null)}catch(y){console.error("Error completing trip:",y),oe.error("Yolculuk tamamlanırken hata oluştu: "+y.message)}},C=()=>n.jsx(Ni,{children:h&&n.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:n.jsxs($.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"QR Kod Okut"}),n.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(We,{className:"w-6 h-6 text-gray-500"})})]}),n.jsx(KH,{isOpen:!0,onClose:()=>f(!1),onScan:v=>{console.log("QR Scan Result:",v);const y=v;console.log("Mevcut rezervasyonlar ve ID'leri:"),s.forEach(F=>{console.log(`- Document ID: ${F.id}, ReservationID: ${F.reservationId}, Status: ${F.status}`)});const A=s.find(F=>F.id===y||F.reservationId===y);console.log("Bulunan rezervasyon:",A),A?(w(A.id),f(!1),oe.success(`QR kod başarıyla okundu! Rezervasyon: ${A.reservationId||A.id}`)):(console.error("Rezervasyon bulunamadı. Aranan ID:",y),oe.error(`Bu QR koda ait rezervasyon bulunamadı: ${y}`))}})]})})}),E=()=>{var v,y;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[n.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Merhaba ",(r==null?void 0:r.firstName)||(r==null?void 0:r.name)||"Şoför","!"]}),n.jsxs("p",{className:"text-blue-100",children:[k.length," atanmış göreviniz var"]})]}),m&&n.jsx($.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-green-50 border-2 border-green-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-green-500 p-2 rounded-full",children:n.jsx(De,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-green-900",children:"Aktif Yolculuk"}),n.jsxs("p",{className:"text-sm text-green-700",children:[(v=m.customerInfo)==null?void 0:v.firstName," ",(y=m.customerInfo)==null?void 0:y.lastName]})]})]}),n.jsx("button",{onClick:()=>d("active-trip"),className:"bg-green-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Görüntüle"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(!0),className:"bg-white border-2 border-gray-200 rounded-xl p-6 text-center hover:border-blue-300 transition-colors",children:[n.jsx(H0,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"QR Kod Okut"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Yolculuk Başlat"})]}),n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d("trip-details"),className:"bg-white border-2 border-gray-200 rounded-xl p-6 text-center hover:border-blue-300 transition-colors",children:[n.jsx(ws,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Geçmiş İşler"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tamamlananlar"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Atanmış Görevler"}),a?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(A=>n.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-2/3"})]},A))}):k.length===0?n.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[n.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Henüz atanmış görev yok"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Yeni görevler için bekleyin"})]}):n.jsx("div",{className:"space-y-3",children:k.map(A=>{var F,P,S,V,M,H,I,L,z,O;return n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:[(F=A.customerInfo)==null?void 0:F.firstName," ",(P=A.customerInfo)==null?void 0:P.lastName]}),n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:A.reservationId||A.id})]}),n.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-lg text-xs font-medium",children:"Atandı"})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(lt,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{children:N(((S=A.tripDetails)==null?void 0:S.pickupLocation)||A.pickupLocation)})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(lt,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{children:N(((V=A.tripDetails)==null?void 0:V.dropoffLocation)||A.dropoffLocation)})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(tt,{className:"w-4 h-4"}),n.jsx("span",{children:((M=A.tripDetails)==null?void 0:M.date)||A.date||"Belirtilmemiş"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Mt,{className:"w-4 h-4"}),n.jsx("span",{children:((H=A.tripDetails)==null?void 0:H.time)||A.time||"Belirtilmemiş"})]})]}),(((I=A.tripDetails)==null?void 0:I.flightNumber)||A.flightNumber)&&n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(hp,{className:"w-4 h-4 text-blue-500"}),n.jsxs("span",{children:["Uçuş: ",((L=A.tripDetails)==null?void 0:L.flightNumber)||A.flightNumber]})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(mt,{className:"w-4 h-4"}),n.jsxs("span",{children:[((z=A.tripDetails)==null?void 0:z.passengerCount)||A.passengerCount||1," Yolcu"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(bo,{className:"w-4 h-4"}),n.jsxs("span",{children:[((O=A.tripDetails)==null?void 0:O.luggageCount)||A.luggageCount||0," Bavul"]})]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{c(A),d("reservation-details")},className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Detaylar"}),n.jsx("button",{onClick:()=>f(!0),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"QR Okut"})]})]},A.id)})})]})]})},B=()=>{var v,y,A,F,P,S,V;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>d("dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(bs,{className:"w-6 h-6 text-gray-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aktif Yolculuk"})]}),m&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-green-500 p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:n.jsx(De,{className:"w-10 h-10 text-white"})}),n.jsx("h2",{className:"text-xl font-bold text-green-900 mb-2",children:"Yolculuk Devam Ediyor"}),n.jsxs("p",{className:"text-green-700",children:[(v=m.customerInfo)==null?void 0:v.firstName," ",(y=m.customerInfo)==null?void 0:y.lastName]}),n.jsx("p",{className:"text-sm text-green-600 mt-1",children:m.reservationId||m.id})]})}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Yolculuk Detayları"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:n.jsx(lt,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Alış Noktası"}),n.jsx("p",{className:"text-gray-600",children:N(((A=m.tripDetails)==null?void 0:A.pickupLocation)||m.pickupLocation)})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:n.jsx(lt,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Varış Noktası"}),n.jsx("p",{className:"text-gray-600",children:N(((F=m.tripDetails)==null?void 0:F.dropoffLocation)||m.dropoffLocation)})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:n.jsx(ze,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Müşteri"}),n.jsxs("p",{className:"text-gray-600",children:[(P=m.customerInfo)==null?void 0:P.firstName," ",(S=m.customerInfo)==null?void 0:S.lastName]}),n.jsx("p",{className:"text-sm text-gray-500",children:(V=m.customerInfo)==null?void 0:V.phone})]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{var L,z;const M=N(((L=m.tripDetails)==null?void 0:L.pickupLocation)||m.pickupLocation),H=N(((z=m.tripDetails)==null?void 0:z.dropoffLocation)||m.dropoffLocation),I=`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(M||"Başlangıç")}&destination=${encodeURIComponent(H||"Varış")}&travelmode=driving`;window.open(I,"_blank"),oe.success("Google Maps navigasyon açıldı!")},className:"w-full bg-blue-500 text-white py-4 px-6 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-3",children:[n.jsx(rv,{className:"w-6 h-6"}),n.jsx("span",{children:"Google Maps'te Aç"}),n.jsx(zV,{className:"w-5 h-5"})]}),n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(m.id),className:"w-full bg-green-500 text-white py-4 px-6 rounded-xl font-bold text-lg hover:bg-green-600 transition-colors flex items-center justify-center space-x-3",children:[n.jsx($e,{className:"w-6 h-6"}),n.jsx("span",{children:"Yolculuğu Tamamla"})]})]})]})]})},_=()=>{var v,y,A,F,P,S,V,M,H,I,L,z,O,U,q;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>d("dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(bs,{className:"w-6 h-6 text-gray-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezervasyon Detayı"})]}),l&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Müşteri Bilgileri"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ze,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[(v=l.customerInfo)==null?void 0:v.firstName," ",(y=l.customerInfo)==null?void 0:y.lastName]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Müşteri"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(kt,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:(A=l.customerInfo)==null?void 0:A.phone}),n.jsx("p",{className:"text-sm text-gray-500",children:"Telefon"})]})]}),((F=l.customerInfo)==null?void 0:F.email)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(gr,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:(P=l.customerInfo)==null?void 0:P.email}),n.jsx("p",{className:"text-sm text-gray-500",children:"E-posta"})]})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Yolculuk Bilgileri"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:n.jsx(lt,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Alış Noktası"}),n.jsx("p",{className:"text-gray-600",children:N(((S=l.tripDetails)==null?void 0:S.pickupLocation)||l.pickupLocation)})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:n.jsx(lt,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Varış Noktası"}),n.jsx("p",{className:"text-gray-600",children:N(((V=l.tripDetails)==null?void 0:V.dropoffLocation)||l.dropoffLocation)})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tt,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:((M=l.tripDetails)==null?void 0:M.date)||l.date}),n.jsx("p",{className:"text-sm text-gray-500",children:"Tarih"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Mt,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:((H=l.tripDetails)==null?void 0:H.time)||l.time}),n.jsx("p",{className:"text-sm text-gray-500",children:"Saat"})]})]})]}),(((I=l.tripDetails)==null?void 0:I.flightNumber)||l.flightNumber)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(hp,{className:"w-5 h-5 text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:((L=l.tripDetails)==null?void 0:L.flightNumber)||l.flightNumber}),n.jsx("p",{className:"text-sm text-gray-500",children:"Uçuş Numarası"})]})]}),(((z=l.tripDetails)==null?void 0:z.passengerCount)||l.passengerCount)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(mt,{className:"w-5 h-5 text-purple-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[((O=l.tripDetails)==null?void 0:O.passengerCount)||l.passengerCount," kişi"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Yolcu Sayısı"})]})]}),(((U=l.tripDetails)==null?void 0:U.luggageCount)||l.luggageCount)&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(bo,{className:"w-5 h-5 text-orange-500"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[((q=l.tripDetails)==null?void 0:q.luggageCount)||l.luggageCount," adet"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Bagaj"})]})]})]})]}),n.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(!0),className:"w-full bg-blue-500 text-white py-4 px-6 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-3",children:[n.jsx(H0,{className:"w-6 h-6"}),n.jsx("span",{children:"QR Kod Okut ve Başlat"})]})]})]})},b=()=>{const v=s.filter(y=>y.status==="completed");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>d("dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(bs,{className:"w-6 h-6 text-gray-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Geçmiş İşler"})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white",children:[n.jsx("h2",{className:"text-xl font-bold mb-2",children:"Tamamlanan Yolculuklar"}),n.jsxs("p",{className:"text-green-100",children:["Toplam ",v.length," yolculuk tamamladınız"]})]}),n.jsx("div",{children:v.length===0?n.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[n.jsx($e,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Henüz tamamlanmış yolculuk yok"})]}):n.jsx("div",{className:"space-y-3",children:v.map(y=>{var A,F,P,S,V,M;return n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-xl p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:[(A=y.customerInfo)==null?void 0:A.firstName," ",(F=y.customerInfo)==null?void 0:F.lastName]}),n.jsx("p",{className:"text-sm text-green-600 font-medium",children:y.reservationId||y.id})]}),n.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-lg text-xs font-medium",children:"Tamamlandı"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(lt,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{children:N(((P=y.tripDetails)==null?void 0:P.pickupLocation)||y.pickupLocation)})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(lt,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{children:N(((S=y.tripDetails)==null?void 0:S.dropoffLocation)||y.dropoffLocation)})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(tt,{className:"w-4 h-4"}),n.jsx("span",{children:((V=y.tripDetails)==null?void 0:V.date)||y.date})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Mt,{className:"w-4 h-4"}),n.jsx("span",{children:((M=y.tripDetails)==null?void 0:M.time)||y.time})]})]})]})]},y.id)})})})]})};return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 max-w-md mx-auto",children:[n.jsxs(Ni,{mode:"wait",children:[u==="dashboard"&&n.jsx($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:n.jsx(E,{})},"dashboard"),u==="active-trip"&&n.jsx($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:n.jsx(B,{})},"active-trip"),u==="reservation-details"&&n.jsx($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:n.jsx(_,{})},"reservation-details"),u==="trip-details"&&n.jsx($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:n.jsx(b,{})},"trip-details")]}),n.jsx(C,{})]})},GH=()=>{const{state:t,user:e,updateReservation:r,showNotification:s}=Ii(),{reservations:i,drivers:a}=t,[o,l]=g.useState(null),[c,u]=g.useState([]),[d,h]=g.useState("all"),[f,m]=g.useState(""),[p,N]=g.useState("");g.useEffect(()=>{const v=a.find(y=>y.email===(e==null?void 0:e.email));if(l(v),v){const y=i.filter(A=>A.driverId===v.id);u(y)}},[a,i,e]);const k=[{value:"assigned",label:"Atandı",color:"status-assigned"},{value:"in-progress",label:"Devam Ediyor",color:"status-progress"},{value:"completed",label:"Tamamlandı",color:"status-completed"},{value:"cancelled",label:"İptal Edildi",color:"status-cancelled"}],w=v=>k.find(y=>y.value===v)||k[0],j=async(v,y)=>{try{await r(v,{status:y}),s("Sefer durumu güncellendi","success")}catch(A){console.error("Durum güncelleme hatası:",A),s("Durum güncellenirken bir hata oluştu","error")}},C=c.filter(v=>{var P,S,V,M,H,I,L,z,O,U;const y=((P=v.reservationId)==null?void 0:P.toLowerCase().includes(p.toLowerCase()))||((V=(S=v.customerInfo)==null?void 0:S.firstName)==null?void 0:V.toLowerCase().includes(p.toLowerCase()))||((H=(M=v.customerInfo)==null?void 0:M.lastName)==null?void 0:H.toLowerCase().includes(p.toLowerCase()))||((L=(I=v.tripDetails)==null?void 0:I.from)==null?void 0:L.toLowerCase().includes(p.toLowerCase()))||((O=(z=v.tripDetails)==null?void 0:z.to)==null?void 0:O.toLowerCase().includes(p.toLowerCase())),A=d==="all"||v.status===d,F=!f||((U=v.tripDetails)==null?void 0:U.date)&&new Date(v.tripDetails.date).toDateString()===new Date(f).toDateString();return y&&A&&F}),B=(()=>{const v=c.length,y=c.filter(V=>V.status==="assigned").length,A=c.filter(V=>V.status==="in-progress").length,F=c.filter(V=>V.status==="completed").length,P=c.filter(V=>V.status==="cancelled").length,S=c.filter(V=>V.status==="completed").reduce((V,M)=>{const H=(M.totalPrice||0)*(((o==null?void 0:o.commission)||10)/100);return V+H},0);return{total:v,assigned:y,inProgress:A,completed:F,cancelled:P,totalEarnings:S}})(),_=(v,y)=>{if(!v)return"Tarih belirtilmemiş";const F=new Date(v).toLocaleDateString("tr-TR");return y?`${F} - ${y}`:F},b=v=>!o||!v?0:v*((o.commission||10)/100);return o?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seferlerim"}),n.jsx("p",{className:"text-gray-600",children:"Atanmış ve tamamlanmış seferlerinizi görüntüleyin"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx(tt,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.total}),n.jsx("p",{className:"text-sm text-gray-600",children:"Toplam"})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx(Mt,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.assigned}),n.jsx("p",{className:"text-sm text-gray-600",children:"Atandı"})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx(rv,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.inProgress}),n.jsx("p",{className:"text-sm text-gray-600",children:"Devam Ediyor"})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx($e,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.completed}),n.jsx("p",{className:"text-sm text-gray-600",children:"Tamamlandı"})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx(Hc,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.cancelled}),n.jsx("p",{className:"text-sm text-gray-600",children:"İptal"})]})}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body text-center",children:[n.jsx(zr,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["₺",B.totalEarnings.toLocaleString("tr-TR")]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Kazanç"})]})})]}),n.jsx("div",{className:"card",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Rezervasyon ID veya müşteri adı ile ara...",className:"input pl-10",value:p,onChange:v=>N(v.target.value)})]}),n.jsx("div",{children:n.jsxs("select",{className:"input",value:d,onChange:v=>h(v.target.value),children:[n.jsx("option",{value:"all",children:"Tüm Durumlar"}),k.map(v=>n.jsx("option",{value:v.value,children:v.label},v.value))]})}),n.jsx("div",{children:n.jsx("input",{type:"date",className:"input",value:f,onChange:v=>m(v.target.value),placeholder:"Tarih filtrele"})})]})})}),C.length===0?n.jsx("div",{className:"card",children:n.jsxs("div",{className:"card-body text-center py-12",children:[n.jsx(sv,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p||d!=="all"||f?"Sefer bulunamadı":"Henüz sefer yok"}),n.jsx("p",{className:"text-gray-500",children:p||d!=="all"||f?"Arama kriterlerinize uygun sefer bulunamadı":"Size atanmış seferler burada görünecektir"})]})}):n.jsx("div",{className:"space-y-4",children:C.sort((v,y)=>{var P,S,V,M;const A=new Date(`${(P=v.tripDetails)==null?void 0:P.date}T${((S=v.tripDetails)==null?void 0:S.time)||"00:00"}`);return new Date(`${(V=y.tripDetails)==null?void 0:V.date}T${((M=y.tripDetails)==null?void 0:M.time)||"00:00"}`)-A}).map((v,y)=>{var A,F,P,S,V,M,H,I,L,z,O,U,q;return n.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"card hover:shadow-lg transition-shadow",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.reservationId||`RES-${(A=v.id)==null?void 0:A.slice(-6)}`}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(v.status).color}`,children:w(v.status).label})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["₺",((F=v.totalPrice)==null?void 0:F.toLocaleString("tr-TR"))||"0"]}),n.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["Kazanç: ₺",b(v.totalPrice).toLocaleString("tr-TR")]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(ze,{className:"w-4 h-4 mr-1"}),"Müşteri"]}),n.jsxs("p",{className:"font-medium text-gray-900",children:[(P=v.customerInfo)==null?void 0:P.firstName," ",(S=v.customerInfo)==null?void 0:S.lastName]}),((V=v.customerInfo)==null?void 0:V.phone)&&n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(kt,{className:"w-3 h-3 mr-1"}),v.customerInfo.phone]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(lt,{className:"w-4 h-4 mr-1"}),"Güzergah"]}),n.jsxs("p",{className:"text-sm text-gray-900",children:[n.jsx("span",{className:"block truncate",children:((M=v.tripDetails)==null?void 0:M.from)||"Bilinmiyor"}),n.jsx("span",{className:"text-gray-500",children:"→"}),n.jsx("span",{className:"block truncate",children:((H=v.tripDetails)==null?void 0:H.to)||"Bilinmiyor"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(Mt,{className:"w-4 h-4 mr-1"}),"Tarih & Saat"]}),n.jsx("p",{className:"text-sm text-gray-900",children:_((I=v.tripDetails)==null?void 0:I.date,(L=v.tripDetails)==null?void 0:L.time)}),((z=v.tripDetails)==null?void 0:z.distance)&&n.jsxs("p",{className:"text-sm text-gray-500",children:[v.tripDetails.distance," km"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(ze,{className:"w-4 h-4 mr-1"}),"Yolcular"]}),n.jsxs("p",{className:"text-sm text-gray-900",children:[v.passengerCount||1," Yetişkin",v.childCount>0&&`, ${v.childCount} Çocuk`]}),v.luggageCount>0&&n.jsxs("p",{className:"text-sm text-gray-500",children:[v.luggageCount," Bagaj"]})]})]}),v.specialRequests&&n.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:"Özel İstekler:"})," ",v.specialRequests]})})]}),n.jsxs("div",{className:"flex flex-col space-y-2 lg:ml-4",children:[v.status==="assigned"&&n.jsx("button",{onClick:()=>j(v.id,"in-progress"),className:"btn btn-primary",children:"Sefere Başla"}),v.status==="in-progress"&&n.jsx("button",{onClick:()=>j(v.id,"completed"),className:"btn btn-success",children:"Seferi Tamamla"}),n.jsxs("div",{className:"flex space-x-2",children:[((O=v.customerInfo)==null?void 0:O.phone)&&n.jsx("a",{href:`tel:${v.customerInfo.phone}`,className:"btn btn-sm btn-outline",title:"Müşteriyi Ara",children:n.jsx(kt,{className:"w-4 h-4"})}),((U=v.tripDetails)==null?void 0:U.from)&&((q=v.tripDetails)==null?void 0:q.to)&&n.jsx("a",{href:`https://www.google.com/maps/dir/${encodeURIComponent(v.tripDetails.from)}/${encodeURIComponent(v.tripDetails.to)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline",title:"Haritada Aç",children:n.jsx(lt,{className:"w-4 h-4"})}),(v.status==="assigned"||v.status==="in-progress")&&n.jsx("button",{onClick:()=>{window.confirm("Bu seferi iptal etmek istediğinizden emin misiniz?")&&j(v.id,"cancelled")},className:"btn btn-sm btn-outline text-red-600 border-red-200 hover:bg-red-50",title:"Seferi İptal Et",children:n.jsx(Hc,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"text-center",children:n.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${w(v.status).color}`,children:w(v.status).label})})]})]})})},v.id)})})]}):n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Qr,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Şoför Profili Bulunamadı"}),n.jsx("p",{className:"text-gray-500",children:"Lütfen yöneticinizle iletişime geçin."})]})})},WH=()=>{var _,b,v,y,A,F,P,S,V,M,H,I,L,z;const{state:t,user:e,updateDriver:r,showNotification:s}=Ii(),{drivers:i,reservations:a,vehicles:o}=t,[l,c]=g.useState(null),[u,d]=g.useState(!1),[h,f]=g.useState({}),[m,p]=g.useState({totalTrips:0,completedTrips:0,totalEarnings:0,averageRating:0,totalDistance:0,joinDate:null});g.useEffect(()=>{const O=i.find(U=>U.email===(e==null?void 0:e.email));if(O){c(O),f(O);const U=a.filter(G=>G.driverId===O.id),q=U.filter(G=>G.status==="completed"),Y=q.reduce((G,ae)=>{const le=(ae.totalPrice||0)*((O.commission||10)/100);return G+le},0),J=q.reduce((G,ae)=>{var le;return G+(((le=ae.tripDetails)==null?void 0:le.distance)||0)},0);p({totalTrips:U.length,completedTrips:q.length,totalEarnings:Y,averageRating:O.rating||5,totalDistance:J,joinDate:O.hireDate})}},[i,a,e]);const N=()=>{d(!0)},k=async()=>{try{if(!(l!=null&&l.id))return;if(!h.firstName||!h.lastName||!h.phone){s("Lütfen tüm zorunlu alanları doldurun","error");return}if(!/^(\+90|0)?[5][0-9]{9}$/.test(h.phone.replace(/\s/g,""))){s("Geçerli bir telefon numarası girin","error");return}await r(l.id,h),c(h),d(!1),s("Profil başarıyla güncellendi","success")}catch(O){console.error("Profil güncelleme hatası:",O),s("Profil güncellenirken bir hata oluştu","error")}},w=()=>{f(l||{}),d(!1)},j=()=>l?o.find(O=>O.driverId===l.id):null,C=O=>{if(!O)return null;const U=new Date,q=new Date(O);let Y=U.getFullYear()-q.getFullYear();const J=U.getMonth()-q.getMonth();return(J<0||J===0&&U.getDate()<q.getDate())&&Y--,Y},E=O=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(O),B=j();return l?n.jsxs("div",{className:"space-y-8",children:[n.jsxs($.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Profil Ayarları"}),n.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Kişisel bilgilerinizi görüntüleyin ve düzenleyin"})]}),u?n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:k,className:"btn btn-success",children:[n.jsx(_n,{className:"w-4 h-4 mr-2"}),"Kaydet"]}),n.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,className:"btn btn-outline",children:[n.jsx(We,{className:"w-4 h-4 mr-2"}),"İptal"]})]}):n.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:"btn btn-primary",children:[n.jsx(Zx,{className:"w-4 h-4 mr-2"}),"Düzenle"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx($.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.3,type:"spring",stiffness:300},className:"card group hover:bg-gradient-to-br hover:from-blue-50 hover:to-purple-50",children:n.jsxs("div",{className:"card-body text-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx(De,{className:"w-10 h-10 text-blue-500 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:m.totalTrips}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Toplam Sefer"})]})}),n.jsx($.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.3,delay:.1,type:"spring",stiffness:300},className:"card group hover:bg-gradient-to-br hover:from-green-50 hover:to-emerald-50",children:n.jsxs("div",{className:"card-body text-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx(t2,{className:"w-10 h-10 text-green-500 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:m.completedTrips}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Tamamlanan"})]})}),n.jsx($.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.3,delay:.2,type:"spring",stiffness:300},className:"card group hover:bg-gradient-to-br hover:from-purple-50 hover:to-pink-50",children:n.jsxs("div",{className:"card-body text-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx(th,{className:"w-10 h-10 text-purple-500 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:E(m.totalEarnings)}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Toplam Kazanç"})]})}),n.jsx($.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.3,delay:.3,type:"spring",stiffness:300},className:"card group hover:bg-gradient-to-br hover:from-yellow-50 hover:to-orange-50",children:n.jsxs("div",{className:"card-body text-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx(fn,{className:"w-10 h-10 text-yellow-500 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),n.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["⭐ ",m.averageRating]}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Ortalama Puan"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"lg:col-span-2 card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Kişisel Bilgiler"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 group-hover:scale-110",children:n.jsx(ze,{className:"w-12 h-12 text-white"})}),u&&n.jsx($.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},className:"absolute -bottom-1 -right-1 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300",children:n.jsx(LV,{className:"w-4 h-4"})}),n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 backdrop-blur-sm"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-1",children:[l.firstName," ",l.lastName]}),n.jsx("p",{className:"text-blue-600 font-semibold mb-2",children:"Profesyonel Şoför"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center bg-gradient-to-r from-yellow-50 to-orange-50 px-3 py-1 rounded-full",children:[n.jsx(fn,{className:"w-4 h-4 text-yellow-500 mr-2"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[m.averageRating," Puan"]})]}),n.jsxs("div",{className:"flex items-center bg-gradient-to-r from-green-50 to-emerald-50 px-3 py-1 rounded-full",children:[n.jsx(t2,{className:"w-4 h-4 text-green-500 mr-2"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[m.completedTrips," Sefer"]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Ad *"}),u?n.jsx("input",{type:"text",className:"input",value:h.firstName||"",onChange:O=>f(U=>({...U,firstName:O.target.value}))}):n.jsx("p",{className:"input-display",children:l.firstName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Soyad *"}),u?n.jsx("input",{type:"text",className:"input",value:h.lastName||"",onChange:O=>f(U=>({...U,lastName:O.target.value}))}):n.jsx("p",{className:"input-display",children:l.lastName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Email"}),n.jsxs("p",{className:"input-display flex items-center",children:[n.jsx(gr,{className:"w-4 h-4 mr-2 text-gray-400"}),l.email]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Telefon *"}),u?n.jsx("input",{type:"tel",className:"input",value:h.phone||"",onChange:O=>f(U=>({...U,phone:O.target.value}))}):n.jsxs("p",{className:"input-display flex items-center",children:[n.jsx(kt,{className:"w-4 h-4 mr-2 text-gray-400"}),l.phone]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Doğum Tarihi"}),u?n.jsx("input",{type:"date",className:"input",value:h.dateOfBirth||"",onChange:O=>f(U=>({...U,dateOfBirth:O.target.value}))}):n.jsxs("p",{className:"input-display flex items-center",children:[n.jsx(tt,{className:"w-4 h-4 mr-2 text-gray-400"}),l.dateOfBirth?`${new Date(l.dateOfBirth).toLocaleDateString("tr-TR")} (${C(l.dateOfBirth)} yaş)`:"Belirtilmemiş"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Şehir"}),u?n.jsx("input",{type:"text",className:"input",value:h.city||"",onChange:O=>f(U=>({...U,city:O.target.value}))}):n.jsxs("p",{className:"input-display flex items-center",children:[n.jsx(lt,{className:"w-4 h-4 mr-2 text-gray-400"}),l.city||"Belirtilmemiş"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Adres"}),u?n.jsx("textarea",{className:"input",rows:"3",value:h.address||"",onChange:O=>f(U=>({...U,address:O.target.value}))}):n.jsx("p",{className:"input-display",children:l.address||"Belirtilmemiş"})]})]})})]}),n.jsxs($.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"space-y-6",children:[n.jsxs($.div,{whileHover:{scale:1.02},className:"card group",children:[n.jsx("div",{className:"card-header bg-gradient-to-r from-blue-50 to-indigo-50 group-hover:from-blue-100 group-hover:to-indigo-100 transition-all duration-300",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 transition-transform duration-300",children:n.jsx(Yr,{className:"w-5 h-5 text-white"})}),"Ehliyet Bilgileri"]})}),n.jsxs("div",{className:"card-body space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Ehliyet No"}),u?n.jsx("input",{type:"text",className:"input",value:h.licenseNumber||"",onChange:O=>f(U=>({...U,licenseNumber:O.target.value}))}):n.jsx("p",{className:"input-display",children:l.licenseNumber||"Belirtilmemiş"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Geçerlilik Tarihi"}),u?n.jsx("input",{type:"date",className:"input",value:h.licenseExpiry||"",onChange:O=>f(U=>({...U,licenseExpiry:O.target.value}))}):n.jsx("p",{className:"input-display",children:l.licenseExpiry?new Date(l.licenseExpiry).toLocaleDateString("tr-TR"):"Belirtilmemiş"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Deneyim (Yıl)"}),u?n.jsx("input",{type:"number",className:"input",min:"0",max:"50",value:h.experienceYears||"",onChange:O=>f(U=>({...U,experienceYears:parseInt(O.target.value)||0}))}):n.jsxs("div",{className:"input-display flex items-center justify-between",children:[n.jsxs("span",{children:[l.experienceYears||0," yıl"]}),n.jsx("div",{className:"flex space-x-1",children:[...Array(Math.min(5,l.experienceYears||0))].map((O,U)=>n.jsx(fn,{className:"w-3 h-3 text-yellow-400 fill-current"},U))})]})]})]})]}),B&&n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(De,{className:"w-5 h-5 mr-2"}),"Atanmış Araç"]})}),n.jsxs("div",{className:"card-body space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Araç:"}),n.jsxs("span",{className:"font-medium",children:[B.brand," ",B.model]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Plaka:"}),n.jsx("span",{className:"font-medium",children:B.plateNumber})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Yıl:"}),n.jsx("span",{className:"font-medium",children:B.year})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Kapasite:"}),n.jsxs("span",{className:"font-medium",children:[B.capacity," kişi"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Durum:"}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${B.status==="active"?"status-active":"status-inactive"}`,children:B.status==="active"?"Aktif":"Pasif"})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Mt,{className:"w-5 h-5 mr-2"}),"İş İstatistikleri"]})}),n.jsxs("div",{className:"card-body space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"İşe Başlama:"}),n.jsx("span",{className:"font-medium",children:m.joinDate?new Date(m.joinDate).toLocaleDateString("tr-TR"):"Bilinmiyor"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Toplam Mesafe:"}),n.jsxs("span",{className:"font-medium",children:[m.totalDistance," km"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Komisyon Oranı:"}),n.jsxs("span",{className:"font-medium",children:["%",l.commission||10]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Durum:"}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l.status==="active"?"status-active":"status-inactive"}`,children:l.status==="active"?"Aktif":"Pasif"})]})]})]})]})]}),(((_=l.emergencyContact)==null?void 0:_.name)||u)&&n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acil Durum İletişim"})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"İsim"}),u?n.jsx("input",{type:"text",className:"input",value:((b=h.emergencyContact)==null?void 0:b.name)||"",onChange:O=>f(U=>({...U,emergencyContact:{...U.emergencyContact,name:O.target.value}}))}):n.jsx("p",{className:"input-display",children:((v=l.emergencyContact)==null?void 0:v.name)||"Belirtilmemiş"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Telefon"}),u?n.jsx("input",{type:"tel",className:"input",value:((y=h.emergencyContact)==null?void 0:y.phone)||"",onChange:O=>f(U=>({...U,emergencyContact:{...U.emergencyContact,phone:O.target.value}}))}):n.jsx("p",{className:"input-display",children:((A=l.emergencyContact)==null?void 0:A.phone)||"Belirtilmemiş"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Yakınlık Derecesi"}),u?n.jsx("input",{type:"text",className:"input",value:((F=h.emergencyContact)==null?void 0:F.relation)||"",onChange:O=>f(U=>({...U,emergencyContact:{...U.emergencyContact,relation:O.target.value}}))}):n.jsx("p",{className:"input-display",children:((P=l.emergencyContact)==null?void 0:P.relation)||"Belirtilmemiş"})]})]})})]}),(((S=l.bankInfo)==null?void 0:S.accountHolder)||u)&&n.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"card",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(pr,{className:"w-5 h-5 mr-2"}),"Banka Bilgileri"]})}),n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Hesap Sahibi"}),u?n.jsx("input",{type:"text",className:"input",value:((V=h.bankInfo)==null?void 0:V.accountHolder)||"",onChange:O=>f(U=>({...U,bankInfo:{...U.bankInfo,accountHolder:O.target.value}}))}):n.jsx("p",{className:"input-display",children:((M=l.bankInfo)==null?void 0:M.accountHolder)||"Belirtilmemiş"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Banka Adı"}),u?n.jsx("input",{type:"text",className:"input",value:((H=h.bankInfo)==null?void 0:H.bankName)||"",onChange:O=>f(U=>({...U,bankInfo:{...U.bankInfo,bankName:O.target.value}}))}):n.jsx("p",{className:"input-display",children:((I=l.bankInfo)==null?void 0:I.bankName)||"Belirtilmemiş"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"label",children:"IBAN"}),u?n.jsx("input",{type:"text",className:"input",placeholder:"TR00 0000 0000 0000 0000 0000 00",value:((L=h.bankInfo)==null?void 0:L.iban)||"",onChange:O=>f(U=>({...U,bankInfo:{...U.bankInfo,iban:O.target.value.toUpperCase()}}))}):n.jsx("p",{className:"input-display",children:((z=l.bankInfo)==null?void 0:z.iban)||"Belirtilmemiş"})]})]})})]})]}):n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ze,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Profil Bulunamadı"}),n.jsx("p",{className:"text-gray-500",children:"Lütfen yöneticinizle iletişime geçin."})]})})},PN=({children:t,requiredRole:e=null,redirectTo:r="/giriş"})=>{const{user:s,userProfile:i,loading:a}=Ds(),o=Ns();if(a)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(!s)return n.jsx(Ps,{to:r,state:{from:o},replace:!0});if(e&&(i==null?void 0:i.role)!==e)switch(i==null?void 0:i.role){case It.ADMIN:return n.jsx(Ps,{to:"/admin/dashboard",replace:!0});case It.DRIVER:return n.jsx(Ps,{to:"/şoför/dashboard",replace:!0});case It.CUSTOMER:return n.jsx(Ps,{to:"/rezervasyonlarim",replace:!0});default:return n.jsx(Ps,{to:"/giriş",replace:!0})}return t},jm=({children:t,redirectTo:e=null})=>{const{user:r,userProfile:s,loading:i}=Ds();if(i)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(r&&e){if(!e||e==="auto")switch(s==null?void 0:s.role){case It.ADMIN:return n.jsx(Ps,{to:"/admin/dashboard",replace:!0});case It.DRIVER:return n.jsx(Ps,{to:"/şoför/dashboard",replace:!0});case It.CUSTOMER:return n.jsx(Ps,{to:"/rezervasyonlarim",replace:!0});default:return n.jsx(Ps,{to:"/",replace:!0})}return n.jsx(Ps,{to:e,replace:!0})}return t},qH=({children:t})=>n.jsx(PN,{requiredRole:It.ADMIN,children:t}),YH=({children:t})=>n.jsx(PN,{requiredRole:It.DRIVER,children:t});class QH extends Ko.Component{constructor(r){super(r);Zv(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,s){this.setState({error:r,errorInfo:s})}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:n.jsx("div",{className:"max-w-md w-full text-center",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Qr,{className:"w-8 h-8 text-red-600"})}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Bir Hata Oluştu"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Uygulama beklenmedik bir hatayla karşılaştı. Lütfen sayfayı yenileyin veya daha sonra tekrar deneyin."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:this.handleReload,className:"btn btn-primary w-full flex items-center justify-center gap-2",children:[n.jsx(Jx,{className:"w-4 h-4"}),"Sayfayı Yenile"]}),n.jsx("a",{href:"/",className:"btn btn-outline w-full",children:"Ana Sayfaya Dön"})]}),!1]})})}):this.props.children}}function XH(){return n.jsx(QH,{children:n.jsx(tR,{children:n.jsx(nR,{children:n.jsx(Tk,{children:n.jsxs("div",{className:"App",children:[n.jsxs(jk,{children:[n.jsxs(Ue,{path:"/",element:n.jsx(oz,{}),children:[n.jsx(Ue,{index:!0,element:n.jsx(dz,{})}),n.jsx(Ue,{path:"test",element:n.jsx(pz,{})}),n.jsx(Ue,{path:"rezervasyon",element:n.jsx(eN,{})}),n.jsx(Ue,{path:"araç-seçimi",element:n.jsx(gz,{})}),n.jsx(Ue,{path:"müşteri-bilgileri",element:n.jsx(yz,{})}),n.jsx(Ue,{path:"ödeme",element:n.jsx(vz,{})}),n.jsx(Ue,{path:"onay",element:n.jsx(Ez,{})}),n.jsx(Ue,{path:"rezervasyonlarim",element:n.jsx(cU,{})}),n.jsx(Ue,{path:"profil",element:n.jsx(uU,{})})]}),n.jsx(Ue,{path:"/booking-confirmation",element:n.jsx(lU,{})}),n.jsx(Ue,{path:"/giriş",element:n.jsx(jm,{redirectTo:"auto",children:n.jsx(dU,{})})}),n.jsx(Ue,{path:"/kayıt",element:n.jsx(jm,{redirectTo:"auto",children:n.jsx(xU,{})})}),n.jsx(Ue,{path:"/şifre-sıfırla",element:n.jsx(jm,{redirectTo:"auto",children:n.jsx(hU,{})})}),n.jsxs(Ue,{path:"/admin",element:n.jsx(qH,{children:n.jsx(lz,{})}),children:[n.jsx(Ue,{index:!0,element:n.jsx(i2,{})}),n.jsx(Ue,{path:"dashboard",element:n.jsx(i2,{})}),n.jsx(Ue,{path:"araçlar",element:n.jsx(mU,{})}),n.jsx(Ue,{path:"vehicles",element:n.jsx(wU,{})}),n.jsx(Ue,{path:"şoförler",element:n.jsx(kU,{})}),n.jsx(Ue,{path:"ek-hizmetler",element:n.jsx(BU,{})}),n.jsx(Ue,{path:"rezervasyonlar",element:n.jsx(kH,{})}),n.jsx(Ue,{path:"finans",element:n.jsx(PH,{})}),n.jsx(Ue,{path:"ayarlar",element:n.jsx(IH,{})})]}),n.jsxs(Ue,{path:"/şoför",element:n.jsx(YH,{children:n.jsx(cz,{})}),children:[n.jsx(Ue,{index:!0,element:n.jsx(Ew,{})}),n.jsx(Ue,{path:"dashboard",element:n.jsx(Ew,{})}),n.jsx(Ue,{path:"seferlerim",element:n.jsx(GH,{})}),n.jsx(Ue,{path:"profil",element:n.jsx(WH,{})})]}),n.jsx(Ue,{path:"*",element:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-6xl font-bold text-gray-400",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mt-4",children:"Sayfa bulunamadı"}),n.jsx("a",{href:"/",className:"btn btn-primary mt-6 inline-block",children:"Ana Sayfaya Dön"})]})})})]}),n.jsx(jB,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})})}Dm.createRoot(document.getElementById("root")).render(n.jsx(Ko.StrictMode,{children:n.jsx(XH,{})}));
//# sourceMappingURL=index-B14DCzus.js.map
