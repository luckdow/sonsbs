const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ServicesSection-C4CkSp0c.js","assets/ui-C-SpxvX6.js","assets/vendor-EAaeAxnY.js","assets/TestimonialsSection-CA0zc_Yj.js","assets/FAQSection-D5ak7mYh.js"])))=>i.map(i=>d[i]);
var e,t,s=Object.defineProperty,r=(e,t,r)=>((e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);import{j as a,P as n,M as l,X as i,a as o,U as c,C as d,L as m,F as u,T as h,I as p,G as x,S as g,H as f,b,A as v,c as y,m as j,B as N,d as w,e as k,f as C,D as B,g as P,h as S,i as L,k as E,l as D,n as M,o as T,p as A,q as I,r as O,s as z,t as R,u as _,R as U,v as H,w as V,x as F,y as $,z as K,E as G,J as Y,K as Z,N as W,O as q,Q,V as X,W as J,Y as ee,Z as te,_ as se,$ as re,a0 as ae,a1 as ne,a2 as le,a3 as ie,a4 as oe,a5 as ce,a6 as de,a7 as me,a8 as ue,a9 as he,aa as pe,ab as xe,ac as ge,ad as fe,ae as be,af as ve,ag as ye,ah as je,ai as Ne,aj as we,ak as ke,al as Ce,am as Be,an as Pe,ao as Se,ap as Le,aq as Ee,ar as De,as as Me,at as Te,au as Ae,av as Ie}from"./ui-C-SpxvX6.js";import{a as Oe,r as ze,L as Re,u as _e,O as Ue,b as He,g as Ve,R as Fe,c as $e,N as Ke,B as Ge,d as Ye,e as Ze}from"./vendor-EAaeAxnY.js";import{_ as We,C as qe,r as Qe,S as Xe,F as Je,g as et,a as tt,b as st,c as rt,d as at,i as nt,e as lt,f as it,o as ot,h as ct,j as dt,s as mt,u as ut,k as ht,l as pt,m as xt,n as gt,p as ft,G as bt,q as vt,t as yt,v as jt,w as Nt,x as wt,y as kt,z as Ct,A as Bt,B as Pt,D as St,E as Lt,H as Et,I as Dt,J as Mt}from"./firebase-C28xdfUJ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Tt={},At=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Tt)return;Tt[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,s&&a.setAttribute("nonce",s),document.head.appendChild(a),t?new Promise((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};var It={},Ot=Oe;It.createRoot=Ot.createRoot,It.hydrateRoot=Ot.hydrateRoot;let zt,Rt,_t,Ut={data:""},Ht=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vt=/\/\*[^]*?\*\/|  +/g,Ft=/\n+/g,$t=(e,t)=>{let s="",r="",a="";for(let n in e){let l=e[n];"@"==n[0]?"i"==n[1]?s=n+" "+l+";":r+="f"==n[1]?$t(l,n):n+"{"+$t(l,"k"==n[1]?"":t)+"}":"object"==typeof l?r+=$t(l,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):n):null!=l&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=$t.p?$t.p(n,l):n+":"+l+";")}return s+(t&&a?t+"{"+a+"}":a)+r},Kt={},Gt=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+Gt(e[s]);return t}return e};function Yt(e){let t=this||{},s=e.call?e(t.p):e;return((e,t,s,r,a)=>{let n=Gt(e),l=Kt[n]||(Kt[n]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(n));if(!Kt[l]){let t=n!==e?e:(e=>{let t,s,r=[{}];for(;t=Ht.exec(e.replace(Vt,""));)t[4]?r.shift():t[3]?(s=t[3].replace(Ft," ").trim(),r.unshift(r[0][s]=r[0][s]||{})):r[0][t[1]]=t[2].replace(Ft," ").trim();return r[0]})(e);Kt[l]=$t(a?{["@keyframes "+l]:t}:t,s?"":"."+l)}let i=s&&Kt.g?Kt.g:null;return s&&(Kt.g=Kt[l]),o=Kt[l],c=t,d=r,(m=i)?c.data=c.data.replace(m,o):-1===c.data.indexOf(o)&&(c.data=d?o+c.data:c.data+o),l;var o,c,d,m})(s.unshift?s.raw?((e,t,s)=>e.reduce((e,r,a)=>{let n=t[a];if(n&&n.call){let e=n(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?"."+t:e&&"object"==typeof e?e.props?"":$t(e,""):!1===e?"":e}return e+r+(null==n?"":n)},""))(s,[].slice.call(arguments,1),t.p):s.reduce((e,s)=>Object.assign(e,s&&s.call?s(t.p):s),{}):s,(r=t.target,"object"==typeof window?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Ut),t.g,t.o,t.k);var r}Yt.bind({g:1});let Zt=Yt.bind({k:1});function Wt(e,t){let s=this||{};return function(){let t=arguments;return function r(a,n){let l=Object.assign({},a),i=l.className||r.className;s.p=Object.assign({theme:Rt&&Rt()},l),s.o=/ *go\d+/.test(i),l.className=Yt.apply(s,t)+(i?" "+i:"");let o=e;return e[0]&&(o=l.as||e,delete l.as),_t&&o[0]&&_t(l),zt(o,l)}}}var qt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Qt=(()=>{let e=0;return()=>(++e).toString()})(),Xt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Jt=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:s}=t;return Jt(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},es=[],ts={toasts:[],pausedAt:void 0},ss=e=>{ts=Jt(ts,e),es.forEach(e=>{e(ts)})},rs={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},as=e=>(t,s)=>{let r=((e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(null==s?void 0:s.id)||Qt()}))(t,e,s);return ss({type:2,toast:r}),r.id},ns=(e,t)=>as("blank")(e,t);ns.error=as("error"),ns.success=as("success"),ns.loading=as("loading"),ns.custom=as("custom"),ns.dismiss=e=>{ss({type:3,toastId:e})},ns.remove=e=>ss({type:4,toastId:e}),ns.promise=(e,t,s)=>{let r=ns.loading(t.loading,{...s,...null==s?void 0:s.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?qt(t.success,e):void 0;return a?ns.success(a,{id:r,...s,...null==s?void 0:s.success}):ns.dismiss(r),e}).catch(e=>{let a=t.error?qt(t.error,e):void 0;a?ns.error(a,{id:r,...s,...null==s?void 0:s.error}):ns.dismiss(r)}),e};var ls,is,os,cs,ds=(e,t)=>{ss({type:1,toast:{id:e,height:t}})},ms=()=>{ss({type:5,time:Date.now()})},us=new Map,hs=e=>{let{toasts:t,pausedAt:s}=((e={})=>{let[t,s]=ze.useState(ts),r=ze.useRef(ts);ze.useEffect(()=>(r.current!==ts&&s(ts),es.push(s),()=>{let e=es.indexOf(s);e>-1&&es.splice(e,1)}),[]);let a=t.toasts.map(t=>{var s,r,a;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(s=e[t.type])?void 0:s.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||rs[t.type],style:{...e.style,...null==(a=e[t.type])?void 0:a.style,...t.style}}});return{...t,toasts:a}})(e);ze.useEffect(()=>{if(s)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let s=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(s<0))return setTimeout(()=>ns.dismiss(t.id),s);t.visible&&ns.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,s]);let r=ze.useCallback(()=>{s&&ss({type:6,time:Date.now()})},[s]),a=ze.useCallback((e,s)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:n}=s||{},l=t.filter(t=>(t.position||n)===(e.position||n)&&t.height),i=l.findIndex(t=>t.id===e.id),o=l.filter((e,t)=>t<i&&e.visible).length;return l.filter(e=>e.visible).slice(...r?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+a,0)},[t]);return ze.useEffect(()=>{t.forEach(e=>{if(e.dismissed)((e,t=1e3)=>{if(us.has(e))return;let s=setTimeout(()=>{us.delete(e),ss({type:4,toastId:e})},t);us.set(e,s)})(e.id,e.removeDelay);else{let t=us.get(e.id);t&&(clearTimeout(t),us.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:ds,startPause:ms,endPause:r,calculateOffset:a}}},ps=Zt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xs=Zt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gs=Zt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fs=Wt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ps} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xs} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gs} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bs=Zt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vs=Wt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${bs} 1s linear infinite;
`,ys=Zt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,js=Zt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ns=Wt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ys} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${js} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ws=Wt("div")`
  position: absolute;
`,ks=Wt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Cs=Zt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bs=Wt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Cs} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ps=({toast:e})=>{let{icon:t,type:s,iconTheme:r}=e;return void 0!==t?"string"==typeof t?ze.createElement(Bs,null,t):t:"blank"===s?null:ze.createElement(ks,null,ze.createElement(vs,{...r}),"loading"!==s&&ze.createElement(ws,null,"error"===s?ze.createElement(fs,{...r}):ze.createElement(Ns,{...r})))},Ss=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Ls=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Es=Wt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ds=Wt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ms=ze.memo(({toast:e,position:t,style:s,children:r})=>{let a=e.height?((e,t)=>{let s=e.includes("top")?1:-1,[r,a]=Xt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Ss(s),Ls(s)];return{animation:t?`${Zt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zt(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},n=ze.createElement(Ps,{toast:e}),l=ze.createElement(Ds,{...e.ariaProps},qt(e.message,e));return ze.createElement(Es,{className:e.className,style:{...a,...s,...e.style}},"function"==typeof r?r({icon:n,message:l}):ze.createElement(ze.Fragment,null,n,l))});ls=ze.createElement,$t.p=is,zt=ls,Rt=os,_t=cs;var Ts=({id:e,className:t,style:s,onHeightUpdate:r,children:a})=>{let n=ze.useCallback(t=>{if(t){let s=()=>{let s=t.getBoundingClientRect().height;r(e,s)};s(),new MutationObserver(s).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return ze.createElement("div",{ref:n,className:t,style:s},a)},As=Yt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Is=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:r,children:a,containerStyle:n,containerClassName:l})=>{let{toasts:i,handlers:o}=hs(s);return ze.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...n},className:l,onMouseEnter:o.startPause,onMouseLeave:o.endPause},i.map(s=>{let n=s.position||t,l=((e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...a}})(n,o.calculateOffset(s,{reverseOrder:e,gutter:r,defaultPosition:t}));return ze.createElement(Ts,{id:s.id,key:s.id,onHeightUpdate:o.updateHeight,className:s.visible?As:"",style:l},"custom"===s.type?qt(s.message,s):a?a(s):ze.createElement(Ms,{toast:s,position:n}))}))},Os=ns;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const zs="firebasestorage.googleapis.com";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rs extends Je{constructor(e,t,s=0){super(Fs(e),`Firebase Storage: ${t} (${Fs(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fs(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var _s,Us,Hs,Vs;function Fs(e){return"storage/"+e}function $s(e){return new Rs(_s.INVALID_ARGUMENT,e)}function Ks(){return new Rs(_s.APP_DELETED,"The Firebase app was deleted.")}(Us=_s||(_s={})).UNKNOWN="unknown",Us.OBJECT_NOT_FOUND="object-not-found",Us.BUCKET_NOT_FOUND="bucket-not-found",Us.PROJECT_NOT_FOUND="project-not-found",Us.QUOTA_EXCEEDED="quota-exceeded",Us.UNAUTHENTICATED="unauthenticated",Us.UNAUTHORIZED="unauthorized",Us.UNAUTHORIZED_APP="unauthorized-app",Us.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Us.INVALID_CHECKSUM="invalid-checksum",Us.CANCELED="canceled",Us.INVALID_EVENT_NAME="invalid-event-name",Us.INVALID_URL="invalid-url",Us.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Us.NO_DEFAULT_BUCKET="no-default-bucket",Us.CANNOT_SLICE_BLOB="cannot-slice-blob",Us.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Us.NO_DOWNLOAD_URL="no-download-url",Us.INVALID_ARGUMENT="invalid-argument",Us.INVALID_ARGUMENT_COUNT="invalid-argument-count",Us.APP_DELETED="app-deleted",Us.INVALID_ROOT_OPERATION="invalid-root-operation",Us.INVALID_FORMAT="invalid-format",Us.INTERNAL_ERROR="internal-error",Us.UNSUPPORTED_ENVIRONMENT="unsupported-environment";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Gs.makeFromUrl(e,t)}catch(ls){return new Gs(e,"")}if(""===s.path)return s;throw r=e,new Rs(_s.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let s=null;const r="([A-Za-z0-9.\\-_]+)";const a=new RegExp("^gs://"+r+"(/(.*))?$","i");function n(e){e.path_=decodeURIComponent(e.path)}const l=t.replace(/[.]/g,"\\."),i=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${l}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:n},{regex:new RegExp(`^https?://${t===zs?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:n}];for(let o=0;o<i.length;o++){const t=i[o],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let a=r[t.indices.path];a||(a=""),s=new Gs(e,a),t.postModify(s);break}}if(null==s)throw function(e){return new Rs(_s.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return s}}class Ys{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(e,t,s,r){if(r<t)throw $s(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>s)throw $s(`Invalid value for '${e}'. Expected ${s} or less.`)}(Vs=Hs||(Hs={}))[Vs.NO_ERROR=0]="NO_ERROR",Vs[Vs.NETWORK_ERROR=1]="NETWORK_ERROR",Vs[Vs.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ws{constructor(e,t,s,r,a,n,l,i,o,c,d,m=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=n,this.callback_=l,this.errorCallback_=i,this.timeout_=o,this.progressCallback_=c,this.connectionFactory_=d,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new qs(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const r=e=>{const t=e.loaded,s=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,s)};null!==this.progressCallback_&&s.addUploadProgressListener(r),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(r),this.pendingConnection_=null;const t=s.getErrorCode()===Hs.NO_ERROR,a=s.getStatus();if(!t||
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){const s=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return s||r||a}(a,this.additionalRetryCodes_)&&this.retry){const t=s.getErrorCode()===Hs.ABORT;return void e(!1,new qs(!1,null,t))}const n=-1!==this.successCodes_.indexOf(a);e(!0,new qs(n,s))})},t=(e,t)=>{const s=this.resolve_,r=this.reject_,a=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(a,a.getResponse());void 0!==e?s(e):s()}catch(ls){r(ls)}else if(null!==a){const e=new Rs(_s.UNKNOWN,"An unknown error occurred, please check the error payload for server response.");e.serverResponse=a.getErrorText(),this.errorCallback_?r(this.errorCallback_(a,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ks():new Rs(_s.CANCELED,"User canceled the upload/download."))}else{r(new Rs(_s.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new qs(!1,null,!0)):this.backoffId_=function(e,t,s){let r=1,a=null,n=null,l=!1,i=0;function o(){return 2===i}let c=!1;function d(...e){c||(c=!0,t.apply(null,e))}function m(t){a=setTimeout(()=>{a=null,e(h,o())},t)}function u(){n&&clearTimeout(n)}function h(e,...t){if(c)return void u();if(e)return u(),void d.call(null,e,...t);if(o()||l)return u(),void d.call(null,e,...t);let s;r<64&&(r*=2),1===i?(i=2,s=0):s=1e3*(r+Math.random()),m(s)}let p=!1;function x(e){p||(p=!0,u(),c||(null!==a?(e||(i=2),clearTimeout(a),m(0)):e||(i=1)))}return m(0),n=setTimeout(()=>{l=!0,x(!0)},s),x}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qs{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Qs(e,t,s,r,a,n,l=!0){const i=function(e){const t=encodeURIComponent;let s="?";for(const r in e)e.hasOwnProperty(r)&&(s=s+(t(r)+"=")+t(e[r])+"&");return s=s.slice(0,-1),s}(e.urlParams),o=e.url+i,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,s),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,n),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Ws(o,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,l)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xs{constructor(e,t){this._service=e,this._location=t instanceof Gs?t:Gs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Xs(e,t)}get root(){const e=new Gs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Gs(this._location.bucket,e);return new Xs(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Rs(_s.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Js(e,t){const s=null==t?void 0:t.storageBucket;return null==s?null:Gs.makeFromBucketSpec(s,e)}class er{constructor(e,t,s,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=zs,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Gs.makeFromBucketSpec(r,this._host):Js(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Gs.makeFromBucketSpec(this._url,e):this._bucket=Js(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zs("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zs("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xs(this,e)}_makeRequest(e,t,s,r,a=!0){if(this._deleted)return new Ys(Ks());{const n=Qs(e,this._appId,s,r,t,this._firebaseVersion,a);return this._requests.add(n),n.getPromise().then(()=>this._requests.delete(n),()=>this._requests.delete(n)),n}}async makeRequestWithTokens(e,t){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,r).getPromise()}}const tr="@firebase/storage",sr="0.13.2",rr="storage";function ar(e,{instanceIdentifier:t}){const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new er(s,r,a,t,Xe)}We(new qe(rr,ar,"PUBLIC").setMultipleInstances(!0)),Qe(tr,sr,""),Qe(tr,sr,"esm2017");const nr=nt({apiKey:"AIzaSyB6903uKvs3vjCkfreIvzensUFa25wVB9c",authDomain:"sbs-travel-96d0b.firebaseapp.com",projectId:"sbs-travel-96d0b",storageBucket:"sbs-travel-96d0b.firebasestorage.app",messagingSenderId:"689333443277",appId:"1:689333443277:web:d26c455760eb28a41e6784",measurementId:"G-G4FRHCJEDP"}),lr=lt(nr),ir=it(nr);!function(e=et(),t){e=tt(e);const s=st(e,rr).getImmediate({identifier:t}),r=rt("storage");r&&function(e,t,s,r={}){!function(e,t,s,r={}){e.host=`${t}:${s}`,e._protocol="http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken="string"==typeof a?a:at(a,e.app.options.projectId))}(e,t,s,r)}(s,...r)}(nr);const or={companyName:"SBS Transfer Hizmetleri",supportEmail:"destek@sbstransfer.com",supportPhone:"+90 (555) 000 00 00"},cr="admin",dr="driver",mr="customer",ur="users",hr=ze.createContext(),pr=()=>{const e=ze.useContext(hr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},xr=({children:e})=>{const[t,s]=ze.useState(null),[r,n]=ze.useState(null),[l,i]=ze.useState(!0),[o,c]=ze.useState(null),[d,m]=ze.useState(!0),u=e=>{try{e?localStorage.setItem("userProfile",JSON.stringify(e)):localStorage.removeItem("userProfile")}catch(t){console.warn("Failed to cache user profile:",t)}},h=async()=>{try{c(null),await xt(lr),s(null),n(null),u(null)}catch(e){throw c(e.message),e}},p=e=>(null==r?void 0:r.role)===e;ze.useEffect(()=>{const e=(()=>{try{const e=localStorage.getItem("userProfile");return e?JSON.parse(e):null}catch{return null}})();e&&n(e);return ot(lr,async t=>{var r,a;if(t)if(s(t),e&&e.uid===t.uid)n(e),i(!1),m(!1);else try{const e=await ct(dt(ir,ur,t.uid));if(e.exists()){const t=e.data();n(t),u(t)}else{const e={uid:t.uid,email:t.email,firstName:(null==(r=t.displayName)?void 0:r.split(" ")[0])||"",lastName:(null==(a=t.displayName)?void 0:a.split(" ").slice(1).join(" "))||"",role:mr,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),isActive:!0};await mt(dt(ir,ur,t.uid),e),n(e),u(e)}i(!1),m(!1)}catch(l){console.error("Error fetching user profile:",l),c("Profile bilgileri alınamadı"),i(!1)}else s(null),n(null),u(null),i(!1),m(!1)})},[]);const x={user:t,userProfile:r,loading:l,error:o,login:async(e,t)=>{try{c(null);const s=await yt(lr,e,t),r=await ct(dt(ir,ur,s.user.uid));if(r.exists()){const e=r.data();return n(e),u(e),{user:s.user,profile:e}}return{user:s.user,profile:null}}catch(s){throw c(s.message),s}},signInWithGoogle:async()=>{var e,t;try{c(null);const s=new bt;s.addScope("email"),s.addScope("profile");const r=await vt(lr,s),a=await ct(dt(ir,ur,r.user.uid));if(a.exists()){const e=a.data(),t={...e,profilePhoto:r.user.photoURL||e.profilePhoto,emailVerified:r.user.emailVerified,updatedAt:(new Date).toISOString()};return await ut(dt(ir,ur,r.user.uid),t),n(t),u(t),{user:r.user,profile:t}}{const s={uid:r.user.uid,email:r.user.email,firstName:(null==(e=r.user.displayName)?void 0:e.split(" ")[0])||"",lastName:(null==(t=r.user.displayName)?void 0:t.split(" ").slice(1).join(" "))||"",phone:r.user.phoneNumber||"",role:mr,profilePhoto:r.user.photoURL||"",authProvider:"google",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),isActive:!0,emailVerified:r.user.emailVerified};return await mt(dt(ir,ur,r.user.uid),s),n(s),u(s),{user:r.user,profile:s}}}catch(s){throw c(s.message),s}},register:async(e,t,s)=>{try{c(null);const r=await gt(lr,e,t);await ft(r.user,{displayName:`${s.firstName} ${s.lastName}`});const a={uid:r.user.uid,email:r.user.email,firstName:s.firstName,lastName:s.lastName,phone:s.phone||"",role:s.role||mr,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),isActive:!0};return await mt(dt(ir,ur,r.user.uid),a),n(a),r}catch(r){throw c(r.message),r}},createCustomerAccount:async(e,t)=>{try{c(null);const s=await gt(lr,e.email,t);await ft(s.user,{displayName:`${e.firstName} ${e.lastName}`});const r={uid:s.user.uid,email:s.user.email,firstName:e.firstName,lastName:e.lastName,phone:e.phone,role:mr,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),isActive:!0,isPasswordTemporary:!0,registeredViaBooking:!0};return await mt(dt(ir,ur,s.user.uid),r),{user:s.user,profile:r,tempPassword:t}}catch(s){throw c(s.message),s}},logout:h,signOut:h,resetPassword:async e=>{try{c(null),await pt(lr,e)}catch(t){throw c(t.message),t}},sendVerificationEmail:async()=>{try{return c(null),!(!t||t.emailVerified)&&(await ht(t),!0)}catch(e){throw c(e.message),e}},updateUserProfile:async e=>{try{if(c(null),t&&r){const s={...r,...e,updatedAt:(new Date).toISOString()};await ut(dt(ir,ur,t.uid),s),n(s),u(s)}}catch(s){throw c(s.message),s}},hasRole:p,isAdmin:()=>p(cr),isDriver:()=>p(dr),isCustomer:()=>p(mr),setError:c};return a.jsx(hr.Provider,{value:x,children:e})},gr={user:null,userRole:null,loading:!0,reservations:[],currentReservation:null,vehicles:[],drivers:[],customers:[],extraServices:[],settings:{companyInfo:{},paymentSettings:{},bankAccounts:[],commissionRates:{driverCommission:70,companyCommission:30}},modal:{isOpen:!1,type:null,data:null},notification:{show:!1,type:"info",message:"",title:""}},fr="SET_USER",br="SET_USER_ROLE",vr="SET_LOADING",yr="LOGOUT",jr="SET_RESERVATIONS",Nr="ADD_RESERVATION",wr="UPDATE_RESERVATION",kr="DELETE_RESERVATION",Cr="SET_CURRENT_RESERVATION",Br="SET_VEHICLES",Pr="ADD_VEHICLE",Sr="UPDATE_VEHICLE",Lr="DELETE_VEHICLE",Er="SET_DRIVERS",Dr="ADD_DRIVER",Mr="UPDATE_DRIVER",Tr="DELETE_DRIVER",Ar="SET_CUSTOMERS",Ir="ADD_CUSTOMER",Or="UPDATE_CUSTOMER",zr="SET_EXTRA_SERVICES",Rr="ADD_EXTRA_SERVICE",_r="UPDATE_EXTRA_SERVICE",Ur="DELETE_EXTRA_SERVICE",Hr="SET_SETTINGS",Vr="UPDATE_SETTINGS",Fr="SHOW_MODAL",$r="HIDE_MODAL",Kr="SHOW_NOTIFICATION",Gr="HIDE_NOTIFICATION",Yr=(e,t)=>{switch(t.type){case fr:return{...e,user:t.payload,loading:!1};case br:return{...e,userRole:t.payload};case vr:return{...e,loading:t.payload};case yr:return{...e,user:null,userRole:null,loading:!1};case jr:return{...e,reservations:t.payload};case Nr:return{...e,reservations:[...e.reservations,t.payload]};case wr:return{...e,reservations:e.reservations.map(e=>e.id===t.payload.id?t.payload:e)};case kr:return{...e,reservations:e.reservations.filter(e=>e.id!==t.payload)};case Cr:return{...e,currentReservation:t.payload};case Br:return{...e,vehicles:t.payload};case Pr:return{...e,vehicles:[...e.vehicles,t.payload]};case Sr:return{...e,vehicles:e.vehicles.map(e=>e.id===t.payload.id?t.payload:e)};case Lr:return{...e,vehicles:e.vehicles.filter(e=>e.id!==t.payload)};case Er:return{...e,drivers:t.payload};case Dr:return{...e,drivers:[...e.drivers,t.payload]};case Mr:return{...e,drivers:e.drivers.map(e=>e.id===t.payload.id?t.payload:e)};case Tr:return{...e,drivers:e.drivers.filter(e=>e.id!==t.payload)};case Ar:return{...e,customers:t.payload};case Ir:return{...e,customers:[...e.customers,t.payload]};case Or:return{...e,customers:e.customers.map(e=>e.id===t.payload.id?t.payload:e)};case zr:return{...e,extraServices:t.payload};case Rr:return{...e,extraServices:[...e.extraServices,t.payload]};case _r:return{...e,extraServices:e.extraServices.map(e=>e.id===t.payload.id?t.payload:e)};case Ur:return{...e,extraServices:e.extraServices.filter(e=>e.id!==t.payload)};case Hr:return{...e,settings:t.payload};case Vr:return{...e,settings:{...e.settings,...t.payload}};case Fr:return{...e,modal:{isOpen:!0,type:t.payload.type,data:t.payload.data}};case $r:return{...e,modal:{isOpen:!1,type:null,data:null}};case Kr:return{...e,notification:{show:!0,type:t.payload.type,message:t.payload.message,title:t.payload.title}};case Gr:return{...e,notification:{show:!1,type:"info",message:"",title:""}};default:return e}},Zr=ze.createContext(),Wr=({children:e})=>{const[t,s]=ze.useReducer(Yr,gr),r={async create(e,t){try{return{id:(await Bt(Nt(ir,e),{...t,createdAt:new Date,updatedAt:new Date})).id,...t}}catch(s){throw console.error(`Error creating ${e}:`,s),s}},async update(e,t,s){try{const r=dt(ir,e,t);return await ut(r,{...s,updatedAt:new Date}),{id:t,...s}}catch(r){throw console.error(`Error updating ${e}:`,r),r}},async delete(e,t){try{const s=dt(ir,e,t);return await Ct(s),t}catch(s){throw console.error(`Error deleting ${e}:`,s),s}},async getAll(e,t="createdAt"){try{const s=jt(Nt(ir,e),wt(t,"desc"));return(await kt(s)).docs.map(e=>({id:e.id,...e.data()}))}catch(s){throw console.error(`Error fetching ${e}:`,s),s}}},n={setUser:e=>s({type:fr,payload:e}),setUserRole:e=>s({type:br,payload:e}),setLoading:e=>s({type:vr,payload:e}),logout:()=>s({type:yr}),setReservations:e=>s({type:jr,payload:e}),addReservation:async e=>{try{const t=await r.create("reservations",e);return s({type:Nr,payload:t}),t}catch(t){throw n.showNotification("error","Rezervasyon oluşturulurken hata oluştu","Hata"),t}},updateReservation:async(e,t)=>{try{const a=await r.update("reservations",e,t);return s({type:wr,payload:a}),a}catch(a){throw n.showNotification("error","Rezervasyon güncellenirken hata oluştu","Hata"),a}},deleteReservation:async e=>{try{await r.delete("reservations",e),s({type:kr,payload:e}),n.showNotification("success","Rezervasyon başarıyla silindi","Başarılı")}catch(t){throw n.showNotification("error","Rezervasyon silinirken hata oluştu","Hata"),t}},setCurrentReservation:e=>s({type:Cr,payload:e}),setVehicles:e=>s({type:Br,payload:e}),addVehicle:async e=>{try{const t=await r.create("vehicles",e);return s({type:Pr,payload:t}),n.showNotification("success","Araç başarıyla eklendi","Başarılı"),t}catch(t){throw n.showNotification("error","Araç eklenirken hata oluştu","Hata"),t}},updateVehicle:async(e,t)=>{try{const a=await r.update("vehicles",e,t);return s({type:Sr,payload:a}),n.showNotification("success","Araç başarıyla güncellendi","Başarılı"),a}catch(a){throw n.showNotification("error","Araç güncellenirken hata oluştu","Hata"),a}},deleteVehicle:async e=>{try{await r.delete("vehicles",e),s({type:Lr,payload:e}),n.showNotification("success","Araç başarıyla silindi","Başarılı")}catch(t){throw n.showNotification("error","Araç silinirken hata oluştu","Hata"),t}},setDrivers:e=>s({type:Er,payload:e}),addDriver:async e=>{try{const t=await r.create("drivers",e);return s({type:Dr,payload:t}),n.showNotification("success","Şoför başarıyla eklendi","Başarılı"),t}catch(t){throw n.showNotification("error","Şoför eklenirken hata oluştu","Hata"),t}},updateDriver:async(e,t)=>{try{const a=await r.update("drivers",e,t);return s({type:Mr,payload:a}),n.showNotification("success","Şoför başarıyla güncellendi","Başarılı"),a}catch(a){throw n.showNotification("error","Şoför güncellenirken hata oluştu","Hata"),a}},deleteDriver:async e=>{try{await r.delete("drivers",e),s({type:Tr,payload:e}),n.showNotification("success","Şoför başarıyla silindi","Başarılı")}catch(t){throw n.showNotification("error","Şoför silinirken hata oluştu","Hata"),t}},setCustomers:e=>s({type:Ar,payload:e}),addCustomer:async e=>{try{const t=await r.create("customers",e);return s({type:Ir,payload:t}),t}catch(t){throw n.showNotification("error","Müşteri eklenirken hata oluştu","Hata"),t}},updateCustomer:async(e,t)=>{try{const a=await r.update("customers",e,t);return s({type:Or,payload:a}),a}catch(a){throw n.showNotification("error","Müşteri güncellenirken hata oluştu","Hata"),a}},setExtraServices:e=>s({type:zr,payload:e}),addExtraService:async e=>{try{const t=await r.create("extraServices",e);return s({type:Rr,payload:t}),n.showNotification("success","Ek hizmet başarıyla eklendi","Başarılı"),t}catch(t){throw n.showNotification("error","Ek hizmet eklenirken hata oluştu","Hata"),t}},updateExtraService:async(e,t)=>{try{const a=await r.update("extraServices",e,t);return s({type:_r,payload:a}),n.showNotification("success","Ek hizmet başarıyla güncellendi","Başarılı"),a}catch(a){throw n.showNotification("error","Ek hizmet güncellenirken hata oluştu","Hata"),a}},deleteExtraService:async e=>{try{await r.delete("extraServices",e),s({type:Ur,payload:e}),n.showNotification("success","Ek hizmet başarıyla silindi","Başarılı")}catch(t){throw n.showNotification("error","Ek hizmet silinirken hata oluştu","Hata"),t}},setSettings:e=>s({type:Hr,payload:e}),updateSettings:async e=>{try{const t=await r.update("settings","main",e);return s({type:Vr,payload:t}),n.showNotification("success","Ayarlar başarıyla güncellendi","Başarılı"),t}catch(t){throw n.showNotification("error","Ayarlar güncellenirken hata oluştu","Hata"),t}},showModal:(e,t=null)=>s({type:Fr,payload:{type:e,data:t}}),hideModal:()=>s({type:$r}),showNotification:(e,t,r="")=>s({type:Kr,payload:{type:e,message:t,title:r}}),hideNotification:()=>s({type:Gr}),loadAllData:async()=>{try{n.setLoading(!0);const[e,t,s,a,l]=await Promise.all([r.getAll("vehicles"),r.getAll("drivers"),r.getAll("customers"),r.getAll("extraServices"),r.getAll("reservations")]);n.setVehicles(e),n.setDrivers(t),n.setCustomers(s),n.setExtraServices(a),n.setReservations(l)}catch(e){console.error("Error loading data:",e),n.showNotification("error","Veriler yüklenirken hata oluştu","Hata")}finally{n.setLoading(!1)}}};return ze.useEffect(()=>{n.loadAllData()},[]),a.jsx(Zr.Provider,{value:{state:t,actions:n,firebaseOperations:r},children:e})},qr=()=>{const e=ze.useContext(Zr);if(!e)throw new Error("useApp must be used within an AppProvider");return e},Qr=({isScrolled:e=!1,location:t={pathname:"/"},size:s="normal"})=>{const r={small:"h-6 w-auto md:h-8",normal:"h-8 w-auto md:h-10",large:"h-10 w-auto md:h-12"};return a.jsx(Re,{to:"/",className:"flex items-center group",children:a.jsxs("div",{className:`${r[s]} relative transition-all duration-300`,children:[a.jsx("img",{src:"https://i.hizliresim.com/fyllowd.png",alt:"SBS Transfer Logo",className:"w-full h-full object-contain transition-all duration-300 group-hover:scale-105",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),a.jsx("div",{className:`${r[s]} bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl items-center justify-center text-white font-bold hidden`,style:{display:"none"},children:a.jsx("span",{className:"text-xs sm:text-sm font-bold",children:"SBS"})})]})})},Xr=()=>{var e;const[t,s]=ze.useState(!1),[r,u]=ze.useState(!1),h=_e(),{user:p,userProfile:x,signOut:g,loading:f}=pr();ze.useEffect(()=>{const e=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const b=()=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full animate-pulse"}),a.jsx("div",{className:"w-20 h-4 bg-gray-300 rounded animate-pulse"})]});return a.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(t?"bg-gradient-to-r from-blue-600/95 via-purple-600/95 to-blue-700/95 backdrop-blur-xl shadow-xl border-b border-white/20":"bg-transparent"),children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[a.jsx(Qr,{isScrolled:t,location:h,size:"normal"}),a.jsx("nav",{className:"hidden lg:flex items-center space-x-8",children:[{path:"/",label:"Ana Sayfa"},{path:"/hakkımızda",label:"Hakkımızda"},{path:"/hizmetler",label:"Hizmetlerimiz"},{path:"/iletişim",label:"İletişim"},...p?[{path:"/rezervasyonlarim",label:"Rezervasyonlarım"}]:[]].map(e=>a.jsx("div",{className:"hover:scale-105 transition-transform duration-200",children:a.jsxs(Re,{to:e.path,className:"relative font-medium transition-colors duration-300 "+(h.pathname===e.path?"text-yellow-300":"text-white hover:text-yellow-200"),children:[e.label,h.pathname===e.path&&a.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 animate-pulse"})]})},e.path))}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"hidden 2xl:flex items-center space-x-4",children:[a.jsxs("a",{href:`tel:${or.supportPhone}`,className:"flex items-center space-x-2 text-sm transition-all duration-300 hover:scale-105 text-white/90 hover:text-white",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx(n,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"font-medium",children:or.supportPhone})]}),a.jsxs("a",{href:`mailto:${or.supportEmail}`,className:"flex items-center space-x-2 text-sm transition-all duration-300 hover:scale-105 text-white/90 hover:text-white",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:a.jsx(l,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"font-medium",children:or.supportEmail})]})]}),f&&!x?a.jsx(b,{}):x?a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{className:"flex items-center space-x-3 px-3 py-2 rounded-xl transition-all duration-300 hover:scale-105 text-white hover:bg-white/10",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-bold",children:(null==(y=null==(v=x.firstName)?void 0:v[0])?void 0:y.toUpperCase())||"U"})}),a.jsx("span",{className:"text-sm font-medium",children:x.firstName||"Kullanıcı"})]}),a.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs(Re,{to:"/rezervasyonlarim",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(d,{className:"w-4 h-4 mr-2"}),"Rezervasyonlarım"]}),a.jsxs(Re,{to:"/profil",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(c,{className:"w-4 h-4 mr-2"}),"Profil Ayarları"]}),a.jsx("hr",{className:"my-2"}),a.jsxs("button",{onClick:g,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(m,{className:"w-4 h-4 mr-2"}),"Çıkış Yap"]})]})})]}):a.jsx("div",{className:"hover:scale-105 transition-transform duration-300",children:a.jsx(Re,{to:"/giriş",className:"flex items-center justify-center w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 transition-all duration-300 group",title:"Giriş Yap",children:a.jsx(c,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform duration-200"})})}),a.jsx("button",{className:"lg:hidden p-2 rounded-xl transition-all duration-300 hover:scale-105 text-white hover:bg-white/10",onClick:()=>u(!r),children:r?a.jsx(i,{className:"w-6 h-6"}):a.jsx(o,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:`lg:hidden ${r?"block":"hidden"} transition-all duration-300`,children:a.jsxs("div",{className:"py-4 space-y-4 bg-white/95 backdrop-blur-xl border-t border-gray-200/50 rounded-b-2xl shadow-xl",children:[[{path:"/",label:"Ana Sayfa"},{path:"/hakkımızda",label:"Hakkımızda"},{path:"/hizmetler",label:"Hizmetlerimiz"},{path:"/iletişim",label:"İletişim"},...p?[{path:"/rezervasyonlarim",label:"Rezervasyonlarım"}]:[]].map(e=>a.jsx("div",{className:"hover:translate-x-2 transition-transform duration-200",children:a.jsx(Re,{to:e.path,className:"block px-4 py-2 font-medium transition-colors "+(h.pathname===e.path?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"),onClick:()=>u(!1),children:e.label})},e.path)),p?a.jsxs("div",{className:"px-4 py-2 border-t border-gray-200/50 space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[a.jsx(c,{className:"w-4 h-4"}),a.jsx("span",{children:(null==x?void 0:x.firstName)||(null==(e=p.email)?void 0:e.split("@")[0])})]}),a.jsx(Re,{to:"/rezervasyonlarim",className:"block w-full text-left px-2 py-2 text-gray-600 hover:bg-gray-50 rounded-lg text-sm",onClick:()=>u(!1),children:"📅 Rezervasyonlarım"}),a.jsx(Re,{to:"/profil",className:"block w-full text-left px-2 py-2 text-gray-600 hover:bg-gray-50 rounded-lg text-sm",onClick:()=>u(!1),children:"⚙️ Profil Ayarları"}),a.jsx("button",{onClick:g,className:"w-full text-left px-2 py-1 text-red-600 hover:bg-red-50 rounded-lg text-sm",children:"🚪 Çıkış Yap"})]}):a.jsx("div",{className:"px-4 py-2 border-t border-gray-200/50",children:a.jsx(Re,{to:"/giriş",className:"block w-full text-center bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>u(!1),children:"Giriş Yap"})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-200/50",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(n,{className:"w-4 h-4"}),a.jsx("span",{children:or.supportPhone})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(l,{className:"w-4 h-4"}),a.jsx("span",{children:or.supportEmail})]})]})})]})})]})});var v,y},Jr=()=>a.jsxs("footer",{className:"relative bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 text-white overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),a.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(8)].map((e,t)=>a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-20 animate-pulse",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:3*Math.random()+"s"}},t))}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 animate-fade-in",children:[a.jsx("div",{className:"mb-6",children:a.jsx(Qr,{size:"normal"})}),a.jsx("p",{className:"text-gray-300 mb-6 max-w-md leading-relaxed",children:"Konforlu, güvenli ve kaliteli transfer hizmetleri. Havalimanından otelinize, otelinizden havalimanına profesyonel transfer çözümleri ile yanınızdayız."}),a.jsx("div",{className:"flex space-x-4",children:[{icon:u,href:"#",label:"Facebook"},{icon:h,href:"#",label:"Twitter"},{icon:p,href:"#",label:"Instagram"}].map((e,t)=>a.jsx("a",{href:e.href,"aria-label":e.label,className:"w-10 h-10 bg-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center text-gray-400 hover:text-white hover:bg-gradient-to-br hover:from-blue-500 hover:to-purple-600 transition-all duration-300 hover:scale-110",children:a.jsx(e.icon,{className:"w-5 h-5"})},t))})]}),a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("h3",{className:"text-lg font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Hizmetler"}),a.jsx("ul",{className:"space-y-3",children:[{to:"/havalimanı-transfer",label:"Havalimanı Transfer"},{to:"/otel-transfer",label:"Otel Transfer"},{to:"/şehir-içi-transfer",label:"Şehir İçi Transfer"},{to:"/vip-transfer",label:"VIP Transfer"},{to:"/grup-transfer",label:"Grup Transfer"}].map((e,t)=>a.jsx("li",{children:a.jsxs(Re,{to:e.to,className:"text-gray-300 hover:text-white transition-colors duration-300 flex items-center group hover:translate-x-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mr-3 opacity-60 group-hover:opacity-100 transition-opacity duration-300"}),e.label]})},t))})]}),a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("h3",{className:"text-lg font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Kurumsal"}),a.jsx("ul",{className:"space-y-3",children:[{to:"/hakkımızda",label:"Hakkımızda",icon:x},{to:"/güvenlik",label:"Güvenlik",icon:g},{to:"/destek",label:"Müşteri Desteği",icon:f},{to:"/kariyer",label:"Kariyer"},{to:"/basın",label:"Basın Kiti"}].map((e,t)=>a.jsx("li",{children:a.jsxs(Re,{to:e.to,className:"text-gray-300 hover:text-white transition-colors duration-300 flex items-center group hover:translate-x-1",children:[e.icon&&a.jsx(e.icon,{className:"w-4 h-4 mr-2 opacity-60 group-hover:opacity-100 transition-opacity"}),!e.icon&&a.jsx("span",{className:"w-1.5 h-1.5 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mr-3 opacity-60 group-hover:opacity-100 transition-opacity duration-300"}),e.label]})},t))})]}),a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("h3",{className:"text-lg font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"İletişim"}),a.jsx("div",{className:"space-y-4",children:[{icon:n,title:or.supportPhone,subtitle:"7/24 Destek Hattı",href:`tel:${or.supportPhone}`},{icon:l,title:or.supportEmail,subtitle:"E-posta Desteği",href:`mailto:${or.supportEmail}`},{icon:b,title:"İstanbul, Türkiye",subtitle:"Merkez Ofis",href:"#"}].map((e,t)=>a.jsxs("div",{className:"flex items-start space-x-3 group cursor-pointer hover:scale-105 transition-transform duration-300",children:[a.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mt-0.5 group-hover:scale-110 transition-transform duration-300",children:a.jsx(e.icon,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("a",{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-300 font-medium text-sm",children:e.title}),a.jsx("p",{className:"text-xs text-gray-400",children:e.subtitle})]})]},t))})]})]}),a.jsx("div",{className:"border-t border-white/20 mt-12 pt-8 animate-fade-in",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[a.jsxs("p",{className:"text-gray-400 text-sm",children:["© 2025 ",or.companyName,". Tüm hakları saklıdır."]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex space-x-6",children:[{to:"/gizlilik",label:"Gizlilik Politikası"},{to:"/kullanim-kosullari",label:"Kullanım Koşulları"},{to:"/cerez-politikasi",label:"Çerez Politikası"}].map((e,t)=>a.jsx(Re,{to:e.to,className:"text-gray-400 hover:text-white text-sm transition-colors duration-300 hover:scale-105",children:e.label},t))}),a.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white hover:scale-110 transition-transform duration-300 shadow-lg hover:-translate-y-1","aria-label":"Yukarı çık",children:a.jsx(v,{className:"w-5 h-5"})})]})]})})]})]}),ea=()=>{const e="/"===_e().pathname;return a.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[a.jsx(Xr,{}),a.jsx("main",{className:"flex-1 "+(e?"":"pt-20"),children:a.jsx(Ue,{})}),a.jsx(Jr,{})]})},ta=()=>{var e,t;const s=_e(),r=He(),{state:n}=qr(),{logout:l,user:c}=pr(),[u,h]=ze.useState(!1),[p,x]=ze.useState(!1),g=async()=>{try{await l(),Os.success("Başarıyla çıkış yaptınız"),r("/")}catch(e){console.error("Logout error:",e),Os.error("Çıkış yapılırken hata oluştu")}},f=[{name:"Dashboard",href:"/admin",icon:N,exact:!0,description:"Genel bakış ve istatistikler"},{name:"Araç Yönetimi",href:"/admin/vehicles",icon:w,description:"Araç ekleme, düzenleme ve yönetimi"},{name:"Şoför Yönetimi",href:"/admin/şoförler",icon:k,description:"Şoför kayıtları ve atamalar"},{name:"Ek Hizmetler",href:"/admin/ek-hizmetler",icon:C,description:"Ek hizmet yönetimi ve fiyatlandırma"},{name:"Rezervasyonlar",href:"/admin/rezervasyonlar",icon:d,description:"Rezervasyon takibi ve yönetimi"},{name:"Finansal Yönetim",href:"/admin/finans",icon:B,description:"Gelir, gider ve raporlar"},{name:"Ayarlar",href:"/admin/ayarlar",icon:P,description:"Sistem ayarları ve konfigürasyon"}],b=(e,t=!1)=>t?s.pathname===e:s.pathname.startsWith(e),v={inactive:{backgroundColor:"transparent",scale:1,transition:{duration:.2}},active:{backgroundColor:"linear-gradient(135deg, #3b82f6, #6366f1)",scale:1.02,transition:{duration:.2}},hover:{backgroundColor:"#f3f4f6",scale:1.01,transition:{duration:.2}}},M=({isMobile:e=!1})=>{var t,s;return a.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between h-20 px-6 border-b border-slate-700/50 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/90 via-indigo-600/90 to-purple-600/90 backdrop-blur-sm"}),a.jsxs(Re,{to:"/",className:"flex items-center space-x-3 group relative z-10",children:[a.jsx(j.div,{className:"w-12 h-12 bg-gradient-to-br from-white/20 to-white/10 backdrop-blur-lg rounded-2xl flex items-center justify-center border border-white/20 shadow-xl",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},children:a.jsx(w,{className:"w-7 h-7 text-white drop-shadow-lg"})}),!p&&a.jsxs("div",{children:[a.jsx("span",{className:"text-xl font-bold text-white group-hover:text-blue-200 transition-colors drop-shadow-lg",children:"SBS Admin"}),a.jsx("div",{className:"text-xs text-blue-200/80 font-medium",children:"Transfer Platform"})]})]}),!e&&a.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(!p),className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-xl transition-colors relative z-10 backdrop-blur-sm",children:p?a.jsx(E,{className:"w-5 h-5"}):a.jsx(i,{className:"w-5 h-5"})}),e&&a.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>h(!1),className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-xl transition-colors relative z-10 backdrop-blur-sm",children:a.jsx(i,{className:"w-5 h-5"})})]}),!p&&a.jsx("div",{className:"p-6 border-b border-slate-700/50 bg-gradient-to-br from-slate-800/50 to-slate-900/50",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(j.div,{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 backdrop-blur-sm p-4 rounded-2xl border border-blue-500/20 shadow-lg",whileHover:{scale:1.02,y:-2},children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(w,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Araçlar"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:(null==(t=n.vehicles)?void 0:t.length)||0})]}),a.jsxs(j.div,{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 backdrop-blur-sm p-4 rounded-2xl border border-emerald-500/20 shadow-lg",whileHover:{scale:1.02,y:-2},children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(d,{className:"w-4 h-4 text-emerald-400"}),a.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Rezervasyon"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:(null==(s=n.reservations)?void 0:s.length)||0})]})]})}),a.jsx("nav",{className:"flex-1 px-4 py-6 space-y-3 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-transparent",children:f.map((t,s)=>{const r=b(t.href,t.exact);return a.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:a.jsx(Re,{to:t.href,onClick:e?()=>h(!1):void 0,className:"group relative block",title:p?t.name:void 0,children:a.jsxs(j.div,{className:`flex items-center ${p?"px-3 py-4 justify-center":"px-4 py-4"} text-sm font-medium rounded-2xl transition-all duration-300 relative overflow-hidden ${r?"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white shadow-xl shadow-blue-500/25":"text-slate-300 hover:text-white hover:bg-slate-700/50"}`,variants:v,initial:"inactive",animate:r?"active":"inactive",whileHover:r?void 0:"hover",whileTap:{scale:.98},children:[r&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/90 via-indigo-600/90 to-purple-600/90 backdrop-blur-sm rounded-2xl"}),a.jsx(t.icon,{className:`w-6 h-6 ${p?"":"mr-4"} transition-transform group-hover:scale-110 relative z-10 ${r?"text-white drop-shadow-lg":"text-slate-400 group-hover:text-blue-400"}`}),!p&&a.jsxs("div",{className:"flex-1 relative z-10",children:[a.jsx("div",{className:"font-semibold",children:t.name}),!r&&a.jsx("div",{className:"text-xs text-slate-400 group-hover:text-slate-300 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:t.description})]}),r&&!p&&a.jsx(j.div,{layoutId:"activeIndicator",className:"w-2 h-2 bg-white rounded-full shadow-lg relative z-10",initial:{scale:0},animate:{scale:1},exit:{scale:0}}),!r&&!p&&a.jsx(E,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity relative z-10"})]})})},t.name)})}),a.jsx("div",{className:"p-4 border-t border-slate-700/50 bg-gradient-to-br from-slate-800/50 to-slate-900/50",children:a.jsxs(j.div,{className:`flex items-center ${p?"justify-center":"space-x-3"} p-4 bg-gradient-to-br from-slate-700/50 to-slate-800/50 backdrop-blur-sm rounded-2xl border border-slate-600/30 shadow-xl`,whileHover:{scale:1.02,y:-2},children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(D,{className:"w-6 h-6 text-white"})}),!p&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-white truncate",children:(null==c?void 0:c.displayName)||"Admin"}),a.jsx("p",{className:"text-xs text-slate-400 truncate",children:null==c?void 0:c.email})]}),a.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:g,className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-colors",title:"Çıkış Yap",children:a.jsx(m,{className:"w-5 h-5"})})]})]})})]})};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex",children:[a.jsx(y,{children:u&&a.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-40 lg:hidden",onClick:()=>h(!1)})}),a.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:a.jsx("div",{className:(p?"w-20":"w-80")+" transition-all duration-300",children:a.jsx(M,{})})}),a.jsx(y,{children:u&&a.jsx(j.div,{variants:{open:{x:0,transition:{type:"spring",stiffness:300,damping:30}},closed:{x:"-100%",transition:{type:"spring",stiffness:300,damping:30}}},initial:"closed",animate:"open",exit:"closed",className:"fixed inset-y-0 left-0 z-50 w-80 lg:hidden",children:a.jsx(M,{isMobile:!0})})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white/90 backdrop-blur-lg shadow-lg border-b border-gray-200/50 lg:hidden",children:a.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[a.jsx(j.button,{whileTap:{scale:.95},onClick:()=>h(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors",children:a.jsx(o,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Admin Panel"}),a.jsx("div",{className:"w-10"})]})}),a.jsx("header",{className:"hidden lg:block bg-white/90 backdrop-blur-lg shadow-lg border-b border-gray-200/50",children:a.jsxs("div",{className:"flex items-center justify-between h-20 px-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:(null==(e=f.find(e=>b(e.href,e.exact)))?void 0:e.name)||"Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(null==(t=f.find(e=>b(e.href,e.exact)))?void 0:t.description)||"Yönetim paneline hoş geldiniz"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:[a.jsx(S,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-red-500 to-pink-500 rounded-full shadow-lg"})]}),a.jsxs(Re,{to:"/",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors",children:[a.jsx(L,{className:"w-4 h-4"}),a.jsx("span",{children:"Ana Sayfa"})]})]})]})}),a.jsx("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-50/50 via-blue-50/30 to-indigo-100/50",children:a.jsx("div",{className:"h-full",children:a.jsx(Ue,{})})})]})]})},sa=()=>{const e=He(),{logout:t}=pr();return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-0 z-40",children:a.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-blue-500 p-2 rounded-full",children:a.jsx(w,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-bold text-gray-900",children:"SBS Transfer"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Şoför Paneli"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>e("/şoför/profil"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Profil",children:a.jsx(c,{className:"w-5 h-5 text-gray-600"})}),a.jsx("button",{onClick:async()=>{try{await t(),Os.success("Başarıyla çıkış yaptınız"),e("/")}catch(s){console.error("Logout error:",s),Os.error("Çıkış yapılırken hata oluştu")}},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Çıkış Yap",children:a.jsx(m,{className:"w-5 h-5 text-gray-600"})})]})]})}),a.jsx("main",{className:"pb-4",children:a.jsx(Ue,{})})]})};var ra="undefined"!=typeof Element,aa="function"==typeof Map,na="function"==typeof Set,la="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function ia(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,r,a,n;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(!ia(e[r],t[r]))return!1;return!0}if(aa&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(n=e.entries();!(r=n.next()).done;)if(!t.has(r.value[0]))return!1;for(n=e.entries();!(r=n.next()).done;)if(!ia(r.value[1],t.get(r.value[0])))return!1;return!0}if(na&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(n=e.entries();!(r=n.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(la&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((s=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=s;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(ra&&e instanceof Element)return!1;for(r=s;0!==r--;)if(("_owner"!==a[r]&&"__v"!==a[r]&&"__o"!==a[r]||!e.$$typeof)&&!ia(e[a[r]],t[a[r]]))return!1;return!0}return e!=e&&t!=t}const oa=Ve(function(e,t){try{return ia(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}});var ca=function(e,t,s,r,a,n,l,i){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,r,a,n,l,i],d=0;(o=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw o.framesToPop=1,o}};const da=Ve(ca);const ma=Ve(function(e,t,s,r){var a=s?s.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),o=0;o<n.length;o++){var c=n[o];if(!i(c))return!1;var d=e[c],m=t[c];if(!1===(a=s?s.call(r,d,m,c):void 0)||void 0===a&&d!==m)return!1}return!0});var ua=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(ua||{}),ha={rel:["amphtml","canonical","alternate"]},pa={type:["application/ld+json"]},xa={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},ga=Object.values(ua),fa={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ba=Object.entries(fa).reduce((e,[t,s])=>(e[s]=t,e),{}),va="data-rh",ya="defaultTitle",ja="defer",Na="encodeSpecialCharacters",wa="onChangeClientState",ka="titleTemplate",Ca="prioritizeSeoTags",Ba=(e,t)=>{for(let s=e.length-1;s>=0;s-=1){const r=e[s];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Pa=e=>{let t=Ba(e,"title");const s=Ba(e,ka);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const r=Ba(e,ya);return t||r||void 0},Sa=e=>Ba(e,wa)||(()=>{}),La=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),Ea=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,s)=>{if(!t.length){const r=Object.keys(s);for(let a=0;a<r.length;a+=1){const n=r[a].toLowerCase();if(-1!==e.indexOf(n)&&s[n])return t.concat(s)}}return t},[]),Da=(e,t,s)=>{const r={};return s.filter(t=>{return!!Array.isArray(t[e])||(void 0!==t[e]&&(s=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"==typeof console.warn&&console.warn(s)),!1);var s}).map(t=>t[e]).reverse().reduce((e,s)=>{const a={};s.filter(e=>{let s;const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const a=n[r],l=a.toLowerCase();-1===t.indexOf(l)||"rel"===s&&"canonical"===e[s].toLowerCase()||"rel"===l&&"stylesheet"===e[l].toLowerCase()||(s=l),-1===t.indexOf(a)||"innerHTML"!==a&&"cssText"!==a&&"itemprop"!==a||(s=a)}if(!s||!e[s])return!1;const l=e[s].toLowerCase();return r[s]||(r[s]={}),a[s]||(a[s]={}),!r[s][l]&&(a[s][l]=!0,!0)}).reverse().forEach(t=>e.push(t));const n=Object.keys(a);for(let t=0;t<n.length;t+=1){const e=n[t],s={...r[e],...a[e]};r[e]=s}return e},[]).reverse()},Ma=(e,t)=>{if(Array.isArray(e)&&e.length)for(let s=0;s<e.length;s+=1){if(e[s][t])return!0}return!1},Ta=e=>Array.isArray(e)?e.join(""):e,Aa=(e,t)=>Array.isArray(e)?e.reduce((e,s)=>(((e,t)=>{const s=Object.keys(e);for(let r=0;r<s.length;r+=1)if(t[s[r]]&&t[s[r]].includes(e[s[r]]))return!0;return!1})(s,t)?e.priority.push(s):e.default.push(s),e),{priority:[],default:[]}):{default:e,priority:[]},Ia=(e,t)=>({...e,[t]:void 0}),Oa=["noscript","script","style"],za=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ra=e=>Object.keys(e).reduce((t,s)=>{const r=void 0!==e[s]?`${s}="${e[s]}"`:`${s}`;return t?`${t} ${r}`:r},""),_a=(e,t={})=>Object.keys(e).reduce((t,s)=>(t[fa[s]||s]=e[s],t),t),Ua=(e,t)=>t.map((t,s)=>{const r={key:s,[va]:!0};return Object.keys(t).forEach(e=>{const s=fa[e]||e;if("innerHTML"===s||"cssText"===s){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[s]=t[e]}),Fe.createElement(e,r)}),Ha=(e,t,s=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,s)=>{const r=_a(s,{key:t,[va]:!0});return[Fe.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,s,r)=>{const a=Ra(s),n=Ta(t);return a?`<${e} ${va}="true" ${a}>${za(n,r)}</${e}>`:`<${e} ${va}="true">${za(n,r)}</${e}>`})(e,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>_a(t),toString:()=>Ra(t)};default:return{toComponent:()=>Ua(e,t),toString:()=>((e,t,s=!0)=>t.reduce((t,r)=>{const a=r,n=Object.keys(a).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===a[t]?t:`${t}="${za(a[t],s)}"`;return e?`${e} ${r}`:r},""),l=a.innerHTML||a.cssText||"",i=-1===Oa.indexOf(e);return`${t}<${e} ${va}="true" ${n}${i?"/>":`>${l}</${e}>`}`},""))(e,t,s)}}},Va=e=>{const{baseTag:t,bodyAttributes:s,encode:r=!0,htmlAttributes:a,noscriptTags:n,styleTags:l,title:i="",titleAttributes:o,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:m,scriptTags:u}=e,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:d,metaTags:m,scriptTags:u}=(({metaTags:e,linkTags:t,scriptTags:s,encode:r})=>{const a=Aa(e,xa),n=Aa(t,ha),l=Aa(s,pa);return{priorityMethods:{toComponent:()=>[...Ua("meta",a.priority),...Ua("link",n.priority),...Ua("script",l.priority)],toString:()=>`${Ha("meta",a.priority,r)} ${Ha("link",n.priority,r)} ${Ha("script",l.priority,r)}`},metaTags:a.default,linkTags:n.default,scriptTags:l.default}})(e)),{priority:h,base:Ha("base",t,r),bodyAttributes:Ha("bodyAttributes",s,r),htmlAttributes:Ha("htmlAttributes",a,r),link:Ha("link",d,r),meta:Ha("meta",m,r),noscript:Ha("noscript",n,r),script:Ha("script",u,r),style:Ha("style",l,r),title:Ha("title",{title:i,titleAttributes:o},r)}},Fa=[],$a=!("undefined"==typeof window||!window.document||!window.document.createElement),Ka=class{constructor(e,t){r(this,"instances",[]),r(this,"canUseDOM",$a),r(this,"context"),r(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Fa:this.instances,add:e=>{(this.canUseDOM?Fa:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Fa:this.instances).indexOf(e);(this.canUseDOM?Fa:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Va({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Ga=Fe.createContext({}),Ya=(e=class extends ze.Component{constructor(t){super(t),r(this,"helmetData"),this.helmetData=new Ka(this.props.context||{},e.canUseDOM)}render(){return Fe.createElement(Ga.Provider,{value:this.helmetData.value},this.props.children)}},r(e,"canUseDOM",$a),e),Za=(e,t)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${e}[${va}]`),a=[].slice.call(r),n=[];let l;return t&&t.length&&t.forEach(t=>{const s=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)s.innerHTML=t.innerHTML;else if("cssText"===e)s.styleSheet?s.styleSheet.cssText=t.cssText:s.appendChild(document.createTextNode(t.cssText));else{const r=e,a=void 0===t[r]?"":t[r];s.setAttribute(e,a)}s.setAttribute(va,"true"),a.some((e,t)=>(l=t,s.isEqualNode(e)))?a.splice(l,1):n.push(s)}),a.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),n.forEach(e=>s.appendChild(e)),{oldTags:a,newTags:n}},Wa=(e,t)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const r=s.getAttribute(va),a=r?r.split(","):[],n=[...a],l=Object.keys(t);for(const i of l){const e=t[i]||"";s.getAttribute(i)!==e&&s.setAttribute(i,e),-1===a.indexOf(i)&&a.push(i);const r=n.indexOf(i);-1!==r&&n.splice(r,1)}for(let i=n.length-1;i>=0;i-=1)s.removeAttribute(n[i]);a.length===n.length?s.removeAttribute(va):s.getAttribute(va)!==l.join(",")&&s.setAttribute(va,l.join(","))},qa=(e,t)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:a,linkTags:n,metaTags:l,noscriptTags:i,onChangeClientState:o,scriptTags:c,styleTags:d,title:m,titleAttributes:u}=e;Wa("body",r),Wa("html",a),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=Ta(e)),Wa("title",t)})(m,u);const h={baseTag:Za("base",s),linkTags:Za("link",n),metaTags:Za("meta",l),noscriptTags:Za("noscript",i),scriptTags:Za("script",c),styleTags:Za("style",d)},p={},x={};Object.keys(h).forEach(e=>{const{newTags:t,oldTags:s}=h[e];t.length&&(p[e]=t),s.length&&(x[e]=h[e].oldTags)}),t&&t(),o(e,p,x)},Qa=null,Xa=e=>{Qa&&cancelAnimationFrame(Qa),e.defer?Qa=requestAnimationFrame(()=>{qa(e,()=>{Qa=null})}):(qa(e),Qa=null)},Ja=class extends ze.Component{constructor(){super(...arguments),r(this,"rendered",!1)}shouldComponentUpdate(e){return!ma(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const r=(a=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:Ea(["href"],a),bodyAttributes:La("bodyAttributes",a),defer:Ba(a,ja),encode:Ba(a,Na),htmlAttributes:La("htmlAttributes",a),linkTags:Da("link",["rel","href"],a),metaTags:Da("meta",["name","charset","http-equiv","property","itemprop"],a),noscriptTags:Da("noscript",["innerHTML"],a),onChangeClientState:Sa(a),scriptTags:Da("script",["src","innerHTML"],a),styleTags:Da("style",["cssText"],a),title:Pa(a),titleAttributes:La("titleAttributes",a),prioritizeSeoTags:Ma(a,Ca)});var a;Ya.canUseDOM?Xa(r):Va&&(s=Va(r)),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},en=(t=class extends ze.Component{shouldComponentUpdate(e){return!oa(Ia(this.props,"helmetData"),Ia(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,s,r){return{...t,[e.type]:[...t[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,s,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,t){let s={...t};return Object.keys(e).forEach(t=>{s={...s,[t]:e[t]}}),s}warnOnInvalidChildren(e,t){return da(ga.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ga.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),da(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let s={};return Fe.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...a}=e.props,n=Object.keys(a).reduce((e,t)=>(e[ba[t]||t]=a[t],e),{});let{type:l}=e;switch("symbol"==typeof l?l=l.toString():this.warnOnInvalidChildren(e,r),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(e,s,n,r);break;default:t=this.mapObjectTypeChildren(e,t,n,r)}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:e,...t}=this.props;let s={...t},{helmetData:r}=t;if(e&&(s=this.mapChildrenToProps(e,s)),r&&!(r instanceof Ka)){r=new Ka(r.context,!0),delete s.helmetData}return r?Fe.createElement(Ja,{...s,context:r.value}):Fe.createElement(Ga.Consumer,null,e=>Fe.createElement(Ja,{...s,context:e}))}},r(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);const tn={tr:{siteName:"Antalya VIP Transfer | Havalimanı Transfer Hizmeti",siteUrl:"https://antalyatransfer.com",pages:{homepage:{title:"Antalya VIP Transfer | Havalimanı Transfer Hizmeti | 7/24 Güvenli Transfer",description:"Antalya havalimanı transfer hizmeti. VIP araçlar, profesyonel şoförler, 7/24 hizmet. Antalya şehir içi transfer, otel transfer, güvenli yolculuk garantisi.",keywords:["antalya transfer","antalya havalimanı transfer","antalya vip transfer","antalya taksi","antalya şehir içi transfer","antalya otel transfer","antalya özel transfer","antalya grup transfer","antalya güvenli transfer","antalya profesyonel transfer","antalya transfer hizmeti","antalya araç kiralama","antalya ulaşım","antalya turizm transfer","antalya lüks transfer"]}}},en:{siteName:"Antalya VIP Transfer | Airport Transfer Service",siteUrl:"https://antalyatransfer.com/en",pages:{homepage:{title:"Antalya Airport Transfer | VIP Transfer Service | 24/7 Safe Transportation",description:"VIP transfer service from Antalya Airport to hotels and city center. 24/7 safe, comfortable and affordable airport transfer solutions. Book now!",keywords:["antalya airport transfer","antalya vip transfer","antalya private transfer","antalya shuttle service","antalya transportation","antalya taxi service","antalya group transfer","antalya city transfer","antalya hotel transfer","antalya safe transfer"]}}},ru:{siteName:"Анталья VIP Трансфер | Трансфер из аэропорта",siteUrl:"https://antalyatransfer.com/ru",pages:{homepage:{title:"Трансфер из аэропорта Антальи | VIP Трансфер | 24/7 Безопасная транспортировка",description:"VIP трансфер из аэропорта Антальи в отели и центр города. 24/7 безопасные, комфортные и доступные решения трансфера из аэропорта. Забронируйте сейчас!",keywords:["трансфер аэропорт анталья","анталья вип трансфер","анталья частный трансфер","анталья автобус аэропорт","анталья транспорт","анталья такси","анталья групповой трансфер","анталья трансфер город","анталья трансфер отель","анталья безопасный трансфер"]}}},de:{siteName:"Antalya VIP Transfer | Flughafentransfer Service",siteUrl:"https://antalyatransfer.com/de",pages:{homepage:{title:"Antalya Flughafentransfer | VIP Transfer Service | 24/7 Sicherer Transport",description:"VIP Transfer Service vom Flughafen Antalya zu Hotels und Stadtzentrum. 24/7 sichere, komfortable und erschwingliche Flughafentransfer-Lösungen. Jetzt buchen!",keywords:["antalya flughafentransfer","antalya vip transfer","antalya privattransfer","antalya shuttle service","antalya transport","antalya taxi service","antalya gruppentransfer","antalya stadttransfer","antalya hoteltransfer","antalya sicherer transfer"]}}},ar:{siteName:"انطاليا في آي بي ترانسفر | خدمة النقل من المطار",siteUrl:"https://antalyatransfer.com/ar",pages:{homepage:{title:"نقل مطار انطاليا | خدمة النقل VIP | النقل الآمن 24/7",description:"خدمة النقل VIP من مطار انطاليا إلى الفنادق ووسط المدينة. حلول نقل آمنة ومريحة وبأسعار معقولة من المطار على مدار 24/7. احجز الآن!",keywords:["نقل مطار انطاليا","انطاليا في آي بي ترانسفر","انطاليا نقل خاص","انطاليا خدمة النقل","انطاليا المواصلات","انطاليا تاكسي","انطاليا نقل جماعي","انطاليا نقل المدينة","انطاليا نقل الفندق","انطاليا نقل آمن"]}}},ro:{siteName:"Antalya VIP Transfer | Serviciu Transfer Aeroport",siteUrl:"https://antalyatransfer.com/ro",pages:{homepage:{title:"Transfer Aeroport Antalya | Serviciu VIP Transfer | Transport Sigur 24/7",description:"Serviciu VIP transfer de la Aeroportul Antalya la hoteluri și centrul orașului. Soluții de transfer de la aeroport sigure, confortabile și accesibile 24/7. Rezervă acum!",keywords:["transfer aeroport antalya","antalya vip transfer","antalya transfer privat","antalya serviciu shuttle","antalya transport","antalya serviciu taxi","antalya transfer grup","antalya transfer oraș","antalya transfer hotel","antalya transfer sigur"]}}},pl:{siteName:"Antalya VIP Transfer | Usługa Transferu z Lotniska",siteUrl:"https://antalyatransfer.com/pl",pages:{homepage:{title:"Transfer z Lotniska Antalya | Usługa VIP Transfer | Bezpieczny Transport 24/7",description:"Usługa VIP transferu z lotniska Antalya do hoteli i centrum miasta. Bezpieczne, komfortowe i przystępne cenowo rozwiązania transferu z lotniska 24/7. Zarezerwuj teraz!",keywords:["transfer lotnisko antalya","antalya vip transfer","antalya transfer prywatny","antalya usługa shuttle","antalya transport","antalya usługa taxi","antalya transfer grupowy","antalya transfer miasto","antalya transfer hotel","antalya transfer bezpieczny"]}}}},sn=({language:e="tr",page:t="homepage"})=>{const s=tn[e]||tn.tr,r=s.pages[t]||s.pages.homepage,n={"@context":"https://schema.org","@type":"TransportService",name:s.siteName,description:r.description,url:s.siteUrl,logo:`${s.siteUrl}/logo.png`,image:`${s.siteUrl}/images/antalya-transfer-hero.jpg`,telephone:"+905551234567",email:"info@antalyatransfer.com",address:{"@type":"PostalAddress",streetAddress:"Antalya Havalimanı",addressLocality:"Antalya",addressRegion:"Antalya",postalCode:"07230",addressCountry:"TR"},geo:{"@type":"GeoCoordinates",latitude:"36.8983",longitude:"30.7856"},areaServed:[{"@type":"Place",name:"Antalya"},{"@type":"Place",name:"Alanya"},{"@type":"Place",name:"Side"},{"@type":"Place",name:"Belek"},{"@type":"Place",name:"Kemer"}],serviceType:"Airport Transfer Service",provider:{"@type":"LocalBusiness",name:s.siteName,image:`${s.siteUrl}/logo.png`,address:{"@type":"PostalAddress",streetAddress:"Antalya Havalimanı",addressLocality:"Antalya",addressRegion:"Antalya",postalCode:"07230",addressCountry:"TR"},priceRange:"€15-€150",telephone:"+905551234567",email:"info@antalyatransfer.com",url:s.siteUrl,openingHours:"Mo-Su 00:00-23:59",paymentAccepted:["Cash","Credit Card","Online Payment"],aggregateRating:{"@type":"AggregateRating",ratingValue:"4.9",reviewCount:"2500",bestRating:"5",worstRating:"1"}},offers:{"@type":"Offer",priceCurrency:"EUR",price:"15",description:"Airport transfer starting from €15",availability:"https://schema.org/InStock",validFrom:(new Date).toISOString(),validThrough:new Date(Date.now()+31536e6).toISOString()},hasOfferCatalog:{"@type":"OfferCatalog",name:"Transfer Services",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"Airport Transfer",description:"Airport to hotel transfer service"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"City Transfer",description:"City center transfer service"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"VIP Transfer",description:"Luxury VIP transfer service"}}]}};return a.jsxs(en,{children:[a.jsx("title",{children:r.title}),a.jsx("meta",{name:"description",content:r.description}),a.jsx("meta",{name:"keywords",content:r.keywords.join(", ")}),a.jsx("meta",{name:"author",content:s.siteName}),a.jsx("meta",{name:"language",content:e}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:title",content:r.title}),a.jsx("meta",{property:"og:description",content:r.description}),a.jsx("meta",{property:"og:image",content:`${s.siteUrl}/images/antalya-transfer-hero.jpg`}),a.jsx("meta",{property:"og:url",content:s.siteUrl}),a.jsx("meta",{property:"og:site_name",content:s.siteName}),a.jsx("meta",{property:"og:locale",content:"tr"===e?"tr_TR":`${e}_${e.toUpperCase()}`}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:r.title}),a.jsx("meta",{name:"twitter:description",content:r.description}),a.jsx("meta",{name:"twitter:image",content:`${s.siteUrl}/images/antalya-transfer-hero.jpg`}),a.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),a.jsx("meta",{name:"googlebot",content:"index, follow"}),a.jsx("meta",{name:"bingbot",content:"index, follow"}),a.jsx("meta",{name:"revisit-after",content:"1 days"}),a.jsx("meta",{name:"rating",content:"general"}),a.jsx("meta",{name:"distribution",content:"global"}),a.jsx("link",{rel:"canonical",href:s.siteUrl}),a.jsx("link",{rel:"alternate",hrefLang:"tr",href:`${s.siteUrl}`}),a.jsx("link",{rel:"alternate",hrefLang:"en",href:`${s.siteUrl}/en`}),a.jsx("link",{rel:"alternate",hrefLang:"ru",href:`${s.siteUrl}/ru`}),a.jsx("link",{rel:"alternate",hrefLang:"de",href:`${s.siteUrl}/de`}),a.jsx("link",{rel:"alternate",hrefLang:"ar",href:`${s.siteUrl}/ar`}),a.jsx("link",{rel:"alternate",hrefLang:"ro",href:`${s.siteUrl}/ro`}),a.jsx("link",{rel:"alternate",hrefLang:"pl",href:`${s.siteUrl}/pl`}),a.jsx("link",{rel:"alternate",hrefLang:"x-default",href:s.siteUrl}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(n)}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Ana Sayfa",item:s.siteUrl}]})}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Organization",name:s.siteName,url:s.siteUrl,logo:`${s.siteUrl}/logo.png`,contactPoint:{"@type":"ContactPoint",telephone:"+905551234567",contactType:"customer service",availableLanguage:["Turkish","English","Russian","German"]},sameAs:["https://www.facebook.com/antalyatransfer","https://www.instagram.com/antalyatransfer","https://www.twitter.com/antalyatransfer"]})}),a.jsx("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=5.0"}),a.jsx("meta",{name:"format-detection",content:"telephone=no"}),a.jsx("meta",{name:"msapplication-tap-highlight",content:"no"}),a.jsx("link",{rel:"icon",type:"image/x-icon",href:"/favicon.ico"}),a.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),a.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),a.jsx("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),a.jsx("link",{rel:"manifest",href:"/site.webmanifest"}),a.jsx("link",{rel:"dns-prefetch",href:"//maps.googleapis.com"}),a.jsx("link",{rel:"dns-prefetch",href:"//fonts.googleapis.com"}),a.jsx("link",{rel:"dns-prefetch",href:"//www.google-analytics.com"}),a.jsx("link",{rel:"preload",href:"/fonts/inter.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"})]})},rn=()=>{const e=He(),[t,s]=ze.useState({tripType:"",pickupLocation:null,dropoffLocation:null,passengerCount:1,baggageCount:1,date:"",time:"",returnDate:"",returnTime:""}),[r,n]=ze.useState(""),[l,i]=ze.useState(""),o=ze.useRef(null),c=ze.useRef(null);ze.useEffect(()=>{const e=setInterval(()=>{window.google&&window.google.maps&&window.google.maps.places&&((()=>{if(window.google&&window.google.maps&&window.google.maps.places){if(o.current){const e=new window.google.maps.places.Autocomplete(o.current,{types:["establishment","geocode"],componentRestrictions:{country:"tr"},fields:["place_id","formatted_address","name","geometry"]});e.addListener("place_changed",()=>{const t=e.getPlace();t&&t.formatted_address&&(n(t.formatted_address),s(e=>{var s,r,a,n;return{...e,pickupLocation:{address:t.formatted_address,name:t.name,placeId:t.place_id,lat:null==(r=null==(s=t.geometry)?void 0:s.location)?void 0:r.lat(),lng:null==(n=null==(a=t.geometry)?void 0:a.location)?void 0:n.lng()}}}))})}if(c.current){const e=new window.google.maps.places.Autocomplete(c.current,{types:["establishment","geocode"],componentRestrictions:{country:"tr"},fields:["place_id","formatted_address","name","geometry"]});e.addListener("place_changed",()=>{const t=e.getPlace();t&&t.formatted_address&&(i(t.formatted_address),s(e=>{var s,r,a,n;return{...e,dropoffLocation:{address:t.formatted_address,name:t.name,placeId:t.place_id,lat:null==(r=null==(s=t.geometry)?void 0:s.location)?void 0:r.lat(),lng:null==(n=null==(a=t.geometry)?void 0:a.location)?void 0:n.lng()}}}))})}}})(),clearInterval(e))},500);return setTimeout(()=>{clearInterval(e)},1e4),()=>clearInterval(e)},[]);const m=(new Date).toISOString().split("T")[0],u=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"];return a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl p-3 sm:p-4 lg:p-6 shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/20 to-purple-500/20 blur-xl"}),a.jsx("div",{className:"absolute inset-0 rounded-2xl border border-blue-400/30 shadow-[0_0_20px_rgba(59,130,246,0.3)]"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"text-center mb-3 sm:mb-4",children:[a.jsxs("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white mb-1",children:[a.jsx(w,{className:"w-4 h-4 sm:w-5 sm:h-5 inline mr-2"}),"Hızlı Rezervasyon"]}),a.jsx("p",{className:"text-gray-300 text-xs sm:text-sm lg:text-sm",children:t.tripType?t.pickupLocation&&t.dropoffLocation?t.date&&t.time?"round-trip"!==t.tripType||t.returnDate&&t.returnTime?"Kişi sayısını belirtin ve devam edin":"Dönüş tarih-saat seçin":"Tarih ve saat seçin":"Lokasyonları girin":"Seyahat türünü seçin"})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-2",children:[a.jsx(M,{className:"w-3 h-3 inline mr-1"}),"Seyahat Türü"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{type:"button",onClick:()=>s(e=>({...e,tripType:"one-way"})),className:"px-2 sm:px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 "+("one-way"===t.tripType?"bg-blue-600 text-white border border-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]":"bg-white/20 text-white border border-white/30 hover:bg-white/30"),children:"Tek Yön"}),a.jsx("button",{type:"button",onClick:()=>s(e=>({...e,tripType:"round-trip"})),className:"px-2 sm:px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 "+("round-trip"===t.tripType?"bg-blue-600 text-white border border-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]":"bg-white/20 text-white border border-white/30 hover:bg-white/30"),children:"Gidiş-Dönüş"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-1",children:[a.jsx(b,{className:"w-3 h-3 inline mr-1"}),"Nereden"]}),a.jsx("input",{ref:o,type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"Antalya Havalimanı...",className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm text-sm focus:shadow-[0_0_15px_rgba(59,130,246,0.4)]"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-1",children:[a.jsx(b,{className:"w-3 h-3 inline mr-1"}),"Nereye"]}),a.jsx("input",{ref:c,type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Otel adı...",className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm text-sm focus:shadow-[0_0_15px_rgba(59,130,246,0.4)]"})]})]}),t.tripType&&t.pickupLocation&&t.dropoffLocation&&a.jsxs("div",{className:"space-y-3 animate-fade-in",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-1",children:[a.jsx(d,{className:"w-3 h-3 inline mr-1"}),"Gidiş Tarihi"]}),a.jsx("input",{type:"date",value:t.date,min:m,onChange:e=>s(t=>({...t,date:e.target.value})),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-1",children:[a.jsx(T,{className:"w-3 h-3 inline mr-1"}),"Gidiş Saati"]}),a.jsxs("select",{value:t.time,onChange:e=>s(t=>({...t,time:e.target.value})),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm text-sm",children:[a.jsx("option",{value:"",className:"text-gray-800",children:"Seçin"}),u.map(e=>a.jsx("option",{value:e,className:"text-gray-800",children:e},e))]})]})]}),"round-trip"===t.tripType&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-1",children:[a.jsx(d,{className:"w-3 h-3 inline mr-1"}),"Dönüş Tarihi"]}),a.jsx("input",{type:"date",value:t.returnDate,min:t.date||m,onChange:e=>s(t=>({...t,returnDate:e.target.value})),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-1",children:[a.jsx(T,{className:"w-3 h-3 inline mr-1"}),"Dönüş Saati"]}),a.jsxs("select",{value:t.returnTime,onChange:e=>s(t=>({...t,returnTime:e.target.value})),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm text-sm",children:[a.jsx("option",{value:"",className:"text-gray-800",children:"Seçin"}),u.map(e=>a.jsx("option",{value:e,className:"text-gray-800",children:e},e))]})]})]})]}),t.tripType&&t.pickupLocation&&t.dropoffLocation&&t.date&&t.time&&("one-way"===t.tripType||t.returnDate&&t.returnTime)&&a.jsx("div",{className:"animate-fade-in",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-1",children:[a.jsx(k,{className:"w-3 h-3 inline mr-1"}),"Kişi"]}),a.jsx("select",{value:t.passengerCount,onChange:e=>s(t=>({...t,passengerCount:parseInt(e.target.value)})),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm text-sm",children:[1,2,3,4,5,6,7,8].map(e=>a.jsx("option",{value:e,className:"text-gray-800",children:e},e))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-white text-xs font-medium mb-1",children:[a.jsx(C,{className:"w-3 h-3 inline mr-1"}),"Bagaj"]}),a.jsx("select",{value:t.baggageCount,onChange:e=>s(t=>({...t,baggageCount:parseInt(e.target.value)})),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm text-sm",children:[1,2,3,4,5,6,7,8].map(e=>a.jsx("option",{value:e,className:"text-gray-800",children:e},e))})]})]})}),t.tripType&&t.pickupLocation&&t.dropoffLocation&&t.date&&t.time&&("one-way"===t.tripType||t.returnDate&&t.returnTime)&&a.jsx("div",{className:"animate-fade-in",children:a.jsxs("button",{onClick:()=>{if(!(t.pickupLocation&&t.dropoffLocation&&t.date&&t.time))return void alert("Lütfen tüm alanları doldurun!");if(!("round-trip"!==t.tripType||t.returnDate&&t.returnTime))return void alert("Lütfen dönüş tarih ve saatini de doldurun!");const s={tripType:t.tripType,pickupLocation:t.pickupLocation,dropoffLocation:t.dropoffLocation,date:t.date,time:t.time,returnDate:t.returnDate,returnTime:t.returnTime,passengerCount:t.passengerCount,baggageCount:t.baggageCount,prefilledFromHome:!0,showVehicles:!0};localStorage.setItem("quickBookingData",JSON.stringify(s)),e("/rezervasyon")},className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white py-3 px-4 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 text-sm lg:text-base shadow-[0_0_20px_rgba(34,197,94,0.4)]",children:["Araç Seçimi Yap",a.jsx(A,{className:"w-4 h-4"})]})}),a.jsx("div",{className:"pt-3 sm:pt-4 border-t border-white/25",children:a.jsxs("div",{className:"flex justify-center space-x-3 sm:space-x-4 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-green-300 bg-green-500/10 px-2 py-1 rounded backdrop-blur-sm",children:[a.jsx(g,{className:"w-3 h-3"}),a.jsx("span",{children:"SSL Güvenli"})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-blue-300 bg-blue-500/10 px-2 py-1 rounded backdrop-blur-sm",children:[a.jsx(I,{className:"w-3 h-3"}),a.jsx("span",{children:"Lisanslı"})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-purple-300 bg-purple-500/10 px-2 py-1 rounded backdrop-blur-sm",children:[a.jsx(O,{className:"w-3 h-3"}),a.jsx("span",{children:"Güvenilir"})]})]})})]})]})]})},an=()=>a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 min-h-screen flex items-center pt-20 md:pt-0",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/30 to-purple-600/30"})}),a.jsx("div",{className:"absolute inset-0 hidden md:block",children:[...Array(6)].map((e,t)=>a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-20 animate-pulse",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:3*Math.random()+"s"}},t))}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-20 relative z-10",children:a.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[a.jsx("div",{className:"order-1 lg:order-2 w-full lg:pl-8",children:a.jsx(rn,{})}),a.jsxs("div",{className:"order-2 lg:order-1 text-center lg:text-left",children:[a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-bold text-white mb-4 lg:mb-6 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Antalya"}),a.jsx("br",{}),a.jsx("span",{className:"text-white",children:"Transfer Hizmeti"})]}),a.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-300 mb-8 lg:mb-10 max-w-2xl mx-auto lg:mx-0",children:"Profesyonel, güvenli ve konforlu havalimanı transfer hizmeti ile Antalya'nın her yerine ulaşın"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-6 lg:gap-8 mb-8 lg:mb-10",children:[a.jsxs("div",{className:"flex items-center gap-2 text-white",children:[a.jsx(g,{className:"w-5 h-5 lg:w-6 lg:h-6 text-green-400"}),a.jsx("span",{className:"text-sm lg:text-base font-medium",children:"Güvenli Transfer"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-white",children:[a.jsx(T,{className:"w-5 h-5 lg:w-6 lg:h-6 text-blue-400"}),a.jsx("span",{className:"text-sm lg:text-base font-medium",children:"7/24 Hizmet"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-white",children:[a.jsx(k,{className:"w-5 h-5 lg:w-6 lg:h-6 text-purple-400"}),a.jsx("span",{className:"text-sm lg:text-base font-medium",children:"Profesyonel Şoförler"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-white",children:[a.jsx(w,{className:"w-5 h-5 lg:w-6 lg:h-6 text-yellow-400"}),a.jsx("span",{className:"text-sm lg:text-base font-medium",children:"Konforlu Araçlar"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8 lg:mb-10",children:[a.jsxs(Re,{to:"/rezervasyon",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 transform hover:scale-105",children:[a.jsx(w,{className:"w-5 h-5"}),"Hemen Rezervasyon Yap"]}),a.jsxs("a",{href:"tel:+905551234567",className:"bg-white/10 hover:bg-white/20 text-white px-8 py-4 rounded-xl font-semibold transition-all duration-300 backdrop-blur-sm border border-white/20 flex items-center justify-center gap-2 transform hover:scale-105",children:[a.jsx(n,{className:"w-5 h-5"}),"+90 555 123 4567"]})]}),a.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-8 lg:gap-12 mb-6",children:[a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-white",children:"5000+"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Mutlu Müşteri"})]}),a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-white",children:"99%"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Memnuniyet Oranı"})]}),a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-white",children:"24/7"}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Müşteri Desteği"})]})]}),a.jsx("div",{className:"flex items-center justify-center lg:justify-start gap-3 text-sm text-gray-300",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(O,{className:"w-4 h-4 text-yellow-400 fill-current"}),a.jsx(O,{className:"w-4 h-4 text-yellow-400 fill-current"}),a.jsx(O,{className:"w-4 h-4 text-yellow-400 fill-current"}),a.jsx(O,{className:"w-4 h-4 text-yellow-400 fill-current"}),a.jsx(O,{className:"w-4 h-4 text-yellow-400 fill-current"}),a.jsx("span",{className:"ml-2 font-medium",children:"4.9/5 (2,500+ değerlendirme)"})]})})]})]})}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce hidden md:block",children:a.jsx("div",{className:"w-6 h-10 border-2 border-white/20 rounded-full flex justify-center",children:a.jsx("div",{className:"w-1 h-3 bg-white/40 rounded-full mt-2"})})})]}),nn=ze.lazy(()=>At(()=>import("./ServicesSection-C4CkSp0c.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.default}))),ln=ze.lazy(()=>At(()=>import("./TestimonialsSection-CA0zc_Yj.js"),__vite__mapDeps([3,1,2])).then(e=>({default:e.default}))),on=ze.lazy(()=>At(()=>import("./FAQSection-D5ak7mYh.js"),__vite__mapDeps([4,1,2])).then(e=>({default:e.default}))),cn=()=>a.jsx("div",{className:"w-full h-32 flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]})}),dn=()=>a.jsx(Ya,{children:a.jsxs("div",{className:"min-h-screen",children:[a.jsx(sn,{language:"tr",page:"homepage"}),a.jsx(an,{}),a.jsx(ze.Suspense,{fallback:a.jsx(cn,{}),children:a.jsx(nn,{})}),a.jsx(ze.Suspense,{fallback:a.jsx(cn,{}),children:a.jsx(ln,{})}),a.jsx(ze.Suspense,{fallback:a.jsx(cn,{}),children:a.jsx(on,{})})]})}),mn=({bookingData:e,updateBookingData:t,onNext:s})=>{const[r,n]=ze.useState(e.tripType||"one-way"),[l,i]=ze.useState(e.pickupLocation||""),[o,c]=ze.useState(e.dropoffLocation||""),[m,u]=ze.useState(e.date||(new Date).toISOString().slice(0,10)),[h,p]=ze.useState(e.time||(()=>{const e=new Date;return e.setHours(e.getHours()+4),e.toTimeString().slice(0,5)})()),[x,g]=ze.useState(e.returnDate||""),[f,v]=ze.useState(e.returnTime||""),[y,N]=ze.useState(e.passengerCount||1),[C,B]=ze.useState(e.baggageCount||0),[P,S]=ze.useState(e.routeInfo||null),[L,E]=ze.useState(!1),[D,M]=ze.useState(!1),[I,F]=ze.useState(e.selectedVehicle||null),[$,K]=ze.useState([]),[G,Y]=ze.useState(!1),[Z,W]=ze.useState(!1),[q,Q]=ze.useState([]),[X,J]=ze.useState([]),[ee,te]=ze.useState(!1),[se,re]=ze.useState(!1),[ae,ne]=ze.useState([]),[le,ie]=ze.useState([]),oe=ze.useRef(null),ce=ze.useRef(null);ze.useRef(null),ze.useRef(null);const de=ze.useRef(null),me=ze.useRef(null),ue=ze.useRef(null),he=ze.useRef(null);ze.useEffect(()=>{e.prefilledFromHome&&(console.log("Ana sayfadan gelen veriler:",e),e.pickupLocation&&i(e.pickupLocation),e.dropoffLocation&&c(e.dropoffLocation),e.date&&u(e.date),e.time&&p(e.time),e.passengerCount&&N(e.passengerCount),e.baggageCount&&B(e.baggageCount),e.showVehicles&&e.pickupLocation&&e.dropoffLocation&&(W(!0),fe(),setTimeout(()=>{be(e.pickupLocation,e.dropoffLocation)},1e3)))},[e.prefilledFromHome]),ze.useEffect(()=>{(()=>{if(!(window.google&&window.google.maps&&window.google.maps.places)){const e=setInterval(()=>{window.google&&window.google.maps&&window.google.maps.places&&(pe(),clearInterval(e))},500);return setTimeout(()=>{clearInterval(e)},1e4),()=>clearInterval(e)}setTimeout(()=>{pe()},100)})()},[]);const pe=()=>{try{if(!window.google||!window.google.maps||!window.google.maps.places)return void console.log("Google Maps not loaded yet");de.current=new window.google.maps.places.PlacesService(document.createElement("div")),ue.current=new window.google.maps.DirectionsService,he.current=new window.google.maps.DirectionsRenderer({suppressMarkers:!1,draggable:!1}),console.log("Google Places and Directions initialized successfully")}catch(e){console.error("Google Places initialization error:",e)}},xe=(e,t=!0)=>{if(!de.current||!e||e.length<2)return void(t?ne([]):ie([]));const s={query:e,bounds:new window.google.maps.LatLngBounds(new window.google.maps.LatLng(36,29),new window.google.maps.LatLng(37.5,32.5)),fields:["place_id","formatted_address","geometry","name","rating","types"]};de.current.textSearch(s,(e,s)=>{if(s===window.google.maps.places.PlacesServiceStatus.OK&&e){const s=e.slice(0,5).map(e=>({name:e.name,address:e.formatted_address,lat:e.geometry.location.lat(),lng:e.geometry.location.lng(),rating:e.rating||0,type:"google",place_id:e.place_id,types:e.types||[]}));t?ne(s):ie(s)}else t?ne([]):ie([])})},ge=()=>$.filter(e=>e.capacity>=y).sort((e,t)=>e.capacity-t.capacity);ze.useEffect(()=>{fe()},[]),ze.useEffect(()=>{e.prefilledFromHome&&e.showVehicles&&(e.pickupLocation&&"object"==typeof e.pickupLocation&&i(e.pickupLocation.address||e.pickupLocation.name||""),e.dropoffLocation&&"object"==typeof e.dropoffLocation&&c(e.dropoffLocation.address||e.dropoffLocation.name||""),W(!0),console.log("Ana sayfadan gelen veriler yüklendi ve araç seçimi gösteriliyor"))},[e.prefilledFromHome,e.showVehicles,e.pickupLocation,e.dropoffLocation]);const fe=async()=>{Y(!0);try{console.log("Loading vehicles from Firebase...");const e=Nt(ir,"vehicles"),t=await kt(e);if(t.empty)return console.log("No vehicles found in collection"),void K([]);const s=t.docs.map(e=>{const t=e.data();return{id:e.id,name:t.name||`${t.brand} ${t.model}`||"Bilinmeyen Araç",description:t.description||`${t.year} model ${t.brand} ${t.model}`,capacity:t.capacity||4,luggage:t.baggage||2,basePrice:t.kmRate||100,pricePerKm:t.pricePerKm||(t.kmRate?t.kmRate/10:2),status:t.isActive?"active":"inactive",image:t.imageUrl||t.image||"",features:t.features||[],type:t.type||"sedan",rating:t.rating||4,brand:t.brand||"",model:t.model||"",color:t.color||"",year:t.year||(new Date).getFullYear(),...t}});console.log("Loaded vehicles:",s);const r=s.filter(e=>"active"===e.status);K(r),console.log("Active vehicles set:",r)}catch(e){console.error("Error loading vehicles:",e),K([])}finally{Y(!1)}},be=async(e,t)=>{if(e&&t&&e.lat&&t.lat){E(!0);try{if(window.google&&window.google.maps&&ue.current){const s={origin:new window.google.maps.LatLng(e.lat,e.lng),destination:new window.google.maps.LatLng(t.lat,t.lng),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC};ue.current.route(s,(e,t)=>{if("OK"===t){const t=e.routes[0].legs[0],s={distance:t.distance.text,duration:t.duration.text,distanceValue:t.distance.value,durationValue:t.duration.value};S(s),M(!0),setTimeout(()=>{ve(e)},100)}E(!1)})}}catch(s){console.error("Route calculation error:",s),E(!1)}}},ve=e=>{if(!me.current||!window.google)return;const t=new window.google.maps.Map(me.current,{zoom:11,center:{lat:36.8969,lng:30.7133},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_BOTTOM},styles:[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}]});he.current&&e&&(he.current.setDirections(e),he.current.setMap(t),he.current.setOptions({polylineOptions:{strokeColor:"#3B82F6",strokeWeight:4,strokeOpacity:.8}}))},ye=(e,t=!0)=>{const s={address:e.address||e.name,lat:e.lat,lng:e.lng,rating:e.rating};t?(i(s),te(!1),oe.current&&(oe.current.value=e.address||e.name)):(c(s),re(!1),ce.current&&(ce.current.value=e.address||e.name));const r=t?s:l,a=t?o:s;r&&a&&r.lat&&a.lat&&be(r,a)},je=e=>{if(!P||!P.distanceValue)return e.basePrice||e.kmRate||100;const t=P.distanceValue/1e3,s=e.kmRate||e.basePrice||e.pricePerKm||10;let a=Math.round(t*s);const n=5*s;return a<n&&(a=n),"round-trip"===r&&(a*=2),a},Ne=e=>{N(t=>{const s=e?t<50?t+1:t:t>1?t-1:t;return I&&I.capacity<s&&F(null),s>0&&W(!0),s})},we=e=>{B(t=>e?t<20?t+1:t:t>0?t-1:t)},ke=()=>(new Date).toISOString().slice(0,10);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Rota ve Araç Seçimi"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Transfer rotanızı belirleyin ve aracınızı seçin"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Yolculuk Türü"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>n("one-way"),className:`\n              relative p-2 sm:p-4 rounded-lg border-2 transition-all duration-200\n              ${"one-way"===r?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}\n            `,children:[a.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2",children:[a.jsx(z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Tek Yön"})]}),"one-way"===r&&a.jsx(R,{className:"absolute top-1 right-1 sm:top-2 sm:right-2 w-4 h-4 sm:w-5 sm:h-5 text-blue-500"})]}),a.jsxs("button",{type:"button",onClick:()=>n("round-trip"),className:`\n              relative p-2 sm:p-4 rounded-lg border-2 transition-all duration-200\n              ${"round-trip"===r?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}\n            `,children:[a.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2",children:[a.jsx(z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Gidiş-Dönüş"})]}),"round-trip"===r&&a.jsx(R,{className:"absolute top-1 right-1 sm:top-2 sm:right-2 w-4 h-4 sm:w-5 sm:h-5 text-purple-500"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nereden"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10",children:a.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(b,{className:"w-3 h-3 text-green-600"})})}),a.jsx("input",{ref:oe,type:"text",placeholder:"Başlangıç noktanızı girin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",value:"string"==typeof l?l:(null==l?void 0:l.address)||"",onChange:e=>{const t=e.target.value;i(t),te(t.length>0),xe(t,!0)},onFocus:()=>te(!0),onBlur:()=>setTimeout(()=>te(!1),200)}),a.jsx(_,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),ee&&ae.length>0&&a.jsxs("div",{className:"absolute z-50 w-full bg-white border border-gray-200 rounded-lg shadow-lg mt-1 max-h-64 overflow-hidden",children:[a.jsx("div",{className:"p-3 border-b border-gray-100 bg-blue-50",children:a.jsxs("p",{className:"text-sm font-medium text-blue-700 flex items-center",children:[a.jsx("span",{className:"w-5 h-5 bg-blue-500 rounded text-white text-xs flex items-center justify-center mr-2",children:"G"}),"Google Önerileri"]})}),a.jsx("div",{className:"max-h-56 overflow-y-auto",children:ae.map((e,t)=>a.jsx("button",{type:"button",onClick:()=>ye(e,!0),className:"w-full p-3 sm:p-4 hover:bg-blue-50 flex items-center text-left border-b border-gray-50 last:border-b-0 transition-colors",children:a.jsxs("div",{className:"flex items-center space-x-3 w-full min-w-0",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:a.jsx(b,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate text-sm sm:text-base",children:e.name}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-500 truncate",children:e.address})]}),e.rating>0&&a.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[a.jsx(O,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400 fill-current"}),a.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:e.rating})]})]})},`google-${t}`))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nereye"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10",children:a.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(b,{className:"w-3 h-3 text-red-600"})})}),a.jsx("input",{ref:ce,type:"text",placeholder:"Varış noktanızı girin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm",value:"string"==typeof o?o:(null==o?void 0:o.address)||"",onChange:e=>{const t=e.target.value;c(t),re(t.length>0),xe(t,!1)},onFocus:()=>re(!0),onBlur:()=>setTimeout(()=>re(!1),200)}),a.jsx(_,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),se&&le.length>0&&a.jsxs("div",{className:"absolute z-50 w-full bg-white border border-gray-200 rounded-lg shadow-lg mt-1 max-h-64 overflow-hidden",children:[a.jsx("div",{className:"p-3 border-b border-gray-100 bg-blue-50",children:a.jsxs("p",{className:"text-sm font-medium text-blue-700 flex items-center",children:[a.jsx("span",{className:"w-5 h-5 bg-blue-500 rounded text-white text-xs flex items-center justify-center mr-2",children:"G"}),"Google Önerileri"]})}),a.jsx("div",{className:"max-h-56 overflow-y-auto",children:le.map((e,t)=>a.jsx("button",{type:"button",onClick:()=>ye(e,!1),className:"w-full p-3 sm:p-4 hover:bg-blue-50 flex items-center text-left border-b border-gray-50 last:border-b-0 transition-colors",children:a.jsxs("div",{className:"flex items-center space-x-3 w-full min-w-0",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:a.jsx(b,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate text-sm sm:text-base",children:e.name}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-500 truncate",children:e.address})]}),e.rating>0&&a.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[a.jsx(O,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400 fill-current"}),a.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:e.rating})]})]})},`google-${t}`))})]})]})]}),P&&a.jsxs(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(U,{className:"w-4 h-4 mr-2 text-blue-600"}),"Rota Bilgileri"]}),L&&a.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),a.jsx("div",{className:"w-full",children:a.jsx("div",{ref:me,className:"w-full h-64 sm:h-72 md:h-80 lg:h-96 rounded-lg border border-gray-200 bg-gray-100 shadow-md",style:{minHeight:"256px"}})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-left space-y-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Mesafe:"}),a.jsx("span",{className:"text-sm font-semibold text-blue-600",children:P.distance})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Süre:"}),a.jsx("span",{className:"text-sm font-semibold text-purple-600",children:P.duration})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Yolcu Sayısı"}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 bg-blue-50 rounded-lg p-2 sm:p-3",children:[a.jsx("button",{type:"button",onClick:()=>Ne(!1),className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-white shadow-md hover:shadow-lg flex items-center justify-center disabled:opacity-50",disabled:y<=1,children:a.jsx(H,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"})}),a.jsx("div",{className:"bg-white rounded-lg px-2 py-1 sm:px-4 sm:py-2 min-w-[2rem] sm:min-w-[3rem] text-center",children:a.jsx("span",{className:"text-sm sm:text-lg font-bold text-gray-800",children:y})}),a.jsx("button",{type:"button",onClick:()=>Ne(!0),className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-blue-500 shadow-md hover:shadow-lg hover:bg-blue-600 flex items-center justify-center disabled:opacity-50",disabled:y>=50,children:a.jsx(V,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bagaj Sayısı"}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 bg-purple-50 rounded-lg p-2 sm:p-3",children:[a.jsx("button",{type:"button",onClick:()=>we(!1),className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-white shadow-md hover:shadow-lg flex items-center justify-center disabled:opacity-50",disabled:C<=0,children:a.jsx(H,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"})}),a.jsx("div",{className:"bg-white rounded-lg px-2 py-1 sm:px-4 sm:py-2 min-w-[2rem] sm:min-w-[3rem] text-center",children:a.jsx("span",{className:"text-sm sm:text-lg font-bold text-gray-800",children:C})}),a.jsx("button",{type:"button",onClick:()=>we(!0),className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-purple-500 shadow-md hover:shadow-lg hover:bg-purple-600 flex items-center justify-center disabled:opacity-50",disabled:C>=20,children:a.jsx(V,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tarih ve Saat"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"round-trip"===r?"Gidiş Tarihi":"Tarih"}),a.jsxs("div",{className:"relative",children:[a.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:m,min:ke(),onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"round-trip"===r?"Gidiş Saati":"Saat"}),a.jsxs("div",{className:"relative",children:[a.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"time",value:h,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),"round-trip"===r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dönüş Tarihi"}),a.jsxs("div",{className:"relative",children:[a.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:x,min:m||ke(),onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dönüş Saati"}),a.jsxs("div",{className:"relative",children:[a.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"time",value:f,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),Z&&P&&y>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Araç Seçimi"}),y>1&&a.jsxs("span",{className:"text-sm text-blue-600 bg-blue-50 px-2 py-1 rounded-lg",children:[y," kişi için uygun araçlar"]})]}),G?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Araçlar yükleniyor..."})]}):0===ge().length?a.jsxs("div",{className:"text-center py-8 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx(w,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),a.jsxs("p",{className:"text-sm text-yellow-800 font-medium",children:[y," kişi için uygun araç bulunamadı"]}),a.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Lütfen yolcu sayısını azaltın veya bizimle iletişime geçin"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ge().map(e=>a.jsxs("button",{type:"button",onClick:()=>(e=>{F(e)})(e),className:`\n                  relative p-4 rounded-lg border-2 transition-all duration-200 text-left\n                  ${(null==I?void 0:I.id)===e.id?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md"}\n                `,children:[a.jsxs("div",{className:"mb-3",children:[e.image||e.imageUrl?a.jsx("img",{src:e.image||e.imageUrl,alt:e.name,className:"w-full h-32 sm:h-40 object-cover rounded-lg",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:"w-full h-32 sm:h-40 bg-gray-100 rounded-lg flex items-center justify-center "+(e.image||e.imageUrl?"hidden":"flex"),children:a.jsx(w,{className:"w-8 h-8 text-gray-400"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e.name}),a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(k,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{className:"text-sm font-medium",children:[e.capacity," Kişi"]})]}),e.features&&e.features.length>0&&a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.features.slice(0,4).map((e,t)=>a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:e},t)),e.features.length>4&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",e.features.length-4," daha"]})]})}),a.jsx("div",{className:"pt-2 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Toplam Fiyat"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-xl font-bold text-green-600",children:["₺",je(e)]}),a.jsx("div",{className:"text-xs text-gray-500",children:"round-trip"===r?"Gidiş-Dönüş":"Tek Yön"})]})]})})]}),(null==I?void 0:I.id)===e.id&&a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx(R,{className:"w-6 h-6 text-green-500 bg-white rounded-full"})})]},e.id))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{const e={tripType:r,pickupLocation:l,dropoffLocation:o,date:m,time:h,returnDate:"round-trip"===r?x:null,returnTime:"round-trip"===r?f:null,passengerCount:y,baggageCount:C,selectedVehicle:I,routeInfo:P,totalPrice:I?je(I):0};t(e),s()},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx("span",{children:"Kişisel Bilgilere Geç"}),a.jsx(A,{className:"w-4 h-4"})]})})]})},un=({value:e,onChange:t,placeholder:s,className:r,error:l})=>{const[i,o]=ze.useState(!1),[c,d]=ze.useState({code:"TR",dialCode:"+90",flag:"🇹🇷",name:"Türkiye"});return a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex w-full h-12",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>o(!i),className:"flex items-center justify-center px-3 h-12 border border-r-0 rounded-l-lg bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors w-20 "+(l?"border-red-300 focus:border-red-500":"border-gray-300"),children:[a.jsx("span",{className:"text-base mr-1",children:c.flag}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:c.dialCode}),a.jsx(_,{className:"w-3 h-3 text-gray-400 ml-1"})]}),i&&a.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:[{code:"TR",dialCode:"+90",flag:"🇹🇷",name:"Türkiye"},{code:"US",dialCode:"+1",flag:"🇺🇸",name:"Amerika"},{code:"GB",dialCode:"+44",flag:"🇬🇧",name:"İngiltere"},{code:"DE",dialCode:"+49",flag:"🇩🇪",name:"Almanya"},{code:"FR",dialCode:"+33",flag:"🇫🇷",name:"Fransa"},{code:"IT",dialCode:"+39",flag:"🇮🇹",name:"İtalya"},{code:"ES",dialCode:"+34",flag:"🇪🇸",name:"İspanya"},{code:"NL",dialCode:"+31",flag:"🇳🇱",name:"Hollanda"},{code:"BE",dialCode:"+32",flag:"🇧🇪",name:"Belçika"},{code:"CH",dialCode:"+41",flag:"🇨🇭",name:"İsviçre"},{code:"AT",dialCode:"+43",flag:"🇦🇹",name:"Avusturya"},{code:"SE",dialCode:"+46",flag:"🇸🇪",name:"İsveç"},{code:"NO",dialCode:"+47",flag:"🇳🇴",name:"Norveç"},{code:"DK",dialCode:"+45",flag:"🇩🇰",name:"Danimarka"},{code:"FI",dialCode:"+358",flag:"🇫🇮",name:"Finlandiya"},{code:"RU",dialCode:"+7",flag:"🇷🇺",name:"Rusya"},{code:"UA",dialCode:"+380",flag:"🇺🇦",name:"Ukrayna"},{code:"PL",dialCode:"+48",flag:"🇵🇱",name:"Polonya"},{code:"CZ",dialCode:"+420",flag:"🇨🇿",name:"Çekya"},{code:"HU",dialCode:"+36",flag:"🇭🇺",name:"Macaristan"},{code:"GR",dialCode:"+30",flag:"🇬🇷",name:"Yunanistan"},{code:"BG",dialCode:"+359",flag:"🇧🇬",name:"Bulgaristan"},{code:"RO",dialCode:"+40",flag:"🇷🇴",name:"Romanya"},{code:"HR",dialCode:"+385",flag:"🇭🇷",name:"Hırvatistan"},{code:"RS",dialCode:"+381",flag:"🇷🇸",name:"Sırbistan"},{code:"JP",dialCode:"+81",flag:"🇯🇵",name:"Japonya"},{code:"KR",dialCode:"+82",flag:"🇰🇷",name:"Güney Kore"},{code:"CN",dialCode:"+86",flag:"🇨🇳",name:"Çin"},{code:"IN",dialCode:"+91",flag:"🇮🇳",name:"Hindistan"},{code:"AU",dialCode:"+61",flag:"🇦🇺",name:"Avustralya"},{code:"CA",dialCode:"+1",flag:"🇨🇦",name:"Kanada"},{code:"BR",dialCode:"+55",flag:"🇧🇷",name:"Brezilya"},{code:"MX",dialCode:"+52",flag:"🇲🇽",name:"Meksika"},{code:"AR",dialCode:"+54",flag:"🇦🇷",name:"Arjantin"},{code:"AE",dialCode:"+971",flag:"🇦🇪",name:"BAE"},{code:"SA",dialCode:"+966",flag:"🇸🇦",name:"Suudi Arabistan"},{code:"EG",dialCode:"+20",flag:"🇪🇬",name:"Mısır"},{code:"ZA",dialCode:"+27",flag:"🇿🇦",name:"Güney Afrika"}].map(s=>a.jsxs("button",{type:"button",onClick:()=>(s=>{d(s),o(!1);const r=e.replace(/^\+\d+\s*/,""),a=`${s.dialCode} ${r}`.trim();t(a)})(s),className:"w-full flex items-center px-3 py-2 text-left hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-base mr-3",children:s.flag}),a.jsx("span",{className:"text-sm text-gray-500 font-mono",children:s.dialCode})]},s.code))}),i&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),a.jsx("input",{type:"tel",value:(e=>{if(!e)return"";const t=e.replace(/^\+\d+\s*/,"");if("TR"===c.code){const e=t.replace(/\D/g,"");return e.length>=10?e.slice(0,10).replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):e}return t})(e),onChange:e=>{const s=e.target.value;if(s.startsWith("+"))t(s);else{const e=`${c.dialCode} ${s}`.trim();t(e)}},placeholder:s||"555 123 4567",className:"w-full h-12 pl-10 pr-4 border border-l-0 rounded-r-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm "+(l?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300")})]})]})})},hn=({bookingData:e,updateBookingData:t,onNext:s,onBack:r})=>{var n,i,o,d,m,u,h,p;const[x,g]=ze.useState({firstName:(null==(n=e.personalInfo)?void 0:n.firstName)||"",lastName:(null==(i=e.personalInfo)?void 0:i.lastName)||"",email:(null==(o=e.personalInfo)?void 0:o.email)||"",phone:(null==(d=e.personalInfo)?void 0:d.phone)||"",flightNumber:(null==(m=e.personalInfo)?void 0:m.flightNumber)||"",flightTime:(null==(u=e.personalInfo)?void 0:u.flightTime)||"",specialRequests:(null==(h=e.personalInfo)?void 0:h.specialRequests)||"",acceptTerms:(null==(p=e.personalInfo)?void 0:p.acceptTerms)||!1}),[f,b]=ze.useState({}),v=(e,t)=>{g(s=>({...s,[e]:t})),f[e]&&b(t=>({...t,[e]:""}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Kişisel Bilgiler"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"İletişim ve uçuş bilgilerinizi girin"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"İletişim Bilgileri"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ad *"}),a.jsxs("div",{className:"relative",children:[a.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",value:x.firstName,onChange:e=>v("firstName",e.target.value),placeholder:"Adınızı girin",className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm "+(f.firstName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300")})]}),f.firstName&&a.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[a.jsx(F,{className:"w-4 h-4"}),a.jsx("span",{children:f.firstName})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Soyad *"}),a.jsxs("div",{className:"relative",children:[a.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",value:x.lastName,onChange:e=>v("lastName",e.target.value),placeholder:"Soyadınızı girin",className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm "+(f.lastName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300")})]}),f.lastName&&a.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[a.jsx(F,{className:"w-4 h-4"}),a.jsx("span",{children:f.lastName})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"E-posta *"}),a.jsxs("div",{className:"relative",children:[a.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"email",value:x.email,onChange:e=>v("email",e.target.value),placeholder:"ornek@email.com",className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm "+(f.email?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300")})]}),f.email&&a.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[a.jsx(F,{className:"w-4 h-4"}),a.jsx("span",{children:f.email})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefon *"}),a.jsx(un,{value:x.phone,onChange:e=>v("phone",e),placeholder:"555 123 4567",error:f.phone}),f.phone&&a.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[a.jsx(F,{className:"w-4 h-4"}),a.jsx("span",{children:f.phone})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Uçuş Bilgileri (Opsiyonel)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Uçuş Numarası"}),a.jsxs("div",{className:"relative",children:[a.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",value:x.flightNumber,onChange:e=>v("flightNumber",e.target.value.toUpperCase()),placeholder:"TK123",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Uçuş Saati"}),a.jsxs("div",{className:"relative",children:[a.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"time",value:x.flightTime,onChange:e=>v("flightTime",e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Özel İstekler"}),a.jsxs("div",{className:"relative",children:[a.jsx($,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx("textarea",{value:x.specialRequests,onChange:e=>v("specialRequests",e.target.value),placeholder:"Bebek koltuğu, tekerlekli sandalye erişimi vb. özel isteklerinizi belirtin...",rows:4,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none text-sm"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("input",{type:"checkbox",id:"acceptTerms",checked:x.acceptTerms,onChange:e=>v("acceptTerms",e.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),a.jsxs("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-medium",children:"Kullanım Şartları"})," ve ",a.jsx("span",{className:"font-medium",children:"Gizlilik Politikası"}),"'nı okudum ve kabul ediyorum. Kişisel verilerimin işlenmesine ve transfer hizmeti için kullanılmasına onay veriyorum. *"]})]}),f.acceptTerms&&a.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[a.jsx(F,{className:"w-4 h-4"}),a.jsx("span",{children:f.acceptTerms})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[a.jsxs("button",{type:"button",onClick:r,className:"w-full sm:w-auto px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors font-medium text-sm flex items-center justify-center space-x-2",children:[a.jsx(K,{className:"w-4 h-4"}),a.jsx("span",{children:"Önceki Adım"})]}),a.jsxs("button",{type:"button",onClick:()=>{(()=>{const e={};x.firstName.trim()?x.firstName.trim().length<2&&(e.firstName="Ad en az 2 karakter olmalıdır"):e.firstName="Ad alanı zorunludur",x.lastName.trim()?x.lastName.trim().length<2&&(e.lastName="Soyad en az 2 karakter olmalıdır"):e.lastName="Soyad alanı zorunludur",x.email.trim()?/\S+@\S+\.\S+/.test(x.email)||(e.email="Geçerli bir e-posta adresi girin"):e.email="E-posta alanı zorunludur",x.phone.trim()?x.phone.replace(/\D/g,"").length<10&&(e.phone="Geçerli bir telefon numarası girin"):e.phone="Telefon alanı zorunludur";return x.flightNumber&&x.flightNumber.trim().length<3&&(e.flightNumber="Geçerli bir uçuş numarası girin"),x.acceptTerms||(e.acceptTerms="Kullanım şartlarını kabul etmelisiniz"),b(e),0===Object.keys(e).length})()&&(t({personalInfo:x}),s())},disabled:!(()=>{const e=x.phone.replace(/\D/g,"");return x.firstName.trim()&&x.lastName.trim()&&x.email.trim()&&x.phone.trim()&&x.acceptTerms&&/\S+@\S+\.\S+/.test(x.email)&&e.length>=10})(),className:"flex-1 sm:flex-none sm:min-w-[160px] px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Ödeme Adımına Geç"}),a.jsx(A,{className:"w-4 h-4"})]})]})]})},pn=({bookingData:e,updateBookingData:t,onComplete:s,onBack:r,isLoading:n})=>{var l,i,o,m,u,h,p;const[x,f]=ze.useState(""),[b,v]=ze.useState(null),[y,N]=ze.useState(!0),[w,k]=ze.useState([]),[C,P]=ze.useState({cardNumber:"",expiryDate:"",cvv:"",cardName:""}),[S,L]=ze.useState({});ze.useEffect(()=>{E()},[]);const E=async()=>{try{N(!0);const e=dt(ir,"settings","main"),t=Pt(e,e=>{var t;if(e.exists()){const s=(null==(t=e.data().bankAccounts)?void 0:t.filter(e=>!1!==e.isActive))||[];k(s)}N(!1)},e=>{console.error("Error fetching payment settings:",e),N(!1)});return()=>t()}catch(e){console.error("Error setting up payment settings listener:",e),N(!1)}},D=(e,t)=>{P(s=>({...s,[e]:t})),S[e]&&L(t=>({...t,[e]:""}))};return y?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"Ödeme bilgileri yükleniyor..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Ödeme Yöntemi"}),a.jsx("p",{className:"text-gray-600 mt-1 text-xs",children:"Güvenli ödeme ile rezervasyonu tamamlayın"})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Rezervasyon Özeti"}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Rota:"}),a.jsxs("span",{className:"font-medium text-gray-900 text-xs",children:["object"==typeof e.pickupLocation?null==(i=null==(l=e.pickupLocation)?void 0:l.address)?void 0:i.split(",")[0]:(null==(o=e.pickupLocation)?void 0:o.split(",")[0])||"Belirlenmedi"," → ","object"==typeof e.dropoffLocation?null==(u=null==(m=e.dropoffLocation)?void 0:m.address)?void 0:u.split(",")[0]:(null==(h=e.dropoffLocation)?void 0:h.split(",")[0])||"Belirlenmedi"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Tarih:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[e.date," ",e.time]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Araç:"}),a.jsx("span",{className:"font-medium text-gray-900",children:(null==(p=e.selectedVehicle)?void 0:p.name)||"Seçili Araç"})]}),a.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Toplam:"}),a.jsxs("span",{className:"text-base font-bold text-blue-600",children:["₺",e.totalPrice||0]})]})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Ödeme Seçenekleri"}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{type:"button",onClick:()=>v("credit_card"===b?null:"credit_card"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border-2 "+("credit_card"===x?"border-blue-500 bg-blue-500":"border-gray-300"),children:"credit_card"===x&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-white m-0.5"})}),a.jsx(G,{className:"w-4 h-4 text-gray-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Kredi Kartı"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Güvenli online ödeme"})]})]}),a.jsx(_,{className:"w-4 h-4 text-gray-400 transition-transform "+("credit_card"===b?"rotate-180":"")})]}),"credit_card"===b&&a.jsxs(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 p-3 space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 p-2 rounded text-xs",children:[a.jsx(g,{className:"w-3 h-3"}),a.jsx("span",{className:"font-medium",children:"256-bit SSL korumalı"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Kart Numarası *"}),a.jsxs("div",{className:"relative",children:[a.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),a.jsx("input",{type:"text",value:C.cardNumber,onChange:e=>{D("cardNumber",e.target.value.replace(/\D/g,"").replace(/(\d{4})(?=\d)/g,"$1 ").trim()),f("credit_card")},placeholder:"1234 5678 9012 3456",maxLength:19,className:"w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors "+(S.cardNumber?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300")})]}),S.cardNumber&&a.jsxs("div",{className:"flex items-center space-x-1 text-red-500 text-xs",children:[a.jsx(F,{className:"w-3 h-3"}),a.jsx("span",{children:S.cardNumber})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Tarih *"}),a.jsxs("div",{className:"relative",children:[a.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),a.jsx("input",{type:"text",value:C.expiryDate,onChange:e=>D("expiryDate",(e=>{const t=e.replace(/\D/g,"");return t.length>=2?t.slice(0,2)+"/"+t.slice(2,4):t})(e.target.value)),placeholder:"MM/YY",maxLength:5,className:"w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors "+(S.expiryDate?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300")})]}),S.expiryDate&&a.jsxs("div",{className:"flex items-center space-x-1 text-red-500 text-xs",children:[a.jsx(F,{className:"w-3 h-3"}),a.jsx("span",{children:S.expiryDate})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"CVV *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),a.jsx("input",{type:"text",value:C.cvv,onChange:e=>D("cvv",e.target.value.replace(/\D/g,"")),placeholder:"123",maxLength:4,className:"w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors "+(S.cvv?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300")})]}),S.cvv&&a.jsxs("div",{className:"flex items-center space-x-1 text-red-500 text-xs",children:[a.jsx(F,{className:"w-3 h-3"}),a.jsx("span",{children:S.cvv})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Kart Sahibi *"}),a.jsxs("div",{className:"relative",children:[a.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),a.jsx("input",{type:"text",value:C.cardName,onChange:e=>D("cardName",e.target.value.toUpperCase()),placeholder:"ADI SOYADI",className:"w-full pl-8 pr-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors "+(S.cardName?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300")})]}),S.cardName&&a.jsxs("div",{className:"flex items-center space-x-1 text-red-500 text-xs",children:[a.jsx(F,{className:"w-3 h-3"}),a.jsx("span",{children:S.cardName})]})]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{type:"button",onClick:()=>v("bank_transfer"===b?null:"bank_transfer"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border-2 "+("bank_transfer"===x?"border-green-500 bg-green-500":"border-gray-300"),children:"bank_transfer"===x&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-white m-0.5"})}),a.jsx(Z,{className:"w-4 h-4 text-gray-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Havale/EFT"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Banka hesabına havale"})]})]}),a.jsx(_,{className:"w-4 h-4 text-gray-400 transition-transform "+("bank_transfer"===b?"rotate-180":"")})]}),"bank_transfer"===b&&a.jsxs(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 p-3 space-y-3",children:[a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded p-2",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(F,{className:"w-3 h-3 text-orange-600 mt-0.5"}),a.jsxs("div",{className:"text-xs text-orange-700",children:[a.jsx("p",{className:"font-medium",children:"Bilgi:"}),a.jsx("p",{children:"Havale sonrası rezervasyon onaylanır. Açıklama kısmına kodu yazın."})]})]})}),w&&w.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:"Hesap Bilgileri:"}),w.map((e,t)=>a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h5",{className:"font-semibold text-gray-900 text-sm",children:e.bankName}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Aktif"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Hesap Sahibi:"}),a.jsx("p",{className:"text-gray-900",children:e.accountHolder})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"IBAN:"}),a.jsxs("div",{className:"flex items-center justify-between bg-white rounded p-2 mt-1",children:[a.jsx("p",{className:"text-gray-900 font-mono text-xs",children:e.iban}),a.jsx("button",{onClick:()=>{return t=e.iban,void navigator.clipboard.writeText(t);var t},className:"ml-2 p-1 hover:bg-gray-100 rounded transition-colors",title:"IBAN'ı kopyala",children:a.jsx(W,{className:"w-3 h-3 text-gray-600"})})]})]})]})]},t)),a.jsx("button",{onClick:()=>f("bank_transfer"),className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition-colors text-xs font-medium",children:"Havale Seç"})]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[a.jsxs("button",{type:"button",onClick:()=>v("cash"===b?null:"cash"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border-2 "+("cash"===x?"border-yellow-500 bg-yellow-500":"border-gray-300"),children:"cash"===x&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-white m-0.5"})}),a.jsx(B,{className:"w-4 h-4 text-gray-600"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Nakit"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Transfer günü ödeme"})]})]}),a.jsx(_,{className:"w-4 h-4 text-gray-400 transition-transform "+("cash"===b?"rotate-180":"")})]}),"cash"===b&&a.jsxs(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 p-3 space-y-3",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(q,{className:"w-3 h-3 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-xs text-yellow-700",children:[a.jsx("p",{className:"font-medium mb-1",children:"Koşullar:"}),a.jsxs("ul",{className:"space-y-1 text-xs",children:[a.jsx("li",{children:"• Transfer başında şoföre ödenecektir"}),a.jsx("li",{children:"• Tam para getiriniz"})]})]})]})}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2 text-xs",children:"Ödeme Detayları"}),a.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tutar:"}),a.jsxs("span",{className:"font-bold",children:["₺",e.totalPrice||0]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Zaman:"}),a.jsx("span",{children:"Transfer başında"})]})]})]}),a.jsx("button",{onClick:()=>f("cash"),className:"w-full bg-yellow-600 text-white py-2 rounded hover:bg-yellow-700 transition-colors text-xs font-medium",children:"Nakit Seç"})]})]})]}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded p-2",children:a.jsxs("div",{className:"text-center space-y-1",children:[a.jsxs("div",{className:"flex justify-center items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[a.jsx(g,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs font-medium",children:"SSL"})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[a.jsx(Y,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs font-medium",children:"Güvenli"})]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Ödeme bilgileriniz güvende."})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 pt-3",children:[a.jsxs("button",{onClick:r,disabled:n,className:"w-full sm:w-auto order-2 sm:order-1 bg-gray-100 text-gray-700 px-5 py-2.5 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 font-medium text-sm",children:[a.jsx(K,{className:"w-4 h-4"}),a.jsx("span",{children:"Geri"})]}),a.jsx("button",{onClick:()=>{(()=>{if("credit_card"!==x)return!0;const e={};if(C.cardNumber.trim()?C.cardNumber.replace(/\s/g,"").length<16&&(e.cardNumber="Kart numarası 16 haneli olmalıdır"):e.cardNumber="Kart numarası zorunludur",C.expiryDate.trim()){const[t,s]=C.expiryDate.split("/"),r=new Date,a=r.getFullYear()%100,n=r.getMonth()+1;!t||!s||t<1||t>12?e.expiryDate="Geçerli bir tarih giriniz (MM/YY)":(parseInt(s)<a||parseInt(s)===a&&parseInt(t)<n)&&(e.expiryDate="Kartın süresi geçmiş")}else e.expiryDate="Son kullanma tarihi zorunludur";return C.cvv.trim()?(C.cvv.length<3||C.cvv.length>4)&&(e.cvv="CVV 3-4 haneli olmalıdır"):e.cvv="CVV zorunludur",C.cardName.trim()?C.cardName.trim().length<2&&(e.cardName="İsim en az 2 karakter olmalıdır"):e.cardName="Kart üzerindeki isim zorunludur",L(e),0===Object.keys(e).length})()&&(t({paymentMethod:x,creditCardInfo:"credit_card"===x?C:null}),s())},disabled:n||!x,className:"w-full sm:w-auto order-1 sm:order-2 bg-blue-600 text-white px-5 py-2.5 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:bg-gray-400 font-medium text-sm",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Q,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"İşleniyor..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(R,{className:"w-4 h-4"}),a.jsx("span",{children:"Rezervasyon Tamamla"})]})})]})]})},xn=()=>{var e;const t=He(),[s,r]=ze.useState(1),[n,l]=ze.useState(!1),[i,o]=ze.useState({tripType:"one-way",pickupLocation:null,dropoffLocation:null,date:"",time:"",returnDate:"",returnTime:"",passengerCount:1,baggageCount:1,selectedVehicle:null,routeInfo:null,totalPrice:0,personalInfo:{firstName:"",lastName:"",phone:"",email:"",address:"",flightNumber:"",flightTime:"",specialRequests:""},paymentMethod:"credit_card",creditCardInfo:null,acceptedTerms:!1});ze.useEffect(()=>{const e=localStorage.getItem("quickBookingData");if(e)try{const t=JSON.parse(e);o(e=>({...e,...t})),t.currentStep&&r(t.currentStep),localStorage.removeItem("quickBookingData"),console.log("Hızlı rezervasyon verileri yüklendi:",t)}catch(t){console.error("Hızlı rezervasyon verileri yüklenirken hata:",t)}},[]);const c=[{id:1,name:"Güzergah",component:mn},{id:2,name:"Bilgiler",component:hn},{id:3,name:"Ödeme",component:pn}],d=null==(e=c[s-1])?void 0:e.component;return a.jsx("div",{className:"min-h-screen bg-gray-50 py-4 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(K,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Ana Sayfa"})]}),a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Transfer Rezervasyonu"}),a.jsx("div",{className:"w-20"})," "]}),a.jsx("div",{className:"flex items-center justify-center space-x-2 md:space-x-8",children:c.map((e,t)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`\n                  flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-full text-sm md:text-base font-medium transition-colors\n                  ${s>e.id?"bg-green-600 text-white":s===e.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}\n                `,children:s>e.id?a.jsx(X,{className:"w-4 h-4 md:w-5 md:h-5"}):e.id}),a.jsx("span",{className:`\n                  ml-2 text-xs md:text-sm font-medium hidden sm:inline\n                  ${s>=e.id?"text-gray-900":"text-gray-500"}\n                `,children:e.name}),t<c.length-1&&a.jsx("div",{className:`\n                    hidden md:block w-12 lg:w-24 h-0.5 ml-4 transition-colors\n                    ${s>e.id?"bg-green-600":"bg-gray-200"}\n                  `})]},e.id))})]}),a.jsx(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white rounded-lg shadow-sm p-6",children:d&&a.jsx(d,{bookingData:i,updateBookingData:e=>{o(t=>({...t,...e}))},onNext:()=>{s<c.length&&r(e=>e+1)},onBack:()=>{s>1&&r(e=>e-1)},onComplete:async()=>{l(!0);try{const e=`RES${Date.now()}`,s={...i,id:e,status:"confirmed"};t("/booking-confirmation",{state:{bookingData:s}})}catch(e){console.error("Error preparing reservation:",e),alert("Rezervasyon hazırlanırken bir hata oluştu. Lütfen tekrar deneyin.")}finally{l(!1)}},isLoading:n})},s)]})})},gn=()=>a.jsx("div",{className:"min-h-screen",children:a.jsx(xn,{})}),fn=()=>{const e=He();return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"container-custom",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx("button",{onClick:()=>e("/"),className:"btn btn-outline p-2",children:a.jsx(K,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Araç Seçimi"}),a.jsx("p",{className:"text-gray-600",children:"Size uygun aracı seçin"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 text-center",children:[a.jsx(w,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Araç Seçimi Sayfası"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Bu sayfa geliştirilme aşamasındadır. Ana sayfadan rezervasyon bilgilerini girdikten sonra burada araçlar listelenecektir."}),a.jsx("button",{onClick:()=>e("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})]})})})},bn=()=>{const e=He();return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"container-custom",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx("button",{onClick:()=>e("/araç-seçimi"),className:"btn btn-outline p-2",children:a.jsx(K,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Müşteri Bilgileri"}),a.jsx("p",{className:"text-gray-600",children:"Kişisel bilgilerinizi girin"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 text-center",children:[a.jsx(c,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Müşteri Bilgileri Sayfası"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Bu sayfa geliştirilme aşamasındadır. Burada müşteri bilgileri formu bulunacaktır."}),a.jsx("button",{onClick:()=>e("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})]})})})},vn=()=>{const e=He();return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"container-custom",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx("button",{onClick:()=>e("/müşteri-bilgileri"),className:"btn btn-outline p-2",children:a.jsx(K,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ödeme"}),a.jsx("p",{className:"text-gray-600",children:"Ödeme yöntemini seçin"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 text-center",children:[a.jsx(G,{className:"w-16 h-16 text-primary-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ödeme Sayfası"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Bu sayfa geliştirilme aşamasındadır. Burada ödeme yöntemleri ve PayTR entegrasyonu bulunacaktır."}),a.jsx("button",{onClick:()=>e("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})]})})})},yn=()=>{const e=He();return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"container-custom",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8 text-center",children:[a.jsx(R,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Rezervasyon Onayı"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Bu sayfa geliştirilme aşamasındadır. Burada rezervasyon onayı, QR kod ve giriş bilgileri gösterilecektir."}),a.jsx("button",{onClick:()=>e("/"),className:"btn btn-primary",children:"Ana Sayfaya Dön"})]})})})})};var jn={},Nn={},wn={};let kn;const Cn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];wn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},wn.getSymbolTotalCodewords=function(e){return Cn[e]},wn.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},wn.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');kn=e},wn.isKanjiModeEnabled=function(){return void 0!==kn},wn.toSJIS=function(e){return kn(e)};var Bn,Pn={};function Sn(){this.buffer=[],this.length=0}(Bn=Pn).L={bit:1},Bn.M={bit:0},Bn.Q={bit:3},Bn.H={bit:2},Bn.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},Bn.from=function(e,t){if(Bn.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return Bn.L;case"m":case"medium":return Bn.M;case"q":case"quartile":return Bn.Q;case"h":case"high":return Bn.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(ls){return t}},Sn.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let s=0;s<t;s++)this.putBit(1==(e>>>t-s-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Ln=Sn;function En(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}En.prototype.set=function(e,t,s,r){const a=e*this.size+t;this.data[a]=s,r&&(this.reservedBit[a]=!0)},En.prototype.get=function(e,t){return this.data[e*this.size+t]},En.prototype.xor=function(e,t,s){this.data[e*this.size+t]^=s},En.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Dn=En,Mn={};!function(e){const t=wn.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const s=Math.floor(e/7)+2,r=t(e),a=145===r?26:2*Math.ceil((r-13)/(2*s-2)),n=[r-7];for(let t=1;t<s-1;t++)n[t]=n[t-1]-a;return n.push(6),n.reverse()},e.getPositions=function(t){const s=[],r=e.getRowColCoords(t),a=r.length;for(let e=0;e<a;e++)for(let t=0;t<a;t++)0===e&&0===t||0===e&&t===a-1||e===a-1&&0===t||s.push([r[e],r[t]]);return s}}(Mn);var Tn={};const An=wn.getSymbolSize;Tn.getPositions=function(e){const t=An(e);return[[0,0],[t-7,0],[0,t-7]]};var In={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,s=3,r=40,a=10;function n(t,s,r){switch(t){case e.Patterns.PATTERN000:return(s+r)%2==0;case e.Patterns.PATTERN001:return s%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(s+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return s*r%2+s*r%3==0;case e.Patterns.PATTERN110:return(s*r%2+s*r%3)%2==0;case e.Patterns.PATTERN111:return(s*r%3+(s+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const s=e.size;let r=0,a=0,n=0,l=null,i=null;for(let o=0;o<s;o++){a=n=0,l=i=null;for(let c=0;c<s;c++){let s=e.get(o,c);s===l?a++:(a>=5&&(r+=t+(a-5)),l=s,a=1),s=e.get(c,o),s===i?n++:(n>=5&&(r+=t+(n-5)),i=s,n=1)}a>=5&&(r+=t+(a-5)),n>=5&&(r+=t+(n-5))}return r},e.getPenaltyN2=function(e){const t=e.size;let r=0;for(let s=0;s<t-1;s++)for(let a=0;a<t-1;a++){const t=e.get(s,a)+e.get(s,a+1)+e.get(s+1,a)+e.get(s+1,a+1);4!==t&&0!==t||r++}return r*s},e.getPenaltyN3=function(e){const t=e.size;let s=0,a=0,n=0;for(let r=0;r<t;r++){a=n=0;for(let l=0;l<t;l++)a=a<<1&2047|e.get(r,l),l>=10&&(1488===a||93===a)&&s++,n=n<<1&2047|e.get(l,r),l>=10&&(1488===n||93===n)&&s++}return s*r},e.getPenaltyN4=function(e){let t=0;const s=e.data.length;for(let r=0;r<s;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/s/5)-10)*a},e.applyMask=function(e,t){const s=t.size;for(let r=0;r<s;r++)for(let a=0;a<s;a++)t.isReserved(a,r)||t.xor(a,r,n(e,a,r))},e.getBestMask=function(t,s){const r=Object.keys(e.Patterns).length;let a=0,n=1/0;for(let l=0;l<r;l++){s(l),e.applyMask(l,t);const r=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(l,t),r<n&&(n=r,a=l)}return a}}(In);var On={};const zn=Pn,Rn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],_n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];On.getBlocksCount=function(e,t){switch(t){case zn.L:return Rn[4*(e-1)+0];case zn.M:return Rn[4*(e-1)+1];case zn.Q:return Rn[4*(e-1)+2];case zn.H:return Rn[4*(e-1)+3];default:return}},On.getTotalCodewordsCount=function(e,t){switch(t){case zn.L:return _n[4*(e-1)+0];case zn.M:return _n[4*(e-1)+1];case zn.Q:return _n[4*(e-1)+2];case zn.H:return _n[4*(e-1)+3];default:return}};var Un={},Hn={};const Vn=new Uint8Array(512),Fn=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)Vn[t]=e,Fn[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)Vn[t]=Vn[t-255]}(),Hn.log=function(e){if(e<1)throw new Error("log("+e+")");return Fn[e]},Hn.exp=function(e){return Vn[e]},Hn.mul=function(e,t){return 0===e||0===t?0:Vn[Fn[e]+Fn[t]]},function(e){const t=Hn;e.mul=function(e,s){const r=new Uint8Array(e.length+s.length-1);for(let a=0;a<e.length;a++)for(let n=0;n<s.length;n++)r[a+n]^=t.mul(e[a],s[n]);return r},e.mod=function(e,s){let r=new Uint8Array(e);for(;r.length-s.length>=0;){const e=r[0];for(let n=0;n<s.length;n++)r[n]^=t.mul(s[n],e);let a=0;for(;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},e.generateECPolynomial=function(s){let r=new Uint8Array([1]);for(let a=0;a<s;a++)r=e.mul(r,new Uint8Array([1,t.exp(a)]));return r}}(Un);const $n=Un;function Kn(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Kn.prototype.initialize=function(e){this.degree=e,this.genPoly=$n.generateECPolynomial(this.degree)},Kn.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const s=$n.mod(t,this.genPoly),r=this.degree-s.length;if(r>0){const e=new Uint8Array(this.degree);return e.set(s,r),e}return s};var Gn=Kn,Yn={},Zn={},Wn={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},qn={};const Qn="[0-9]+";let Xn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xn=Xn.replace(/u/g,"\\u");const Jn="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xn+")(?:.|[\r\n]))+";qn.KANJI=new RegExp(Xn,"g"),qn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),qn.BYTE=new RegExp(Jn,"g"),qn.NUMERIC=new RegExp(Qn,"g"),qn.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const el=new RegExp("^"+Xn+"$"),tl=new RegExp("^"+Qn+"$"),sl=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qn.testKanji=function(e){return el.test(e)},qn.testNumeric=function(e){return tl.test(e)},qn.testAlphanumeric=function(e){return sl.test(e)},function(e){const t=Wn,s=qn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,s){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?e.ccBits[0]:s<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return s.testNumeric(t)?e.NUMERIC:s.testAlphanumeric(t)?e.ALPHANUMERIC:s.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,s){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(ls){return s}}}(Zn),function(e){const t=wn,s=On,r=Pn,a=Zn,n=Wn,l=t.getBCHDigit(7973);function i(e,t){return a.getCharCountIndicator(e,t)+4}function o(e,t){let s=0;return e.forEach(function(e){const r=i(e.mode,t);s+=r+e.getBitsLength()}),s}e.from=function(e,t){return n.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,r,l){if(!n.isValid(e))throw new Error("Invalid QR Code version");void 0===l&&(l=a.BYTE);const o=8*(t.getSymbolTotalCodewords(e)-s.getTotalCodewordsCount(e,r));if(l===a.MIXED)return o;const c=o-i(l,e);switch(l){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,s){let n;const l=r.from(s,r.M);if(Array.isArray(t)){if(t.length>1)return function(t,s){for(let r=1;r<=40;r++)if(o(t,r)<=e.getCapacity(r,s,a.MIXED))return r}(t,l);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,s,r){for(let a=1;a<=40;a++)if(s<=e.getCapacity(a,r,t))return a}(n.mode,n.getLength(),l)},e.getEncodedBits=function(e){if(!n.isValid(e)||e<7)throw new Error("Invalid QR Code version");let s=e<<12;for(;t.getBCHDigit(s)-l>=0;)s^=7973<<t.getBCHDigit(s)-l;return e<<12|s}}(Yn);var rl={};const al=wn,nl=al.getBCHDigit(1335);rl.getEncodedBits=function(e,t){const s=e.bit<<3|t;let r=s<<10;for(;al.getBCHDigit(r)-nl>=0;)r^=1335<<al.getBCHDigit(r)-nl;return 21522^(s<<10|r)};var ll={};const il=Zn;function ol(e){this.mode=il.NUMERIC,this.data=e.toString()}ol.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},ol.prototype.getLength=function(){return this.data.length},ol.prototype.getBitsLength=function(){return ol.getBitsLength(this.data.length)},ol.prototype.write=function(e){let t,s,r;for(t=0;t+3<=this.data.length;t+=3)s=this.data.substr(t,3),r=parseInt(s,10),e.put(r,10);const a=this.data.length-t;a>0&&(s=this.data.substr(t),r=parseInt(s,10),e.put(r,3*a+1))};var cl=ol;const dl=Zn,ml=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ul(e){this.mode=dl.ALPHANUMERIC,this.data=e}ul.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},ul.prototype.getLength=function(){return this.data.length},ul.prototype.getBitsLength=function(){return ul.getBitsLength(this.data.length)},ul.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let s=45*ml.indexOf(this.data[t]);s+=ml.indexOf(this.data[t+1]),e.put(s,11)}this.data.length%2&&e.put(ml.indexOf(this.data[t]),6)};var hl=ul;const pl=Zn;function xl(e){this.mode=pl.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}xl.getBitsLength=function(e){return 8*e},xl.prototype.getLength=function(){return this.data.length},xl.prototype.getBitsLength=function(){return xl.getBitsLength(this.data.length)},xl.prototype.write=function(e){for(let t=0,s=this.data.length;t<s;t++)e.put(this.data[t],8)};var gl=xl;const fl=Zn,bl=wn;function vl(e){this.mode=fl.KANJI,this.data=e}vl.getBitsLength=function(e){return 13*e},vl.prototype.getLength=function(){return this.data.length},vl.prototype.getBitsLength=function(){return vl.getBitsLength(this.data.length)},vl.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let s=bl.toSJIS(this.data[t]);if(s>=33088&&s<=40956)s-=33088;else{if(!(s>=57408&&s<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");s-=49472}s=192*(s>>>8&255)+(255&s),e.put(s,13)}};var yl,jl=vl,Nl={exports:{}};yl={single_source_shortest_paths:function(e,t,s){var r={},a={};a[t]=0;var n,l,i,o,c,d,m,u=yl.PriorityQueue.make();for(u.push(t,0);!u.empty();)for(i in l=(n=u.pop()).value,o=n.cost,c=e[l]||{})c.hasOwnProperty(i)&&(d=o+c[i],m=a[i],(void 0===a[i]||m>d)&&(a[i]=d,u.push(i,d),r[i]=l));if(void 0!==s&&void 0===a[s]){var h=["Could not find a path from ",t," to ",s,"."].join("");throw new Error(h)}return r},extract_shortest_path_from_predecessor_list:function(e,t){for(var s=[],r=t;r;)s.push(r),e[r],r=e[r];return s.reverse(),s},find_path:function(e,t,s){var r=yl.single_source_shortest_paths(e,t,s);return yl.extract_shortest_path_from_predecessor_list(r,s)},PriorityQueue:{make:function(e){var t,s=yl.PriorityQueue,r={};for(t in e=e||{},s)s.hasOwnProperty(t)&&(r[t]=s[t]);return r.queue=[],r.sorter=e.sorter||s.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var s={value:e,cost:t};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};var wl=Nl.exports=yl;!function(e){const t=Zn,s=cl,r=hl,a=gl,n=jl,l=qn,i=wn,o=wl;function c(e){return unescape(encodeURIComponent(e)).length}function d(e,t,s){const r=[];let a;for(;null!==(a=e.exec(s));)r.push({data:a[0],index:a.index,mode:t,length:a[0].length});return r}function m(e){const s=d(l.NUMERIC,t.NUMERIC,e),r=d(l.ALPHANUMERIC,t.ALPHANUMERIC,e);let a,n;i.isKanjiModeEnabled()?(a=d(l.BYTE,t.BYTE,e),n=d(l.KANJI,t.KANJI,e)):(a=d(l.BYTE_KANJI,t.BYTE,e),n=[]);return s.concat(r,a,n).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function u(e,l){switch(l){case t.NUMERIC:return s.getBitsLength(e);case t.ALPHANUMERIC:return r.getBitsLength(e);case t.KANJI:return n.getBitsLength(e);case t.BYTE:return a.getBitsLength(e)}}function h(e,l){let o;const c=t.getBestModeForData(e);if(o=t.from(l,c),o!==t.BYTE&&o.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(o)+".\n Suggested mode is: "+t.toString(c));switch(o!==t.KANJI||i.isKanjiModeEnabled()||(o=t.BYTE),o){case t.NUMERIC:return new s(e);case t.ALPHANUMERIC:return new r(e);case t.KANJI:return new n(e);case t.BYTE:return new a(e)}}e.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(h(t,null)):t.data&&e.push(h(t.data,t.mode)),e},[])},e.fromString=function(s,r){const a=function(e){const s=[];for(let r=0;r<e.length;r++){const a=e[r];switch(a.mode){case t.NUMERIC:s.push([a,{data:a.data,mode:t.ALPHANUMERIC,length:a.length},{data:a.data,mode:t.BYTE,length:a.length}]);break;case t.ALPHANUMERIC:s.push([a,{data:a.data,mode:t.BYTE,length:a.length}]);break;case t.KANJI:s.push([a,{data:a.data,mode:t.BYTE,length:c(a.data)}]);break;case t.BYTE:s.push([{data:a.data,mode:t.BYTE,length:c(a.data)}])}}return s}(m(s,i.isKanjiModeEnabled())),n=function(e,s){const r={},a={start:{}};let n=["start"];for(let l=0;l<e.length;l++){const i=e[l],o=[];for(let e=0;e<i.length;e++){const c=i[e],d=""+l+e;o.push(d),r[d]={node:c,lastCount:0},a[d]={};for(let e=0;e<n.length;e++){const l=n[e];r[l]&&r[l].node.mode===c.mode?(a[l][d]=u(r[l].lastCount+c.length,c.mode)-u(r[l].lastCount,c.mode),r[l].lastCount+=c.length):(r[l]&&(r[l].lastCount=c.length),a[l][d]=u(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,s))}}n=o}for(let t=0;t<n.length;t++)a[n[t]].end=0;return{map:a,table:r}}(a,r),l=o.find_path(n.map,"start","end"),d=[];for(let e=1;e<l.length-1;e++)d.push(n.table[l[e]].node);return e.fromArray(function(e){return e.reduce(function(e,t){const s=e.length-1>=0?e[e.length-1]:null;return s&&s.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(d))},e.rawSplit=function(t){return e.fromArray(m(t,i.isKanjiModeEnabled()))}}(ll);const kl=wn,Cl=Pn,Bl=Ln,Pl=Dn,Sl=Mn,Ll=Tn,El=In,Dl=On,Ml=Gn,Tl=Yn,Al=rl,Il=Zn,Ol=ll;function zl(e,t,s){const r=e.size,a=Al.getEncodedBits(t,s);let n,l;for(n=0;n<15;n++)l=1==(a>>n&1),n<6?e.set(n,8,l,!0):n<8?e.set(n+1,8,l,!0):e.set(r-15+n,8,l,!0),n<8?e.set(8,r-n-1,l,!0):n<9?e.set(8,15-n-1+1,l,!0):e.set(8,15-n-1,l,!0);e.set(r-8,8,1,!0)}function Rl(e,t,s){const r=new Bl;s.forEach(function(t){r.put(t.mode.bit,4),r.put(t.getLength(),Il.getCharCountIndicator(t.mode,e)),t.write(r)});const a=8*(kl.getSymbolTotalCodewords(e)-Dl.getTotalCodewordsCount(e,t));for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const n=(a-r.getLengthInBits())/8;for(let l=0;l<n;l++)r.put(l%2?17:236,8);return function(e,t,s){const r=kl.getSymbolTotalCodewords(t),a=Dl.getTotalCodewordsCount(t,s),n=r-a,l=Dl.getBlocksCount(t,s),i=r%l,o=l-i,c=Math.floor(r/l),d=Math.floor(n/l),m=d+1,u=c-d,h=new Ml(u);let p=0;const x=new Array(l),g=new Array(l);let f=0;const b=new Uint8Array(e.buffer);for(let w=0;w<l;w++){const e=w<o?d:m;x[w]=b.slice(p,p+e),g[w]=h.encode(x[w]),p+=e,f=Math.max(f,e)}const v=new Uint8Array(r);let y,j,N=0;for(y=0;y<f;y++)for(j=0;j<l;j++)y<x[j].length&&(v[N++]=x[j][y]);for(y=0;y<u;y++)for(j=0;j<l;j++)v[N++]=g[j][y];return v}(r,e,t)}function _l(e,t,s,r){let a;if(Array.isArray(e))a=Ol.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=Ol.rawSplit(e);r=Tl.getBestVersionForData(t,s)}a=Ol.fromString(e,r||40)}}const n=Tl.getBestVersionForData(a,s);if(!n)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<n)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+n+".\n")}else t=n;const l=Rl(t,s,a),i=kl.getSymbolSize(t),o=new Pl(i);return function(e,t){const s=e.size,r=Ll.getPositions(t);for(let a=0;a<r.length;a++){const t=r[a][0],n=r[a][1];for(let r=-1;r<=7;r++)if(!(t+r<=-1||s<=t+r))for(let a=-1;a<=7;a++)n+a<=-1||s<=n+a||(r>=0&&r<=6&&(0===a||6===a)||a>=0&&a<=6&&(0===r||6===r)||r>=2&&r<=4&&a>=2&&a<=4?e.set(t+r,n+a,!0,!0):e.set(t+r,n+a,!1,!0))}}(o,t),function(e){const t=e.size;for(let s=8;s<t-8;s++){const t=s%2==0;e.set(s,6,t,!0),e.set(6,s,t,!0)}}(o),function(e,t){const s=Sl.getPositions(t);for(let r=0;r<s.length;r++){const t=s[r][0],a=s[r][1];for(let s=-2;s<=2;s++)for(let r=-2;r<=2;r++)-2===s||2===s||-2===r||2===r||0===s&&0===r?e.set(t+s,a+r,!0,!0):e.set(t+s,a+r,!1,!0)}}(o,t),zl(o,s,0),t>=7&&function(e,t){const s=e.size,r=Tl.getEncodedBits(t);let a,n,l;for(let i=0;i<18;i++)a=Math.floor(i/3),n=i%3+s-8-3,l=1==(r>>i&1),e.set(a,n,l,!0),e.set(n,a,l,!0)}(o,t),function(e,t){const s=e.size;let r=-1,a=s-1,n=7,l=0;for(let i=s-1;i>0;i-=2)for(6===i&&i--;;){for(let s=0;s<2;s++)if(!e.isReserved(a,i-s)){let r=!1;l<t.length&&(r=1==(t[l]>>>n&1)),e.set(a,i-s,r),n--,-1===n&&(l++,n=7)}if(a+=r,a<0||s<=a){a-=r,r=-r;break}}}(o,l),isNaN(r)&&(r=El.getBestMask(o,zl.bind(null,o,s))),El.applyMask(r,o),zl(o,s,r),{modules:o,version:t,errorCorrectionLevel:s,maskPattern:r,segments:a}}Nn.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let s,r,a=Cl.M;return void 0!==t&&(a=Cl.from(t.errorCorrectionLevel,Cl.M),s=Tl.from(t.version),r=El.from(t.maskPattern),t.toSJISFunc&&kl.setToSJISFunction(t.toSJISFunc)),_l(e,s,a,r)};var Ul={},Hl={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const s=parseInt(t.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:255&s,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const s=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:r,scale:r?4:a,margin:s,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,s){const r=e.getScale(t,s);return Math.floor((t+2*s.margin)*r)},e.qrToImageData=function(t,s,r){const a=s.modules.size,n=s.modules.data,l=e.getScale(a,r),i=Math.floor((a+2*r.margin)*l),o=r.margin*l,c=[r.color.light,r.color.dark];for(let e=0;e<i;e++)for(let s=0;s<i;s++){let d=4*(e*i+s),m=r.color.light;if(e>=o&&s>=o&&e<i-o&&s<i-o){m=c[n[Math.floor((e-o)/l)*a+Math.floor((s-o)/l)]?1:0]}t[d++]=m.r,t[d++]=m.g,t[d++]=m.b,t[d]=m.a}}}(Hl),function(e){const t=Hl;e.render=function(e,s,r){let a=r,n=s;void 0!==a||s&&s.getContext||(a=s,s=void 0),s||(n=function(){try{return document.createElement("canvas")}catch(ls){throw new Error("You need to specify a canvas element")}}()),a=t.getOptions(a);const l=t.getImageWidth(e.modules.size,a),i=n.getContext("2d"),o=i.createImageData(l,l);return t.qrToImageData(o.data,e,a),function(e,t,s){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=s,t.width=s,t.style.height=s+"px",t.style.width=s+"px"}(i,n,l),i.putImageData(o,0,0),n},e.renderToDataURL=function(t,s,r){let a=r;void 0!==a||s&&s.getContext||(a=s,s=void 0),a||(a={});const n=e.render(t,s,a),l=a.type||"image/png",i=a.rendererOpts||{};return n.toDataURL(l,i.quality)}}(Ul);var Vl={};const Fl=Hl;function $l(e,t){const s=e.a/255,r=t+'="'+e.hex+'"';return s<1?r+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':r}function Kl(e,t,s){let r=e+t;return void 0!==s&&(r+=" "+s),r}Vl.render=function(e,t,s){const r=Fl.getOptions(t),a=e.modules.size,n=e.modules.data,l=a+2*r.margin,i=r.color.light.a?"<path "+$l(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",o="<path "+$l(r.color.dark,"stroke")+' d="'+function(e,t,s){let r="",a=0,n=!1,l=0;for(let i=0;i<e.length;i++){const o=Math.floor(i%t),c=Math.floor(i/t);o||n||(n=!0),e[i]?(l++,i>0&&o>0&&e[i-1]||(r+=n?Kl("M",o+s,.5+c+s):Kl("m",a,0),a=0,n=!1),o+1<t&&e[i+1]||(r+=Kl("h",l),l=0)):a++}return r}(n,a,r.margin)+'"/>',c='viewBox="0 0 '+l+" "+l+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+' shape-rendering="crispEdges">'+i+o+"</svg>\n";return"function"==typeof s&&s(null,d),d};const Gl=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},Yl=Nn,Zl=Ul,Wl=Vl;function ql(e,t,s,r,a){const n=[].slice.call(arguments,1),l=n.length,i="function"==typeof n[l-1];if(!i&&!Gl())throw new Error("Callback required as last argument");if(!i){if(l<1)throw new Error("Too few arguments provided");return 1===l?(s=t,t=r=void 0):2!==l||t.getContext||(r=s,s=t,t=void 0),new Promise(function(a,n){try{const n=Yl.create(s,r);a(e(n,t,r))}catch(ls){n(ls)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(a=s,s=t,t=r=void 0):3===l&&(t.getContext&&void 0===a?(a=r,r=void 0):(a=r,r=s,s=t,t=void 0));try{const n=Yl.create(s,r);a(null,e(n,t,r))}catch(ls){a(ls)}}jn.create=Yl.create,jn.toCanvas=ql.bind(null,Zl.render),jn.toDataURL=ql.bind(null,Zl.renderToDataURL),jn.toString=ql.bind(null,function(e,t,s){return Wl.render(e,s)});const Ql=()=>{var e,t,s,r,i,o,m,u,h,p;const x=_e(),f=He(),[b,v]=ze.useState(null),[y,N]=ze.useState(""),[C,B]=ze.useState(!1),[P,S]=ze.useState(""),[E,D]=ze.useState(""),[M,T]=ze.useState(!1),[I,z]=ze.useState(!1);ze.useEffect(()=>{var e;if(console.log("📍 BookingConfirmation useEffect çalıştı - State kontrol:",{isProcessed:M,isGlobalProcessing:I,hasLocationState:!!(null==(e=x.state)?void 0:e.bookingData)}),M||I)return void console.log("⚠️ BookingConfirmation: Zaten işlendi, tekrar çalışmıyor",{isProcessed:M,isGlobalProcessing:I});(async()=>{var e,t,s;try{if(null==(e=x.state)?void 0:e.bookingData){console.log("🔄 BookingConfirmation: İşlem başlatılıyor..."),console.log("📋 Gelen booking data:",x.state.bookingData),T(!0),z(!0);let e=x.state.bookingData;e.personalInfo&&!e.customerInfo&&(console.log("🔄 personalInfo -> customerInfo dönüşümü yapılıyor"),e.customerInfo={firstName:e.personalInfo.firstName,lastName:e.personalInfo.lastName,phone:e.personalInfo.phone,email:e.personalInfo.email,flightNumber:e.personalInfo.flightNumber,flightTime:e.personalInfo.flightTime,specialRequests:e.personalInfo.specialRequests},delete e.personalInfo),v(e),console.log("🎯 Rezervasyon ID oluşturuluyor...");const r=await(async()=>{try{return await St(ir,async e=>{const t=dt(ir,"counters","reservations"),s=await e.get(t);let r;return s.exists()?(r=s.data().count+1,e.update(t,{count:r})):(r=1001,e.set(t,{count:r})),`SBS${r}`})}catch(e){return console.error("Rezervasyon kodu oluşturma hatası:",e),`SBS${Date.now().toString().slice(-6)}${Math.random().toString(36).substring(2,5).toUpperCase()}`}})();if(console.log("✅ Oluşturulan rezervasyon ID:",r),D(r),null==(t=e.customerInfo)?void 0:t.email){console.log("👤 Otomatik kullanıcı hesabı oluşturuluyor...");const t=(()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let s=0;s<8;s++)t+=e.charAt(Math.floor(36*Math.random()));return t})();N(t),await(async(e,t,s)=>{try{console.log("Otomatik kullanıcı kaydı başlatılıyor:",e);const r=(await gt(lr,e,t)).user;console.log("Firebase Auth kullanıcısı oluşturuldu:",r.uid);const a={uid:r.uid,email:e,firstName:(null==s?void 0:s.firstName)||"",lastName:(null==s?void 0:s.lastName)||"",phone:(null==s?void 0:s.phone)||"",createdAt:(new Date).toISOString(),registrationMethod:"automatic_booking",isActive:!0,tempPassword:t};return await Bt(Nt(ir,"users"),a),console.log("Kullanıcı profili Firestore'a kaydedildi"),B(!0),Os.success("Müşteri hesabınız otomatik olarak oluşturuldu!"),r}catch(r){return console.error("Otomatik kullanıcı kaydı hatası:",r),"auth/email-already-in-use"===r.code?(console.log("Email zaten kayıtlı, mevcut kullanıcı kullanılacak"),Os.info("Bu e-posta adresi zaten kayıtlı. Mevcut hesabınızı kullanabilirsiniz.")):Os.error("Hesap oluşturulurken bir hata oluştu."),null}})(e.customerInfo.email,t,e.customerInfo)}console.log("💾 Firebase'e rezervasyon kaydediliyor..."),await _(e,r),console.log("🔲 QR kod oluşturuluyor..."),console.log("📋 Mevcut bookingData:",e.customerInfo),(null==(s=e.customerInfo)?void 0:s.phone)?setTimeout(async()=>{console.log("🔲 QR kod oluşturma için bookingData kontrol:",b),await(async(e,t=null)=>{try{console.log("🔲 QR kod oluşturma başlatıldı:",e);const s=t||(null==b?void 0:b.customerInfo);if(!(null==s?void 0:s.phone))return void console.log("❌ QR kod için telefon numarası bulunamadı:",s);console.log("📱 Telefon numarası bulundu:",s.phone);const r=`SBS Transfer - Rezervasyon: ${e} - Tel: ${s.phone}`;console.log("📝 QR kod metni:",r);const a=await jn.toDataURL(r,{width:200,margin:2,color:{dark:"#1f2937",light:"#ffffff"}});console.log("✅ QR kod data URL oluşturuldu, uzunluk:",a.length),S(a),console.log("✅ QR kod state'e kaydedildi")}catch(s){console.error("❌ QR kod oluşturma hatası:",s)}})(r,e.customerInfo)},500):console.warn("⚠️ QR kod için telefon numarası yok:",e.customerInfo),console.log("✅ BookingConfirmation: İşlem tamamlandı")}else console.log("❌ Booking data yok, ana sayfaya yönlendiriliyor"),f("/")}catch(r){console.error("❌ Rezervasyon işleme hatası:",r),T(!1),z(!1)}})()},[]);const _=async(e,t)=>{var s,r,a,n,l,i,o,c,d,m,u,h,p,x;try{console.log("💾 Firebase kayıt işlemi başlatılıyor:",t);const g={reservationCode:t,reservationId:t,status:"pending",direction:"airport-to-hotel"===e.direction?"from_airport":"to_airport",customerInfo:{firstName:(null==(s=e.customerInfo)?void 0:s.firstName)||"",lastName:(null==(r=e.customerInfo)?void 0:r.lastName)||"",phone:(null==(a=e.customerInfo)?void 0:a.phone)||"",email:(null==(n=e.customerInfo)?void 0:n.email)||""},tripDetails:{date:e.date||"",time:e.time||"",pickupLocation:"object"==typeof e.pickupLocation?(null==(l=e.pickupLocation)?void 0:l.address)||(null==(i=e.pickupLocation)?void 0:i.formatted_address)||(null==(o=e.pickupLocation)?void 0:o.name)||"":e.pickupLocation||"",dropoffLocation:"object"==typeof e.dropoffLocation?(null==(c=e.dropoffLocation)?void 0:c.address)||(null==(d=e.dropoffLocation)?void 0:d.formatted_address)||(null==(m=e.dropoffLocation)?void 0:m.name)||"":e.dropoffLocation||"",passengerCount:e.passengerCount||1,luggageCount:e.baggageCount||0,flightNumber:(null==(u=e.customerInfo)?void 0:u.flightNumber)||""},selectedVehicle:(null==(h=e.selectedVehicle)?void 0:h.id)||"",paymentMethod:e.paymentMethod||"cash",totalPrice:(null==(p=e.selectedVehicle)?void 0:p.totalPrice)||e.totalPrice||(null==(x=e.selectedVehicle)?void 0:x.price)||0,calculatedDistance:e.distance||0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};console.log("📋 Kaydedilecek rezervasyon yapısı:",g);const f=await Bt(Nt(ir,"reservations"),g);console.log("✅ Rezervasyon admin paneline kaydedildi:",f.id),console.log("🎯 Rezervasyon kodu:",t),Os.success(`Rezervasyon başarıyla kaydedildi! (${t})`)}catch(g){throw console.error("❌ Rezervasyon kaydedilirken hata:",g),Os.error("Rezervasyon kaydedilirken bir hata oluştu."),g}};return b?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-4 sm:py-8 px-2 sm:px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 sm:mb-8 px-2",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full mb-3 sm:mb-4 shadow-lg",children:a.jsx(R,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Rezervasyonunuz Onaylandı!"})}),a.jsxs("p",{className:"text-gray-600 text-base sm:text-lg px-2",children:["Rezervasyon numaranız: ",a.jsxs("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["#",E]})]})]}),C&&a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 mx-2 sm:mx-0 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(g,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h3",{className:"text-base sm:text-lg font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Müşteri Hesabınız Otomatik Oluşturuldu!"})]}),a.jsxs("div",{className:"text-center text-gray-700 text-xs sm:text-sm",children:[a.jsxs("p",{className:"mb-2 break-words",children:["E-posta: ",a.jsx("span",{className:"font-medium",children:null==(e=b.customerInfo)?void 0:e.email})]}),a.jsxs("p",{className:"mb-2",children:["Geçici Şifre: ",a.jsx("span",{className:"font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-white px-3 py-1 rounded-full text-sm",children:y})]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Bu bilgilerle müşteri sayfanıza giriş yapabilirsiniz."})]})]}),a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-xl p-4 sm:p-6 mb-4 sm:mb-6 mx-2 sm:mx-0 border border-gray-100",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4 sm:mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Rezervasyon Detayları"})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-4 p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl border border-blue-100",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(U,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Güzergah"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"object"==typeof b.pickupLocation?null==(t=b.pickupLocation)?void 0:t.address:b.pickupLocation||"Belirlenmedi"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(A,{className:"w-3 h-3 text-gray-400 ml-1"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),a.jsx("span",{children:"object"==typeof b.dropoffLocation?null==(s=b.dropoffLocation)?void 0:s.address:b.dropoffLocation||"Belirlenmedi"})]})]})]})]}),b.routeInfo&&a.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Mesafe:"}),a.jsx("span",{className:"font-medium",children:b.routeInfo.distance})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Tahmini Süre:"}),a.jsx("span",{className:"font-medium",children:b.routeInfo.duration})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(d,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Tarih ve Saat"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Gidiş:"})," ",b.date," - ",b.time]}),"round-trip"===b.tripType&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Dönüş:"})," ",b.returnDate," - ",b.returnTime]})]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(w,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Araç"}),a.jsx("p",{className:"text-sm text-gray-600",children:(null==(r=b.selectedVehicle)?void 0:r.name)||"Belirlenmedi"}),a.jsx("p",{className:"text-sm text-gray-500",children:null==(i=b.selectedVehicle)?void 0:i.description})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(k,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Yolcu Bilgileri"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Yolcu Sayısı:"})," ",b.passengerCount," kişi"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Bagaj:"})," ",b.baggageCount," adet"]})]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(G,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Ödeme"}),a.jsx("p",{className:"text-sm text-gray-600",children:"credit_card"===b.paymentMethod?"Kredi Kartı":"Nakit"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:["₺",b.totalPrice]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"İletişim Bilgileri"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Ad Soyad:"})," ",null==(o=b.customerInfo)?void 0:o.firstName," ",null==(m=b.customerInfo)?void 0:m.lastName]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Telefon:"})," ",null==(u=b.customerInfo)?void 0:u.phone]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"E-posta:"})," ",null==(h=b.customerInfo)?void 0:h.email]})]})]}),(null==(p=b.customerInfo)?void 0:p.flightNumber)&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Uçuş Bilgileri"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Uçuş No:"})," ",b.customerInfo.flightNumber]}),b.customerInfo.flightTime&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Uçuş Saati:"})," ",b.customerInfo.flightTime]})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-2 xl:col-span-1 p-4 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border border-purple-100",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:a.jsx(J,{className:"w-4 h-4 text-white"})}),a.jsx("h3",{className:"font-medium text-gray-900",children:"QR Kod"})]}),P?a.jsxs("div",{children:[a.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-xl border-2 border-purple-200 inline-block mb-4 shadow-lg",children:a.jsx("img",{src:P,alt:"QR Code",className:"w-24 h-24 sm:w-32 sm:h-32 mx-auto"})}),a.jsxs("button",{onClick:()=>{if(P){const e=document.createElement("a");e.download=`SBS-Transfer-${E}.png`,e.href=P,e.click()}},className:"w-full px-3 sm:px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all duration-300 text-xs sm:text-sm flex items-center justify-center gap-2 shadow-lg hover:shadow-xl",children:[a.jsx(ee,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"QR Kodunu İndir"]})]}):a.jsxs("div",{className:"bg-white/50 backdrop-blur-sm p-4 sm:p-6 rounded-xl border border-purple-200",children:[a.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 mx-auto flex items-center justify-center bg-gradient-to-br from-purple-100 to-blue-100 rounded-xl",children:a.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-4",children:"QR kod oluşturuluyor..."})]})]})})]})]}),a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Sırada Ne Var?"}),a.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),a.jsx("span",{children:"E-posta adresinize onay mesajı gönderilecek"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),a.jsx("span",{children:"Şoförümüz seyahat öncesi sizinle iletişime geçecek"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),a.jsx("span",{children:"Belirlenen zamanda kalkış noktasında hazır olun"})]})]})]}),a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"İletişim"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(n,{className:"w-5 h-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Telefon"}),a.jsx("p",{className:"text-sm text-gray-600",children:"+90 555 123 45 67"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(l,{className:"w-5 h-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"E-posta"}),a.jsx("p",{className:"text-sm text-gray-600",children:"info@sonstransfer.com"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx($,{className:"w-5 h-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),a.jsx("p",{className:"text-sm text-gray-600",children:"7/24 Destek"})]})]})]})]}),a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"space-y-4 sm:space-y-6 mx-2 sm:mx-0",children:[C&&a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-xl p-4 sm:p-8 text-center shadow-xl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(c,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Müşteri Hesabınız Hazır!"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Rezervasyonlarınızı takip edin ve profil ayarlarınızı düzenleyin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("button",{onClick:()=>f("/profil"),className:"w-full px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-xl transition-all duration-300 font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 sm:gap-3 text-sm sm:text-base",children:[a.jsx(c,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Müşteri Sayfama Git"]}),a.jsxs("button",{onClick:()=>f("/rezervasyonlarim"),className:"w-full px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white rounded-xl transition-all duration-300 font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 sm:gap-3 text-sm sm:text-base",children:[a.jsx(d,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Rezervasyonlarım"]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[a.jsxs("button",{onClick:()=>{console.log("PDF download functionality will be implemented")},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2 font-semibold shadow-lg hover:shadow-xl text-sm sm:text-base",children:[a.jsx(ee,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{children:"PDF İndir"})]}),a.jsxs("button",{onClick:()=>f("/"),className:"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2 font-semibold shadow-lg hover:shadow-xl text-sm sm:text-base",children:[a.jsx(L,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{children:"Ana Sayfa"})]})]})]}),a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"text-center mt-8 p-6 bg-gray-100 rounded-lg",children:[a.jsx(O,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Deneyiminizi Değerlendirin"}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Hizmetimizden memnun kaldınız mı? Geri bildiriminiz bizim için çok değerli."}),a.jsx("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:"Değerlendir"})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})})},Xl=()=>{const{user:e,userProfile:t,signOut:s}=pr(),r=He(),[l,i]=ze.useState([]),[o,u]=ze.useState([]),[h,p]=ze.useState([]),[x,g]=ze.useState([]),[f,v]=ze.useState(""),[y,N]=ze.useState("all"),[k,C]=ze.useState(null),[B,S]=ze.useState(""),[L,E]=ze.useState(!1),[D,M]=ze.useState(!0),T=()=>{if(B&&k){const e=document.createElement("a");e.download=`SBS-Transfer-${(null==k?void 0:k.reservationCode)||(null==k?void 0:k.reservationId)}.png`,e.href=B,e.click()}};ze.useEffect(()=>{if(!(null==e?void 0:e.email))return void M(!1);console.log("MyReservations: Firebase listeners başlatılıyor...");const t=jt(Nt(ir,"reservations")),s=Pt(t,t=>{const s=t.docs.map(e=>({id:e.id,...e.data()})),r=e.email.toLowerCase(),a=new Set,n=s.filter(e=>{var t,s,n,l;const i=null==(s=null==(t=e.personalInfo)?void 0:t.email)?void 0:s.toLowerCase(),o=null==(l=null==(n=e.customerInfo)?void 0:n.email)?void 0:l.toLowerCase(),c=i===r||o===r,d=e.reservationCode||e.reservationId||e.id;return!(!c||a.has(d))&&(a.add(d),!0)});console.log("Kullanıcı rezervasyonları (çifte kayıt temizlendi):",n),p(n)},e=>{console.error("MyReservations: Rezervasyonlar yüklenirken hata:",e)}),r=jt(Nt(ir,"users"),Lt("role","==",dr)),a=Pt(r,e=>{const t=e.docs.map(e=>({id:e.id,...e.data(),firstName:e.data().firstName||"",lastName:e.data().lastName||"",phone:e.data().phone||""}));i(t)},e=>{console.error("MyReservations: Şoförler yüklenirken hata:",e)}),n=jt(Nt(ir,"vehicles"),Lt("status","==","active")),l=Pt(n,e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));u(t),M(!1)},e=>{console.error("MyReservations: Araçlar yüklenirken hata:",e),M(!1)});return()=>{s(),a(),l()}},[e]),ze.useEffect(()=>{let e=h;f&&(e=e.filter(e=>{var t,s,r,a,n,l;return(null==(t=null==e?void 0:e.id)?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null==(s=null==e?void 0:e.reservationCode)?void 0:s.toLowerCase().includes(f.toLowerCase()))||(null==(r=null==e?void 0:e.reservationId)?void 0:r.toLowerCase().includes(f.toLowerCase()))||(null==(a=F(U(e)))?void 0:a.toLowerCase().includes(f.toLowerCase()))||(null==(n=F(H(e)))?void 0:n.toLowerCase().includes(f.toLowerCase()))||(null==(l=V(e))?void 0:l.toLowerCase().includes(f.toLowerCase()))})),"all"!==y&&(e=e.filter(e=>(null==e?void 0:e.status)===y)),e.sort((e,t)=>{const s=new Date((null==e?void 0:e.createdAt)||(null==e?void 0:e.date)||0);return new Date((null==t?void 0:t.createdAt)||(null==t?void 0:t.date)||0)-s}),g(e)},[h,f,y]);const A=[{value:"PENDING",label:"Bekleyen",color:"bg-yellow-100 text-yellow-800"},{value:"CONFIRMED",label:"Onaylandı",color:"bg-blue-100 text-blue-800"},{value:"ASSIGNED",label:"Atandı",color:"bg-green-100 text-green-800"},{value:"IN_PROGRESS",label:"Devam Ediyor",color:"bg-purple-100 text-purple-800"},{value:"COMPLETED",label:"Tamamlandı",color:"bg-green-100 text-green-800"},{value:"CANCELLED",label:"İptal Edildi",color:"bg-red-100 text-red-800"}],I=e=>A.find(t=>t.value===e)||A[0],O=e=>{if(!e)return"Henüz atanmadı";const t=l.find(t=>t.id===e);return t?`${t.firstName} ${t.lastName}`:"Bilinmeyen Şoför"},z=e=>{if(!e)return null;const t=l.find(t=>t.id===e);return null==t?void 0:t.phone},R=e=>{if(!e)return{brand:"Henüz atanmadı",model:"",plateNumber:"",full:"Henüz atanmadı"};const t=o.find(t=>t.id===e);return t?{brand:t.brand||"Bilinmeyen",model:t.model||"",plateNumber:t.plateNumber||"Bilinmeyen",full:`${t.brand} ${t.model} (${t.plateNumber})`}:{brand:"Bilinmeyen araç",model:"",plateNumber:"",full:"Bilinmeyen araç"}},_=e=>{var t,s;const r=(null==(t=null==e?void 0:e.tripDetails)?void 0:t.date)||(null==e?void 0:e.date),a=(null==(s=null==e?void 0:e.tripDetails)?void 0:s.time)||(null==e?void 0:e.time);if(!r)return"Tarih belirtilmemiş";const n=new Date(r).toLocaleDateString("tr-TR");return a?`${n} - ${a}`:n},U=e=>{var t;const s=(null==(t=null==e?void 0:e.tripDetails)?void 0:t.pickupLocation)||(null==e?void 0:e.pickupLocation);return F(s)},H=e=>{var t;const s=(null==(t=null==e?void 0:e.tripDetails)?void 0:t.dropoffLocation)||(null==e?void 0:e.dropoffLocation);return F(s)},V=e=>{var t,s,r,a;return`${(null==(t=e.customerInfo)?void 0:t.firstName)||(null==(s=e.personalInfo)?void 0:s.firstName)||""} ${(null==(r=e.customerInfo)?void 0:r.lastName)||(null==(a=e.personalInfo)?void 0:a.lastName)||""}`.trim()||"İsimsiz"},F=e=>e?"string"==typeof e?e:"object"==typeof e?e.address?String(e.address):e.name?String(e.name):e.formatted_address?String(e.formatted_address):e.description?String(e.description):"Lokasyon bilgisi mevcut":String(e):"Bilinmiyor";return e?D?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Rezervasyonlar yükleniyor..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezervasyonlarım"}),a.jsxs("p",{className:"text-gray-600",children:["Hoş geldiniz, ",(null==t?void 0:t.firstName)||e.email]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>r("/profil"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(P,{className:"w-4 h-4"}),a.jsx("span",{children:"Profil"})]}),a.jsxs("button",{onClick:async()=>{try{await s(),r("/")}catch(e){console.error("Çıkış hatası:",e)}},className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(m,{className:"w-4 h-4"}),a.jsx("span",{children:"Çıkış"})]})]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Rezervasyon"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.filter(e=>"PENDING"===e.status).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bekleyen"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.filter(e=>"COMPLETED"===e.status).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Tamamlandı"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.filter(e=>["CONFIRMED","ASSIGNED","IN_PROGRESS"].includes(e.status)).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Aktif"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Rezervasyon ara...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:f,onChange:e=>v(e.target.value)})]}),a.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:y,onChange:e=>N(e.target.value),children:[a.jsx("option",{value:"all",children:"Tüm Durumlar"}),A.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]})]})}),0===x.length?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[a.jsx(d,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:f||"all"!==y?"Rezervasyon bulunamadı":"Henüz rezervasyon yok"}),a.jsx("p",{className:"text-gray-500 mb-6",children:f||"all"!==y?"Arama kriterlerinize uygun rezervasyon bulunamadı":"İlk rezervasyonunuzu yapmaya başlayın"}),!f&&"all"===y&&a.jsx("button",{onClick:()=>r("/"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Rezervasyon Yap"})]}):a.jsx("div",{className:"space-y-4",children:x.map((e,t)=>{var s;return a.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["#",(null==e?void 0:e.reservationCode)||(null==e?void 0:e.reservationId)||(null==(s=null==e?void 0:e.id)?void 0:s.slice(-8))||"Rezervasyon"]}),a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${I(null==e?void 0:e.status).color}`,children:I(null==e?void 0:e.status).label})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["₺",Number((null==e?void 0:e.totalPrice)||0).toLocaleString("tr-TR")]}),a.jsx("p",{className:"text-sm text-gray-500",children:_(e)})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[a.jsx(b,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"font-medium",children:"Güzergah"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-2"}),a.jsx("p",{className:"text-sm text-gray-900",children:F(U(e))})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 rounded-full mr-2"}),a.jsx("p",{className:"text-sm text-gray-900",children:F(H(e))})]})]})]}),("ASSIGNED"===(null==e?void 0:e.status)||"IN_PROGRESS"===(null==e?void 0:e.status)||"COMPLETED"===(null==e?void 0:e.status))&&a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 text-sm mb-3",children:"🚗 Şoför & Araç Bilgileri"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-blue-700 mb-1",children:[a.jsx(c,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"font-medium",children:"Şoför"})]}),a.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:O(e.assignedDriver||e.driverId)}),z(e.assignedDriver||e.driverId)&&a.jsxs("a",{href:`tel:${z(e.assignedDriver||e.driverId)}`,className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 bg-blue-100 hover:bg-blue-200 px-2 py-1 rounded transition-colors",children:[a.jsx(n,{className:"w-3 h-3 mr-1"}),z(e.assignedDriver||e.driverId)]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-blue-700 mb-1",children:[a.jsx(w,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"font-medium",children:"Araç"})]}),a.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:R(e.assignedVehicle||e.vehicleId).full}),R(e.assignedVehicle||e.vehicleId).plateNumber&&"Bilinmeyen"!==R(e.assignedVehicle||e.vehicleId).plateNumber&&a.jsx("span",{className:"inline-block text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded font-mono",children:R(e.assignedVehicle||e.vehicleId).plateNumber})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>{var t;C(e),E(!0);const s=(null==e?void 0:e.reservationCode)||(null==e?void 0:e.reservationId)||(null==e?void 0:e.id),r=(null==(t=null==e?void 0:e.customerInfo)?void 0:t.phone)||(e=>{var t,s;return(null==(t=e.customerInfo)?void 0:t.phone)||(null==(s=e.personalInfo)?void 0:s.phone)||""})(e);s&&r&&(async(e,t)=>{try{if(console.log("🔲 QR kod oluşturuluyor:",e),!t)return void console.log("❌ QR kod için telefon numarası yok");const s=`SBS Transfer - Rezervasyon: ${e} - Tel: ${t}`,r=await jn.toDataURL(s,{width:200,margin:2,color:{dark:"#1f2937",light:"#ffffff"}});S(r),console.log("✅ QR kod oluşturuldu")}catch(s){console.error("❌ QR kod oluşturma hatası:",s)}})(s,r)},className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(se,{className:"w-4 h-4 mr-1"}),"Detaylar"]}),z(e.assignedDriver||e.driverId)&&a.jsxs("a",{href:`tel:${z(e.assignedDriver||e.driverId)}`,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:[a.jsx(n,{className:"w-4 h-4 mr-1"}),"Şoförü Ara"]}),(null==e?void 0:e.pickupLocation)&&(null==e?void 0:e.dropoffLocation)&&a.jsxs("a",{href:`https://www.google.com/maps/dir/${encodeURIComponent(F(null==e?void 0:e.pickupLocation))}/${encodeURIComponent(F(null==e?void 0:e.dropoffLocation))}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(re,{className:"w-4 h-4 mr-1"}),"Harita"]})]})]})},(null==e?void 0:e.id)||t)})}),L&&k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Rezervasyon Detayları"}),a.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 text-xl",children:"×"})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Rezervasyon Kodu"}),a.jsxs("p",{className:"font-medium",children:["#",k.reservationCode||k.reservationId||k.id]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Durum"}),a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ml-2 ${I(k.status).color}`,children:I(k.status).label})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Tarih & Saat"}),a.jsx("p",{className:"font-medium",children:_(k.date,k.time)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Nereden"}),a.jsx("p",{className:"font-medium",children:F(k.pickupLocation)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Nereye"}),a.jsx("p",{className:"font-medium",children:F(k.dropoffLocation)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Toplam Ücret"}),a.jsxs("p",{className:"font-medium text-blue-600",children:["₺",Number(k.totalPrice||0).toLocaleString("tr-TR")]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(J,{className:"w-5 h-5 text-purple-600"}),a.jsx("label",{className:"text-sm text-gray-600 font-medium",children:"QR Kod"})]})}),B?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white p-3 rounded-lg border-2 border-purple-200 inline-block mb-3",children:a.jsx("img",{src:B,alt:"QR Code",className:"w-32 h-32 mx-auto"})}),a.jsxs("button",{onClick:T,className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all duration-300 text-sm flex items-center justify-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"QR Kodunu İndir"]})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"w-32 h-32 mx-auto flex items-center justify-center bg-gray-100 rounded-lg",children:a.jsx("div",{className:"w-8 h-8 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"QR kod oluşturuluyor..."})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border border-purple-200",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:a.jsx(J,{className:"w-4 h-4 text-white"})}),a.jsx("h4",{className:"font-medium text-gray-900",children:"QR Kod"})]}),B?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white p-3 rounded-xl border-2 border-purple-200 inline-block mb-4 shadow-lg",children:a.jsx("img",{src:B,alt:"QR Code",className:"w-32 h-32 mx-auto"})}),a.jsxs("button",{onClick:T,className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all duration-300 text-sm flex items-center justify-center gap-2 shadow-lg hover:shadow-xl",children:[a.jsx(ee,{className:"w-4 h-4"}),"QR Kodunu İndir"]})]}):a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-white/50 backdrop-blur-sm p-6 rounded-xl border border-purple-200",children:[a.jsx("div",{className:"w-32 h-32 mx-auto flex items-center justify-center bg-gradient-to-br from-purple-100 to-blue-100 rounded-xl",children:a.jsx("div",{className:"w-8 h-8 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"})}),a.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"QR kod oluşturuluyor..."})]})})]})]})}),a.jsx("div",{className:"sticky bottom-0 bg-white border-t p-4",children:a.jsx("button",{onClick:()=>E(!1),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Kapat"})})]})})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"max-w-md mx-auto text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Giriş Yapmanız Gerekiyor"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Rezervasyonlarınızı görmek için lütfen giriş yapın."}),a.jsx("button",{onClick:()=>r("/giriş"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Giriş Yap"})]})})},Jl=()=>{const{user:e,userProfile:t,updateUserProfile:s}=pr(),r=He(),[o,d]=ze.useState(!1),[m,u]=ze.useState(!1),[h,p]=ze.useState({current:!1,new:!1,confirm:!1}),[x,f]=ze.useState({firstName:(null==t?void 0:t.firstName)||"",lastName:(null==t?void 0:t.lastName)||"",phone:(null==t?void 0:t.phone)||""}),[b,v]=ze.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[y,N]=ze.useState(!1),w=e=>{p(t=>({...t,[e]:!t[e]}))};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>r("/rezervasyonlarim"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(K,{className:"w-5 h-5"}),a.jsx("span",{children:"Rezervasyonlarım"})]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profil Ayarları"})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[a.jsx(c,{className:"w-5 h-5 mr-2 text-blue-600"}),"Kişisel Bilgiler"]}),!o&&a.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",children:[a.jsx(ae,{className:"w-4 h-4"}),a.jsx("span",{children:"Düzenle"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),a.jsxs("div",{className:"relative",children:[a.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",value:(null==e?void 0:e.email)||"",disabled:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"E-posta adresi değiştirilemez"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad *"}),a.jsx("input",{type:"text",value:x.firstName,onChange:e=>f(t=>({...t,firstName:e.target.value})),disabled:!o,className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o?"":"bg-gray-50 text-gray-600"),placeholder:"Adınızı girin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Soyad *"}),a.jsx("input",{type:"text",value:x.lastName,onChange:e=>f(t=>({...t,lastName:e.target.value})),disabled:!o,className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o?"":"bg-gray-50 text-gray-600"),placeholder:"Soyadınızı girin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon Numarası"}),a.jsxs("div",{className:"relative",children:[a.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",value:x.phone,onChange:e=>f(t=>({...t,phone:e.target.value})),disabled:!o,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o?"":"bg-gray-50 text-gray-600"),placeholder:"+90 (5xx) xxx xx xx"})]})]}),o&&a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{onClick:async()=>{if(x.firstName.trim()&&x.lastName.trim())try{N(!0),await s(x),d(!1),Os.success("Profil başarıyla güncellendi")}catch(e){console.error("Profil güncelleme hatası:",e),Os.error("Profil güncellenirken bir hata oluştu")}finally{N(!1)}else Os.error("Ad ve soyad alanları zorunludur")},disabled:y,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[a.jsx(ne,{className:"w-4 h-4"}),a.jsx("span",{children:y?"Kaydediliyor...":"Kaydet"})]}),a.jsxs("button",{onClick:()=>{f({firstName:(null==t?void 0:t.firstName)||"",lastName:(null==t?void 0:t.lastName)||"",phone:(null==t?void 0:t.phone)||""}),d(!1)},disabled:y,className:"flex items-center space-x-2 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(i,{className:"w-4 h-4"}),a.jsx("span",{children:"İptal"})]})]})]})]})}),a.jsxs("div",{children:[a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center mb-6",children:[a.jsx(g,{className:"w-5 h-5 mr-2 text-green-600"}),"Güvenlik"]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("button",{onClick:()=>u(!m),className:"w-full flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(le,{className:"w-5 h-5 text-gray-600"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Şifre Değiştir"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Hesap şifrenizi güncelleyin"})]})]}),a.jsx(Y,{className:"w-4 h-4 text-gray-400"})]})})]}),a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Hesap Bilgileri"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Hesap Türü:"}),a.jsx("span",{className:"font-medium",children:"Müşteri"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Üyelik Tarihi:"}),a.jsx("span",{className:"font-medium",children:(null==t?void 0:t.createdAt)?new Date(t.createdAt).toLocaleDateString("tr-TR"):"Bilinmiyor"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Durum:"}),a.jsx("span",{className:"font-medium text-green-600",children:"Aktif"})]})]})]})]})]}),m&&a.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Şifre Değiştir"}),a.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mevcut Şifre *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:h.current?"text":"password",value:b.currentPassword,onChange:e=>v(t=>({...t,currentPassword:e.target.value})),className:"w-full pr-10 px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mevcut şifrenizi girin"}),a.jsx("button",{type:"button",onClick:()=>w("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h.current?a.jsx(ie,{className:"w-5 h-5"}):a.jsx(se,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni Şifre *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:h.new?"text":"password",value:b.newPassword,onChange:e=>v(t=>({...t,newPassword:e.target.value})),className:"w-full pr-10 px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Yeni şifrenizi girin"}),a.jsx("button",{type:"button",onClick:()=>w("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h.new?a.jsx(ie,{className:"w-5 h-5"}):a.jsx(se,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yeni Şifre Tekrar *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:h.confirm?"text":"password",value:b.confirmPassword,onChange:e=>v(t=>({...t,confirmPassword:e.target.value})),className:"w-full pr-10 px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Yeni şifrenizi tekrar girin"}),a.jsx("button",{type:"button",onClick:()=>w("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h.confirm?a.jsx(ie,{className:"w-5 h-5"}):a.jsx(se,{className:"w-5 h-5"})})]})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:async()=>{if(b.currentPassword&&b.newPassword&&b.confirmPassword)if(b.newPassword===b.confirmPassword)if(b.newPassword.length<6)Os.error("Yeni şifre en az 6 karakter olmalıdır");else try{N(!0);const t=Et.credential(e.email,b.currentPassword);await Dt(e,t),await Mt(e,b.newPassword),v({currentPassword:"",newPassword:"",confirmPassword:""}),u(!1),Os.success("Şifre başarıyla değiştirildi")}catch(t){console.error("Şifre değiştirme hatası:",t),"auth/wrong-password"===t.code?Os.error("Mevcut şifre yanlış"):Os.error("Şifre değiştirilirken bir hata oluştu")}finally{N(!1)}else Os.error("Yeni şifreler eşleşmiyor");else Os.error("Tüm şifre alanları zorunludur")},disabled:y,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:y?"Değiştiriliyor...":"Şifre Değiştir"}),a.jsx("button",{onClick:()=>u(!1),disabled:y,className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"})]})]})})]})]})},ei=()=>{var e,t;const s=He(),r=_e(),{login:n,signInWithGoogle:i}=pr(),[o,c]=ze.useState({email:"",password:""}),[d,m]=ze.useState(!1),[u,h]=ze.useState(!1),[p,x]=ze.useState(!1),[g,f]=ze.useState({});null==(t=null==(e=r.state)?void 0:e.from)||t.pathname;const b=e=>{if(e)switch(e.role){case cr:s("/admin",{replace:!0});break;case dr:s("/driver",{replace:!0});break;default:s("/",{replace:!0})}else s("/",{replace:!0})},v=(e,t)=>{c(s=>({...s,[e]:t})),g[e]&&f(t=>({...t,[e]:""}))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 flex items-center justify-center relative overflow-hidden py-4 px-4",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/30 to-purple-600/30"})}),a.jsx("div",{className:"absolute inset-0 hidden lg:block",children:[...Array(6)].map((e,t)=>a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-20 animate-pulse",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:3*Math.random()+"s"}},t))}),a.jsxs("div",{className:"w-full max-w-sm sm:max-w-md relative z-10",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8 animate-fade-in",children:[a.jsx("div",{className:"mb-6 sm:mb-8 flex justify-center",children:a.jsx(Qr,{isScrolled:!1,location:{pathname:"/giriş"},size:"normal"})}),a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Hoş Geldiniz! 👋"}),a.jsx("p",{className:"text-gray-300 text-sm sm:text-base lg:text-lg",children:"Hesabınıza giriş yaparak devam edin"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl sm:rounded-3xl shadow-2xl border border-white/20 p-6 sm:p-8",children:[a.jsxs("button",{onClick:async()=>{x(!0);try{const{user:e,profile:t}=await i();Os.success("Google ile başarıyla giriş yaptınız!",{icon:"🎉",duration:3e3}),b(t)}catch(e){console.error("Google sign-in error:",e);let t="Google ile giriş yapılırken bir hata oluştu";"auth/popup-closed-by-user"===e.code?t="Giriş penceresi kapatıldı. Lütfen tekrar deneyin.":"auth/popup-blocked"===e.code?t="Pop-up engellendi. Lütfen pop-up engelleyiciyi devre dışı bırakın.":"auth/account-exists-with-different-credential"===e.code&&(t="Bu e-posta adresi zaten farklı bir yöntemle kayıtlı."),Os.error(t),f({general:t})}finally{x(!1)}},disabled:p||u,className:"w-full mb-4 sm:mb-6 flex items-center justify-center space-x-2 sm:space-x-3 py-3 sm:py-3.5 px-4 sm:px-6 bg-white/15 hover:bg-white/25 border border-white/25 rounded-xl sm:rounded-2xl text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group backdrop-blur-sm text-sm sm:text-base",children:[p?a.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):a.jsx(oe,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-300 group-hover:scale-110 transition-transform"}),a.jsx("span",{children:p?"Bağlanılıyor...":"Google ile Devam Et"})]}),a.jsxs("div",{className:"relative my-4 sm:my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-white/20"})}),a.jsx("div",{className:"relative flex justify-center text-xs sm:text-sm",children:a.jsx("span",{className:"px-3 sm:px-4 bg-white/10 backdrop-blur-sm text-gray-300 font-medium rounded-lg",children:"veya e-posta ile"})})]}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(e.email="Geçerli bir e-posta adresi girin"):e.email="E-posta adresi gerekli",o.password||(e.password="Şifre gerekli"),f(e),0===Object.keys(e).length})()){h(!0);try{const{user:e,profile:t}=await n(o.email,o.password);Os.success("Başarıyla giriş yaptınız!"),b(t)}catch(t){console.error("Login error:",t);let e="Giriş yapılırken bir hata oluştu";"auth/user-not-found"===t.code?e="Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı":"auth/wrong-password"===t.code?e="Hatalı şifre":"auth/invalid-credential"===t.code?e="Geçersiz giriş bilgileri":"auth/invalid-email"===t.code?e="Geçersiz e-posta adresi":"auth/too-many-requests"===t.code&&(e="Çok fazla başarısız deneme. Lütfen daha sonra tekrar deneyin"),Os.error(e),f({general:e})}finally{h(!1)}}},className:"space-y-4 sm:space-y-5",children:[g.general&&a.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-lg sm:rounded-xl p-3 sm:p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 bg-red-400/30 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-red-400 rounded-full"})}),a.jsx("p",{className:"text-red-200 text-xs sm:text-sm font-medium",children:g.general})]})}),a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[a.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-white",children:"E-posta Adresi"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"email",value:o.email,onChange:e=>v("email",e.target.value),placeholder:"ornek@email.com",disabled:u||p,className:"w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 sm:py-3.5 bg-white/10 border-2 border-white/20 rounded-xl sm:rounded-2xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-white placeholder-gray-300 backdrop-blur-sm text-sm sm:text-base "+(g.email?"border-red-400/50 bg-red-500/10":"hover:border-white/30 focus:bg-white/15")}),a.jsx(l,{className:"absolute left-3 sm:left-4 top-3 sm:top-3.5 w-4 h-4 sm:w-5 sm:h-5 transition-colors "+(g.email?"text-red-400":"text-gray-300")})]}),g.email&&a.jsxs("p",{className:"text-red-300 text-xs sm:text-sm flex items-center space-x-1",children:[a.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),a.jsx("span",{children:g.email})]})]}),a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[a.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-white",children:"Şifre"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:d?"text":"password",value:o.password,onChange:e=>v("password",e.target.value),placeholder:"••••••••",disabled:u||p,className:"w-full pl-10 sm:pl-12 pr-10 sm:pr-12 py-3 sm:py-3.5 bg-white/10 border-2 border-white/20 rounded-xl sm:rounded-2xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-white placeholder-gray-300 backdrop-blur-sm text-sm sm:text-base "+(g.password?"border-red-400/50 bg-red-500/10":"hover:border-white/30 focus:bg-white/15")}),a.jsx(Y,{className:"absolute left-3 sm:left-4 top-3 sm:top-3.5 w-4 h-4 sm:w-5 sm:h-5 transition-colors "+(g.password?"text-red-400":"text-gray-300")}),a.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 sm:right-4 top-3 sm:top-3.5 text-gray-300 hover:text-white transition-colors",children:d?a.jsx(ie,{className:"w-4 h-4 sm:w-5 sm:h-5"}):a.jsx(se,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),g.password&&a.jsxs("p",{className:"text-red-300 text-xs sm:text-sm flex items-center space-x-1",children:[a.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),a.jsx("span",{children:g.password})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-1 sm:pt-2",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600 border-2 border-white/30 rounded focus:ring-blue-500 focus:ring-2 bg-white/10"}),a.jsx("span",{className:"text-xs sm:text-sm text-gray-300 group-hover:text-white transition-colors",children:"Beni hatırla"})]}),a.jsx(Re,{to:"/şifre-sıfırla",className:"text-xs sm:text-sm text-blue-300 hover:text-blue-200 font-medium hover:underline transition-colors",children:"Şifremi unuttum"})]}),a.jsx("button",{type:"submit",disabled:u||p,className:"w-full mt-5 sm:mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 sm:py-3.5 px-4 sm:px-6 rounded-xl sm:rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl text-sm sm:text-base",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{children:"Giriş yapılıyor..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Giriş Yap"}),a.jsx(A,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})})]}),a.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:a.jsxs("p",{className:"text-gray-300 text-xs sm:text-sm",children:["Hesabınız yok mu?"," ",a.jsx(Re,{to:"/kayıt",className:"text-blue-300 hover:text-blue-200 font-semibold hover:underline transition-colors",children:"Kayıt olun"})]})})]}),a.jsx("div",{className:"text-center mt-6 sm:mt-8",children:a.jsxs(Re,{to:"/",className:"inline-flex items-center space-x-2 text-gray-400 hover:text-gray-300 transition-colors group text-xs sm:text-sm",children:[a.jsx(A,{className:"w-3 h-3 sm:w-4 sm:h-4 rotate-180 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{children:"Ana sayfaya dön"})]})})]})]})},ti=()=>{const e=He(),{register:t,signInWithGoogle:s}=pr(),[r,i]=ze.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",role:mr}),[o,d]=ze.useState(!1),[m,u]=ze.useState(!1),[h,p]=ze.useState(!1),[x,f]=ze.useState(!1),[b,v]=ze.useState({}),y=(e,t)=>{i(s=>({...s,[e]:t})),b[e]&&v(t=>({...t,[e]:""}))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-lg",children:[a.jsxs(j.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[a.jsxs(Re,{to:"/",className:"inline-flex items-center space-x-3 mb-8 group",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:a.jsx(w,{className:"w-8 h-8 text-white"})}),a.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"SBS Transfer"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Hesap Oluşturun 🚀"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Hemen kayıt olun ve avantajları keşfedin"})]})]}),a.jsxs(j.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8",children:[a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{f(!0);try{await s(),Os.success("Google ile başarıyla kayıt oldunuz! 🎉",{duration:3e3}),e("/")}catch(t){console.error("Google sign-in error:",t);let e="Google ile kayıt olurken bir hata oluştu";"auth/popup-closed-by-user"===t.code?e="Kayıt penceresi kapatıldı. Lütfen tekrar deneyin.":"auth/popup-blocked"===t.code?e="Pop-up engellendi. Lütfen pop-up engelleyiciyi devre dışı bırakın.":"auth/account-exists-with-different-credential"===t.code&&(e="Bu e-posta adresi zaten farklı bir yöntemle kayıtlı."),Os.error(e),v({general:e})}finally{f(!1)}},disabled:x||h,className:"w-full mb-6 flex items-center justify-center space-x-3 py-4 px-6 border-2 border-gray-200 rounded-2xl text-gray-700 font-medium hover:bg-gray-50 hover:border-gray-300 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group",children:[x?a.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"}):a.jsx(oe,{className:"w-5 h-5 text-blue-600 group-hover:scale-110 transition-transform"}),a.jsx("span",{children:x?"Google ile bağlanılıyor...":"Google ile Kayıt Ol"}),a.jsx(ce,{className:"w-4 h-4 text-yellow-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-200"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"veya e-posta ile"})})]}),a.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const e={};return r.firstName.trim()?r.firstName.trim().length<2&&(e.firstName="Ad en az 2 karakter olmalıdır"):e.firstName="Ad alanı zorunludur",r.lastName.trim()?r.lastName.trim().length<2&&(e.lastName="Soyad en az 2 karakter olmalıdır"):e.lastName="Soyad alanı zorunludur",r.email?/\S+@\S+\.\S+/.test(r.email)||(e.email="Geçerli bir e-posta adresi girin"):e.email="E-posta adresi gerekli",r.phone.trim()?/^(\+90|0)?[0-9]{10}$/.test(r.phone.replace(/\s/g,""))||(e.phone="Geçerli bir telefon numarası girin"):e.phone="Telefon numarası gerekli",r.password?r.password.length<6&&(e.password="Şifre en az 6 karakter olmalıdır"):e.password="Şifre gerekli",r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Şifreler eşleşmiyor"):e.confirmPassword="Şifre tekrarı gerekli",v(e),0===Object.keys(e).length})()){p(!0);try{await t(r.email,r.password,{firstName:r.firstName.trim(),lastName:r.lastName.trim(),phone:r.phone.trim(),role:r.role}),Os.success("Hesabınız başarıyla oluşturuldu! 🎉",{duration:4e3}),e("/giriş")}catch(a){console.error("Register error:",a);let e="Kayıt olurken bir hata oluştu";"auth/email-already-in-use"===a.code?e="Bu e-posta adresi zaten kullanımda":"auth/weak-password"===a.code?e="Şifre çok zayıf. Daha güçlü bir şifre seçin":"auth/invalid-email"===a.code&&(e="Geçersiz e-posta adresi"),Os.error(e),v({general:e})}finally{p(!1)}}},className:"space-y-5",children:[b.general&&a.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:b.general})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Ad"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:r.firstName,onChange:e=>y("firstName",e.target.value),placeholder:"Adınız",disabled:h||x,className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 "+(b.firstName?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300")}),a.jsx(c,{className:"absolute left-3 top-3 w-4 h-4 transition-colors "+(b.firstName?"text-red-400":"text-gray-400")})]}),b.firstName&&a.jsx(j.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-xs",children:b.firstName})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Soyad"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:r.lastName,onChange:e=>y("lastName",e.target.value),placeholder:"Soyadınız",disabled:h||x,className:"w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 "+(b.lastName?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300")}),a.jsx(c,{className:"absolute left-3 top-3 w-4 h-4 transition-colors "+(b.lastName?"text-red-400":"text-gray-400")})]}),b.lastName&&a.jsx(j.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-xs",children:b.lastName})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"E-posta Adresi"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"email",value:r.email,onChange:e=>y("email",e.target.value),placeholder:"ornek@email.com",disabled:h||x,className:"w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 "+(b.email?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300")}),a.jsx(l,{className:"absolute left-4 top-4 w-5 h-5 transition-colors "+(b.email?"text-red-400":"text-gray-400")})]}),b.email&&a.jsx(j.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm",children:b.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Telefon Numarası"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"tel",value:r.phone,onChange:e=>y("phone",e.target.value),placeholder:"555 123 4567",disabled:h||x,className:"w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 "+(b.phone?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300")}),a.jsx(n,{className:"absolute left-4 top-4 w-5 h-5 transition-colors "+(b.phone?"text-red-400":"text-gray-400")})]}),b.phone&&a.jsx(j.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm",children:b.phone})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Şifre"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:o?"text":"password",value:r.password,onChange:e=>y("password",e.target.value),placeholder:"••••••••",disabled:h||x,className:"w-full pl-12 pr-12 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 "+(b.password?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300")}),a.jsx(Y,{className:"absolute left-4 top-4 w-5 h-5 transition-colors "+(b.password?"text-red-400":"text-gray-400")}),a.jsx("button",{type:"button",onClick:()=>d(!o),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors",children:o?a.jsx(ie,{className:"w-5 h-5"}):a.jsx(se,{className:"w-5 h-5"})})]}),b.password&&a.jsx(j.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm",children:b.password})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Şifre Tekrar"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:m?"text":"password",value:r.confirmPassword,onChange:e=>y("confirmPassword",e.target.value),placeholder:"••••••••",disabled:h||x,className:"w-full pl-12 pr-12 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 "+(b.confirmPassword?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300")}),a.jsx(Y,{className:"absolute left-4 top-4 w-5 h-5 transition-colors "+(b.confirmPassword?"text-red-400":"text-gray-400")}),a.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors",children:m?a.jsx(ie,{className:"w-5 h-5"}):a.jsx(se,{className:"w-5 h-5"})})]}),b.confirmPassword&&a.jsx(j.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm",children:b.confirmPassword})]})]}),a.jsx(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:h||x,className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{children:"Hesap oluşturuluyor..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(de,{className:"w-5 h-5"}),a.jsx("span",{children:"Hesap Oluştur"})]})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Zaten hesabınız var mı?"," ",a.jsx(Re,{to:"/giriş",className:"text-blue-600 hover:text-blue-700 font-semibold hover:underline transition-colors",children:"Giriş yapın"})]})}),a.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(g,{className:"w-5 h-5 text-green-600"}),a.jsx("h4",{className:"text-sm font-semibold text-green-800",children:"Otomatik Üyelik"})]}),a.jsxs("div",{className:"space-y-2 text-xs text-green-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(R,{className:"w-3 h-3 text-green-600"}),a.jsx("span",{children:"Rezervasyon sonrası otomatik hesap oluşturulur"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(R,{className:"w-3 h-3 text-green-600"}),a.jsx("span",{children:"Google ile hızlı kayıt imkanı"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(R,{className:"w-3 h-3 text-green-600"}),a.jsx("span",{children:"Güvenli ve kolay profil yönetimi"})]})]})]})]}),a.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center mt-8",children:a.jsxs(Re,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors group",children:[a.jsx(A,{className:"w-4 h-4 rotate-180 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{children:"Ana sayfaya dön"})]})})]})})},si=()=>{He();const{resetPassword:e}=pr(),[t,s]=ze.useState(""),[r,n]=ze.useState(!1),[i,o]=ze.useState(!1),[c,d]=ze.useState({});return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(R,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"E-posta Gönderildi! ✅"}),a.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed",children:[a.jsx("strong",{children:t})," adresine şifre sıfırlama bağlantısı gönderdik. E-postanızı kontrol edin ve talimatları takip edin."]}),a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(g,{className:"w-4 h-4 text-amber-600"}),a.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Önemli Notlar"})]}),a.jsxs("ul",{className:"text-xs text-amber-700 space-y-1 text-left",children:[a.jsx("li",{children:"• E-posta birkaç dakika içinde gelebilir"}),a.jsx("li",{children:"• Spam klasörünü kontrol etmeyi unutmayın"}),a.jsx("li",{children:"• Bağlantı 1 saat boyunca geçerlidir"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-2xl font-medium hover:bg-blue-700 transition-colors",children:"Tekrar Gönder"}),a.jsx(Re,{to:"/giriş",className:"w-full block text-center py-3 px-6 border border-gray-200 rounded-2xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Giriş Sayfasına Dön"})]})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs(j.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[a.jsxs(Re,{to:"/",className:"inline-flex items-center space-x-3 mb-8 group",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:a.jsx(w,{className:"w-8 h-8 text-white"})}),a.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"SBS Transfer"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Şifrenizi mi Unuttunuz? 🔑"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"E-posta adresinizi girin, size yardım edelim"})]})]}),a.jsxs(j.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 p-8",children:[a.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const e={};return t?/\S+@\S+\.\S+/.test(t)||(e.email="Geçerli bir e-posta adresi girin"):e.email="E-posta adresi gerekli",d(e),0===Object.keys(e).length})()){n(!0);try{await e(t),o(!0),Os.success("Şifre sıfırlama e-postası gönderildi! 📧",{duration:4e3})}catch(r){console.error("Reset password error:",r);let e="Şifre sıfırlama e-postası gönderilirken hata oluştu";"auth/user-not-found"===r.code?e="Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı":"auth/invalid-email"===r.code?e="Geçersiz e-posta adresi":"auth/too-many-requests"===r.code&&(e="Çok fazla istek gönderildi. Lütfen daha sonra tekrar deneyin"),Os.error(e),d({general:e})}finally{n(!1)}}},className:"space-y-6",children:[c.general&&a.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 border border-red-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:c.general})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"E-posta Adresi"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"email",value:t,onChange:e=>{return t=e.target.value,s(t),void(c.email&&d(e=>({...e,email:""})));var t},placeholder:"Kayıtlı e-posta adresinizi girin",disabled:r,className:"w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-gray-900 placeholder-gray-400 "+(c.email?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300 focus:border-blue-300")}),a.jsx(l,{className:"absolute left-4 top-4 w-5 h-5 transition-colors "+(c.email?"text-red-400":"text-gray-400")})]}),c.email&&a.jsxs(j.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-600 text-sm flex items-center space-x-1",children:[a.jsx("div",{className:"w-1 h-1 bg-red-500 rounded-full"}),a.jsx("span",{children:c.email})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(g,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Nasıl Çalışır?"})]}),a.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[a.jsx("li",{children:"• E-posta adresinizi girin"}),a.jsx("li",{children:"• Size şifre sıfırlama bağlantısı göndereceğiz"}),a.jsx("li",{children:"• Bağlantıya tıklayarak yeni şifre oluşturun"}),a.jsx("li",{children:"• Hesabınıza tekrar erişim sağlayın"})]})]}),a.jsx(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 shadow-lg hover:shadow-xl",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{children:"Gönderiliyor..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Şifre Sıfırlama E-postası Gönder"}),a.jsx(A,{className:"w-5 h-5"})]})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs(Re,{to:"/giriş",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors group",children:[a.jsx(K,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{children:"Giriş sayfasına dön"})]})})]})]})})},ri=()=>{const{state:e}=qr(),{reservations:t,vehicles:s,drivers:r,customers:n}=e,[l,i]=ze.useState({totalReservations:0,todayReservations:0,totalRevenue:0,activeDrivers:0,pendingReservations:0,completedReservations:0,monthlyGrowth:0,customerSatisfaction:0});ze.useEffect(()=>{const e=(new Date).toDateString(),s=t.filter(t=>{var s;return new Date(null==(s=t.tripDetails)?void 0:s.date).toDateString()===e}).length,a=t.filter(e=>"pending"===e.status).length,n=t.filter(e=>"completed"===e.status).length,l=t.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.totalPrice||0),0),o=r.filter(e=>"active"===e.status).length,c=t.length>0?Math.round(n/t.length*100):0,d=n>0?Math.min(95,85+Math.round(n/10)):0;i({totalReservations:t.length,todayReservations:s,totalRevenue:l,activeDrivers:o,pendingReservations:a,completedReservations:n,monthlyGrowth:c,customerSatisfaction:d})},[t,r]);const o=[{title:"Toplam Rezervasyon",value:l.totalReservations,icon:d,color:"blue"},{title:"Bugünkü Rezervasyonlar",value:l.todayReservations,icon:T,color:"green"},{title:"Bekleyen Rezervasyonlar",value:l.pendingReservations,icon:me,color:"yellow"},{title:"Tamamlanan Rezervasyon",value:l.completedReservations,icon:R,color:"emerald"},{title:"Araçlar",value:s.length,icon:w,color:"purple"},{title:"Müşteriler",value:n.length,icon:k,color:"indigo"},{title:"Şoförler",value:r.length,icon:k,color:"orange"}],c=e=>{switch(e){case"blue":return"bg-blue-500 text-blue-100";case"orange":return"bg-orange-500 text-orange-100";case"green":return"bg-green-500 text-green-100";case"purple":return"bg-purple-500 text-purple-100";case"yellow":return"bg-yellow-500 text-yellow-100";case"emerald":return"bg-emerald-500 text-emerald-100";case"indigo":return"bg-indigo-500 text-indigo-100";default:return"bg-gray-500 text-gray-100"}};return a.jsxs("div",{className:"space-y-8 p-6 lg:p-8",children:[a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-3xl p-8 text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/90 via-indigo-600/90 to-purple-600/90 backdrop-blur-sm"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Hoş Geldiniz! 👋"}),a.jsx("p",{className:"text-blue-100 text-lg",children:"SBS Transfer Platform Yönetim Paneli"})]}),a.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-white/10 rounded-full blur-2xl"})]}),a.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map((e,t)=>a.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*t},whileHover:{y:-8,transition:{duration:.2}},className:"bg-white/80 backdrop-blur-lg rounded-3xl p-6 shadow-xl border border-white/50 hover:shadow-2xl transition-all duration-300 group",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${c(e.color)} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:a.jsx(e.icon,{className:"w-7 h-7"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.value}),a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:e.title})]})]},e.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/50 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200/50",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Son Rezervasyonlar"})}),a.jsx("div",{className:"p-6",children:0===t.length?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(d,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"Henüz rezervasyon yok"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Yeni rezervasyonlar burada görünecektir"})]}):a.jsx("div",{className:"space-y-4",children:t.slice(0,5).map(e=>{var t,s,r;return a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl border border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full shadow-lg"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-gray-900",children:e.reservationId||`RES-${null==(t=e.id)?void 0:t.slice(-6)}`}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[null==(s=e.customerInfo)?void 0:s.firstName," ",null==(r=e.customerInfo)?void 0:r.lastName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["₺",e.totalPrice||0]}),a.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-bold rounded-full mt-1 "+("completed"===e.status?"bg-emerald-100 text-emerald-600":"pending"===e.status?"bg-yellow-100 text-yellow-600":"assigned"===e.status?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"),children:"completed"===e.status?"Tamamlandı":"pending"===e.status?"Bekleyen":"assigned"===e.status?"Atandı":"Bilinmeyen"})]})]},e.id)})})})]}),a.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-white/50 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200/50",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Hızlı İşlemler"})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(j.div,{whileHover:{scale:1.05,y:-2},className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-2xl text-center border border-orange-200",children:[a.jsx(me,{className:"w-10 h-10 text-orange-500 mx-auto mb-3"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 mb-1",children:"Bekleyen"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:l.pendingReservations})]}),a.jsxs(j.div,{whileHover:{scale:1.05,y:-2},className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-6 rounded-2xl text-center border border-emerald-200",children:[a.jsx(R,{className:"w-10 h-10 text-emerald-500 mx-auto mb-3"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 mb-1",children:"Tamamlanan"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:l.completedReservations})]}),a.jsxs(j.div,{whileHover:{scale:1.05,y:-2},className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl text-center border border-purple-200",children:[a.jsx(w,{className:"w-10 h-10 text-purple-500 mx-auto mb-3"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 mb-1",children:"Araçlar"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:s.length})]}),a.jsxs(j.div,{whileHover:{scale:1.05,y:-2},className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-2xl text-center border border-indigo-200",children:[a.jsx(k,{className:"w-10 h-10 text-indigo-500 mx-auto mb-3"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 mb-1",children:"Müşteriler"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:n.length})]})]})})]})]})]})},ai=()=>{const{state:e,addVehicle:t,updateVehicle:s,deleteVehicle:r}=qr(),{vehicles:n=[]}=e,[l,o]=ze.useState(!1),[c,d]=ze.useState(null),[m,u]=ze.useState(""),[h,p]=ze.useState(!1),[x,g]=ze.useState({brand:"",model:"",year:(new Date).getFullYear(),plateNumber:"",capacity:"",kmRate:"",color:"",status:"active",fuelType:"benzin",transmission:"otomatik"}),f=()=>{g({brand:"",model:"",year:(new Date).getFullYear(),plateNumber:"",capacity:"",kmRate:"",color:"",status:"active",fuelType:"benzin",transmission:"otomatik"})},b=(e,t)=>{g(s=>({...s,[e]:t}))},v=()=>{o(!1),d(null),f()},N=n.filter(e=>{if(!m)return!0;const t=m.toLowerCase();return(e.brand||"").toLowerCase().includes(t)||(e.model||"").toLowerCase().includes(t)||(e.plateNumber||"").toLowerCase().includes(t)}),C=[{value:"active",label:"Aktif",color:"text-green-600 bg-green-100"},{value:"maintenance",label:"Bakımda",color:"text-yellow-600 bg-yellow-100"},{value:"inactive",label:"Pasif",color:"text-red-600 bg-red-100"}];return a.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[a.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{d(null),f(),o(!0)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[a.jsx(V,{className:"w-5 h-5"}),"Yeni Araç Ekle"]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(te,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Marka, model veya plaka ile ara...",value:m,onChange:e=>u(e.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.jsx(y,{children:N.map((e,t)=>{const s=C.find(t=>t.value===e.status);return a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*t},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:a.jsx(w,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[e.brand," ",e.model]}),a.jsx("p",{className:"text-sm text-gray-500",children:e.year})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(null==s?void 0:s.color)||"text-gray-600 bg-gray-100"}`,children:(null==s?void 0:s.label)||"Bilinmiyor"})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Plaka"}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.plateNumber})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Kapasite"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(k,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[e.capacity," kişi"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"KM Ücreti"}),a.jsxs("span",{className:"font-semibold text-gray-900",children:["₺",e.kmRate,"/km"]})]}),e.color&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Renk"}),a.jsx("span",{className:"font-semibold text-gray-900",children:e.color})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(e=>{d(e),g({brand:e.brand||"",model:e.model||"",year:e.year||(new Date).getFullYear(),plateNumber:e.plateNumber||"",capacity:e.capacity||"",kmRate:e.kmRate||"",color:e.color||"",status:e.status||"active",fuelType:e.fuelType||"benzin",transmission:e.transmission||"otomatik"}),o(!0)})(e),className:"flex-1 bg-blue-50 hover:bg-blue-100 text-blue-600 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[a.jsx(ue,{className:"w-4 h-4"}),a.jsx("span",{children:"Düzenle"})]}),a.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(async e=>{if(window.confirm("Bu aracı silmek istediğinizden emin misiniz?"))try{await r(e),Os.success("Araç başarıyla silindi!")}catch(t){console.error("Delete error:",t),Os.error("Araç silinirken hata oluştu")}})(e.id),className:"flex-1 bg-red-50 hover:bg-red-100 text-red-600 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[a.jsx(he,{className:"w-4 h-4"}),a.jsx("span",{children:"Sil"})]})]})]},e.id)})})}),0===N.length&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(w,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:m?"Araç bulunamadı":"Henüz araç eklenmemiş"}),a.jsx("p",{className:"text-gray-500 mb-6",children:m?"Arama kriterlerinizi değiştirerek tekrar deneyin":"İlk aracınızı ekleyerek başlayın"}),!m&&a.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"İlk Aracı Ekle"})]})]}),a.jsx(y,{children:l&&a.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:v,children:a.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Araç Düzenle":"Yeni Araç Ekle"}),a.jsx("button",{onClick:v,className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors",children:a.jsx(i,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault();const r=(()=>{const e={};return x.brand.trim()||(e.brand="Marka gerekli"),x.model.trim()||(e.model="Model gerekli"),x.plateNumber.trim()||(e.plateNumber="Plaka gerekli"),(!x.capacity||x.capacity<1)&&(e.capacity="Geçerli kapasite gerekli"),(!x.kmRate||x.kmRate<0)&&(e.kmRate="KM başı ücret gerekli"),e})();if(Object.keys(r).length>0)Object.values(r).forEach(e=>Os.error(e));else{p(!0);try{const e={...x,capacity:parseInt(x.capacity),kmRate:parseFloat(x.kmRate),year:parseInt(x.year),createdAt:c?c.createdAt:new Date,updatedAt:new Date};c?(await s(c.id,e),Os.success("Araç başarıyla güncellendi!")):(await t(e),Os.success("Araç başarıyla eklendi!")),v()}catch(a){console.error("Vehicle operation error:",a),Os.error("İşlem sırasında bir hata oluştu")}finally{p(!1)}}},className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Marka *"}),a.jsx("input",{type:"text",value:x.brand,onChange:e=>b("brand",e.target.value),placeholder:"Örn: Mercedes",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model *"}),a.jsx("input",{type:"text",value:x.model,onChange:e=>b("model",e.target.value),placeholder:"Örn: Vito",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Yıl"}),a.jsx("input",{type:"number",value:x.year,onChange:e=>b("year",e.target.value),min:"1990",max:(new Date).getFullYear()+1,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Plaka *"}),a.jsx("input",{type:"text",value:x.plateNumber,onChange:e=>b("plateNumber",e.target.value.toUpperCase()),placeholder:"Örn: 34 ABC 123",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Kapasite *"}),a.jsx("input",{type:"number",value:x.capacity,onChange:e=>b("capacity",e.target.value),placeholder:"Örn: 8",min:"1",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"KM Başı Ücret (₺) *"}),a.jsx("input",{type:"number",step:"0.01",value:x.kmRate,onChange:e=>b("kmRate",e.target.value),placeholder:"Örn: 12.50",min:"0",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Renk"}),a.jsx("input",{type:"text",value:x.color,onChange:e=>b("color",e.target.value),placeholder:"Örn: Beyaz",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Durum"}),a.jsx("select",{value:x.status,onChange:e=>b("status",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:C.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Yakıt Türü"}),a.jsxs("select",{value:x.fuelType,onChange:e=>b("fuelType",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[a.jsx("option",{value:"benzin",children:"Benzin"}),a.jsx("option",{value:"dizel",children:"Dizel"}),a.jsx("option",{value:"lpg",children:"LPG"}),a.jsx("option",{value:"elektrik",children:"Elektrik"}),a.jsx("option",{value:"hibrit",children:"Hibrit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Vites Türü"}),a.jsxs("select",{value:x.transmission,onChange:e=>b("transmission",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[a.jsx("option",{value:"otomatik",children:"Otomatik"}),a.jsx("option",{value:"manuel",children:"Manuel"})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-gray-200",children:a.jsx(j.button,{type:"submit",disabled:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center space-x-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"İşleniyor..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(R,{className:"w-5 h-5"}),a.jsx("span",{children:c?"Güncelle":"Araç Ekle"})]})})})]})]})})})]})},ni=({vehicles:e,onShowDetails:t,onEditVehicle:s,onDeleteVehicle:r,onStatusChange:n,onManageFeatures:l})=>{const[i,o]=ze.useState(null),[c,d]=ze.useState(null),m=e=>{const t={active:{color:"bg-green-100 text-green-800",icon:R,text:"Aktif"},inactive:{color:"bg-red-100 text-red-800",icon:xe,text:"Pasif"},maintenance:{color:"bg-yellow-100 text-yellow-800",icon:F,text:"Bakımda"}},s=t[e]||t.inactive,r=s.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${s.color}`,children:[a.jsx(r,{className:"w-3 h-3"}),s.text]})},u=async(e,t)=>{await n(e,t)&&o(null)};return 0===e.length?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[a.jsx(w,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henüz araç yok"}),a.jsx("p",{className:"text-gray-600",children:"İlk aracınızı ekleyerek başlayın."})]}):a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Araç Bilgileri"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kapasite"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KM Ücreti"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Özellikler"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var n,h;return a.jsxs(j.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:a.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-100 flex items-center justify-center text-2xl",children:e.imageUrl?a.jsx("img",{src:e.imageUrl,alt:`${e.brand} ${e.model}`,className:"h-12 w-12 rounded-lg object-cover"}):(h=e.type,{sedan:"🚗",suv:"🚙",minibus:"🚐",midibus:"🚌",bus:"🚍",vip:"🏎️"}[h]||"🚗")})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.brand," ",e.model]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[e.year," • ",e.plateNumber]}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[e.color," • ",e.fuelType]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx(k,{className:"w-4 h-4 text-gray-400 mr-1"}),e.capacity," Kişi"]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["₺",(null==(n=e.kmRate)?void 0:n.toFixed(2))||"0.00"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"per km"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m(e.status)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.features&&e.features.length>0?e.features.slice(0,3).map((e,t)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e},t)):a.jsx("span",{className:"text-xs text-gray-400",children:"Özellik yok"}),e.features&&e.features.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.features.length-3," daha"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>t(e),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",title:"Detayları Görüntüle",children:a.jsx(se,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s(e),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded",title:"Düzenle",children:a.jsx(ue,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>l(e),className:"text-purple-600 hover:text-purple-900 p-1 hover:bg-purple-50 rounded",title:"Özellikleri Yönet",children:a.jsx(P,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>o(i===e.id?null:e.id),className:"text-gray-600 hover:text-gray-900 p-1 hover:bg-gray-50 rounded",title:"Daha Fazla",children:a.jsx(pe,{className:"w-4 h-4"})}),i===e.id&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{onClick:()=>u(e.id,"active"===e.status?"inactive":"active"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"active"===e.status?"Pasif Et":"Aktif Et"}),a.jsx("button",{onClick:()=>u(e.id,"maintenance"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Bakıma Al"}),a.jsx("button",{onClick:()=>(async e=>{window.confirm("Bu aracı silmek istediğinizden emin misiniz?")&&(d(e),await r(e)&&d(null))})(e.id),disabled:c===e.id,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 disabled:opacity-50",children:c===e.id?"Siliniyor...":"Sil"})]})})]})]})})]},e.id)})})]})})})},li=({vehicles:e,onShowDetails:t,onEditVehicle:s,onDeleteVehicle:r,onStatusChange:n,onManageFeatures:l})=>{const[i,o]=ze.useState(null);return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4",children:e.map(e=>a.jsxs(j.div,{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-100 rounded-2xl shadow-xl border border-slate-200 flex flex-col overflow-hidden hover:shadow-2xl transition-all duration-300",whileHover:{scale:1.02,y:-2},children:[a.jsx("div",{className:"h-40 bg-gradient-to-br from-blue-600/10 via-indigo-600/10 to-purple-600/10 flex items-center justify-center",children:a.jsx(w,{className:"w-16 h-16 text-blue-500/80 drop-shadow-lg"})}),a.jsxs("div",{className:"flex-1 flex flex-col p-5 space-y-2",children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:a.jsxs("h3",{className:"text-lg font-bold text-slate-800 truncate",children:[e.brand," ",e.model]})}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500",children:[a.jsx("span",{className:"font-semibold text-blue-600",children:e.plate}),a.jsx("span",{children:"•"}),a.jsx("span",{className:"capitalize",children:e.type})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-slate-400",children:[a.jsx("span",{children:"Kapasite:"}),a.jsx("span",{className:"font-semibold text-slate-700",children:e.capacity})]}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"flex space-x-2 mt-3",children:[a.jsx("button",{onClick:()=>s(e),className:"flex-1 px-3 py-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all text-sm font-semibold shadow-lg",children:"Düzenle"}),a.jsx("button",{onClick:()=>r(e),className:"flex-1 px-3 py-2 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl hover:from-red-600 hover:to-pink-600 transition-all text-sm font-semibold shadow-lg",children:"Sil"})]})]})]},e.id))})},ii=({searchTerm:e,setSearchTerm:t,statusFilter:s,setStatusFilter:r,capacityFilter:n,setCapacityFilter:l,typeFilter:o,setTypeFilter:c})=>{const d=e||"all"!==s||"all"!==n||"all"!==o;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsx("div",{className:"flex-1 min-w-64",children:a.jsxs("div",{className:"relative",children:[a.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Marka, model veya plaka ile ara...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsx("div",{className:"min-w-32",children:a.jsxs("select",{value:s,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tüm Durumlar"}),a.jsx("option",{value:"active",children:"Aktif"}),a.jsx("option",{value:"inactive",children:"Pasif"}),a.jsx("option",{value:"maintenance",children:"Bakımda"})]})}),a.jsx("div",{className:"min-w-32",children:a.jsxs("select",{value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tüm Kapasiteler"}),a.jsx("option",{value:"4",children:"4+ Kişi"}),a.jsx("option",{value:"8",children:"8+ Kişi"}),a.jsx("option",{value:"12",children:"12+ Kişi"}),a.jsx("option",{value:"16",children:"16+ Kişi"})]})}),a.jsx("div",{className:"min-w-32",children:a.jsxs("select",{value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tüm Tipler"}),a.jsx("option",{value:"sedan",children:"Sedan"}),a.jsx("option",{value:"suv",children:"SUV"}),a.jsx("option",{value:"minibus",children:"Minibüs"}),a.jsx("option",{value:"midibus",children:"Midibüs"}),a.jsx("option",{value:"bus",children:"Otobüs"}),a.jsx("option",{value:"vip",children:"VIP"})]})}),d&&a.jsxs("button",{onClick:()=>{t(""),r("all"),l("all"),c("all")},className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(i,{className:"w-4 h-4"}),"Temizle"]})]}),d&&a.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-200",children:[e&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-md text-sm",children:['Arama: "',e,'"',a.jsx("button",{onClick:()=>t(""),className:"text-blue-600 hover:text-blue-800",children:a.jsx(i,{className:"w-3 h-3"})})]}),"all"!==s&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-md text-sm",children:["Durum: ","active"===s?"Aktif":"inactive"===s?"Pasif":"Bakımda",a.jsx("button",{onClick:()=>r("all"),className:"text-green-600 hover:text-green-800",children:a.jsx(i,{className:"w-3 h-3"})})]}),"all"!==n&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded-md text-sm",children:["Kapasite: ",n,"+ Kişi",a.jsx("button",{onClick:()=>l("all"),className:"text-purple-600 hover:text-purple-800",children:a.jsx(i,{className:"w-3 h-3"})})]}),"all"!==o&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-800 rounded-md text-sm",children:["Tip: ",o.charAt(0).toUpperCase()+o.slice(1),a.jsx("button",{onClick:()=>c("all"),className:"text-orange-600 hover:text-orange-800",children:a.jsx(i,{className:"w-3 h-3"})})]})]})]})},oi=({onClose:e,onSubmit:t})=>{const[s,r]=ze.useState({brand:"",model:"",year:(new Date).getFullYear(),plateNumber:"",capacity:"",kmRate:"",color:"",fuelType:"benzin",transmission:"otomatik",type:"sedan",imageUrl:"",features:[],description:""}),[n,l]=ze.useState(!1),[o,c]=ze.useState({}),d=(e,t)=>{r(s=>({...s,[e]:t})),o[e]&&c(t=>({...t,[e]:""}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(w,{className:"w-6 h-6 text-blue-600"}),"Yeni Araç Ekle"]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e={};return s.brand.trim()||(e.brand="Marka gerekli"),s.model.trim()||(e.model="Model gerekli"),s.plateNumber.trim()||(e.plateNumber="Plaka gerekli"),(!s.capacity||s.capacity<1)&&(e.capacity="Geçerli kapasite gerekli"),(!s.kmRate||s.kmRate<0)&&(e.kmRate="KM başı ücret gerekli"),s.color.trim()||(e.color="Renk gerekli"),s.plateNumber&&!/^[0-9]{2}[A-Z]{1,3}[0-9]{2,4}$/.test(s.plateNumber.replace(/\s/g,""))&&(e.plateNumber="Geçerli plaka formatı girin (örn: 06ABC123)"),c(e),0===Object.keys(e).length})()){l(!0);try{const r={...s,capacity:parseInt(s.capacity),kmRate:parseFloat(s.kmRate),year:parseInt(s.year),plateNumber:s.plateNumber.toUpperCase().replace(/\s/g,""),brand:s.brand.trim(),model:s.model.trim(),color:s.color.trim()};await t(r)&&e()}catch(a){console.error("Araç eklenirken hata:",a)}finally{l(!1)}}},className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Temel Bilgiler"}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marka ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.brand,onChange:e=>d("brand",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.brand?"border-red-300":"border-gray-300"),placeholder:"Marka giriniz"}),o.brand&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),o.brand]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.model,onChange:e=>d("model",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.model?"border-red-300":"border-gray-300"),placeholder:"Model giriniz"}),o.model&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),o.model]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yıl"}),a.jsx("input",{type:"number",value:s.year,onChange:e=>d("year",e.target.value),min:"1990",max:(new Date).getFullYear()+1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip"}),a.jsxs("select",{value:s.type,onChange:e=>d("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"sedan",children:"Sedan"}),a.jsx("option",{value:"suv",children:"SUV"}),a.jsx("option",{value:"minibus",children:"Minibüs"}),a.jsx("option",{value:"midibus",children:"Midibüs"}),a.jsx("option",{value:"bus",children:"Otobüs"}),a.jsx("option",{value:"vip",children:"VIP"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Plaka ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.plateNumber,onChange:e=>d("plateNumber",e.target.value.toUpperCase()),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.plateNumber?"border-red-300":"border-gray-300"),placeholder:"06ABC123"}),o.plateNumber&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),o.plateNumber]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Renk ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:s.color,onChange:e=>d("color",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.color?"border-red-300":"border-gray-300"),placeholder:"Renk giriniz"}),o.color&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),o.color]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Teknik Bilgiler"}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kapasite ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:s.capacity,onChange:e=>d("capacity",e.target.value),min:"1",max:"50",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.capacity?"border-red-300":"border-gray-300"),placeholder:"Kişi sayısı"}),o.capacity&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),o.capacity]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["KM Başı Ücret (₺) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:s.kmRate,onChange:e=>d("kmRate",e.target.value),min:"0",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.kmRate?"border-red-300":"border-gray-300"),placeholder:"0.00"}),o.kmRate&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),o.kmRate]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yakıt Türü"}),a.jsxs("select",{value:s.fuelType,onChange:e=>d("fuelType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"benzin",children:"Benzin"}),a.jsx("option",{value:"dizel",children:"Dizel"}),a.jsx("option",{value:"lpg",children:"LPG"}),a.jsx("option",{value:"elektrik",children:"Elektrik"}),a.jsx("option",{value:"hibrit",children:"Hibrit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şanzıman"}),a.jsxs("select",{value:s.transmission,onChange:e=>d("transmission",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"otomatik",children:"Otomatik"}),a.jsx("option",{value:"manuel",children:"Manuel"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Araç Resmi (URL)"}),a.jsx("input",{type:"url",value:s.imageUrl,onChange:e=>d("imageUrl",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Araç fotoğrafının URL'ini girin (opsiyonel)"})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2 mb-4",children:"Araç Özellikleri"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["Klima","WiFi","USB Şarj","Su İkramı","Bebek Koltuğu","Çocuk Koltuğu","Tekerlekli Sandalye Desteği","Müzik Sistemi","TV/Monitör","Mikrobus","Büyük Bagaj","Hostesli Hizmet","Premium İç Tasarım","Deri Koltuk","Panoramik Cam","Bluetooth","Navigasyon","Kamera Sistemi"].map(e=>a.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.features.includes(e),onChange:()=>(e=>{r(t=>({...t,features:t.features.includes(e)?t.features.filter(t=>t!==e):[...t.features,e]}))})(e),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),a.jsx("textarea",{value:s.description,onChange:e=>d("description",e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Araç hakkında ek bilgiler..."})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),a.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydediliyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ne,{className:"w-4 h-4"}),"Kaydet"]})})]})]})]})})},ci=({vehicle:e,onClose:t,onSubmit:s})=>{const[r,n]=ze.useState({brand:e.brand||"",model:e.model||"",year:e.year||(new Date).getFullYear(),plateNumber:e.plateNumber||"",capacity:e.capacity||"",kmRate:e.kmRate||"",color:e.color||"",fuelType:e.fuelType||"benzin",transmission:e.transmission||"otomatik",type:e.type||"sedan",imageUrl:e.imageUrl||"",features:e.features||[],description:e.description||""}),[l,o]=ze.useState(!1),[c,d]=ze.useState({}),m=(e,t)=>{n(s=>({...s,[e]:t})),c[e]&&d(t=>({...t,[e]:""}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(w,{className:"w-6 h-6 text-blue-600"}),"Araç Düzenle"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),(()=>{const e={};return r.brand.trim()||(e.brand="Marka gerekli"),r.model.trim()||(e.model="Model gerekli"),r.plateNumber.trim()||(e.plateNumber="Plaka gerekli"),(!r.capacity||r.capacity<1)&&(e.capacity="Geçerli kapasite gerekli"),(!r.kmRate||r.kmRate<0)&&(e.kmRate="KM başı ücret gerekli"),r.color.trim()||(e.color="Renk gerekli"),r.plateNumber&&!/^[0-9]{2}[A-Z]{1,3}[0-9]{2,4}$/.test(r.plateNumber.replace(/\s/g,""))&&(e.plateNumber="Geçerli plaka formatı girin (örn: 06ABC123)"),d(e),0===Object.keys(e).length})()){o(!0);try{const a={...r,capacity:parseInt(r.capacity),kmRate:parseFloat(r.kmRate),year:parseInt(r.year),plateNumber:r.plateNumber.toUpperCase().replace(/\s/g,""),brand:r.brand.trim(),model:r.model.trim(),color:r.color.trim()};await s(e.id,a)&&t()}catch(n){console.error("Araç güncellenirken hata:",n)}finally{o(!1)}}},className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Temel Bilgiler"}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marka ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:r.brand,onChange:e=>m("brand",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(c.brand?"border-red-300":"border-gray-300"),placeholder:"Marka giriniz"}),c.brand&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),c.brand]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:r.model,onChange:e=>m("model",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(c.model?"border-red-300":"border-gray-300"),placeholder:"Model giriniz"}),c.model&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),c.model]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yıl"}),a.jsx("input",{type:"number",value:r.year,onChange:e=>m("year",e.target.value),min:"1990",max:(new Date).getFullYear()+1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tip"}),a.jsxs("select",{value:r.type,onChange:e=>m("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"sedan",children:"Sedan"}),a.jsx("option",{value:"suv",children:"SUV"}),a.jsx("option",{value:"minibus",children:"Minibüs"}),a.jsx("option",{value:"midibus",children:"Midibüs"}),a.jsx("option",{value:"bus",children:"Otobüs"}),a.jsx("option",{value:"vip",children:"VIP"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Plaka ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:r.plateNumber,onChange:e=>m("plateNumber",e.target.value.toUpperCase()),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(c.plateNumber?"border-red-300":"border-gray-300"),placeholder:"06ABC123"}),c.plateNumber&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),c.plateNumber]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Renk ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:r.color,onChange:e=>m("color",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(c.color?"border-red-300":"border-gray-300"),placeholder:"Renk giriniz"}),c.color&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),c.color]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Teknik Bilgiler"}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kapasite ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:r.capacity,onChange:e=>m("capacity",e.target.value),min:"1",max:"50",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(c.capacity?"border-red-300":"border-gray-300"),placeholder:"Kişi sayısı"}),c.capacity&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),c.capacity]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["KM Başı Ücret (₺) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",value:r.kmRate,onChange:e=>m("kmRate",e.target.value),min:"0",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(c.kmRate?"border-red-300":"border-gray-300"),placeholder:"0.00"}),c.kmRate&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[a.jsx(F,{className:"w-4 h-4"}),c.kmRate]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yakıt Türü"}),a.jsxs("select",{value:r.fuelType,onChange:e=>m("fuelType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"benzin",children:"Benzin"}),a.jsx("option",{value:"dizel",children:"Dizel"}),a.jsx("option",{value:"lpg",children:"LPG"}),a.jsx("option",{value:"elektrik",children:"Elektrik"}),a.jsx("option",{value:"hibrit",children:"Hibrit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şanzıman"}),a.jsxs("select",{value:r.transmission,onChange:e=>m("transmission",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"otomatik",children:"Otomatik"}),a.jsx("option",{value:"manuel",children:"Manuel"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Araç Resmi (URL)"}),a.jsx("input",{type:"url",value:r.imageUrl,onChange:e=>m("imageUrl",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Araç fotoğrafının URL'ini girin (opsiyonel)"})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2 mb-4",children:"Araç Özellikleri"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["Klima","WiFi","USB Şarj","Su İkramı","Bebek Koltuğu","Çocuk Koltuğu","Tekerlekli Sandalye Desteği","Müzik Sistemi","TV/Monitör","Mikrobus","Büyük Bagaj","Hostesli Hizmet","Premium İç Tasarım","Deri Koltuk","Panoramik Cam","Bluetooth","Navigasyon","Kamera Sistemi"].map(e=>a.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.features.includes(e),onChange:()=>(e=>{n(t=>({...t,features:t.features.includes(e)?t.features.filter(t=>t!==e):[...t.features,e]}))})(e),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),a.jsx("textarea",{value:r.description,onChange:e=>m("description",e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Araç hakkında ek bilgiler..."})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),a.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Güncelleniyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ne,{className:"w-4 h-4"}),"Güncelle"]})})]})]})]})})},di=({vehicle:e,onClose:t})=>{var s,r;const n=e=>{if(!e)return"Belirtilmemiş";try{return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return"Geçersiz tarih"}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(w,{className:"w-6 h-6 text-blue-600"}),"Araç Detayları"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:e.imageUrl?a.jsx("img",{src:e.imageUrl,alt:`${e.brand} ${e.model}`,className:"w-full h-full object-cover rounded-lg"}):a.jsx("div",{className:"text-6xl",children:(l=e.type,{sedan:"🚗",suv:"🚙",minibus:"🚐",midibus:"🚌",bus:"🚍",vip:"🏎️"}[l]||"🚗")})}),a.jsx("div",{className:"flex justify-center mb-4",children:(e=>{const t={active:{color:"bg-green-100 text-green-800",text:"Aktif"},inactive:{color:"bg-red-100 text-red-800",text:"Pasif"},maintenance:{color:"bg-yellow-100 text-yellow-800",text:"Bakımda"}},s=t[e]||t.inactive;return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s.color}`,children:s.text})})(e.status)}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[a.jsx(k,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Kapasite"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.capacity," Kişi"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[a.jsx(b,{className:"w-5 h-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"KM Ücreti"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["₺",null==(s=e.kmRate)?void 0:s.toFixed(2)," / km"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[a.jsx(ge,{className:"w-5 h-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Yakıt Türü"}),a.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.fuelType})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Temel Bilgiler"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Marka"}),a.jsx("p",{className:"text-sm text-gray-900",children:e.brand})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Model"}),a.jsx("p",{className:"text-sm text-gray-900",children:e.model})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Yıl"}),a.jsx("p",{className:"text-sm text-gray-900",children:e.year})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Plaka"}),a.jsx("p",{className:"text-sm text-gray-900 font-mono",children:e.plateNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Renk"}),a.jsx("p",{className:"text-sm text-gray-900",children:e.color})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tip"}),a.jsx("p",{className:"text-sm text-gray-900 capitalize",children:e.type})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Teknik Bilgiler"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Kapasite"}),a.jsxs("p",{className:"text-sm text-gray-900",children:[e.capacity," Kişi"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"KM Başı Ücret"}),a.jsxs("p",{className:"text-sm text-gray-900",children:["₺",null==(r=e.kmRate)?void 0:r.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Yakıt Türü"}),a.jsx("p",{className:"text-sm text-gray-900 capitalize",children:e.fuelType})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Şanzıman"}),a.jsx("p",{className:"text-sm text-gray-900 capitalize",children:e.transmission})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Oluşturma Tarihi"}),a.jsx("p",{className:"text-sm text-gray-900",children:n(e.createdAt)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Son Güncelleme"}),a.jsx("p",{className:"text-sm text-gray-900",children:n(e.updatedAt)})]})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2 mb-4",children:"Araç Özellikleri"}),e.features&&e.features.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:e.features.map((e,t)=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[a.jsx(g,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-gray-900",children:e})]},t))}):a.jsx("p",{className:"text-gray-500 text-sm",children:"Henüz özellik eklenmemiş"})]}),e.description&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2 mb-4",children:"Açıklama"}),a.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-4 rounded-lg",children:e.description})]})]})]})}),a.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Kapat"})})]})});var l},mi=({vehicle:e,onClose:t,onUpdate:s})=>{const[r,n]=ze.useState(e.features||[]),[l,o]=ze.useState(""),[c,d]=ze.useState(!1),m=e=>{e.trim()&&!r.includes(e.trim())&&(n([...r,e.trim()]),o(""))},u=["Klima","WiFi","USB Şarj","Su İkramı","Bebek Koltuğu","Çocuk Koltuğu","Tekerlekli Sandalye Desteği","Müzik Sistemi","TV/Monitör","Mikrobus","Büyük Bagaj","Hostesli Hizmet","Premium İç Tasarım","Deri Koltuk","Panoramik Cam","Bluetooth","Navigasyon","Kamera Sistemi","Elektrikli Kapılar","Masaj Koltuğu","Mini Bar","Gazete/Dergi","Havlu Hizmeti","Şemsiye","Telefon Şarj Kablosu","Tablet/iPad","Çocuk Oyuncağı","Battaniye","Maske/Dezenfektan","VIP Lounge Erişim"].filter(e=>!r.includes(e));return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(P,{className:"w-6 h-6 text-blue-600"}),"Araç Özelliklerini Yönet"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[a.jsxs("h3",{className:"font-medium text-blue-900 mb-2",children:[e.brand," ",e.model]}),a.jsxs("p",{className:"text-sm text-blue-700",children:[e.year," • ",e.plateNumber," • ",e.capacity," Kişi"]})]}),a.jsxs("form",{onSubmit:async a=>{a.preventDefault(),d(!0);try{await s(e.id,{...e,features:r})&&t()}catch(n){console.error("Özellikler güncellenirken hata:",n)}finally{d(!1)}},children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Mevcut Özellikler (",r.length,")"]}),r.length>0?a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map((e,t)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(g,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm text-gray-900",children:e})]}),a.jsx("button",{type:"button",onClick:()=>{return t=e,void n(r.filter(e=>e!==t));var t},className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded transition-colors",children:a.jsx(he,{className:"w-4 h-4"})})]},t))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(g,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Henüz özellik eklenmemiş"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Özellik Ekle"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Özel Özellik Ekle"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:l,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),m(l))},placeholder:"Özellik adı girin...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("button",{type:"button",onClick:()=>m(l),disabled:!l.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsx(V,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hazır Özellikler"}),a.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:u.map(e=>a.jsx("button",{type:"button",onClick:()=>(e=>{r.includes(e)||n([...r,e])})(e),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-blue-300 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(V,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-gray-900",children:e})]})},e))}),0===u.length&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Tüm hazır özellikler eklendi"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),a.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:c?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydediliyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ne,{className:"w-4 h-4"}),"Özellikleri Kaydet"]})})]})]})]})]})})},ui=()=>{const[e,t]=ze.useState([]),[s,r]=ze.useState([]),[n,l]=ze.useState(!0),[i,o]=ze.useState(null),[c,d]=ze.useState("table"),[m,u]=ze.useState(""),[h,p]=ze.useState("all"),[x,g]=ze.useState("all"),[f,b]=ze.useState("all"),[v,y]=ze.useState(!1),[j,N]=ze.useState(!1),[k,C]=ze.useState(!1),[B,P]=ze.useState(!1);ze.useEffect(()=>{console.log("Araç verileri yükleniyor..."),l(!0);const e=Pt(Nt(ir,"vehicles"),e=>{console.log("Vehicles koleksiyonu güncellendi, döküman sayısı:",e.docs.length);const s=e.docs.map(e=>({id:e.id,...e.data()}));t(s),r(s),l(!1)},e=>{console.error("Araç verileri yüklenirken hata:",e),l(!1)});return()=>e()},[]),ze.useEffect(()=>{let t=e;if(m&&(t=t.filter(e=>{var t,s,r;return(null==(t=e.brand)?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.model)?void 0:s.toLowerCase().includes(m.toLowerCase()))||(null==(r=e.plateNumber)?void 0:r.toLowerCase().includes(m.toLowerCase()))})),"all"!==h&&(t=t.filter(e=>e.status===h)),"all"!==x){const e=parseInt(x);t=t.filter(t=>t.capacity>=e)}"all"!==f&&(t=t.filter(e=>e.type===f)),r(t)},[e,m,h,x,f]);const S=async(e,t)=>{try{const s={...t,updatedAt:new Date};return await ut(dt(ir,"vehicles",e),s),console.log("Araç başarıyla güncellendi"),N(!1),o(null),!0}catch(s){return console.error("Araç güncellenirken hata:",s),!1}},L=async e=>{try{return await Ct(dt(ir,"vehicles",e)),console.log("Araç başarıyla silindi"),!0}catch(t){return console.error("Araç silinirken hata:",t),!1}},E=e=>{o(e),C(!0)},D=e=>{o(e),N(!0)},M=e=>{o(e),P(!0)},T=async(e,t)=>{try{return await ut(dt(ir,"vehicles",e),{status:t,updatedAt:new Date}),console.log("Araç durumu güncellendi"),!0}catch(s){return console.error("Araç durumu güncellenirken hata:",s),!1}};return n?a.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[a.jsx(fe,{className:"w-8 h-8 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Araçlar yükleniyor..."})]}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(w,{className:"w-7 h-7 text-blue-600"}),"Araç Yönetimi"]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:[e.length," araç kayıtlı • ",s.length," gösteriliyor"]})]}),a.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(V,{className:"w-4 h-4"}),"Yeni Araç Ekle"]})]}),a.jsx(ii,{searchTerm:m,setSearchTerm:u,statusFilter:h,setStatusFilter:p,capacityFilter:x,setCapacityFilter:g,typeFilter:f,setTypeFilter:b}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(w,{className:"w-5 h-5 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Görünüm"})]}),a.jsxs("div",{className:"flex rounded-lg border border-gray-200 p-1",children:[a.jsxs("button",{onClick:()=>d("table"),className:"flex items-center gap-2 px-3 py-1 rounded text-sm transition-colors "+("table"===c?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"),children:[a.jsx(be,{className:"w-4 h-4"}),"Tablo"]}),a.jsxs("button",{onClick:()=>d("grid"),className:"flex items-center gap-2 px-3 py-1 rounded text-sm transition-colors "+("grid"===c?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"),children:[a.jsx(ve,{className:"w-4 h-4"}),"Kart"]})]})]})}),"table"===c?a.jsx(ni,{vehicles:s,onShowDetails:E,onEditVehicle:D,onDeleteVehicle:L,onStatusChange:T,onManageFeatures:M}):a.jsx(li,{vehicles:s,onShowDetails:E,onEditVehicle:D,onDeleteVehicle:L,onStatusChange:T,onManageFeatures:M}),v&&a.jsx(oi,{onClose:()=>y(!1),onSubmit:async e=>{try{const t={...e,createdAt:new Date,updatedAt:new Date,status:"active"};return await Bt(Nt(ir,"vehicles"),t),console.log("Araç başarıyla eklendi"),y(!1),!0}catch(t){return console.error("Araç eklenirken hata:",t),!1}}}),j&&i&&a.jsx(ci,{vehicle:i,onClose:()=>{N(!1),o(null)},onSubmit:S}),k&&i&&a.jsx(di,{vehicle:i,onClose:()=>{C(!1),o(null)}}),B&&i&&a.jsx(mi,{vehicle:i,onClose:()=>{P(!1),o(null)},onUpdate:S})]})},hi=({drivers:e=[],vehicles:t=[],onEdit:s,onDelete:r,onStatusChange:i,onViewDetails:o})=>{const c=e=>{const s=t.find(t=>t.id===e);return s?`${s.brand} ${s.model} (${s.plateNumber})`:"Araç atanmamış"},d=e=>{const t={active:{color:"bg-green-100 text-green-800 border-green-200",icon:D,label:"Aktif"},inactive:{color:"bg-red-100 text-red-800 border-red-200",icon:je,label:"Pasif"},suspended:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:me,label:"Askıya Alındı"}},s=t[e]||t.inactive,r=s.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${s.color}`,children:[a.jsx(r,{className:"w-3 h-3 mr-1"}),s.label]})},m=e=>{const t=new Date,s=new Date(e)-t,r=Math.ceil(s/864e5);return r<0?{color:"text-red-600",label:"Süresi Dolmuş",urgent:!0}:r<=30?{color:"text-orange-600",label:`${r} gün kaldı`,urgent:!0}:r<=90?{color:"text-yellow-600",label:`${r} gün kaldı`,urgent:!1}:{color:"text-green-600",label:"Geçerli",urgent:!1}};return a.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-100 rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:[a.jsx("div",{children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{className:"bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Şoför"}),a.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"İletişim"}),a.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Ehliyet"}),a.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Durum"}),a.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Araç"}),a.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"Kom."}),a.jsx("th",{className:"px-2 py-2 text-left font-bold text-slate-700 uppercase tracking-wider",children:"İşlem"})]})}),a.jsx("tbody",{className:"bg-white/80 divide-y divide-slate-100",children:e&&e.length>0?e.map(e=>a.jsx(Fe.Fragment,{children:a.jsxs("tr",{className:"hover:bg-blue-50/60 transition-colors",children:[a.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-full flex items-center justify-center border border-blue-200",children:a.jsxs("span",{className:"text-base font-bold text-blue-700",children:[(e.firstName||"")[0]||"",(e.lastName||"")[0]||""]})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("div",{className:"text-sm font-semibold text-slate-800",children:[e.firstName||""," ",e.lastName||""]}),a.jsxs("div",{className:"text-xs text-slate-500",children:[e.totalTrips||0," sefer"]})]})]})}),a.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-slate-800",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(n,{className:"w-4 h-4 text-blue-400 mr-2"}),e.phone]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(l,{className:"w-4 h-4 text-blue-400 mr-2"}),e.email]})]})}),a.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-slate-800",children:[a.jsx("div",{className:"font-semibold",children:e.licenseNumber}),a.jsxs("div",{className:`text-xs ${m(e.licenseExpiry).color} flex items-center`,children:[m(e.licenseExpiry).label,m(e.licenseExpiry).urgent&&a.jsx(me,{className:"w-3 h-3 inline ml-1 text-orange-500"})]})]})}),a.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[d(e.status),a.jsxs("select",{value:e.status,onChange:t=>i(e.id,t.target.value),className:"text-xs border border-slate-300 rounded-lg px-2 py-1 bg-white/80 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",children:[a.jsx("option",{value:"active",children:"Aktif"}),a.jsx("option",{value:"inactive",children:"Pasif"}),a.jsx("option",{value:"suspended",children:"Askıya Al"})]})]})}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex items-center text-sm text-slate-800",children:[a.jsx(w,{className:"w-4 h-4 text-blue-400 mr-2"}),a.jsx("div",{className:"max-w-xs",children:a.jsx("div",{className:"truncate "+(e.assignedVehicle?"text-slate-800":"text-slate-400"),children:c(e.assignedVehicle)})})]})}),a.jsx("td",{className:"px-2 py-2 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-sm text-green-700 font-bold",children:["%",e.commission||0,a.jsx("span",{className:"text-xs text-slate-400 ml-1 font-normal",children:"komisyon"})]})}),a.jsx("td",{className:"px-2 py-2 whitespace-nowrap text-xs font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>o(e),className:"p-2 text-blue-600 hover:text-white hover:bg-blue-600 rounded-lg transition-colors shadow",title:"Detayları Görüntüle",children:a.jsx(se,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>s(e),className:"p-2 text-green-600 hover:text-white hover:bg-green-600 rounded-lg transition-colors shadow",title:"Düzenle",children:a.jsx(ye,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(e.id),className:"p-2 text-red-600 hover:text-white hover:bg-red-600 rounded-lg transition-colors shadow",title:"Sil",children:a.jsx(he,{className:"w-4 h-4"})})]})})]})},e.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-2 py-2 text-center text-slate-400",children:"Henüz şoför bulunmuyor"})})})]})}),(!e||0===e.length)&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(k,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-400",children:"Henüz şoför bulunmuyor"})]})]})},pi=({searchTerm:e,setSearchTerm:t,statusFilter:s,setStatusFilter:r,vehicleFilter:n,setVehicleFilter:l,licenseExpiryFilter:o,setLicenseExpiryFilter:c,onClearFilters:m,vehicles:u})=>{const[h,p]=ze.useState(!1),x=()=>{let t=0;return e&&t++,s&&"all"!==s&&t++,n&&"all"!==n&&t++,o&&"all"!==o&&t++,t},g=()=>{const a=[];if(e&&a.push({key:"search",label:`Arama: "${e}"`,onRemove:()=>t("")}),s&&"all"!==s){const e={active:"Aktif",inactive:"Pasif",suspended:"Askıya Alındı"};a.push({key:"status",label:`Durum: ${e[s]}`,onRemove:()=>r("all")})}if(n&&"all"!==n){const e={assigned:"Araç Atanmış",unassigned:"Araç Atanmamış"};a.push({key:"vehicle",label:`Araç: ${e[n]}`,onRemove:()=>l("all")})}if(o&&"all"!==o){const e={expired:"Süresi Dolmuş",expiring:"Süresi Dolmak Üzere",valid:"Geçerli"};a.push({key:"license",label:`Ehliyet: ${e[o]}`,onRemove:()=>c("all")})}return a};return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Şoför adı, telefon veya e-posta ara...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:s,onChange:e=>r(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[a.jsx("option",{value:"all",children:"Tüm Durumlar"}),a.jsx("option",{value:"active",children:"Aktif"}),a.jsx("option",{value:"inactive",children:"Pasif"}),a.jsx("option",{value:"suspended",children:"Askıya Alındı"})]}),a.jsx(_,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:n,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[a.jsx("option",{value:"all",children:"Tüm Araçlar"}),a.jsx("option",{value:"assigned",children:"Araç Atanmış"}),a.jsx("option",{value:"unassigned",children:"Araç Atanmamış"})]}),a.jsx(_,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>p(!h),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Ne,{className:"w-4 h-4"}),a.jsx("span",{children:"Gelişmiş"}),a.jsx(_,{className:"w-4 h-4 transition-transform "+(h?"rotate-180":"")})]}),x()>0&&a.jsxs("button",{onClick:m,className:"px-4 py-2 bg-red-50 text-red-700 border border-red-200 rounded-lg hover:bg-red-100 transition-colors",children:["Temizle (",x(),")"]})]})]}),h&&a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ehliyet Durumu"}),a.jsxs("select",{value:o,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[a.jsx("option",{value:"all",children:"Tüm Ehliyetler"}),a.jsx("option",{value:"expired",children:"Süresi Dolmuş"}),a.jsx("option",{value:"expiring",children:"Süresi Dolmak Üzere (30 gün)"}),a.jsx("option",{value:"valid",children:"Geçerli"})]}),a.jsx(_,{className:"absolute right-3 top-9 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),a.jsx("div",{})]})}),g().length>0&&a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Aktif filtreler:"}),g().map(e=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:[e.label,a.jsx("button",{onClick:e.onRemove,className:"hover:bg-blue-100 rounded-full p-0.5",children:a.jsx(i,{className:"w-3 h-3"})})]},e.key))]})}),("all"!==s||"all"!==n||"all"!==o)&&a.jsx("div",{className:"border-t pt-4 mt-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(D,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{children:"Aktif Şoförler"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{children:"Pasif Şoförler"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{children:"Askıya Alınanlar"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(w,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Araç Atanmış"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d,{className:"w-4 h-4 text-orange-600"}),a.jsx("span",{children:"Ehliyet Süresi Dolacak"})]})]})})]})},xi=({isOpen:e,onClose:t,onSave:s,vehicles:r,loading:o=!1})=>{const[m,u]=ze.useState({firstName:"",lastName:"",email:"",phone:"",address:"",licenseNumber:"",licenseExpiry:"",joinDate:(new Date).toISOString().split("T")[0],bloodType:"",emergencyContact:"",emergencyPhone:"",assignedVehicle:"",bankAccount:"",bankName:"",salary:"",commission:"",notes:""}),[h,p]=ze.useState({}),x=e=>{const{name:t,value:s}=e.target;u(e=>({...e,[t]:s})),h[t]&&p(e=>({...e,[t]:""}))};return e?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-100 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[85vh] overflow-y-auto border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10",children:[a.jsxs("h2",{className:"text-2xl font-bold text-blue-700 flex items-center gap-2",children:[a.jsx(c,{className:"w-6 h-6"})," Yeni Şoför Ekle"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-blue-100 text-blue-600 rounded-full transition-colors border border-blue-100",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};if(m.firstName.trim()||(e.firstName="Ad alanı gereklidir"),m.lastName.trim()||(e.lastName="Soyad alanı gereklidir"),m.email.trim()?/\S+@\S+\.\S+/.test(m.email)||(e.email="Geçerli bir e-posta adresi girin"):e.email="E-posta alanı gereklidir",m.phone.trim()||(e.phone="Telefon alanı gereklidir"),m.licenseNumber.trim()||(e.licenseNumber="Ehliyet numarası gereklidir"),m.licenseExpiry||(e.licenseExpiry="Ehliyet bitiş tarihi gereklidir"),m.commission||(e.commission="Komisyon oranı gereklidir"),m.email&&!/\S+@\S+\.\S+/.test(m.email)&&(e.email="Geçerli bir e-posta adresi girin"),m.phone&&!/^[0-9+\-\s\(\)]+$/.test(m.phone)&&(e.phone="Geçerli bir telefon numarası girin"),m.licenseExpiry){const t=new Date;new Date(m.licenseExpiry)<=t&&(e.licenseExpiry="Ehliyet bitiş tarihi bugünden sonra olmalıdır")}if(m.salary&&(isNaN(m.salary)||parseFloat(m.salary)<0)&&(e.salary="Geçerli bir maaş miktarı girin"),m.commission){const t=parseFloat(m.commission);(isNaN(t)||t<0||t>100)&&(e.commission="Komisyon 0 ile 100 arasında olmalıdır")}return p(e),0===Object.keys(e).length})())return;const t={...m,status:"active",totalTrips:0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};s(t)},className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2 mb-3",children:[a.jsx(c,{className:"w-5 h-5"}),"Kişisel Bilgiler"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad *"}),a.jsx("input",{type:"text",name:"firstName",value:m.firstName,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(h.firstName?"border-red-500":"border-gray-300"),placeholder:"Ad"}),h.firstName&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.firstName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad *"}),a.jsx("input",{type:"text",name:"lastName",value:m.lastName,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(h.lastName?"border-red-500":"border-gray-300"),placeholder:"Soyad"}),h.lastName&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.lastName})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),a.jsxs("div",{className:"relative",children:[a.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"email",name:"email",value:m.email,onChange:x,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(h.email?"border-red-500":"border-gray-300"),placeholder:"E-posta adresi"})]}),h.email&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon *"}),a.jsxs("div",{className:"relative",children:[a.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:x,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(h.phone?"border-red-500":"border-gray-300"),placeholder:"Telefon numarası"})]}),h.phone&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adres"}),a.jsxs("div",{className:"relative",children:[a.jsx(b,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx("textarea",{name:"address",value:m.address,onChange:x,rows:2,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Adres"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kan Grubu"}),a.jsxs("select",{name:"bloodType",value:m.bloodType,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Kan grubu seçiniz"}),["A+","A-","B+","B-","AB+","AB-","0+","0-"].map(e=>a.jsx("option",{value:e,children:e},e))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İşe Başlama Tarihi"}),a.jsx("input",{type:"date",name:"joinDate",value:m.joinDate,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acil Durumda Aranacak Kişi"}),a.jsx("input",{type:"text",name:"emergencyContact",value:m.emergencyContact,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"İsim ve telefon"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2 mb-3",children:[a.jsx(G,{className:"w-5 h-5"}),"Lisans ve İş Bilgileri"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ehliyet Numarası *"}),a.jsx("input",{type:"text",name:"licenseNumber",value:m.licenseNumber,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(h.licenseNumber?"border-red-500":"border-gray-300"),placeholder:"Ehliyet numarası"}),h.licenseNumber&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.licenseNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ehliyet Bitiş Tarihi *"}),a.jsxs("div",{className:"relative",children:[a.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",name:"licenseExpiry",value:m.licenseExpiry,onChange:x,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(h.licenseExpiry?"border-red-500":"border-gray-300")})]}),h.licenseExpiry&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.licenseExpiry})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Atanacak Araç"}),a.jsxs("div",{className:"relative",children:[a.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r&&r.filter(e=>"active"===e.status).length>0?a.jsxs("select",{name:"assignedVehicle",value:m.assignedVehicle,onChange:x,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Araç seçiniz"}),r.filter(e=>"active"===e.status).map(e=>a.jsxs("option",{value:e.id,children:[e.brand," ",e.model," (",e.plateNumber,")"]},e.id))]}):a.jsx("div",{className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-400 flex items-center",children:"Uygun araç bulunamadı"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banka Adı"}),a.jsx("input",{type:"text",name:"bankName",value:m.bankName,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Banka adı"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banka Hesap No"}),a.jsx("input",{type:"text",name:"bankAccount",value:m.bankAccount,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Hesap numarası"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maaş"}),a.jsx("input",{type:"number",name:"salary",value:m.salary,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(h.salary?"border-red-500":"border-gray-300"),placeholder:"0",min:"0"}),h.salary&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.salary})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Komisyon (%) *"}),a.jsx("input",{type:"number",name:"commission",value:m.commission,onChange:x,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(h.commission?"border-red-500":"border-gray-300"),placeholder:"25",min:"0",max:"100"}),h.commission&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.commission})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),a.jsxs("div",{className:"relative",children:[a.jsx(we,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx("textarea",{name:"notes",value:m.notes,onChange:x,rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Şoför hakkında notlar..."})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t border-slate-200 bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10 -mx-6 -mb-6 px-6 py-6",children:[a.jsx("button",{type:"button",onClick:()=>{u({firstName:"",lastName:"",email:"",phone:"",address:"",licenseNumber:"",licenseExpiry:"",joinDate:(new Date).toISOString().split("T")[0],bloodType:"",emergencyContact:"",emergencyPhone:"",assignedVehicle:"",bankAccount:"",bankName:"",salary:"",commission:"",notes:""}),p({})},className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-xl hover:bg-slate-100 transition-colors font-semibold",children:"Temizle"}),a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-xl hover:bg-slate-100 transition-colors font-semibold",children:"İptal"}),a.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all flex items-center gap-2 font-semibold shadow disabled:opacity-50 disabled:cursor-not-allowed",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydediliyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ne,{className:"w-4 h-4"}),"Şoför Ekle"]})})]})]})]})}):null},gi=({isOpen:e,onClose:t,onSave:s,driver:r,vehicles:o,loading:m=!1})=>{const[u,h]=ze.useState({firstName:"",lastName:"",email:"",phone:"",address:"",licenseNumber:"",licenseExpiry:"",joinDate:"",bloodType:"",emergencyContact:"",emergencyPhone:"",assignedVehicle:"",bankAccount:"",bankName:"",salary:"",commission:"",notes:""}),[p,x]=ze.useState({}),[g,f]=ze.useState(!1);ze.useEffect(()=>{r&&e&&(h({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",address:r.address||"",licenseNumber:r.licenseNumber||"",licenseExpiry:r.licenseExpiry?r.licenseExpiry.split("T")[0]:"",joinDate:r.joinDate?r.joinDate.split("T")[0]:"",bloodType:r.bloodType||"",emergencyContact:r.emergencyContact||"",emergencyPhone:r.emergencyPhone||"",assignedVehicle:r.assignedVehicle||"",bankAccount:r.bankAccount||"",bankName:r.bankName||"",salary:r.salary||"",commission:r.commission||"",notes:r.notes||""}),f(!1),x({}))},[r,e]);const v=e=>{const{name:t,value:s}=e.target;h(e=>({...e,[t]:s})),f(!0),p[t]&&x(e=>({...e,[t]:""}))},y=()=>{g?window.confirm("Değişiklikler kaydedilmedi. Çıkmak istediğinizden emin misiniz?")&&t():t()};if(!e||!r)return null;const j=(e=>{const t=new Date,s=new Date(e)-t,r=Math.ceil(s/864e5);return r<0?{color:"text-red-600",message:"Ehliyet süresi dolmuş!",urgent:!0}:r<=30?{color:"text-orange-600",message:`${r} gün içinde dolacak`,urgent:!0}:r<=90?{color:"text-yellow-600",message:`${r} gün kaldı`,urgent:!1}:{color:"text-green-600",message:"Geçerli",urgent:!1}})(u.licenseExpiry);return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[85vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Şoför Düzenle"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.firstName," ",r.lastName]})]}),a.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};if(u.firstName.trim()||(e.firstName="Ad alanı gereklidir"),u.lastName.trim()||(e.lastName="Soyad alanı gereklidir"),u.email.trim()?/\S+@\S+\.\S+/.test(u.email)||(e.email="Geçerli bir e-posta adresi girin"):e.email="E-posta alanı gereklidir",u.phone.trim()||(e.phone="Telefon alanı gereklidir"),u.licenseNumber.trim()||(e.licenseNumber="Ehliyet numarası gereklidir"),u.licenseExpiry||(e.licenseExpiry="Ehliyet bitiş tarihi gereklidir"),u.commission||(e.commission="Komisyon oranı gereklidir"),u.email&&!/\S+@\S+\.\S+/.test(u.email)&&(e.email="Geçerli bir e-posta adresi girin"),u.phone&&!/^[0-9+\-\s\(\)]+$/.test(u.phone)&&(e.phone="Geçerli bir telefon numarası girin"),u.licenseExpiry){const t=new Date;new Date(u.licenseExpiry)<=t&&(e.licenseExpiry="Ehliyet bitiş tarihi bugünden sonra olmalıdır")}if(u.salary&&(isNaN(u.salary)||parseFloat(u.salary)<0)&&(e.salary="Geçerli bir maaş miktarı girin"),u.commission){const t=parseFloat(u.commission);(isNaN(t)||t<0||t>100)&&(e.commission="Komisyon 0 ile 100 arasında olmalıdır")}return x(e),0===Object.keys(e).length})())return;if(!g)return void t();const a={...r,...u,updatedAt:(new Date).toISOString()};s(a)},className:"p-4",children:[u.licenseExpiry&&j.urgent&&a.jsx("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{className:"w-4 h-4 text-orange-600"}),a.jsxs("span",{className:`font-medium ${j.color}`,children:["Ehliyet Uyarısı: ",j.message]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2 mb-3",children:[a.jsx(c,{className:"w-5 h-5"}),"Kişisel Bilgiler"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad *"}),a.jsx("input",{type:"text",name:"firstName",value:u.firstName,onChange:v,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(p.firstName?"border-red-500":"border-gray-300"),placeholder:"Ad"}),p.firstName&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.firstName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad *"}),a.jsx("input",{type:"text",name:"lastName",value:u.lastName,onChange:v,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(p.lastName?"border-red-500":"border-gray-300"),placeholder:"Soyad"}),p.lastName&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.lastName})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),a.jsxs("div",{className:"relative",children:[a.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"email",name:"email",value:u.email,onChange:v,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(p.email?"border-red-500":"border-gray-300"),placeholder:"ornek@email.com"})]}),p.email&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon *"}),a.jsxs("div",{className:"relative",children:[a.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:v,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(p.phone?"border-red-500":"border-gray-300"),placeholder:"0555 123 4567"})]}),p.phone&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adres"}),a.jsxs("div",{className:"relative",children:[a.jsx(b,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx("textarea",{name:"address",value:u.address,onChange:v,rows:2,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tam adres..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kan Grubu"}),a.jsxs("select",{name:"bloodType",value:u.bloodType,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Seçiniz"}),["A+","A-","B+","B-","AB+","AB-","0+","0-"].map(e=>a.jsx("option",{value:e,children:e},e))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İşe Başlama Tarihi"}),a.jsx("input",{type:"date",name:"joinDate",value:u.joinDate,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acil Durumda Aranacak Kişi"}),a.jsx("input",{type:"text",name:"emergencyContact",value:u.emergencyContact,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"İsim ve telefon"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2 mb-3",children:[a.jsx(G,{className:"w-5 h-5"}),"Lisans ve İş Bilgileri"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ehliyet Numarası *"}),a.jsx("input",{type:"text",name:"licenseNumber",value:u.licenseNumber,onChange:v,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(p.licenseNumber?"border-red-500":"border-gray-300"),placeholder:"Ehliyet numarası"}),p.licenseNumber&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.licenseNumber})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ehliyet Bitiş Tarihi *"}),a.jsxs("div",{className:"relative",children:[a.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",name:"licenseExpiry",value:u.licenseExpiry,onChange:v,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(p.licenseExpiry?"border-red-500":"border-gray-300")})]}),p.licenseExpiry&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.licenseExpiry})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Atanan Araç"}),a.jsxs("div",{className:"relative",children:[a.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsxs("select",{name:"assignedVehicle",value:u.assignedVehicle,onChange:v,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Araç seçiniz"}),o&&o.length>0?o.map(e=>a.jsxs("option",{value:e.id,children:[e.brand," ",e.model," (",e.plateNumber,") - ",e.status||"Durum Belirtilmemiş"]},e.id)):a.jsx("option",{value:"",disabled:!0,children:"Araç bulunamadı"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banka Adı"}),a.jsx("input",{type:"text",name:"bankName",value:u.bankName,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Banka adı"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banka Hesap No"}),a.jsx("input",{type:"text",name:"bankAccount",value:u.bankAccount,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Hesap numarası"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maaş"}),a.jsx("input",{type:"number",name:"salary",value:u.salary,onChange:v,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(p.salary?"border-red-500":"border-gray-300"),placeholder:"0",min:"0"}),p.salary&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.salary})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Komisyon (%) *"}),a.jsx("input",{type:"number",name:"commission",value:u.commission,onChange:v,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(p.commission?"border-red-500":"border-gray-300"),placeholder:"25",min:"0",max:"100"}),p.commission&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.commission})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),a.jsxs("div",{className:"relative",children:[a.jsx(we,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx("textarea",{name:"notes",value:u.notes,onChange:v,rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Şoför hakkında notlar..."})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t bg-gray-50 -mx-4 -mb-4 px-4 py-4",children:[a.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"İptal"}),a.jsx("button",{type:"submit",disabled:m||!g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydediliyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ne,{className:"w-4 h-4"}),"Değişiklikleri Kaydet"]})})]})]})]})})},fi=({isOpen:e,onClose:t,driver:s,vehicles:r=[]})=>{if(!e||!s)return null;const l=(e=>{const t=new Date,s=new Date(e)-t,r=Math.ceil(s/864e5);return r<0?{color:"text-red-600",label:"Süresi Dolmuş",urgent:!0}:r<=30?{color:"text-orange-600",label:`${r} gün kaldı`,urgent:!0}:r<=90?{color:"text-yellow-600",label:`${r} gün kaldı`,urgent:!1}:{color:"text-green-600",label:"Geçerli",urgent:!1}})(s.licenseExpiry);return a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-100 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[85vh] overflow-y-auto border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-full flex items-center justify-center border border-blue-200",children:a.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[(s.firstName||"")[0]||"",(s.lastName||"")[0]||""]})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:[s.firstName||""," ",s.lastName||""]}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:(e=>{const t={active:{color:"bg-green-100 text-green-800 border-green-200",icon:D,label:"Aktif"},inactive:{color:"bg-red-100 text-red-800 border-red-200",icon:je,label:"Pasif"},suspended:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:me,label:"Askıya Alındı"}},s=t[e]||t.inactive,r=s.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${s.color}`,children:[a.jsx(r,{className:"w-3 h-3 mr-1"}),s.label]})})(s.status)})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-blue-100 text-blue-600 rounded-full transition-colors border border-blue-100",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[l.urgent&&a.jsx("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-xl",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{className:"w-4 h-4 text-orange-600"}),a.jsxs("span",{className:`font-semibold ${l.color}`,children:["Ehliyet Uyarısı: ",l.label]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-100/30 to-white/60 rounded-xl p-5 border border-blue-100 shadow",children:[a.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[a.jsx(c,{className:"w-4 h-4"}),"Kişisel Bilgiler"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Telefon:"}),a.jsx("p",{className:"font-medium",children:s.phone})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"E-posta:"}),a.jsx("p",{className:"font-medium",children:s.email})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Kan Grubu:"}),a.jsx("p",{className:"font-medium",children:s.bloodType})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"İşe Başlama:"}),a.jsx("p",{className:"font-medium",children:new Date(s.joinDate).toLocaleDateString("tr-TR")})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-100/30 to-white/60 rounded-xl p-5 border border-blue-100 shadow",children:[a.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[a.jsx(n,{className:"w-4 h-4"}),"İletişim"]}),a.jsxs("div",{className:"text-sm space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Adres:"}),a.jsx("p",{className:"font-medium",children:s.address})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Acil Durum:"}),a.jsx("p",{className:"font-medium",children:s.emergencyContact})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-100/30 to-white/60 rounded-xl p-5 border border-blue-100 shadow",children:[a.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[a.jsx(G,{className:"w-4 h-4"}),"Lisans & Araç"]}),a.jsxs("div",{className:"text-sm space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ehliyet No:"}),a.jsx("p",{className:"font-medium",children:s.licenseNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Geçerlilik:"}),a.jsxs("p",{className:`font-medium ${l.color}`,children:[new Date(s.licenseExpiry).toLocaleDateString("tr-TR")," (",l.label,")"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Atanan Araç:"}),a.jsx("p",{className:"font-medium",children:(e=>{const t=r.find(t=>t.id===e);return t?`${t.brand} ${t.model} (${t.plateNumber})`:"Araç atanmamış"})(s.assignedVehicle)})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-100/30 to-white/60 rounded-xl p-5 border border-blue-100 shadow",children:[a.jsxs("h3",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[a.jsx(B,{className:"w-4 h-4"}),"Finansal & Performans"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Komisyon:"}),a.jsxs("p",{className:"font-medium text-green-600",children:["%",s.commission||0]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Toplam Sefer:"}),a.jsx("p",{className:"font-medium",children:s.totalTrips})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Aylık Ort.:"}),a.jsx("p",{className:"font-medium",children:Math.round(s.totalTrips/12)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Durum:"}),a.jsx("p",{className:"font-medium",children:"active"===s.status?"Aktif":"Pasif"})]})]})]})]})]})]}),a.jsx("div",{className:"flex justify-end p-6 border-t border-slate-200 bg-gradient-to-r from-blue-600/10 via-indigo-600/10 to-purple-600/10",children:a.jsx("button",{onClick:t,className:"px-5 py-2 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all font-semibold shadow",children:"Kapat"})})]})})},bi=()=>{const[e,t]=ze.useState([]),[s,r]=ze.useState([]),[n,l]=ze.useState([]),[i,o]=ze.useState(!0),[c,d]=ze.useState(null),[m,u]=ze.useState(""),[h,p]=ze.useState("all"),[x,g]=ze.useState("all"),[f,b]=ze.useState("all"),[v,y]=ze.useState(!1),[j,N]=ze.useState(!1),[w,C]=ze.useState(!1);ze.useEffect(()=>{(async()=>{o(!0);try{const e=jt(Nt(ir,"users"),Lt("role","==",dr)),s=Pt(e,e=>{const s=e.docs.map(e=>({id:e.id,...e.data(),name:e.data().firstName&&e.data().lastName?`${e.data().firstName} ${e.data().lastName}`:e.data().name||e.data().email,phone:e.data().phone||"",licenseNumber:e.data().licenseNumber||"Belirtilmemiş",vehicle:e.data().assignedVehicle||"Atanmamış",status:e.data().isActive?"active":"inactive"}));t(s),o(!1)},e=>{console.error("Şoförler yüklenirken hata:",e),o(!1)}),r=jt(Nt(ir,"vehicles"),Lt("status","==","active")),a=Pt(r,e=>{console.log("Aktif araçlar güncellendi, döküman sayısı:",e.docs.length);const t=e.docs.map(e=>({id:e.id,...e.data()}));l(t)},e=>{console.error("Araçlar yüklenirken hata:",e)});return()=>{s(),a()}}catch(e){console.error("Firebase başlatma hatası:",e),o(!1)}})()},[]);ze.useEffect(()=>{(()=>{if(!e||0===e.length)return void r([]);let t=[...e];if(m){const e=m.toLowerCase();t=t.filter(t=>(t.firstName||"").toLowerCase().includes(e)||(t.lastName||"").toLowerCase().includes(e)||(t.phone||"").includes(m)||(t.email||"").toLowerCase().includes(e)||(t.licenseNumber||"").includes(m))}if("all"!==h&&(t=t.filter(e=>e.status===h)),"all"!==x&&("assigned"===x?t=t.filter(e=>e.assignedVehicle):"unassigned"===x&&(t=t.filter(e=>!e.assignedVehicle))),"all"!==f){const e=new Date,s=new Date(e.getTime()+2592e6);new Date(e.getTime()+7776e6),t=t.filter(t=>{const r=new Date(t.licenseExpiry);switch(f){case"expired":return r<e;case"expiring":return r>=e&&r<=s;case"valid":return r>s;default:return!0}})}r(t)})()},[e,m,h,x,f]);return i?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(fe,{className:"w-8 h-8 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Şoförler yükleniyor..."})]})}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Şoför Yönetimi"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Toplam ",e.length," şoför • Filtrelenmiş ",s.length," şoför"]})]}),a.jsxs("button",{onClick:()=>{console.log("Yeni Şoför Ekle butonuna tıklandı"),y(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(V,{className:"w-4 h-4"}),"Yeni Şoför Ekle"]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Aktif Şoförler",value:e.filter(e=>"active"===e.status).length,color:"text-green-600",bg:"bg-green-100"},{label:"Pasif Şoförler",value:e.filter(e=>"inactive"===e.status).length,color:"text-red-600",bg:"bg-red-100"},{label:"Araç Atanmış",value:e.filter(e=>e.assignedVehicle).length,color:"text-blue-600",bg:"bg-blue-100"},{label:"Araç Bekleyen",value:e.filter(e=>!e.assignedVehicle).length,color:"text-yellow-600",bg:"bg-yellow-100"}].map((e,t)=>a.jsx("div",{className:"bg-white rounded-lg border border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${e.bg}`,children:a.jsx(k,{className:`w-4 h-4 ${e.color}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:e.label}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.value})]})]})},t))}),a.jsx(pi,{searchTerm:m,setSearchTerm:u,statusFilter:h,setStatusFilter:p,vehicleFilter:x,setVehicleFilter:g,licenseExpiryFilter:f,setLicenseExpiryFilter:b,onClearFilters:()=>{u(""),p("all"),g("all"),b("all")},vehicles:n}),a.jsx(hi,{drivers:s,vehicles:n,onEdit:e=>{console.log("Şoför düzenleme başlatılıyor:",e),d(e),N(!0)},onDelete:async e=>{if(window.confirm("Bu şoförü silmek istediğinizden emin misiniz?"))try{await Ct(dt(ir,"users",e)),console.log("Şoför silindi:",e),alert("Şoför başarıyla silindi!")}catch(t){console.error("Şoför silinirken hata:",t),alert("Şoför silinirken bir hata oluştu: "+t.message)}},onStatusChange:async(e,t)=>{console.log("Durum değiştirme başlatılıyor:",e,t);try{const s="active"===t;await ut(dt(ir,"users",e),{isActive:s,status:t,updatedAt:(new Date).toISOString()}),console.log("Şoför durumu güncellendi:",e,t)}catch(s){console.error("Durum güncellenirken hata:",s),alert("Durum güncellenirken bir hata oluştu: "+s.message)}},onViewDetails:e=>{d(e),C(!0)}}),a.jsx(xi,{isOpen:v,vehicles:n,onClose:()=>y(!1),onSave:async e=>{console.log("Şoför ekleme başlatılıyor:",e);try{const t={...e,role:"driver",isActive:!0,totalTrips:0,joinDate:(new Date).toISOString().split("T")[0],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};console.log("Firebase'a eklenecek veri:",t);const s=await Bt(Nt(ir,"users"),t);console.log("Yeni şoför eklendi, ID:",s.id),y(!1),alert("Şoför başarıyla eklendi!")}catch(t){console.error("Şoför eklenirken hata:",t),alert("Şoför eklenirken bir hata oluştu: "+t.message)}}}),a.jsx(gi,{isOpen:j,driver:c,vehicles:n,onClose:()=>{N(!1),d(null)},onSave:e=>(async(e,t)=>{console.log("Şoför güncelleme başlatılıyor:",e,t);try{await ut(dt(ir,"users",e),{...t,updatedAt:(new Date).toISOString()}),console.log("Şoför güncellendi:",e),N(!1),d(null),alert("Şoför bilgileri başarıyla güncellendi!")}catch(s){console.error("Şoför güncellenirken hata:",s),alert("Şoför güncellenirken bir hata oluştu: "+s.message)}})(e.id,e)}),a.jsx(fi,{isOpen:w,driver:c,vehicles:n,onClose:()=>{C(!1),d(null)}})]})},vi=()=>{const{state:e,addExtraService:t,updateExtraService:s,deleteExtraService:r}=qr(),{extraServices:n=[]}=e,[l,o]=ze.useState(!1),[c,d]=ze.useState(null),[m,u]=ze.useState(""),[h,p]=ze.useState(!1),[x,g]=ze.useState({name:"",description:"",price:"",category:"comfort",icon:"Package",status:"active",isPopular:!1,duration:"",restrictions:""}),f=[{value:"comfort",label:"Konfor",icon:O},{value:"luggage",label:"Bagaj",icon:C},{value:"time",label:"Zaman",icon:T},{value:"vehicle",label:"Araç",icon:w},{value:"passenger",label:"Yolcu",icon:k}],b=()=>{g({name:"",description:"",price:"",category:"comfort",icon:"Package",status:"active",isPopular:!1,duration:"",restrictions:""})},v=(e,t)=>{g(s=>({...s,[e]:t}))},N=()=>{o(!1),d(null),b()},P=n.filter(e=>{var t,s,r;return(null==(t=e.name)?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.description)?void 0:s.toLowerCase().includes(m.toLowerCase()))||(null==(r=e.category)?void 0:r.toLowerCase().includes(m.toLowerCase()))});return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ek Hizmetler Yönetimi"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Transfer hizmetlerinize eklenebilecek ek hizmetleri yönetin"})]}),a.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors shadow-lg",children:[a.jsx(V,{className:"h-5 w-5"}),a.jsx("span",{children:"Yeni Ek Hizmet"})]})]}),a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(te,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Ek hizmet ara...",value:m,onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-80"})]})}),a.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(C,{className:"h-4 w-4 text-blue-500"}),a.jsxs("span",{children:["Toplam: ",n.length]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(R,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{children:["Aktif: ",n.filter(e=>"active"===e.status).length]})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(e=>{const t=(s=e.category,f.find(e=>e.value===s)||f[0]);var s;const n=t.icon;return a.jsxs(j.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg "+("active"===e.status?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"),children:a.jsx(n,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx("span",{children:e.name}),e.isPopular&&a.jsx(O,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),a.jsx("p",{className:"text-sm text-gray-500",children:t.label})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{d(e),g(e),o(!0)})(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(ue,{className:"h-4 w-4"})}),a.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(async e=>{if(window.confirm("Bu ek hizmeti silmek istediğinizden emin misiniz?"))try{await r(e),Os.success("Ek hizmet başarıyla silindi!")}catch(t){console.error("Ek hizmet silme hatası:",t),Os.error("Silme işlemi sırasında bir hata oluştu")}})(e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(he,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:e.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(B,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["₺",e.price]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"active"===e.status?"Aktif":"Pasif"})]}),e.duration&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(T,{className:"h-4 w-4"}),a.jsx("span",{children:e.duration})]})]})]},e.id)})}),0===P.length&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(C,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ek hizmet bulunamadı"}),a.jsx("p",{className:"text-gray-500 mb-6",children:m?"Arama kriterlerinize uygun ek hizmet bulunamadı.":"Henüz ek hizmet eklenmemiş."}),!m&&a.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"inline-flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(V,{className:"h-5 w-5"}),a.jsx("span",{children:"İlk Ek Hizmeti Ekle"})]})]}),a.jsx(y,{children:l&&a.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Ek Hizmeti Düzenle":"Yeni Ek Hizmet Ekle"}),a.jsx("button",{onClick:N,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(i,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault();const r=(()=>{const e={};return x.name.trim()||(e.name="Hizmet adı gerekli"),x.description.trim()||(e.description="Açıklama gerekli"),(!x.price||x.price<0)&&(e.price="Geçerli fiyat gerekli"),e})();if(Object.keys(r).length>0)Object.values(r).forEach(e=>Os.error(e));else{p(!0);try{const e={...x,price:parseFloat(x.price),createdAt:c?c.createdAt:new Date,updatedAt:new Date};c?(await s(c.id,e),Os.success("Ek hizmet başarıyla güncellendi!")):(await t(e),Os.success("Ek hizmet başarıyla eklendi!")),b(),o(!1),d(null)}catch(a){console.error("Ek hizmet işlem hatası:",a),Os.error("İşlem sırasında bir hata oluştu")}finally{p(!1)}}},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hizmet Adı *"}),a.jsx("input",{type:"text",value:x.name,onChange:e=>v("name",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Örn: VIP Karşılama, Bagaj Taşıma...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama *"}),a.jsx("textarea",{value:x.description,onChange:e=>v("description",e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Hizmet detaylarını açıklayın...",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fiyat (₺) *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:x.price,onChange:e=>v("price",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),a.jsx("select",{value:x.category,onChange:e=>v("category",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:f.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İkon"}),a.jsx("select",{value:x.icon,onChange:e=>v("icon",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["Package","Star","Clock","Car","Users","Shield","Coffee","Wifi","Music","Phone","MapPin","Heart","Gift"].map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durum"}),a.jsxs("select",{value:x.status,onChange:e=>v("status",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"active",children:"Aktif"}),a.jsx("option",{value:"inactive",children:"Pasif"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Süre (Opsiyonel)"}),a.jsx("input",{type:"text",value:x.duration,onChange:e=>v("duration",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Örn: 30 dakika, 1 saat..."})]}),a.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[a.jsx("input",{type:"checkbox",id:"isPopular",checked:x.isPopular,onChange:e=>v("isPopular",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPopular",className:"text-sm font-medium text-gray-700",children:"Popüler hizmet olarak işaretle"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kısıtlamalar (Opsiyonel)"}),a.jsx("textarea",{value:x.restrictions,onChange:e=>v("restrictions",e.target.value),rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Bu hizmet için özel koşullar veya kısıtlamalar..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:N,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),a.jsx(j.button,{type:"submit",disabled:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Kaydediliyor...":c?"Güncelle":"Kaydet"})]})]})]})})})]})},yi=async(e,t)=>{try{const s=t.assignedDriver||t.assignedDriverId||t.driverId,{totalPrice:r,paymentMethod:a,customerInfo:n,tripDetails:l}=t;if(!s||!r)return void console.log("Eksik veri: driverId veya totalPrice bulunamadı");const i=await ct(dt(ir,"users",s));if(!i.exists())throw console.error("Şoför bulunamadı:",s),new Error(`Şoför bulunamadı: ${s}`);const o=i.data(),c=r*(o.commissionRate||15)/100;let d=0,m="";"cash"===a?(d=-c,m=`Nakit rezervasyon komisyonu - ${e}`):"card"!==a&&"credit_card"!==a||(d=+(r-c),m=`Kart rezervasyon kazancı - ${e}`);const u=o.balance||0,h=u+d,p={id:Date.now().toString(),type:d>0?"earning":"commission_debt",amount:Math.abs(d),note:m,date:new Date,balanceBefore:u,balanceAfter:h,reservationId:e,paymentMethod:a,totalPrice:r,commission:c,customerName:`${n.firstName} ${n.lastName}`,tripRoute:`${l.pickupLocation} → ${l.dropoffLocation}`},x=[...o.transactions||[],p];return await ut(dt(ir,"users",s),{balance:h,transactions:x,lastTransactionDate:new Date,totalEarnings:(o.totalEarnings||0)+(d>0?d:0),totalCommission:(o.totalCommission||0)+c,completedTrips:(o.completedTrips||0)+1}),await Bt(Nt(ir,"financial_transactions"),{...p,driverId:s,createdAt:new Date,processedBy:"system_auto"}),console.log(`Şoför ${s} cari hesabı güncellendi:`,{oldBalance:u,newBalance:h,change:d,paymentMethod:a}),{success:!0,oldBalance:u,newBalance:h,transaction:p}}catch(s){throw console.error("Şoför finansal güncelleme hatası:",s),s}};function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e){var t=function(e,t){if("object"!=ji(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t);if("object"!=ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ji(t)?t:t+""}function wi(e,t,s){return(t=Ni(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ki(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ci,Bi;var Pi=(Bi||(Bi=1,Ci=function(e,t,s,r,a,n,l,i){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,r,a,n,l,i],d=0;(o=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw o.framesToPop=1,o}}),Ci),Si=ki(Pi),Li=ze.createContext(null);function Ei(e,t,s,r){var a,n,l={};return a=e,n=(e,a)=>{var n=s[a];n!==t[a]&&(l[a]=n,e(r,n))},Object.keys(a).forEach(e=>n(a[e],e)),l}function Di(e,t,s){var r,a,n,l=(r=s,a=function(s,r,a){return"function"==typeof e[a]&&s.push(google.maps.event.addListener(t,r,e[a])),s},n=[],Object.keys(r).reduce(function(e,t){return a(e,r[t],t)},n));return l}function Mi(e){google.maps.event.removeListener(e)}function Ti(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(Mi)}function Ai(e){var{updaterMap:t,eventMap:s,prevProps:r,nextProps:a,instance:n}=e,l=Di(a,n,s);return Ei(t,r,a,n),l}function Ii(e,t,s,r,a,n,l){try{var i=e[n](l),o=i.value}catch(c){return void s(c)}i.done?t(o):Promise.resolve(o).then(r,a)}function Oi(e){return function(){var t=this,s=arguments;return new Promise(function(r,a){var n=e.apply(t,s);function l(e){Ii(n,r,a,l,i,"next",e)}function i(e){Ii(n,r,a,l,i,"throw",e)}l(void 0)})}}function zi(e){var{googleMapsApiKey:t,googleMapsClientId:s,version:r="weekly",language:a,region:n,libraries:l,channel:i,mapIds:o,authReferrerPolicy:c,apiUrl:d="https://maps.googleapis.com"}=e,m=[];return Si(t&&s||!(t&&s),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?m.push("key=".concat(t)):s&&m.push("client=".concat(s)),r&&m.push("v=".concat(r)),a&&m.push("language=".concat(a)),n&&m.push("region=".concat(n)),l&&l.length&&m.push("libraries=".concat(l.sort().join(","))),i&&m.push("channel=".concat(i)),o&&o.length&&m.push("map_ids=".concat(o.join(","))),c&&m.push("auth_referrer_policy=".concat(c)),m.push("loading=async"),m.push("callback=initMap"),"".concat(d,"/maps/api/js?").concat(m.join("&"))}ze.memo(function(e){var{children:t,options:s,id:r,mapContainerStyle:n,mapContainerClassName:l,center:i,onClick:o,onDblClick:c,onDrag:d,onDragEnd:m,onDragStart:u,onMouseMove:h,onMouseOut:p,onMouseOver:x,onMouseDown:g,onMouseUp:f,onRightClick:b,onCenterChanged:v,onLoad:y,onUnmount:j}=e,[N,w]=ze.useState(null),k=ze.useRef(null),[C,B]=ze.useState(null),[P,S]=ze.useState(null),[L,E]=ze.useState(null),[D,M]=ze.useState(null),[T,A]=ze.useState(null),[I,O]=ze.useState(null),[z,R]=ze.useState(null),[_,U]=ze.useState(null),[H,V]=ze.useState(null),[F,$]=ze.useState(null),[K,G]=ze.useState(null),[Y,Z]=ze.useState(null);return ze.useEffect(()=>{s&&null!==N&&N.setOptions(s)},[N,s]),ze.useEffect(()=>{null!==N&&void 0!==i&&N.setCenter(i)},[N,i]),ze.useEffect(()=>{N&&c&&(null!==P&&google.maps.event.removeListener(P),S(google.maps.event.addListener(N,"dblclick",c)))},[c]),ze.useEffect(()=>{N&&m&&(null!==L&&google.maps.event.removeListener(L),E(google.maps.event.addListener(N,"dragend",m)))},[m]),ze.useEffect(()=>{N&&u&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(N,"dragstart",u)))},[u]),ze.useEffect(()=>{N&&g&&(null!==T&&google.maps.event.removeListener(T),A(google.maps.event.addListener(N,"mousedown",g)))},[g]),ze.useEffect(()=>{N&&h&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(N,"mousemove",h)))},[h]),ze.useEffect(()=>{N&&p&&(null!==z&&google.maps.event.removeListener(z),R(google.maps.event.addListener(N,"mouseout",p)))},[p]),ze.useEffect(()=>{N&&x&&(null!==_&&google.maps.event.removeListener(_),U(google.maps.event.addListener(N,"mouseover",x)))},[x]),ze.useEffect(()=>{N&&f&&(null!==H&&google.maps.event.removeListener(H),V(google.maps.event.addListener(N,"mouseup",f)))},[f]),ze.useEffect(()=>{N&&b&&(null!==F&&google.maps.event.removeListener(F),$(google.maps.event.addListener(N,"rightclick",b)))},[b]),ze.useEffect(()=>{N&&o&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(N,"click",o)))},[o]),ze.useEffect(()=>{N&&d&&(null!==Y&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(N,"drag",d)))},[d]),ze.useEffect(()=>{N&&v&&(null!==C&&google.maps.event.removeListener(C),B(google.maps.event.addListener(N,"center_changed",v)))},[o]),ze.useEffect(()=>{var e=null===k.current?null:new google.maps.Map(k.current,s);return w(e),null!==e&&y&&y(e),()=>{null!==e&&j&&j(e)}},[]),a.jsx("div",{id:r,ref:k,style:n,className:l,children:a.jsx(Li.Provider,{value:N,children:null!==N?t:null})})});var Ri="undefined"!=typeof document;function _i(e){var{url:t,id:s,nonce:r}=e;return Ri?new Promise(function(e,a){var n=document.getElementById(s),l=window;if(n){var i=n.getAttribute("data-state");if(n.src===t&&"error"!==i){if("ready"===i)return e(s);var o=l.initMap,c=n.onerror;return l.initMap=function(){o&&o(),e(s)},void(n.onerror=function(e){c&&c(e),a(e)})}n.remove()}var d=document.createElement("script");d.type="text/javascript",d.src=t,d.id=s,d.async=!0,d.nonce=r||"",d.onerror=function(e){d.setAttribute("data-state","error"),a(e)},l.initMap=function(){d.setAttribute("data-state","ready"),e(s)},document.head.appendChild(d)}).catch(e=>{throw console.error("injectScript error: ",e),e}):Promise.reject(new Error("document is undefined"))}function Ui(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function Hi(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(s,r){return Ui(s)||Reflect.apply(t,e,[s,r]),s};var s=e.appendChild.bind(e);e.appendChild=function(t){return Ui(t)||Reflect.apply(s,e,[t]),t}}}var Vi=!1;function Fi(){return a.jsx("div",{children:"Loading..."})}var $i,Ki={id:"script-loader",version:"weekly"};class Gi extends ze.PureComponent{constructor(){super(...arguments),wi(this,"check",null),wi(this,"state",{loaded:!1}),wi(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),wi(this,"isCleaningUp",Oi(function*(){return new Promise(function(e){if(Vi){if(Ri)var t=window.setInterval(function(){Vi||(window.clearInterval(t),e())},1)}else e()})})),wi(this,"cleanup",()=>{Vi=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(e){return"string"==typeof e.src&&e.src.includes("maps.googleapis")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}),wi(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Hi(),Si(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),_i({id:this.props.id,nonce:this.props.nonce,url:zi(this.props)}).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))})}),wi(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Ri){if(window.google&&window.google.maps&&!Vi)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch(function(e){console.error("Error at injecting script after cleaning up: ",e)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ri&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ri){this.cleanup();window.setTimeout(()=>{this.check||(delete window.google,Vi=!1)},1),this.props.onUnmount&&this.props.onUnmount()}}render(){return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||a.jsx(Fi,{})]})}}function Yi(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)s=n[r],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Zi(e){var{id:t=Ki.id,version:s=Ki.version,nonce:r,googleMapsApiKey:a,googleMapsClientId:n,language:l,region:i,libraries:o,preventGoogleFontsLoading:c,channel:d,mapIds:m,authReferrerPolicy:u,apiUrl:h="https://maps.googleapis.com"}=e,p=ze.useRef(!1),[x,g]=ze.useState(!1),[f,b]=ze.useState(void 0);ze.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),ze.useEffect(function(){Ri&&c&&Hi()},[c]),ze.useEffect(function(){x&&Si(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[x]);var v=zi({version:s,googleMapsApiKey:a,googleMapsClientId:n,language:l,region:i,libraries:o,channel:d,mapIds:m,authReferrerPolicy:u,apiUrl:h});ze.useEffect(function(){function e(){p.current&&(g(!0),$i=v)}Ri&&(window.google&&window.google.maps&&$i===v?e():_i({id:t,url:v,nonce:r}).then(e).catch(function(e){p.current&&b(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(a||"-",") or Client ID (").concat(n||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)}))},[t,v,r]);var y=ze.useRef(void 0);return ze.useEffect(function(){y.current&&o!==y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),y.current=o},[o]),{isLoaded:x,loadError:f,url:v}}wi(Gi,"defaultProps",Ki);var Wi,qi,Qi=["loadingElement","onLoad","onError","onUnmount","children"],Xi=a.jsx(Fi,{});function Ji(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function eo(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ji(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}ze.memo(function(e){var{loadingElement:t,onLoad:s,onError:r,onUnmount:a,children:n}=e,l=Yi(e,Qi),{isLoaded:i,loadError:o}=Zi(l);return ze.useEffect(function(){i&&"function"==typeof s&&s()},[i,s]),ze.useEffect(function(){o&&"function"==typeof r&&r(o)},[o,r]),ze.useEffect(function(){return()=>{a&&a()}},[a]),i?n:t||Xi}),"function"==typeof SuppressedError&&SuppressedError,(qi=Wi||(Wi={}))[qi.INITIALIZED=0]="INITIALIZED",qi[qi.LOADING=1]="LOADING",qi[qi.SUCCESS=2]="SUCCESS",qi[qi.FAILURE=3]="FAILURE";var to={},so={options(e,t){e.setOptions(t)}};ze.memo(function(e){var{options:t,onLoad:s,onUnmount:r}=e,a=ze.useContext(Li),[n,l]=ze.useState(null);return ze.useEffect(()=>{null!==n&&n.setMap(a)},[a]),ze.useEffect(()=>{t&&null!==n&&n.setOptions(t)},[n,t]),ze.useEffect(()=>{var e=new google.maps.TrafficLayer(eo(eo({},t),{},{map:a}));return l(e),s&&s(e),()=>{null!==n&&(r&&r(n),n.setMap(null))}},[]),null});class ro extends ze.PureComponent{constructor(){super(...arguments),wi(this,"state",{trafficLayer:null}),wi(this,"setTrafficLayerCallback",()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),wi(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(eo(eo({},this.props.options),{},{map:this.context}));this.registeredEvents=Ai({updaterMap:so,eventMap:to,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:so,eventMap:to,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Ti(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}wi(ro,"contextType",Li),ze.memo(function(e){var{onLoad:t,onUnmount:s}=e,r=ze.useContext(Li),[a,n]=ze.useState(null);return ze.useEffect(()=>{null!==a&&a.setMap(r)},[r]),ze.useEffect(()=>{var e=new google.maps.BicyclingLayer;return n(e),e.setMap(r),t&&t(e),()=>{null!==e&&(s&&s(e),e.setMap(null))}},[]),null});class ao extends ze.PureComponent{constructor(){super(...arguments),wi(this,"state",{bicyclingLayer:null}),wi(this,"setBicyclingLayerCallback",()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}wi(ao,"contextType",Li),ze.memo(function(e){var{onLoad:t,onUnmount:s}=e,r=ze.useContext(Li),[a,n]=ze.useState(null);return ze.useEffect(()=>{null!==a&&a.setMap(r)},[r]),ze.useEffect(()=>{var e=new google.maps.TransitLayer;return n(e),e.setMap(r),t&&t(e),()=>{null!==a&&(s&&s(a),a.setMap(null))}},[]),null});class no extends ze.PureComponent{constructor(){super(...arguments),wi(this,"state",{transitLayer:null}),wi(this,"setTransitLayerCallback",()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function lo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function io(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lo(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(no,"contextType",Li);var oo={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},co={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};ze.memo(function(e){var{options:t,drawingMode:s,onCircleComplete:r,onMarkerComplete:a,onOverlayComplete:n,onPolygonComplete:l,onPolylineComplete:i,onRectangleComplete:o,onLoad:c,onUnmount:d}=e,m=ze.useContext(Li),[u,h]=ze.useState(null),[p,x]=ze.useState(null),[g,f]=ze.useState(null),[b,v]=ze.useState(null),[y,j]=ze.useState(null),[N,w]=ze.useState(null),[k,C]=ze.useState(null);return ze.useEffect(()=>{null!==u&&u.setMap(m)},[m]),ze.useEffect(()=>{t&&null!==u&&u.setOptions(t)},[u,t]),ze.useEffect(()=>{null!==u&&u.setDrawingMode(null!=s?s:null)},[u,s]),ze.useEffect(()=>{u&&r&&(null!==p&&google.maps.event.removeListener(p),x(google.maps.event.addListener(u,"circlecomplete",r)))},[u,r]),ze.useEffect(()=>{u&&a&&(null!==g&&google.maps.event.removeListener(g),f(google.maps.event.addListener(u,"markercomplete",a)))},[u,a]),ze.useEffect(()=>{u&&n&&(null!==b&&google.maps.event.removeListener(b),v(google.maps.event.addListener(u,"overlaycomplete",n)))},[u,n]),ze.useEffect(()=>{u&&l&&(null!==y&&google.maps.event.removeListener(y),j(google.maps.event.addListener(u,"polygoncomplete",l)))},[u,l]),ze.useEffect(()=>{u&&i&&(null!==N&&google.maps.event.removeListener(N),w(google.maps.event.addListener(u,"polylinecomplete",i)))},[u,i]),ze.useEffect(()=>{u&&o&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(u,"rectanglecomplete",o)))},[u,o]),ze.useEffect(()=>{Si(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(io(io({},t),{},{map:m}));return s&&e.setDrawingMode(s),r&&x(google.maps.event.addListener(e,"circlecomplete",r)),a&&f(google.maps.event.addListener(e,"markercomplete",a)),n&&v(google.maps.event.addListener(e,"overlaycomplete",n)),l&&j(google.maps.event.addListener(e,"polygoncomplete",l)),i&&w(google.maps.event.addListener(e,"polylinecomplete",i)),o&&C(google.maps.event.addListener(e,"rectanglecomplete",o)),h(e),c&&c(e),()=>{null!==u&&(p&&google.maps.event.removeListener(p),g&&google.maps.event.removeListener(g),b&&google.maps.event.removeListener(b),y&&google.maps.event.removeListener(y),N&&google.maps.event.removeListener(N),k&&google.maps.event.removeListener(k),d&&d(u),u.setMap(null))}},[]),null});class mo extends ze.PureComponent{constructor(e){super(e),wi(this,"registeredEvents",[]),wi(this,"state",{drawingManager:null}),wi(this,"setDrawingManagerCallback",()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Si(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(io(io({},this.props.options),{},{map:this.context}));this.registeredEvents=Ai({updaterMap:co,eventMap:oo,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:co,eventMap:oo,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Ti(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function uo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function ho(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uo(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(mo,"contextType",Li);var po={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},xo={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},go={};ze.memo(function(e){var{position:t,options:s,clusterer:r,noClustererRedraw:n,children:l,draggable:i,visible:o,animation:c,clickable:d,cursor:m,icon:u,label:h,opacity:p,shape:x,title:g,zIndex:f,onClick:b,onDblClick:v,onDrag:y,onDragEnd:j,onDragStart:N,onMouseOut:w,onMouseOver:k,onMouseUp:C,onMouseDown:B,onRightClick:P,onClickableChanged:S,onCursorChanged:L,onAnimationChanged:E,onDraggableChanged:D,onFlatChanged:M,onIconChanged:T,onPositionChanged:A,onShapeChanged:I,onTitleChanged:O,onVisibleChanged:z,onZindexChanged:R,onLoad:_,onUnmount:U}=e,H=ze.useContext(Li),[V,F]=ze.useState(null),[$,K]=ze.useState(null),[G,Y]=ze.useState(null),[Z,W]=ze.useState(null),[q,Q]=ze.useState(null),[X,J]=ze.useState(null),[ee,te]=ze.useState(null),[se,re]=ze.useState(null),[ae,ne]=ze.useState(null),[le,ie]=ze.useState(null),[oe,ce]=ze.useState(null),[de,me]=ze.useState(null),[ue,he]=ze.useState(null),[pe,xe]=ze.useState(null),[ge,fe]=ze.useState(null),[be,ve]=ze.useState(null),[ye,je]=ze.useState(null),[Ne,we]=ze.useState(null),[ke,Ce]=ze.useState(null),[Be,Pe]=ze.useState(null),[Se,Le]=ze.useState(null),[Ee,De]=ze.useState(null);ze.useEffect(()=>{null!==V&&V.setMap(H)},[H]),ze.useEffect(()=>{void 0!==s&&null!==V&&V.setOptions(s)},[V,s]),ze.useEffect(()=>{void 0!==i&&null!==V&&V.setDraggable(i)},[V,i]),ze.useEffect(()=>{t&&null!==V&&V.setPosition(t)},[V,t]),ze.useEffect(()=>{void 0!==o&&null!==V&&V.setVisible(o)},[V,o]),ze.useEffect(()=>{null==V||V.setAnimation(c)},[V,c]),ze.useEffect(()=>{V&&void 0!==d&&V.setClickable(d)},[V,d]),ze.useEffect(()=>{V&&void 0!==m&&V.setCursor(m)},[V,m]),ze.useEffect(()=>{V&&void 0!==u&&V.setIcon(u)},[V,u]),ze.useEffect(()=>{V&&void 0!==h&&V.setLabel(h)},[V,h]),ze.useEffect(()=>{V&&void 0!==p&&V.setOpacity(p)},[V,p]),ze.useEffect(()=>{V&&void 0!==x&&V.setShape(x)},[V,x]),ze.useEffect(()=>{V&&void 0!==g&&V.setTitle(g)},[V,g]),ze.useEffect(()=>{V&&void 0!==f&&V.setZIndex(f)},[V,f]),ze.useEffect(()=>{V&&v&&(null!==$&&google.maps.event.removeListener($),K(google.maps.event.addListener(V,"dblclick",v)))},[v]),ze.useEffect(()=>{V&&j&&(null!==G&&google.maps.event.removeListener(G),Y(google.maps.event.addListener(V,"dragend",j)))},[j]),ze.useEffect(()=>{V&&N&&(null!==Z&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(V,"dragstart",N)))},[N]),ze.useEffect(()=>{V&&B&&(null!==q&&google.maps.event.removeListener(q),Q(google.maps.event.addListener(V,"mousedown",B)))},[B]),ze.useEffect(()=>{V&&w&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(V,"mouseout",w)))},[w]),ze.useEffect(()=>{V&&k&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(V,"mouseover",k)))},[k]),ze.useEffect(()=>{V&&C&&(null!==se&&google.maps.event.removeListener(se),re(google.maps.event.addListener(V,"mouseup",C)))},[C]),ze.useEffect(()=>{V&&P&&(null!==ae&&google.maps.event.removeListener(ae),ne(google.maps.event.addListener(V,"rightclick",P)))},[P]),ze.useEffect(()=>{V&&b&&(null!==le&&google.maps.event.removeListener(le),ie(google.maps.event.addListener(V,"click",b)))},[b]),ze.useEffect(()=>{V&&y&&(null!==oe&&google.maps.event.removeListener(oe),ce(google.maps.event.addListener(V,"drag",y)))},[y]),ze.useEffect(()=>{V&&S&&(null!==de&&google.maps.event.removeListener(de),me(google.maps.event.addListener(V,"clickable_changed",S)))},[S]),ze.useEffect(()=>{V&&L&&(null!==ue&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(V,"cursor_changed",L)))},[L]),ze.useEffect(()=>{V&&E&&(null!==pe&&google.maps.event.removeListener(pe),xe(google.maps.event.addListener(V,"animation_changed",E)))},[E]),ze.useEffect(()=>{V&&D&&(null!==ge&&google.maps.event.removeListener(ge),fe(google.maps.event.addListener(V,"draggable_changed",D)))},[D]),ze.useEffect(()=>{V&&M&&(null!==be&&google.maps.event.removeListener(be),ve(google.maps.event.addListener(V,"flat_changed",M)))},[M]),ze.useEffect(()=>{V&&T&&(null!==ye&&google.maps.event.removeListener(ye),je(google.maps.event.addListener(V,"icon_changed",T)))},[T]),ze.useEffect(()=>{V&&A&&(null!==Ne&&google.maps.event.removeListener(Ne),we(google.maps.event.addListener(V,"position_changed",A)))},[A]),ze.useEffect(()=>{V&&I&&(null!==ke&&google.maps.event.removeListener(ke),Ce(google.maps.event.addListener(V,"shape_changed",I)))},[I]),ze.useEffect(()=>{V&&O&&(null!==Be&&google.maps.event.removeListener(Be),Pe(google.maps.event.addListener(V,"title_changed",O)))},[O]),ze.useEffect(()=>{V&&z&&(null!==Se&&google.maps.event.removeListener(Se),Le(google.maps.event.addListener(V,"visible_changed",z)))},[z]),ze.useEffect(()=>{V&&R&&(null!==Ee&&google.maps.event.removeListener(Ee),De(google.maps.event.addListener(V,"zindex_changed",R)))},[R]),ze.useEffect(()=>{var e=ho(ho(ho({},s||go),r?go:{map:H}),{},{position:t}),a=new google.maps.Marker(e);return r?r.addMarker(a,!!n):a.setMap(H),t&&a.setPosition(t),void 0!==o&&a.setVisible(o),void 0!==i&&a.setDraggable(i),void 0!==d&&a.setClickable(d),"string"==typeof m&&a.setCursor(m),u&&a.setIcon(u),void 0!==h&&a.setLabel(h),void 0!==p&&a.setOpacity(p),x&&a.setShape(x),"string"==typeof g&&a.setTitle(g),"number"==typeof f&&a.setZIndex(f),v&&K(google.maps.event.addListener(a,"dblclick",v)),j&&Y(google.maps.event.addListener(a,"dragend",j)),N&&W(google.maps.event.addListener(a,"dragstart",N)),B&&Q(google.maps.event.addListener(a,"mousedown",B)),w&&J(google.maps.event.addListener(a,"mouseout",w)),k&&te(google.maps.event.addListener(a,"mouseover",k)),C&&re(google.maps.event.addListener(a,"mouseup",C)),P&&ne(google.maps.event.addListener(a,"rightclick",P)),b&&ie(google.maps.event.addListener(a,"click",b)),y&&ce(google.maps.event.addListener(a,"drag",y)),S&&me(google.maps.event.addListener(a,"clickable_changed",S)),L&&he(google.maps.event.addListener(a,"cursor_changed",L)),E&&xe(google.maps.event.addListener(a,"animation_changed",E)),D&&fe(google.maps.event.addListener(a,"draggable_changed",D)),M&&ve(google.maps.event.addListener(a,"flat_changed",M)),T&&je(google.maps.event.addListener(a,"icon_changed",T)),A&&we(google.maps.event.addListener(a,"position_changed",A)),I&&Ce(google.maps.event.addListener(a,"shape_changed",I)),O&&Pe(google.maps.event.addListener(a,"title_changed",O)),z&&Le(google.maps.event.addListener(a,"visible_changed",z)),R&&De(google.maps.event.addListener(a,"zindex_changed",R)),F(a),_&&_(a),()=>{null!==$&&google.maps.event.removeListener($),null!==G&&google.maps.event.removeListener(G),null!==Z&&google.maps.event.removeListener(Z),null!==q&&google.maps.event.removeListener(q),null!==X&&google.maps.event.removeListener(X),null!==ee&&google.maps.event.removeListener(ee),null!==se&&google.maps.event.removeListener(se),null!==ae&&google.maps.event.removeListener(ae),null!==le&&google.maps.event.removeListener(le),null!==de&&google.maps.event.removeListener(de),null!==ue&&google.maps.event.removeListener(ue),null!==pe&&google.maps.event.removeListener(pe),null!==ge&&google.maps.event.removeListener(ge),null!==be&&google.maps.event.removeListener(be),null!==ye&&google.maps.event.removeListener(ye),null!==Ne&&google.maps.event.removeListener(Ne),null!==Be&&google.maps.event.removeListener(Be),null!==Se&&google.maps.event.removeListener(Se),null!==Ee&&google.maps.event.removeListener(Ee),U&&U(a),r?r.removeMarker(a,!!n):a&&a.setMap(null)}},[]);var Me=ze.useMemo(()=>l?ze.Children.map(l,e=>{if(!ze.isValidElement(e))return e;var t=e;return ze.cloneElement(t,{anchor:V})}):null,[l,V]);return a.jsx(a.Fragment,{children:Me})||null});class fo extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[])}componentDidMount(){var e=this;return Oi(function*(){var t=ho(ho(ho({},e.props.options||go),e.props.clusterer?go:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Ai({updaterMap:xo,eventMap:po,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:xo,eventMap:po,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Ti(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?ze.Children.map(this.props.children,e=>{if(!ze.isValidElement(e))return e;var t=e;return ze.cloneElement(t,{anchor:this.marker})}):null)||null}}wi(fo,"contextType",Li);var bo=function(){function e(t,s){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=s,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var s=t.getMaxZoom(),r=this.cluster.getBounds(),a=t.getMap();null!==a&&"fitBounds"in a&&a.fitBounds(r),this.timeOut=window.setTimeout(function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var a=e.getZoom()||0;null!==s&&a>s&&e.setZoom(s+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,s,r,a,n;if(this.div&&this.center){var l=null===this.sums||void 0===this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,i=this.backgroundPosition.split(" "),o=parseInt((null===(e=i[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=i[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==d?"".concat(d.y,"px"):"0","; left: ").concat(null!==d?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=l,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(o,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(c,"px, -").concat(o+this.width,"px, -").concat(c+this.height,", -").concat(o,")"));var u=document.createElement("div");u.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(s=this.sums)||void 0===s?void 0:s.text)&&(u.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(a=this.sums)||void 0===a?void 0:a.html)&&(u.innerHTML="".concat(null===(n=this.sums)||void 0===n?void 0:n.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(u),this.div.title=l,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),s=t[Math.min(t.length-1,Math.max(0,e.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),vo=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new bo(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,s=this.getMarkers();t<s.length;t++){var r=s[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,s;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(s=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+s.lat())/r,(this.center.lng()*(r-1)+s.lng())/r),this.calculateBounds()}}else(s=e.getPosition())&&(this.center=s,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var a=this.markers.length,n=this.markerClusterer.getMaxZoom(),l=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==n&&void 0!==l&&l>n)e.getMap()!==this.map&&e.setMap(this.map);else if(a<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(a===this.minClusterSize)for(var i=0,o=this.markers;i<o.length;i++){o[i].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,s=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==s&&void 0!==r&&r>s||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function yo(e,t){var s=e.length,r=s.toString().length,a=Math.min(r,t);return{text:s.toString(),index:a,title:""}}var jo=[53,56,66,78,90],No=function(){function e(t,s,r){void 0===s&&(s=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||jo,this.calculator=r.calculator||yo,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(s,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var s=t[e];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var r=0,a=this.clusters;r<a.length;r++){a[r].remove()}this.clusters=[];for(var n=0,l=this.listeners;n<l.length;n++){var i=l[n];google.maps.event.removeListener(i)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,s=0,r=e;s<r.length;s++){var a=r[s].getPosition();a&&t.extend(a)}var n=this.getMap();null!==n&&"fitBounds"in n&&n.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var r=e[s];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var s=0;s<this.markers.length;s++)if(e===this.markers[s]){t=s;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var s=this.removeMarker_(e);return!t&&s&&this.repaint(),s},e.prototype.removeMarkers=function(e,t){for(var s=!1,r=0,a=e;r<a.length;r++){var n=a[r];s=s||this.removeMarker_(n)}return!t&&s&&this.repaint(),s},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var t=0,s=e;t<s.length;t++){s[t].remove()}},0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),s=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==s&&(s.x+=this.gridSize,s.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==s){var a=t.fromDivPixelToLatLng(s);null!==a&&e.extend(a)}if(null!==r){var n=t.fromDivPixelToLatLng(r);null!==n&&e.extend(n)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,s=this.clusters;t<s.length;t++){s[t].remove()}this.clusters=[];for(var r=0,a=this.markers;r<a.length;r++){var n=a[r];n.isAdded=!1,e&&n.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var s=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371},e.prototype.isMarkerInBounds=function(e,t){var s=e.getPosition();return!!s&&t.contains(s)},e.prototype.addToClosestCluster=function(e){for(var t,s=4e4,r=null,a=0,n=this.clusters;a<n.length;a++){var l=(t=n[a]).getCenter(),i=e.getPosition();if(l&&i){var o=this.distanceBetweenPoints(l,i);o<s&&(s=o,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new vo(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),r=(null!==s&&"getBounds"in s?s.getBounds():null),a=((null==s?void 0:s.getZoom())||0)>3?new google.maps.LatLngBounds(null==r?void 0:r.getSouthWest(),null==r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),n=this.getExtendedBounds(a),l=Math.min(e+this.batchSize,this.markers.length),i=e;i<l;i++){var o=this.markers[i];o&&!o.isAdded&&this.isMarkerInBounds(o,n)&&(!this.ignoreHidden||this.ignoreHidden&&o.getVisible())&&this.addToClosestCluster(o)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,d=this.clusters;c<d.length;c++){d[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var s=t;this.prototype[s]=e.prototype[s]}return this}.apply(e,[t])},e}();function wo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}var ko={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Co={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},Bo={};ze.memo(function(e){var{children:t,options:s,averageCenter:r,batchSizeIE:a,calculator:n,clusterClass:l,enableRetinaIcons:i,gridSize:o,ignoreHidden:c,imageExtension:d,imagePath:m,imageSizes:u,maxZoom:h,minimumClusterSize:p,styles:x,title:g,zoomOnClick:f,onClick:b,onClusteringBegin:v,onClusteringEnd:y,onMouseOver:j,onMouseOut:N,onLoad:w,onUnmount:k}=e,[C,B]=ze.useState(null),P=ze.useContext(Li),[S,L]=ze.useState(null),[E,D]=ze.useState(null),[M,T]=ze.useState(null),[A,I]=ze.useState(null),[O,z]=ze.useState(null);return ze.useEffect(()=>{C&&N&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(C,ko.onMouseOut,N)))},[N]),ze.useEffect(()=>{C&&j&&(null!==O&&google.maps.event.removeListener(O),z(google.maps.event.addListener(C,ko.onMouseOver,j)))},[j]),ze.useEffect(()=>{C&&b&&(null!==S&&google.maps.event.removeListener(S),L(google.maps.event.addListener(C,ko.onClick,b)))},[b]),ze.useEffect(()=>{C&&v&&(null!==E&&google.maps.event.removeListener(E),D(google.maps.event.addListener(C,ko.onClusteringBegin,v)))},[v]),ze.useEffect(()=>{C&&y&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(C,ko.onClusteringEnd,y)))},[y]),ze.useEffect(()=>{void 0!==r&&null!==C&&Co.averageCenter(C,r)},[C,r]),ze.useEffect(()=>{void 0!==a&&null!==C&&Co.batchSizeIE(C,a)},[C,a]),ze.useEffect(()=>{void 0!==n&&null!==C&&Co.calculator(C,n)},[C,n]),ze.useEffect(()=>{void 0!==l&&null!==C&&Co.clusterClass(C,l)},[C,l]),ze.useEffect(()=>{void 0!==i&&null!==C&&Co.enableRetinaIcons(C,i)},[C,i]),ze.useEffect(()=>{void 0!==o&&null!==C&&Co.gridSize(C,o)},[C,o]),ze.useEffect(()=>{void 0!==c&&null!==C&&Co.ignoreHidden(C,c)},[C,c]),ze.useEffect(()=>{void 0!==d&&null!==C&&Co.imageExtension(C,d)},[C,d]),ze.useEffect(()=>{void 0!==m&&null!==C&&Co.imagePath(C,m)},[C,m]),ze.useEffect(()=>{void 0!==u&&null!==C&&Co.imageSizes(C,u)},[C,u]),ze.useEffect(()=>{void 0!==h&&null!==C&&Co.maxZoom(C,h)},[C,h]),ze.useEffect(()=>{void 0!==p&&null!==C&&Co.minimumClusterSize(C,p)},[C,p]),ze.useEffect(()=>{void 0!==x&&null!==C&&Co.styles(C,x)},[C,x]),ze.useEffect(()=>{void 0!==g&&null!==C&&Co.title(C,g)},[C,g]),ze.useEffect(()=>{void 0!==f&&null!==C&&Co.zoomOnClick(C,f)},[C,f]),ze.useEffect(()=>{if(P){var e=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wo(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({},s||Bo),t=new No(P,[],e);return r&&Co.averageCenter(t,r),a&&Co.batchSizeIE(t,a),n&&Co.calculator(t,n),l&&Co.clusterClass(t,l),i&&Co.enableRetinaIcons(t,i),o&&Co.gridSize(t,o),c&&Co.ignoreHidden(t,c),d&&Co.imageExtension(t,d),m&&Co.imagePath(t,m),u&&Co.imageSizes(t,u),h&&Co.maxZoom(t,h),p&&Co.minimumClusterSize(t,p),x&&Co.styles(t,x),g&&Co.title(t,g),f&&Co.zoomOnClick(t,f),N&&I(google.maps.event.addListener(t,ko.onMouseOut,N)),j&&z(google.maps.event.addListener(t,ko.onMouseOver,j)),b&&L(google.maps.event.addListener(t,ko.onClick,b)),v&&D(google.maps.event.addListener(t,ko.onClusteringBegin,v)),y&&T(google.maps.event.addListener(t,ko.onClusteringEnd,y)),B(t),w&&w(t),()=>{null!==A&&google.maps.event.removeListener(A),null!==O&&google.maps.event.removeListener(O),null!==S&&google.maps.event.removeListener(S),null!==E&&google.maps.event.removeListener(E),null!==M&&google.maps.event.removeListener(M),k&&k(t)}}},[]),null!==C&&t(C)||null});class Po extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{markerClusterer:null}),wi(this,"setClustererCallback",()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new No(this.context,[],this.props.options);this.registeredEvents=Ai({updaterMap:Co,eventMap:ko,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Co,eventMap:ko,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Ti(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function So(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}wi(Po,"contextType",Li);var Lo=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),void 0===t.visible&&(void 0===t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"==typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<a.length;r++){var n=a[r];this.eventListeners.push(google.maps.event.addListener(this.div,n,So))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||So(t)}),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var s=0,r=0,a=t.getBounds();a&&!a.contains(this.position)&&t.setCenter(this.position);var n=t.getDiv(),l=n.offsetWidth,i=n.offsetHeight,o=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,m=this.div.offsetHeight,u=this.infoBoxClearance.width,h=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-o+u?s=p.x+o-u:p.x+d+o+u>l&&(s=p.x+d+o+u-l),this.alignBottom?p.y<-c+h+m?r=p.y+c-h-m:p.y+c+h>i&&(r=p.y+c+h-i):p.y<-c+h?r=p.y+c-h:p.y+m+c+h>i&&(r=p.y+m+c+h-i)),0===s&&0===r||t.panBy(s,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",void 0!==this.div.style.opacity&&""!==this.div.style.opacity){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*s+')"',this.div.style.filter="alpha(opacity="+100*s+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,s=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),void 0!==e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),void 0!==e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),void 0!==e.content&&this.setContent(e.content),void 0!==e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.pixelOffset&&(this.pixelOffset=e.pixelOffset),void 0!==e.alignBottom&&(this.alignBottom=e.alignBottom),void 0!==e.position&&this.setPosition(e.position),void 0!==e.zIndex&&this.setZIndex(e.zIndex),void 0!==e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),void 0!==e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),void 0!==e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),void 0!==e.isHidden&&(this.isHidden=e.isHidden),void 0!==e.visible&&(this.isHidden=!e.visible),void 0!==e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"==typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"==typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return null!=e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var s=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var e=t.getPosition();s.setPosition(e)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){s.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var s=t[e];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),Eo=["position"],Do=["position"];function Mo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function To(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Mo(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var Ao,Io,Oo={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},zo={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Ro={};ze.memo(function(e){var{children:t,anchor:s,options:r,position:a,zIndex:n,onCloseClick:l,onDomReady:i,onContentChanged:o,onPositionChanged:c,onZindexChanged:d,onLoad:m,onUnmount:u}=e,h=ze.useContext(Li),[p,x]=ze.useState(null),[g,f]=ze.useState(null),[b,v]=ze.useState(null),[y,j]=ze.useState(null),[N,w]=ze.useState(null),[k,C]=ze.useState(null),B=ze.useRef(null);return ze.useEffect(()=>{h&&null!==p&&(p.close(),s?p.open(h,s):p.getPosition()&&p.open(h))},[h,p,s]),ze.useEffect(()=>{r&&null!==p&&p.setOptions(r)},[p,r]),ze.useEffect(()=>{if(a&&null!==p){var e=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);p.setPosition(e)}},[a]),ze.useEffect(()=>{"number"==typeof n&&null!==p&&p.setZIndex(n)},[n]),ze.useEffect(()=>{p&&l&&(null!==g&&google.maps.event.removeListener(g),f(google.maps.event.addListener(p,"closeclick",l)))},[l]),ze.useEffect(()=>{p&&i&&(null!==b&&google.maps.event.removeListener(b),v(google.maps.event.addListener(p,"domready",i)))},[i]),ze.useEffect(()=>{p&&o&&(null!==y&&google.maps.event.removeListener(y),j(google.maps.event.addListener(p,"content_changed",o)))},[o]),ze.useEffect(()=>{p&&c&&(null!==N&&google.maps.event.removeListener(N),w(google.maps.event.addListener(p,"position_changed",c)))},[c]),ze.useEffect(()=>{p&&d&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(p,"zindex_changed",d)))},[d]),ze.useEffect(()=>{if(h){var e,t=r||Ro,{position:a}=t,n=Yi(t,Eo);!a||a instanceof google.maps.LatLng||(e=new google.maps.LatLng(a.lat,a.lng));var P=new Lo(To(To({},n),e?{position:e}:{}));B.current=document.createElement("div"),x(P),l&&f(google.maps.event.addListener(P,"closeclick",l)),i&&v(google.maps.event.addListener(P,"domready",i)),o&&j(google.maps.event.addListener(P,"content_changed",o)),c&&w(google.maps.event.addListener(P,"position_changed",c)),d&&C(google.maps.event.addListener(P,"zindex_changed",d)),P.setContent(B.current),s?P.open(h,s):P.getPosition()?P.open(h):Si(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(P)}return()=>{null!==p&&(g&&google.maps.event.removeListener(g),y&&google.maps.event.removeListener(y),b&&google.maps.event.removeListener(b),N&&google.maps.event.removeListener(N),k&&google.maps.event.removeListener(k),u&&u(p),p.close())}},[]),B.current?Oe.createPortal(ze.Children.only(t),B.current):null});class _o extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"containerElement",null),wi(this,"state",{infoBox:null}),wi(this,"open",(e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):Si(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),wi(this,"setInfoBoxCallback",()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e,t=this.props.options||{},{position:s}=t,r=Yi(t,Do);!s||s instanceof google.maps.LatLng||(e=new google.maps.LatLng(s.lat,s.lng));var a=new Lo(To(To({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ai({updaterMap:zo,eventMap:Oo,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:zo,eventMap:Oo,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),Ti(this.registeredEvents),t.close())}render(){return this.containerElement?Oe.createPortal(ze.Children.only(this.props.children),this.containerElement):null}}wi(_o,"contextType",Li);var Uo=ki(Io?Ao:(Io=1,Ao=function e(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var r,a,n;if(Array.isArray(t)){if((r=t.length)!=s.length)return!1;for(a=r;0!==a--;)if(!e(t[a],s[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((r=(n=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(s,n[a]))return!1;for(a=r;0!==a--;){var l=n[a];if(!e(t[l],s[l]))return!1}return!0}return t!=t&&s!=s})),Ho=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Vo{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,s]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var r=s>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));var a=Ho[15&s];if(!a)throw new Error("Unrecognized array type.");var[n]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new Vo(l,n,a,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var a=Ho.indexOf(this.ArrayType),n=2*e*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,i=(8-l%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(s,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+l+i,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+n+l+i),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+l+i,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+a]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=t,s}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Fo(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,s,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:n,nodeSize:l}=this,i=[0,a.length-1,0],o=[];i.length;){var c=i.pop()||0,d=i.pop()||0,m=i.pop()||0;if(d-m<=l)for(var u=m;u<=d;u++){var h=n[2*u],p=n[2*u+1];h>=e&&h<=s&&p>=t&&p<=r&&o.push(a[u])}else{var x=m+d>>1,g=n[2*x],f=n[2*x+1];g>=e&&g<=s&&f>=t&&f<=r&&o.push(a[x]),(0===c?e<=g:t<=f)&&(i.push(m),i.push(x-1),i.push(1-c)),(0===c?s>=g:r>=f)&&(i.push(x+1),i.push(d),i.push(1-c))}}return o}within(e,t,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:a,nodeSize:n}=this,l=[0,r.length-1,0],i=[],o=s*s;l.length;){var c=l.pop()||0,d=l.pop()||0,m=l.pop()||0;if(d-m<=n)for(var u=m;u<=d;u++)Yo(a[2*u],a[2*u+1],e,t)<=o&&i.push(r[u]);else{var h=m+d>>1,p=a[2*h],x=a[2*h+1];Yo(p,x,e,t)<=o&&i.push(r[h]),(0===c?e-s<=p:t-s<=x)&&(l.push(m),l.push(h-1),l.push(1-c)),(0===c?e+s>=p:t+s>=x)&&(l.push(h+1),l.push(d),l.push(1-c))}}return i}}function Fo(e,t,s,r,a,n){if(!(a-r<=s)){var l=r+a>>1;$o(e,t,l,r,a,n),Fo(e,t,s,r,l-1,1-n),Fo(e,t,s,l+1,a,1-n)}}function $o(e,t,s,r,a,n){for(;a>r;){if(a-r>600){var l=a-r+1,i=s-r+1,o=Math.log(l),c=.5*Math.exp(2*o/3),d=.5*Math.sqrt(o*c*(l-c)/l)*(i-l/2<0?-1:1);$o(e,t,s,Math.max(r,Math.floor(s-i*c/l+d)),Math.min(a,Math.floor(s+(l-i)*c/l+d)),n)}var m=t[2*s+n],u=r,h=a;for(Ko(e,t,r,s),t[2*a+n]>m&&Ko(e,t,r,a);u<h;){for(Ko(e,t,u,h),u++,h--;t[2*u+n]<m;)u++;for(;t[2*h+n]>m;)h--}t[2*r+n]===m?Ko(e,t,r,h):Ko(e,t,++h,a),h<=s&&(r=h+1),s<=h&&(a=h-1)}}function Ko(e,t,s,r){Go(e,s,r),Go(t,2*s,2*r),Go(t,2*s+1,2*r+1)}function Go(e,t,s){var r=e[t];e[t]=e[s],e[s]=r}function Yo(e,t,s,r){var a=e-s,n=t-r;return a*a+n*n}var Zo={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Wo=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1));class qo{constructor(e){this.options=Object.assign(Object.create(Zo),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:s,maxZoom:r}=this.options;t&&console.time("total time");var a="prepare ".concat(e.length," points");t&&console.time(a),this.points=e;for(var n=[],l=0;l<e.length;l++){var i=e[l];if(i.geometry){var[o,c]=i.geometry.coordinates,d=Wo(Jo(o)),m=Wo(ec(c));n.push(d,m,1/0,l,-1,1),this.options.reduce&&n.push(0)}}var u=this.trees[r+1]=this._createTree(n);t&&console.timeEnd(a);for(var h=r;h>=s;h--){var p=+Date.now();u=this.trees[h]=this._createTree(this._cluster(u,h)),t&&console.log("z%d: %d clusters in %dms",h,u.numItems,+Date.now()-p)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var s=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),a=180===e[2]?180:((e[2]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)s=-180,a=180;else if(s>a){var l=this.getClusters([s,r,180,n],t),i=this.getClusters([-180,r,a,n],t);return l.concat(i)}var o=this.trees[this._limitZoom(t)],c=o.range(Jo(s),ec(n),Jo(a),ec(r)),d=o.data,m=[];for(var u of c){var h=this.stride*u;m.push(d[h+5]>1?Qo(d,h,this.clusterProps):this.points[d[h+3]])}return m}getChildren(e){var t=this._getOriginId(e),s=this._getOriginZoom(e),r="No cluster with the specified id.",a=this.trees[s];if(!a)throw new Error(r);var n=a.data;if(t*this.stride>=n.length)throw new Error(r);var l=this.options.radius/(this.options.extent*Math.pow(2,s-1)),i=n[t*this.stride],o=n[t*this.stride+1],c=a.within(i,o,l),d=[];for(var m of c){var u=m*this.stride;n[u+4]===e&&d.push(n[u+5]>1?Qo(n,u,this.clusterProps):this.points[n[u+3]])}if(0===d.length)throw new Error(r);return d}getLeaves(e,t,s){t=t||10,s=s||0;var r=[];return this._appendLeaves(r,e,t,s,0),r}getTile(e,t,s){var r=this.trees[this._limitZoom(e)],a=Math.pow(2,e),{extent:n,radius:l}=this.options,i=l/n,o=(s-i)/a,c=(s+1+i)/a,d={features:[]};return this._addTileFeatures(r.range((t-i)/a,o,(t+1+i)/a,c),r.data,t,s,a,d),0===t&&this._addTileFeatures(r.range(1-i/a,o,1,c),r.data,a,s,a,d),t===a-1&&this._addTileFeatures(r.range(0,o,i/a,c),r.data,-1,s,a,d),d.features.length?d:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var s=this.getChildren(e);if(t++,1!==s.length)break;e=s[0].properties.cluster_id}return t}_appendLeaves(e,t,s,r,a){var n=this.getChildren(t);for(var l of n){var i=l.properties;if(i&&i.cluster?a+i.point_count<=r?a+=i.point_count:a=this._appendLeaves(e,i.cluster_id,s,r,a):a<r?a++:e.push(l),e.length===s)break}return a}_createTree(e){for(var t=new Vo(e.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<e.length;s+=this.stride)t.add(e[s],e[s+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,s,r,a,n){for(var l of e){var i=l*this.stride,o=t[i+5]>1,c=void 0,d=void 0,m=void 0;if(o)c=Xo(t,i,this.clusterProps),d=t[i],m=t[i+1];else{var u=this.points[t[i+3]];c=u.properties;var[h,p]=u.geometry.coordinates;d=Jo(h),m=ec(p)}var x={type:1,geometry:[[Math.round(this.options.extent*(d*a-s)),Math.round(this.options.extent*(m*a-r))]],tags:c},g=void 0;void 0!==(g=o||this.options.generateId?t[i+3]:this.points[t[i+3]].id)&&(x.id=g),n.features.push(x)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:s,extent:r,reduce:a,minPoints:n}=this.options,l=s/(r*Math.pow(2,t)),i=e.data,o=[],c=this.stride,d=0;d<i.length;d+=c)if(!(i[d+2]<=t)){i[d+2]=t;var m=i[d],u=i[d+1],h=e.within(i[d],i[d+1],l),p=i[d+5],x=p;for(var g of h){var f=g*c;i[f+2]>t&&(x+=i[f+5])}if(x>p&&x>=n){var b=m*p,v=u*p,y=void 0,j=-1,N=(d/c<<5)+(t+1)+this.points.length;for(var w of h){var k=w*c;if(!(i[k+2]<=t)){i[k+2]=t;var C=i[k+5];b+=i[k]*C,v+=i[k+1]*C,i[k+4]=N,a&&(y||(y=this._map(i,d,!0),j=this.clusterProps.length,this.clusterProps.push(y)),a(y,this._map(i,k)))}}i[d+4]=N,o.push(b/x,v/x,1/0,N,-1,x),a&&o.push(j)}else{for(var B=0;B<c;B++)o.push(i[d+B]);if(x>1)for(var P of h){var S=P*c;if(!(i[S+2]<=t)){i[S+2]=t;for(var L=0;L<c;L++)o.push(i[S+L])}}}}return o}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,s){if(e[t+5]>1){var r=this.clusterProps[e[t+6]];return s?Object.assign({},r):r}var a=this.points[e[t+3]].properties,n=this.options.map(a);return s&&n===a?Object.assign({},n):n}}function Qo(e,t,s){return{type:"Feature",id:e[t+3],properties:Xo(e,t,s),geometry:{type:"Point",coordinates:[(n=e[t],360*(n-.5)),(r=e[t+1],a=(180-360*r)*Math.PI/180,360*Math.atan(Math.exp(a))/Math.PI-90)]}};var r,a,n;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */}function Xo(e,t,s){var r=e[t+5],a=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,n=e[t+6],l=-1===n?{}:Object.assign({},s[n]);return Object.assign(l,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:a})}function Jo(e){return e/360+.5}function ec(e){var t=Math.sin(e*Math.PI/180),s=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return s<0?0:s>1?1:s}class tc{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class sc{constructor(e){var{markers:t,position:s}=e;this.markers=t,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(tc.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>tc.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(tc.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class rc{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return lc(t)}}var ac,nc,lc=e=>e.map(e=>new sc({position:tc.getPosition(e),markers:[e]}));class ic extends rc{constructor(e){var{maxZoom:t,radius:s=60}=e,r=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]])}return s}(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new qo(Object.assign({maxZoom:this.maxZoom,radius:s},r))}calculate(e){var t=!1,s={zoom:e.map.getZoom()};if(!Uo(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map(e=>{var t=tc.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}});this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(t=!Uo(this.state,s)),this.state=s,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(e=>this.transformCluster(e))}transformCluster(e){var{geometry:{coordinates:[t,s]},properties:r}=e;if(r.cluster)return new sc({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(e=>e.properties.marker),position:{lat:s,lng:t}});var a=r.marker;return new sc({markers:[a],position:tc.getPosition(a)})}}class oc{constructor(e,t){this.markers={sum:e.length};var s=t.map(e=>e.count),r=s.reduce((e,t)=>e+t,0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...s),max:Math.max(...s)}}}}class cc{render(e,t,s){var{count:r,position:a}=e,n=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(n,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),i="Cluster of ".concat(r," markers"),o=Number(google.maps.Marker.MAX_ZINDEX)+r;if(tc.isAdvancedMarkerAvailable(s)){var c=(new DOMParser).parseFromString(l,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var d={map:s,position:a,zIndex:o,title:i,content:c};return new google.maps.marker.AdvancedMarkerElement(d)}var m={position:a,zIndex:o,title:i,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}class dc{constructor(){!function(e,t){for(var s in t.prototype)e.prototype[s]=t.prototype[s]}(dc,google.maps.OverlayView)}}(nc=ac||(ac={})).CLUSTERING_BEGIN="clusteringbegin",nc.CLUSTERING_END="clusteringend",nc.CLUSTER_CLICK="click";var mc=(e,t,s)=>{s.fitBounds(t.bounds)};class uc extends dc{constructor(e){var{map:t,markers:s=[],algorithmOptions:r={},algorithm:a=new ic(r),renderer:n=new cc,onClusterClick:l=mc}=e;super(),this.markers=[...s],this.clusters=[],this.algorithm=a,this.renderer=n,this.onClusterClick=l,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(e=>{this.addMarker(e,!0)}),t||this.render()}removeMarker(e,t){var s=this.markers.indexOf(e);return-1!==s&&(tc.setMap(e,null),this.markers.splice(s,1),t||this.render(),!0)}removeMarkers(e,t){var s=!1;return e.forEach(e=>{s=this.removeMarker(e,!0)||s}),s&&!t&&this.render(),s}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ac.CLUSTERING_BEGIN,this);var{clusters:t,changed:s}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(s||null==s){var r=new Set;for(var a of t)1==a.markers.length&&r.add(a.markers[0]);var n=[];for(var l of this.clusters)null!=l.marker&&(1==l.markers.length?r.has(l.marker)||tc.setMap(l.marker,null):n.push(l.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>n.forEach(e=>tc.setMap(e,null)))}google.maps.event.trigger(this,ac.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>tc.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new oc(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(s=>{1===s.markers.length?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,e,t),s.markers.forEach(e=>tc.setMap(e,null)),this.onClusterClick&&s.marker.addListener("click",e=>{google.maps.event.trigger(this,ac.CLUSTER_CLICK,s),this.onClusterClick(e,s,t)})),tc.setMap(s.marker,t)})}}function hc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function pc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hc(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function xc(e){var t=function(){Si(!!ze.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=ze.useContext(Li);return Si(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[s,r]=ze.useState(null);return ze.useEffect(()=>{if(t&&null===s){var a=new uc(pc(pc({},e),{},{map:t}));r(a)}},[t]),s}ze.memo(function(e){var{children:t,options:s}=e,r=xc(s);return null!==r?t(r):null});var gc={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},fc={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};ze.memo(function(e){var{children:t,anchor:s,options:r,position:a,zIndex:n,onCloseClick:l,onDomReady:i,onContentChanged:o,onPositionChanged:c,onZindexChanged:d,onLoad:m,onUnmount:u}=e,h=ze.useContext(Li),[p,x]=ze.useState(null),[g,f]=ze.useState(null),[b,v]=ze.useState(null),[y,j]=ze.useState(null),[N,w]=ze.useState(null),[k,C]=ze.useState(null),B=ze.useRef(null);return ze.useEffect(()=>{null!==p&&(p.close(),s?p.open(h,s):p.getPosition()&&p.open(h))},[h,p,s]),ze.useEffect(()=>{r&&null!==p&&p.setOptions(r)},[p,r]),ze.useEffect(()=>{a&&null!==p&&p.setPosition(a)},[a]),ze.useEffect(()=>{"number"==typeof n&&null!==p&&p.setZIndex(n)},[n]),ze.useEffect(()=>{p&&l&&(null!==g&&google.maps.event.removeListener(g),f(google.maps.event.addListener(p,"closeclick",l)))},[l]),ze.useEffect(()=>{p&&i&&(null!==b&&google.maps.event.removeListener(b),v(google.maps.event.addListener(p,"domready",i)))},[i]),ze.useEffect(()=>{p&&o&&(null!==y&&google.maps.event.removeListener(y),j(google.maps.event.addListener(p,"content_changed",o)))},[o]),ze.useEffect(()=>{p&&c&&(null!==N&&google.maps.event.removeListener(N),w(google.maps.event.addListener(p,"position_changed",c)))},[c]),ze.useEffect(()=>{p&&d&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(p,"zindex_changed",d)))},[d]),ze.useEffect(()=>{var e=new google.maps.InfoWindow(r);return x(e),B.current=document.createElement("div"),l&&f(google.maps.event.addListener(e,"closeclick",l)),i&&v(google.maps.event.addListener(e,"domready",i)),o&&j(google.maps.event.addListener(e,"content_changed",o)),c&&w(google.maps.event.addListener(e,"position_changed",c)),d&&C(google.maps.event.addListener(e,"zindex_changed",d)),e.setContent(B.current),a&&e.setPosition(a),n&&e.setZIndex(n),s?e.open(h,s):e.getPosition()?e.open(h):Si(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(e),()=>{g&&google.maps.event.removeListener(g),y&&google.maps.event.removeListener(y),b&&google.maps.event.removeListener(b),N&&google.maps.event.removeListener(N),k&&google.maps.event.removeListener(k),u&&u(e),e.close()}},[]),B.current?Oe.createPortal(ze.Children.only(t),B.current):null});class bc extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"containerElement",null),wi(this,"state",{infoWindow:null}),wi(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Si(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),wi(this,"setInfoWindowCallback",()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Ai({updaterMap:fc,eventMap:gc,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:fc,eventMap:gc,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(Ti(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Oe.createPortal(ze.Children.only(this.props.children),this.containerElement):null}}function vc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function yc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vc(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(bc,"contextType",Li);var jc={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Nc={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},wc={};ze.memo(function(e){var{options:t,draggable:s,editable:r,visible:a,path:n,onDblClick:l,onDragEnd:i,onDragStart:o,onMouseDown:c,onMouseMove:d,onMouseOut:m,onMouseOver:u,onMouseUp:h,onRightClick:p,onClick:x,onDrag:g,onLoad:f,onUnmount:b}=e,v=ze.useContext(Li),[y,j]=ze.useState(null),[N,w]=ze.useState(null),[k,C]=ze.useState(null),[B,P]=ze.useState(null),[S,L]=ze.useState(null),[E,D]=ze.useState(null),[M,T]=ze.useState(null),[A,I]=ze.useState(null),[O,z]=ze.useState(null),[R,_]=ze.useState(null),[U,H]=ze.useState(null),[V,F]=ze.useState(null);return ze.useEffect(()=>{null!==y&&y.setMap(v)},[v]),ze.useEffect(()=>{void 0!==t&&null!==y&&y.setOptions(t)},[y,t]),ze.useEffect(()=>{void 0!==s&&null!==y&&y.setDraggable(s)},[y,s]),ze.useEffect(()=>{void 0!==r&&null!==y&&y.setEditable(r)},[y,r]),ze.useEffect(()=>{void 0!==a&&null!==y&&y.setVisible(a)},[y,a]),ze.useEffect(()=>{void 0!==n&&null!==y&&y.setPath(n)},[y,n]),ze.useEffect(()=>{y&&l&&(null!==N&&google.maps.event.removeListener(N),w(google.maps.event.addListener(y,"dblclick",l)))},[l]),ze.useEffect(()=>{y&&i&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(y,"dragend",i)))},[i]),ze.useEffect(()=>{y&&o&&(null!==B&&google.maps.event.removeListener(B),P(google.maps.event.addListener(y,"dragstart",o)))},[o]),ze.useEffect(()=>{y&&c&&(null!==S&&google.maps.event.removeListener(S),L(google.maps.event.addListener(y,"mousedown",c)))},[c]),ze.useEffect(()=>{y&&d&&(null!==E&&google.maps.event.removeListener(E),D(google.maps.event.addListener(y,"mousemove",d)))},[d]),ze.useEffect(()=>{y&&m&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(y,"mouseout",m)))},[m]),ze.useEffect(()=>{y&&u&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(y,"mouseover",u)))},[u]),ze.useEffect(()=>{y&&h&&(null!==O&&google.maps.event.removeListener(O),z(google.maps.event.addListener(y,"mouseup",h)))},[h]),ze.useEffect(()=>{y&&p&&(null!==R&&google.maps.event.removeListener(R),_(google.maps.event.addListener(y,"rightclick",p)))},[p]),ze.useEffect(()=>{y&&x&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(y,"click",x)))},[x]),ze.useEffect(()=>{y&&g&&(null!==V&&google.maps.event.removeListener(V),F(google.maps.event.addListener(y,"drag",g)))},[g]),ze.useEffect(()=>{var e=new google.maps.Polyline(yc(yc({},t||wc),{},{map:v}));return n&&e.setPath(n),void 0!==a&&e.setVisible(a),void 0!==r&&e.setEditable(r),void 0!==s&&e.setDraggable(s),l&&w(google.maps.event.addListener(e,"dblclick",l)),i&&C(google.maps.event.addListener(e,"dragend",i)),o&&P(google.maps.event.addListener(e,"dragstart",o)),c&&L(google.maps.event.addListener(e,"mousedown",c)),d&&D(google.maps.event.addListener(e,"mousemove",d)),m&&T(google.maps.event.addListener(e,"mouseout",m)),u&&I(google.maps.event.addListener(e,"mouseover",u)),h&&z(google.maps.event.addListener(e,"mouseup",h)),p&&_(google.maps.event.addListener(e,"rightclick",p)),x&&H(google.maps.event.addListener(e,"click",x)),g&&F(google.maps.event.addListener(e,"drag",g)),j(e),f&&f(e),()=>{null!==N&&google.maps.event.removeListener(N),null!==k&&google.maps.event.removeListener(k),null!==B&&google.maps.event.removeListener(B),null!==S&&google.maps.event.removeListener(S),null!==E&&google.maps.event.removeListener(E),null!==M&&google.maps.event.removeListener(M),null!==A&&google.maps.event.removeListener(A),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),b&&b(e),e.setMap(null)}},[]),null});class kc extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{polyline:null}),wi(this,"setPolylineCallback",()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(yc(yc({},this.props.options),{},{map:this.context}));this.registeredEvents=Ai({updaterMap:Nc,eventMap:jc,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Nc,eventMap:jc,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Ti(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function Cc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Bc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Cc(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(kc,"contextType",Li);var Pc={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Sc={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};ze.memo(function(e){var{options:t,draggable:s,editable:r,visible:a,path:n,paths:l,onDblClick:i,onDragEnd:o,onDragStart:c,onMouseDown:d,onMouseMove:m,onMouseOut:u,onMouseOver:h,onMouseUp:p,onRightClick:x,onClick:g,onDrag:f,onLoad:b,onUnmount:v,onEdit:y}=e,j=ze.useContext(Li),[N,w]=ze.useState(null),[k,C]=ze.useState(null),[B,P]=ze.useState(null),[S,L]=ze.useState(null),[E,D]=ze.useState(null),[M,T]=ze.useState(null),[A,I]=ze.useState(null),[O,z]=ze.useState(null),[R,_]=ze.useState(null),[U,H]=ze.useState(null),[V,F]=ze.useState(null),[$,K]=ze.useState(null);return ze.useEffect(()=>{null!==N&&N.setMap(j)},[j]),ze.useEffect(()=>{void 0!==t&&null!==N&&N.setOptions(t)},[N,t]),ze.useEffect(()=>{void 0!==s&&null!==N&&N.setDraggable(s)},[N,s]),ze.useEffect(()=>{void 0!==r&&null!==N&&N.setEditable(r)},[N,r]),ze.useEffect(()=>{void 0!==a&&null!==N&&N.setVisible(a)},[N,a]),ze.useEffect(()=>{void 0!==n&&null!==N&&N.setPath(n)},[N,n]),ze.useEffect(()=>{void 0!==l&&null!==N&&N.setPaths(l)},[N,l]),ze.useEffect(()=>{N&&"function"==typeof i&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(N,"dblclick",i)))},[i]),ze.useEffect(()=>{N&&(google.maps.event.addListener(N.getPath(),"insert_at",()=>{null==y||y(N)}),google.maps.event.addListener(N.getPath(),"set_at",()=>{null==y||y(N)}),google.maps.event.addListener(N.getPath(),"remove_at",()=>{null==y||y(N)}))},[N,y]),ze.useEffect(()=>{N&&"function"==typeof o&&(null!==B&&google.maps.event.removeListener(B),P(google.maps.event.addListener(N,"dragend",o)))},[o]),ze.useEffect(()=>{N&&"function"==typeof c&&(null!==S&&google.maps.event.removeListener(S),L(google.maps.event.addListener(N,"dragstart",c)))},[c]),ze.useEffect(()=>{N&&"function"==typeof d&&(null!==E&&google.maps.event.removeListener(E),D(google.maps.event.addListener(N,"mousedown",d)))},[d]),ze.useEffect(()=>{N&&"function"==typeof m&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(N,"mousemove",m)))},[m]),ze.useEffect(()=>{N&&"function"==typeof u&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(N,"mouseout",u)))},[u]),ze.useEffect(()=>{N&&"function"==typeof h&&(null!==O&&google.maps.event.removeListener(O),z(google.maps.event.addListener(N,"mouseover",h)))},[h]),ze.useEffect(()=>{N&&"function"==typeof p&&(null!==R&&google.maps.event.removeListener(R),_(google.maps.event.addListener(N,"mouseup",p)))},[p]),ze.useEffect(()=>{N&&"function"==typeof x&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(N,"rightclick",x)))},[x]),ze.useEffect(()=>{N&&"function"==typeof g&&(null!==V&&google.maps.event.removeListener(V),F(google.maps.event.addListener(N,"click",g)))},[g]),ze.useEffect(()=>{N&&"function"==typeof f&&(null!==$&&google.maps.event.removeListener($),K(google.maps.event.addListener(N,"drag",f)))},[f]),ze.useEffect(()=>{var e=new google.maps.Polygon(Bc(Bc({},t),{},{map:j}));return n&&e.setPath(n),l&&e.setPaths(l),void 0!==a&&e.setVisible(a),void 0!==r&&e.setEditable(r),void 0!==s&&e.setDraggable(s),i&&C(google.maps.event.addListener(e,"dblclick",i)),o&&P(google.maps.event.addListener(e,"dragend",o)),c&&L(google.maps.event.addListener(e,"dragstart",c)),d&&D(google.maps.event.addListener(e,"mousedown",d)),m&&T(google.maps.event.addListener(e,"mousemove",m)),u&&I(google.maps.event.addListener(e,"mouseout",u)),h&&z(google.maps.event.addListener(e,"mouseover",h)),p&&_(google.maps.event.addListener(e,"mouseup",p)),x&&H(google.maps.event.addListener(e,"rightclick",x)),g&&F(google.maps.event.addListener(e,"click",g)),f&&K(google.maps.event.addListener(e,"drag",f)),w(e),b&&b(e),()=>{null!==k&&google.maps.event.removeListener(k),null!==B&&google.maps.event.removeListener(B),null!==S&&google.maps.event.removeListener(S),null!==E&&google.maps.event.removeListener(E),null!==M&&google.maps.event.removeListener(M),null!==A&&google.maps.event.removeListener(A),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),v&&v(e),e.setMap(null)}},[]),null});class Lc extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Ai({updaterMap:Sc,eventMap:Pc,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Sc,eventMap:Pc,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Ti(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function Ec(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Dc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ec(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(Lc,"contextType",Li);var Mc={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Tc={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};ze.memo(function(e){var{options:t,bounds:s,draggable:r,editable:a,visible:n,onDblClick:l,onDragEnd:i,onDragStart:o,onMouseDown:c,onMouseMove:d,onMouseOut:m,onMouseOver:u,onMouseUp:h,onRightClick:p,onClick:x,onDrag:g,onBoundsChanged:f,onLoad:b,onUnmount:v}=e,y=ze.useContext(Li),[j,N]=ze.useState(null),[w,k]=ze.useState(null),[C,B]=ze.useState(null),[P,S]=ze.useState(null),[L,E]=ze.useState(null),[D,M]=ze.useState(null),[T,A]=ze.useState(null),[I,O]=ze.useState(null),[z,R]=ze.useState(null),[_,U]=ze.useState(null),[H,V]=ze.useState(null),[F,$]=ze.useState(null),[K,G]=ze.useState(null);return ze.useEffect(()=>{null!==j&&j.setMap(y)},[y]),ze.useEffect(()=>{void 0!==t&&null!==j&&j.setOptions(t)},[j,t]),ze.useEffect(()=>{void 0!==r&&null!==j&&j.setDraggable(r)},[j,r]),ze.useEffect(()=>{void 0!==a&&null!==j&&j.setEditable(a)},[j,a]),ze.useEffect(()=>{void 0!==n&&null!==j&&j.setVisible(n)},[j,n]),ze.useEffect(()=>{void 0!==s&&null!==j&&j.setBounds(s)},[j,s]),ze.useEffect(()=>{j&&l&&(null!==w&&google.maps.event.removeListener(w),k(google.maps.event.addListener(j,"dblclick",l)))},[l]),ze.useEffect(()=>{j&&i&&(null!==C&&google.maps.event.removeListener(C),B(google.maps.event.addListener(j,"dragend",i)))},[i]),ze.useEffect(()=>{j&&o&&(null!==P&&google.maps.event.removeListener(P),S(google.maps.event.addListener(j,"dragstart",o)))},[o]),ze.useEffect(()=>{j&&c&&(null!==L&&google.maps.event.removeListener(L),E(google.maps.event.addListener(j,"mousedown",c)))},[c]),ze.useEffect(()=>{j&&d&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(j,"mousemove",d)))},[d]),ze.useEffect(()=>{j&&m&&(null!==T&&google.maps.event.removeListener(T),A(google.maps.event.addListener(j,"mouseout",m)))},[m]),ze.useEffect(()=>{j&&u&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(j,"mouseover",u)))},[u]),ze.useEffect(()=>{j&&h&&(null!==z&&google.maps.event.removeListener(z),R(google.maps.event.addListener(j,"mouseup",h)))},[h]),ze.useEffect(()=>{j&&p&&(null!==_&&google.maps.event.removeListener(_),U(google.maps.event.addListener(j,"rightclick",p)))},[p]),ze.useEffect(()=>{j&&x&&(null!==H&&google.maps.event.removeListener(H),V(google.maps.event.addListener(j,"click",x)))},[x]),ze.useEffect(()=>{j&&g&&(null!==F&&google.maps.event.removeListener(F),$(google.maps.event.addListener(j,"drag",g)))},[g]),ze.useEffect(()=>{j&&f&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(j,"bounds_changed",f)))},[f]),ze.useEffect(()=>{var e=new google.maps.Rectangle(Dc(Dc({},t),{},{map:y}));return void 0!==n&&e.setVisible(n),void 0!==a&&e.setEditable(a),void 0!==r&&e.setDraggable(r),void 0!==s&&e.setBounds(s),l&&k(google.maps.event.addListener(e,"dblclick",l)),i&&B(google.maps.event.addListener(e,"dragend",i)),o&&S(google.maps.event.addListener(e,"dragstart",o)),c&&E(google.maps.event.addListener(e,"mousedown",c)),d&&M(google.maps.event.addListener(e,"mousemove",d)),m&&A(google.maps.event.addListener(e,"mouseout",m)),u&&O(google.maps.event.addListener(e,"mouseover",u)),h&&R(google.maps.event.addListener(e,"mouseup",h)),p&&U(google.maps.event.addListener(e,"rightclick",p)),x&&V(google.maps.event.addListener(e,"click",x)),g&&$(google.maps.event.addListener(e,"drag",g)),f&&G(google.maps.event.addListener(e,"bounds_changed",f)),N(e),b&&b(e),()=>{null!==w&&google.maps.event.removeListener(w),null!==C&&google.maps.event.removeListener(C),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==D&&google.maps.event.removeListener(D),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==z&&google.maps.event.removeListener(z),null!==_&&google.maps.event.removeListener(_),null!==H&&google.maps.event.removeListener(H),null!==F&&google.maps.event.removeListener(F),null!==K&&google.maps.event.removeListener(K),v&&v(e),e.setMap(null)}},[]),null});class Ac extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{rectangle:null}),wi(this,"setRectangleCallback",()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Dc(Dc({},this.props.options),{},{map:this.context}));this.registeredEvents=Ai({updaterMap:Tc,eventMap:Mc,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Tc,eventMap:Mc,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Ti(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function Ic(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Oc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ic(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(Ac,"contextType",Li);var zc={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Rc={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},_c={};ze.memo(function(e){var{options:t,center:s,radius:r,draggable:a,editable:n,visible:l,onDblClick:i,onDragEnd:o,onDragStart:c,onMouseDown:d,onMouseMove:m,onMouseOut:u,onMouseOver:h,onMouseUp:p,onRightClick:x,onClick:g,onDrag:f,onCenterChanged:b,onRadiusChanged:v,onLoad:y,onUnmount:j}=e,N=ze.useContext(Li),[w,k]=ze.useState(null),[C,B]=ze.useState(null),[P,S]=ze.useState(null),[L,E]=ze.useState(null),[D,M]=ze.useState(null),[T,A]=ze.useState(null),[I,O]=ze.useState(null),[z,R]=ze.useState(null),[_,U]=ze.useState(null),[H,V]=ze.useState(null),[F,$]=ze.useState(null),[K,G]=ze.useState(null),[Y,Z]=ze.useState(null),[W,q]=ze.useState(null);return ze.useEffect(()=>{null!==w&&w.setMap(N)},[N]),ze.useEffect(()=>{void 0!==t&&null!==w&&w.setOptions(t)},[w,t]),ze.useEffect(()=>{void 0!==a&&null!==w&&w.setDraggable(a)},[w,a]),ze.useEffect(()=>{void 0!==n&&null!==w&&w.setEditable(n)},[w,n]),ze.useEffect(()=>{void 0!==l&&null!==w&&w.setVisible(l)},[w,l]),ze.useEffect(()=>{"number"==typeof r&&null!==w&&w.setRadius(r)},[w,r]),ze.useEffect(()=>{void 0!==s&&null!==w&&w.setCenter(s)},[w,s]),ze.useEffect(()=>{w&&i&&(null!==C&&google.maps.event.removeListener(C),B(google.maps.event.addListener(w,"dblclick",i)))},[i]),ze.useEffect(()=>{w&&o&&(null!==P&&google.maps.event.removeListener(P),S(google.maps.event.addListener(w,"dragend",o)))},[o]),ze.useEffect(()=>{w&&c&&(null!==L&&google.maps.event.removeListener(L),E(google.maps.event.addListener(w,"dragstart",c)))},[c]),ze.useEffect(()=>{w&&d&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(w,"mousedown",d)))},[d]),ze.useEffect(()=>{w&&m&&(null!==T&&google.maps.event.removeListener(T),A(google.maps.event.addListener(w,"mousemove",m)))},[m]),ze.useEffect(()=>{w&&u&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(w,"mouseout",u)))},[u]),ze.useEffect(()=>{w&&h&&(null!==z&&google.maps.event.removeListener(z),R(google.maps.event.addListener(w,"mouseover",h)))},[h]),ze.useEffect(()=>{w&&p&&(null!==_&&google.maps.event.removeListener(_),U(google.maps.event.addListener(w,"mouseup",p)))},[p]),ze.useEffect(()=>{w&&x&&(null!==H&&google.maps.event.removeListener(H),V(google.maps.event.addListener(w,"rightclick",x)))},[x]),ze.useEffect(()=>{w&&g&&(null!==F&&google.maps.event.removeListener(F),$(google.maps.event.addListener(w,"click",g)))},[g]),ze.useEffect(()=>{w&&f&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(w,"drag",f)))},[f]),ze.useEffect(()=>{w&&b&&(null!==Y&&google.maps.event.removeListener(Y),Z(google.maps.event.addListener(w,"center_changed",b)))},[g]),ze.useEffect(()=>{w&&v&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(w,"radius_changed",v)))},[v]),ze.useEffect(()=>{var e=new google.maps.Circle(Oc(Oc({},t||_c),{},{map:N}));return"number"==typeof r&&e.setRadius(r),void 0!==s&&e.setCenter(s),"number"==typeof r&&e.setRadius(r),void 0!==l&&e.setVisible(l),void 0!==n&&e.setEditable(n),void 0!==a&&e.setDraggable(a),i&&B(google.maps.event.addListener(e,"dblclick",i)),o&&S(google.maps.event.addListener(e,"dragend",o)),c&&E(google.maps.event.addListener(e,"dragstart",c)),d&&M(google.maps.event.addListener(e,"mousedown",d)),m&&A(google.maps.event.addListener(e,"mousemove",m)),u&&O(google.maps.event.addListener(e,"mouseout",u)),h&&R(google.maps.event.addListener(e,"mouseover",h)),p&&U(google.maps.event.addListener(e,"mouseup",p)),x&&V(google.maps.event.addListener(e,"rightclick",x)),g&&$(google.maps.event.addListener(e,"click",g)),f&&G(google.maps.event.addListener(e,"drag",f)),b&&Z(google.maps.event.addListener(e,"center_changed",b)),v&&q(google.maps.event.addListener(e,"radius_changed",v)),k(e),y&&y(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==D&&google.maps.event.removeListener(D),null!==T&&google.maps.event.removeListener(T),null!==I&&google.maps.event.removeListener(I),null!==z&&google.maps.event.removeListener(z),null!==_&&google.maps.event.removeListener(_),null!==H&&google.maps.event.removeListener(H),null!==F&&google.maps.event.removeListener(F),null!==Y&&google.maps.event.removeListener(Y),null!==W&&google.maps.event.removeListener(W),j&&j(e),e.setMap(null)}},[]),null});class Uc extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{circle:null}),wi(this,"setCircleCallback",()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Oc(Oc({},this.props.options),{},{map:this.context}));this.registeredEvents=Ai({updaterMap:Rc,eventMap:zc,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Rc,eventMap:zc,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),Ti(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function Hc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Vc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Hc(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(Uc,"contextType",Li);var Fc={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},$c={add(e,t){e.add(t)},addgeojson(e,t,s){e.addGeoJson(t,s)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,s,r){e.loadGeoJson(t,s,r)},overridestyle(e,t,s){e.overrideStyle(t,s)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};ze.memo(function(e){var{options:t,onClick:s,onDblClick:r,onMouseDown:a,onMouseMove:n,onMouseOut:l,onMouseOver:i,onMouseUp:o,onRightClick:c,onAddFeature:d,onRemoveFeature:m,onRemoveProperty:u,onSetGeometry:h,onSetProperty:p,onLoad:x,onUnmount:g}=e,f=ze.useContext(Li),[b,v]=ze.useState(null),[y,j]=ze.useState(null),[N,w]=ze.useState(null),[k,C]=ze.useState(null),[B,P]=ze.useState(null),[S,L]=ze.useState(null),[E,D]=ze.useState(null),[M,T]=ze.useState(null),[A,I]=ze.useState(null),[O,z]=ze.useState(null),[R,_]=ze.useState(null),[U,H]=ze.useState(null),[V,F]=ze.useState(null),[$,K]=ze.useState(null);return ze.useEffect(()=>{null!==b&&b.setMap(f)},[f]),ze.useEffect(()=>{b&&r&&(null!==y&&google.maps.event.removeListener(y),j(google.maps.event.addListener(b,"dblclick",r)))},[r]),ze.useEffect(()=>{b&&a&&(null!==N&&google.maps.event.removeListener(N),w(google.maps.event.addListener(b,"mousedown",a)))},[a]),ze.useEffect(()=>{b&&n&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(b,"mousemove",n)))},[n]),ze.useEffect(()=>{b&&l&&(null!==B&&google.maps.event.removeListener(B),P(google.maps.event.addListener(b,"mouseout",l)))},[l]),ze.useEffect(()=>{b&&i&&(null!==S&&google.maps.event.removeListener(S),L(google.maps.event.addListener(b,"mouseover",i)))},[i]),ze.useEffect(()=>{b&&o&&(null!==E&&google.maps.event.removeListener(E),D(google.maps.event.addListener(b,"mouseup",o)))},[o]),ze.useEffect(()=>{b&&c&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(b,"rightclick",c)))},[c]),ze.useEffect(()=>{b&&s&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(b,"click",s)))},[s]),ze.useEffect(()=>{b&&d&&(null!==O&&google.maps.event.removeListener(O),z(google.maps.event.addListener(b,"addfeature",d)))},[d]),ze.useEffect(()=>{b&&m&&(null!==R&&google.maps.event.removeListener(R),_(google.maps.event.addListener(b,"removefeature",m)))},[m]),ze.useEffect(()=>{b&&u&&(null!==U&&google.maps.event.removeListener(U),H(google.maps.event.addListener(b,"removeproperty",u)))},[u]),ze.useEffect(()=>{b&&h&&(null!==V&&google.maps.event.removeListener(V),F(google.maps.event.addListener(b,"setgeometry",h)))},[h]),ze.useEffect(()=>{b&&p&&(null!==$&&google.maps.event.removeListener($),K(google.maps.event.addListener(b,"setproperty",p)))},[p]),ze.useEffect(()=>{if(null!==f){var e=new google.maps.Data(Vc(Vc({},t),{},{map:f}));r&&j(google.maps.event.addListener(e,"dblclick",r)),a&&w(google.maps.event.addListener(e,"mousedown",a)),n&&C(google.maps.event.addListener(e,"mousemove",n)),l&&P(google.maps.event.addListener(e,"mouseout",l)),i&&L(google.maps.event.addListener(e,"mouseover",i)),o&&D(google.maps.event.addListener(e,"mouseup",o)),c&&T(google.maps.event.addListener(e,"rightclick",c)),s&&I(google.maps.event.addListener(e,"click",s)),d&&z(google.maps.event.addListener(e,"addfeature",d)),m&&_(google.maps.event.addListener(e,"removefeature",m)),u&&H(google.maps.event.addListener(e,"removeproperty",u)),h&&F(google.maps.event.addListener(e,"setgeometry",h)),p&&K(google.maps.event.addListener(e,"setproperty",p)),v(e),x&&x(e)}return()=>{b&&(null!==y&&google.maps.event.removeListener(y),null!==N&&google.maps.event.removeListener(N),null!==k&&google.maps.event.removeListener(k),null!==B&&google.maps.event.removeListener(B),null!==S&&google.maps.event.removeListener(S),null!==E&&google.maps.event.removeListener(E),null!==M&&google.maps.event.removeListener(M),null!==A&&google.maps.event.removeListener(A),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==$&&google.maps.event.removeListener($),g&&g(b),b.setMap(null))}},[]),null});class Kc extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{data:null}),wi(this,"setDataCallback",()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(Vc(Vc({},this.props.options),{},{map:this.context}));this.registeredEvents=Ai({updaterMap:$c,eventMap:Fc,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:$c,eventMap:Fc,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Ti(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function Gc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Yc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Gc(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(Kc,"contextType",Li);var Zc={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Wc={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class qc extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{kmlLayer:null}),wi(this,"setKmlLayerCallback",()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Yc(Yc({},this.props.options),{},{map:this.context}));this.registeredEvents=Ai({updaterMap:Wc,eventMap:Zc,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Wc,eventMap:Zc,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Ti(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function Qc(e,t){return"function"==typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Xc(e,t){return new t(e.lat,e.lng)}function Jc(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function ed(e,t,s,r){return void 0!==s?function(e,t,s){var r=e&&e.fromLatLngToDivPixel(s.getNorthEast()),a=e&&e.fromLatLngToDivPixel(s.getSouthWest());return r&&a?{left:"".concat(a.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-a.x-t.x,"px"),height:"".concat(a.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(a=s,n=google.maps.LatLngBounds,l=Jc,a instanceof n?a:l(a,n))):function(e,t,s){var r=e&&e.fromLatLngToDivPixel(s);if(r){var{x:a,y:n}=r;return{left:"".concat(a+t.x,"px"),top:"".concat(n+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,s){return e instanceof t?e:s(e,t)}(r,google.maps.LatLng,Xc));var a,n,l}function td(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function sd(e,t,s,r,a){class n extends google.maps.OverlayView{constructor(e,t,s,r){super(),this.container=e,this.pane=t,this.position=s,this.bounds=r}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null==t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?td(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):td(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({},this.container?Qc(this.container,a):{x:0,y:0}),s=ed(e,t,this.bounds,this.position);for(var[r,n]of Object.entries(s))this.container.style[r]=n}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new n(e,t,s,r)}function rd(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function ad(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function nd(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}wi(qc,"contextType",Li),ze.memo(function(e){var{position:t,bounds:s,mapPaneName:r,zIndex:a,onLoad:n,onUnmount:l,getPixelPositionOffset:i,children:o}=e,c=ze.useContext(Li),d=ze.useMemo(()=>{var e=document.createElement("div");return e.style.position="absolute",e},[]),m=ze.useMemo(()=>sd(d,r,t,s,i),[d,r,t,s]);return ze.useEffect(()=>(null==n||n(m),null==m||m.setMap(c),()=>{null==l||l(m),null==m||m.setMap(null)}),[c,m]),ze.useEffect(()=>{d.style.zIndex="".concat(a)},[a,d]),Oe.createPortal(o,d)});class ld extends ze.PureComponent{constructor(e){super(e),wi(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),wi(this,"updatePane",()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();Si(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})}),wi(this,"onAdd",()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)}),wi(this,"onPositionElement",()=>{var e,t,s,r,a,n,l=this.overlayView.getProjection(),i=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rd(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({x:0,y:0},this.containerRef.current?Qc(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=ed(l,i,this.props.bounds,this.props.position);(a=o,n={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},a.left!==n.left||a.top!==n.top||a.width!==n.height||a.height!==n.height)&&this.setState({containerStyle:{top:null!==(e=o.top)&&void 0!==e?e:0,left:null!==(t=o.left)&&void 0!==t?t:0,width:null!==(s=o.width)&&void 0!==s?s:0,height:null!==(r=o.height)&&void 0!==r?r:0,position:"absolute"}})}),wi(this,"draw",()=>{this.onPositionElement()}),wi(this,"onRemove",()=>{var e,t;this.setState(()=>({paneEl:null})),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)}),this.containerRef=ze.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=ad(e.position),s=ad(this.props.position),r=nd(e.bounds),a=nd(this.props.bounds);t===s&&r===a||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Oe.createPortal(a.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:ze.Children.only(this.props.children)}),e):null}}function id(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function od(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?id(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):id(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(ld,"FLOAT_PANE","floatPane"),wi(ld,"MAP_PANE","mapPane"),wi(ld,"MARKER_LAYER","markerLayer"),wi(ld,"OVERLAY_LAYER","overlayLayer"),wi(ld,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),wi(ld,"contextType",Li);var cd={onDblClick:"dblclick",onClick:"click"},dd={opacity(e,t){e.setOpacity(t)}};ze.memo(function(e){var{url:t,bounds:s,options:r,visible:a}=e,n=ze.useContext(Li),l=new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.west),new google.maps.LatLng(s.north,s.east)),i=ze.useMemo(()=>new google.maps.GroundOverlay(t,l,r),[]);return ze.useEffect(()=>{null!==i&&i.setMap(n)},[n]),ze.useEffect(()=>{void 0!==t&&null!==i&&(i.set("url",t),i.setMap(n))},[i,t]),ze.useEffect(()=>{void 0!==a&&null!==i&&i.setOpacity(a?1:0)},[i,a]),ze.useEffect(()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.west),new google.maps.LatLng(s.north,s.east));void 0!==s&&null!==i&&(i.set("bounds",e),i.setMap(n))},[i,s]),null});class md extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{groundOverlay:null}),wi(this,"setGroundOverlayCallback",()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Si(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,od(od({},this.props.options),{},{map:this.context}));this.registeredEvents=Ai({updaterMap:dd,eventMap:cd,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:dd,eventMap:cd,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function ud(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function hd(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(s),!0).forEach(function(t){wi(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ud(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}wi(md,"defaultProps",{onLoad:function(){}}),wi(md,"contextType",Li);var pd={},xd={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};ze.memo(function(e){var{data:t,onLoad:s,onUnmount:r,options:a}=e,n=ze.useContext(Li),[l,i]=ze.useState(null);return ze.useEffect(()=>{google.maps.visualization||Si(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),ze.useEffect(()=>{Si(!!t,"data property is required in HeatmapLayer %s",t)},[t]),ze.useEffect(()=>{null!==l&&l.setMap(n)},[n]),ze.useEffect(()=>{a&&null!==l&&l.setOptions(a)},[l,a]),ze.useEffect(()=>{var e=new google.maps.visualization.HeatmapLayer(hd(hd({},a),{},{data:t,map:n}));return i(e),s&&s(e),()=>{null!==l&&(r&&r(l),l.setMap(null))}},[]),null});class gd extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{heatmapLayer:null}),wi(this,"setHeatmapLayerCallback",()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Si(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Si(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(hd(hd({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Ai({updaterMap:xd,eventMap:pd,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:xd,eventMap:pd,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Ti(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}wi(gd,"contextType",Li);var fd={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},bd={register(e,t,s){e.registerPanoProvider(t,s)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class vd extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{streetViewPanorama:null}),wi(this,"setStreetViewPanoramaCallback",()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,s=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=Ai({updaterMap:bd,eventMap:fd,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:bd,eventMap:fd,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Ti(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}wi(vd,"contextType",Li);class yd extends ze.PureComponent{constructor(){super(...arguments),wi(this,"state",{streetViewService:null}),wi(this,"setStreetViewServiceCallback",()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}wi(yd,"contextType",Li);var jd={onDirectionsChanged:"directions_changed"},Nd={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class wd extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"state",{directionsRenderer:null}),wi(this,"setDirectionsRendererCallback",()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ai({updaterMap:Nd,eventMap:jd,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Nd,eventMap:jd,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Ti(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}wi(wd,"contextType",Li);var kd={onPlacesChanged:"places_changed"},Cd={bounds(e,t){e.setBounds(t)}};class Bd extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"containerElement",ze.createRef()),wi(this,"state",{searchBox:null}),wi(this,"setSearchBoxCallback",()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Si(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Ai({updaterMap:Cd,eventMap:kd,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Cd,eventMap:kd,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Ti(this.registeredEvents))}render(){return a.jsx("div",{ref:this.containerElement,children:ze.Children.only(this.props.children)})}}wi(Bd,"contextType",Li);var Pd={onPlaceChanged:"place_changed"},Sd={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class Ld extends ze.PureComponent{constructor(){super(...arguments),wi(this,"registeredEvents",[]),wi(this,"containerElement",ze.createRef()),wi(this,"state",{autocomplete:null}),wi(this,"setAutocompleteCallback",()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Si(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var s=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Ai({updaterMap:Sd,eventMap:Pd,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(e){Ti(this.registeredEvents),this.registeredEvents=Ai({updaterMap:Sd,eventMap:Pd,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&Ti(this.registeredEvents)}render(){return a.jsx("div",{ref:this.containerElement,className:this.props.className,children:ze.Children.only(this.props.children)})}}wi(Ld,"defaultProps",{className:""}),wi(Ld,"contextType",Li);const Ed=["places"],Dd=({onClose:e,onSubmit:t,vehicles:s=[]})=>{const[r,n]=ze.useState({customerInfo:{firstName:"",lastName:"",phone:"",email:""},tripDetails:{date:"",time:"",pickupLocation:"",dropoffLocation:"Antalya Havalimanı",passengerCount:1,luggageCount:0,flightNumber:""},transferDirection:"to_airport",paymentMethod:"cash",selectedVehicle:"",totalPrice:0,calculatedDistance:0}),[l,o]=ze.useState({}),[m,u]=ze.useState(!1),[h,p]=ze.useState(!1),[x,g]=ze.useState(null),[f,v]=ze.useState(null),{isLoaded:y}=Zi({googleMapsApiKey:"AIzaSyDa66vbuMgm_L4wdOgPutliu_PLzI3xqEw",libraries:Ed}),j=async(e,t,r)=>{if(!(e&&t&&r&&window.google))return console.log("Fiyat hesaplama - eksik parametre:",{pickup:e,dropoff:t,vehicleId:r,google:!!window.google}),{price:0,distance:0};try{p(!0);const a=new window.google.maps.DistanceMatrixService;return new Promise(n=>{a.getDistanceMatrix({origins:[e],destinations:[t],travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC},(e,t)=>{if("OK"===t&&"OK"===e.rows[0].elements[0].status){const t=e.rows[0].elements[0].distance.value/1e3,a=s.find(e=>e.id===r);console.log("Araç bulundu:",a),console.log("Mevcut tüm araçlar:",s);const l=a&&a.kmRate||3;console.log("Kullanılan km fiyatı (kmRate):",l);const i=Math.round(t*l);console.log("Hesaplanan fiyat:",{distance:t,pricePerKm:l,calculatedPrice:i}),n({price:i,distance:Math.round(100*t)/100})}else{console.log("Google Maps API hatası:",t);const e=s.find(e=>e.id===r);console.log("Hata durumunda araç:",e);const a=e&&10*e.kmRate||100;console.log("Hata durumunda fiyat:",a),n({price:a,distance:0})}p(!1)})})}catch(a){return console.error("Fiyat hesaplama hatası:",a),p(!1),{price:100,distance:0}}},N=async()=>{const{pickupLocation:e,dropoffLocation:t}=r.tripDetails,{selectedVehicle:s}=r;if(console.log("updatePrice çağrıldı:",{pickupLocation:e,dropoffLocation:t,selectedVehicle:s}),e&&t&&s){console.log("Fiyat hesaplanıyor...");const{price:r,distance:a}=await j(e,t,s);console.log("Hesaplanan fiyat ve mesafe:",{price:r,distance:a}),n(e=>({...e,totalPrice:r,calculatedDistance:a}))}else console.log("Fiyat hesaplanamadı - eksik veri:",{pickupLocation:!!e,dropoffLocation:!!t,selectedVehicle:!!s})},k=(e,t,s)=>{n(r=>({...r,[e]:{...r[e],[t]:s}})),l[`${e}.${t}`]&&o(s=>{const r={...s};return delete r[`${e}.${t}`],r})};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Hızlı Rezervasyon Ekle"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return r.customerInfo.firstName.trim()||(e["customerInfo.firstName"]="Ad zorunludur"),r.customerInfo.lastName.trim()||(e["customerInfo.lastName"]="Soyad zorunludur"),r.customerInfo.phone.trim()||(e["customerInfo.phone"]="Telefon zorunludur"),r.customerInfo.email.trim()||(e["customerInfo.email"]="E-posta zorunludur"),r.tripDetails.date||(e["tripDetails.date"]="Tarih zorunludur"),r.tripDetails.time||(e["tripDetails.time"]="Saat zorunludur"),r.tripDetails.pickupLocation.trim()||(e["tripDetails.pickupLocation"]="Kalkış noktası zorunludur"),r.tripDetails.dropoffLocation.trim()||(e["tripDetails.dropoffLocation"]="Varış noktası zorunludur"),r.selectedVehicle||(e.selectedVehicle="Araç seçimi zorunludur"),o(e),0===Object.keys(e).length})()){u(!0);try{if(0===r.totalPrice&&r.selectedVehicle){const{price:e}=await j(r.tripDetails.pickupLocation,r.tripDetails.dropoffLocation,r.selectedVehicle);r.totalPrice=e}const e={...r,totalPrice:r.totalPrice||100,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};await t(e)}catch(s){console.error("Rezervasyon ekleme hatası:",s)}finally{u(!1)}}},className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(c,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Müşteri Bilgileri"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad *"}),a.jsx("input",{type:"text",value:r.customerInfo.firstName,onChange:e=>k("customerInfo","firstName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["customerInfo.firstName"]?"border-red-500":"border-gray-300"),placeholder:"Müşteri adı"}),l["customerInfo.firstName"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["customerInfo.firstName"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad *"}),a.jsx("input",{type:"text",value:r.customerInfo.lastName,onChange:e=>k("customerInfo","lastName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["customerInfo.lastName"]?"border-red-500":"border-gray-300"),placeholder:"Müşteri soyadı"}),l["customerInfo.lastName"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["customerInfo.lastName"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon *"}),a.jsx("input",{type:"tel",value:r.customerInfo.phone,onChange:e=>k("customerInfo","phone",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["customerInfo.phone"]?"border-red-500":"border-gray-300"),placeholder:"+90 555 123 45 67"}),l["customerInfo.phone"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["customerInfo.phone"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),a.jsx("input",{type:"email",value:r.customerInfo.email,onChange:e=>k("customerInfo","email",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["customerInfo.email"]?"border-red-500":"border-gray-300"),placeholder:"ornek@email.com"}),l["customerInfo.email"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["customerInfo.email"]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(b,{className:"w-5 h-5 text-green-600"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Seyahat Bilgileri"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih *"}),a.jsx("input",{type:"date",value:r.tripDetails.date,onChange:e=>k("tripDetails","date",e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["tripDetails.date"]?"border-red-500":"border-gray-300")}),l["tripDetails.date"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["tripDetails.date"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saat *"}),a.jsx("input",{type:"time",value:r.tripDetails.time,onChange:e=>k("tripDetails","time",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["tripDetails.time"]?"border-red-500":"border-gray-300")}),l["tripDetails.time"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["tripDetails.time"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Yönü *"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors "+("to_airport"===r.transferDirection?"border-blue-500 bg-blue-50":"border-gray-300"),children:[a.jsx("input",{type:"radio",name:"transferDirection",value:"to_airport",checked:"to_airport"===r.transferDirection,onChange:e=>{n(t=>({...t,transferDirection:e.target.value,tripDetails:{...t.tripDetails,pickupLocation:"",dropoffLocation:"Antalya Havalimanı"}}))},className:"mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Otelden Havalimanına"})]}),a.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors "+("from_airport"===r.transferDirection?"border-blue-500 bg-blue-50":"border-gray-300"),children:[a.jsx("input",{type:"radio",name:"transferDirection",value:"from_airport",checked:"from_airport"===r.transferDirection,onChange:e=>{n(t=>({...t,transferDirection:e.target.value,tripDetails:{...t.tripDetails,pickupLocation:"Antalya Havalimanı",dropoffLocation:""}}))},className:"mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Havalimanından Otele"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["to_airport"===r.transferDirection?"Kalkış Noktası (Otel)":"Varış Noktası (Otel)"," *"]}),y?a.jsxs("div",{className:"relative",children:["to_airport"===r.transferDirection?a.jsx(Ld,{onLoad:e=>{g(e)},onPlaceChanged:()=>{if(null!==x){const e=x.getPlace();n(t=>({...t,tripDetails:{...t.tripDetails,pickupLocation:e.formatted_address}})),setTimeout(()=>N(),500)}},bounds:{north:36.9081,south:36.8847,east:30.7133,west:30.6694},options:{componentRestrictions:{country:"tr"},fields:["formatted_address","name","geometry"],types:["establishment","geocode"]},children:a.jsx("input",{type:"text",value:r.tripDetails.pickupLocation,onChange:e=>k("tripDetails","pickupLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["tripDetails.pickupLocation"]?"border-red-500":"border-gray-300"),placeholder:"Otel adı veya adresi yazın..."})}):a.jsx(Ld,{onLoad:e=>{v(e)},onPlaceChanged:()=>{if(null!==f){const e=f.getPlace();n(t=>({...t,tripDetails:{...t.tripDetails,dropoffLocation:e.formatted_address}})),setTimeout(()=>N(),500)}},bounds:{north:36.9081,south:36.8847,east:30.7133,west:30.6694},options:{componentRestrictions:{country:"tr"},fields:["formatted_address","name","geometry"],types:["establishment","geocode"]},children:a.jsx("input",{type:"text",value:r.tripDetails.dropoffLocation,onChange:e=>k("tripDetails","dropoffLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["tripDetails.dropoffLocation"]?"border-red-500":"border-gray-300"),placeholder:"Otel adı veya adresi yazın..."})}),a.jsx(b,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400"})]}):a.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",children:"Google Maps yükleniyor..."}),(l["tripDetails.pickupLocation"]||l["tripDetails.dropoffLocation"])&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["tripDetails.pickupLocation"]||l["tripDetails.dropoffLocation"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(w,{className:"w-4 h-4 text-blue-600"}),a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Araç Seçimi *"})]}),a.jsxs("select",{value:r.selectedVehicle,onChange:e=>{console.log("Araç seçildi:",e.target.value),n(t=>({...t,selectedVehicle:e.target.value})),setTimeout(()=>{console.log("Fiyat hesaplama başlatılıyor..."),N()},100)},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l.selectedVehicle?"border-red-500":"border-gray-300"),children:[a.jsx("option",{value:"",children:"Araç seçiniz..."}),s.map(e=>a.jsxs("option",{value:e.id,children:[e.brand," ",e.model," - ",e.plateNumber,e.kmRate&&` (${e.kmRate} TL/km)`]},e.id))]}),l.selectedVehicle&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.selectedVehicle})]}),r.totalPrice>0&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700",children:"Hesaplanan Fiyat"}),a.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["₺",r.totalPrice]}),r.calculatedDistance>0&&a.jsxs("p",{className:"text-xs text-green-600",children:["Mesafe: ",r.calculatedDistance," km"]})]}),h&&a.jsx("div",{className:"w-6 h-6 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yolcu Sayısı"}),a.jsx("input",{type:"number",min:"1",max:"8",value:r.tripDetails.passengerCount,onChange:e=>k("tripDetails","passengerCount",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bagaj Adedi"}),a.jsx("input",{type:"number",min:"0",max:"10",value:r.tripDetails.luggageCount,onChange:e=>k("tripDetails","luggageCount",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uçuş No"}),a.jsx("input",{type:"text",value:r.tripDetails.flightNumber,onChange:e=>k("tripDetails","flightNumber",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"TK123 (opsiyonel)"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(G,{className:"w-5 h-5 text-purple-600"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Ödeme Yöntemi"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"cash",label:"Nakit",desc:"Araçta ödeme"},{value:"card",label:"Kredi Kartı",desc:"Online ödeme"},{value:"transfer",label:"Havale",desc:"Banka havalesi"}].map(e=>a.jsxs("label",{className:"flex flex-col p-3 border rounded-lg cursor-pointer transition-colors "+(r.paymentMethod===e.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.label}),a.jsx("input",{type:"radio",name:"paymentMethod",value:e.value,checked:r.paymentMethod===e.value,onChange:e=>n(t=>({...t,paymentMethod:e.target.value})),className:"text-blue-600"})]}),a.jsx("span",{className:"text-xs text-gray-500 mt-1",children:e.desc})]},e.value))})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),a.jsx("button",{type:"submit",disabled:m,className:"px-8 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Ekleniyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(d,{className:"w-4 h-4"}),"Rezervasyon Ekle"]})})]})]})]})})},Md=({reservation:e,onClose:t,onUpdate:s})=>{const[r,n]=ze.useState({customerInfo:{firstName:"",lastName:"",phone:"",email:""},tripDetails:{date:"",time:"",pickupLocation:"",dropoffLocation:"",passengerCount:1,luggageCount:0,flightNumber:""},paymentMethod:"cash",totalPrice:0}),[l,o]=ze.useState({}),[c,d]=ze.useState(!1),m=["Lara Kundu Otelleri","Kaleici Otelleri","Belek Otelleri","Side Otelleri","Alanya Otelleri","Kemer Otelleri","Antalya Merkez","Kepez","Muratpaşa","Aksu"];ze.useEffect(()=>{e&&n({customerInfo:e.customerInfo||{firstName:"",lastName:"",phone:"",email:""},tripDetails:e.tripDetails||{date:"",time:"",pickupLocation:"",dropoffLocation:"",passengerCount:1,luggageCount:0,flightNumber:""},paymentMethod:e.paymentMethod||"cash",totalPrice:e.totalPrice||0})},[e]);const u=(e,t,s)=>{n(r=>({...r,[e]:{...r[e],[t]:s}})),l[`${e}.${t}`]&&o(s=>{const r={...s};return delete r[`${e}.${t}`],r})};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(ye,{className:"w-5 h-5"}),"Rezervasyon Düzenle - ",e.reservationId]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return r.customerInfo.firstName.trim()||(e["customerInfo.firstName"]="Ad zorunludur"),r.customerInfo.lastName.trim()||(e["customerInfo.lastName"]="Soyad zorunludur"),r.customerInfo.phone.trim()||(e["customerInfo.phone"]="Telefon zorunludur"),r.customerInfo.email.trim()||(e["customerInfo.email"]="E-posta zorunludur"),r.tripDetails.date||(e["tripDetails.date"]="Tarih zorunludur"),r.tripDetails.time||(e["tripDetails.time"]="Saat zorunludur"),r.tripDetails.pickupLocation.trim()||(e["tripDetails.pickupLocation"]="Kalkış noktası zorunludur"),r.tripDetails.dropoffLocation.trim()||(e["tripDetails.dropoffLocation"]="Varış noktası zorunludur"),o(e),0===Object.keys(e).length})()){d(!0);try{const t={...e,...r,updatedAt:(new Date).toISOString()};await s(t)}catch(a){console.error("Rezervasyon güncelleme hatası:",a),alert("Rezervasyon güncellenirken hata oluştu")}finally{d(!1)}}},className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Müşteri Bilgileri"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ad *"}),a.jsx("input",{type:"text",value:r.customerInfo.firstName,onChange:e=>u("customerInfo","firstName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["customerInfo.firstName"]?"border-red-500":"border-gray-300")}),l["customerInfo.firstName"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["customerInfo.firstName"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soyad *"}),a.jsx("input",{type:"text",value:r.customerInfo.lastName,onChange:e=>u("customerInfo","lastName",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["customerInfo.lastName"]?"border-red-500":"border-gray-300")}),l["customerInfo.lastName"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["customerInfo.lastName"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon *"}),a.jsx("input",{type:"tel",value:r.customerInfo.phone,onChange:e=>u("customerInfo","phone",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["customerInfo.phone"]?"border-red-500":"border-gray-300")}),l["customerInfo.phone"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["customerInfo.phone"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),a.jsx("input",{type:"email",value:r.customerInfo.email,onChange:e=>u("customerInfo","email",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["customerInfo.email"]?"border-red-500":"border-gray-300")}),l["customerInfo.email"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["customerInfo.email"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seyahat Bilgileri"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih *"}),a.jsx("input",{type:"date",value:r.tripDetails.date,onChange:e=>u("tripDetails","date",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["tripDetails.date"]?"border-red-500":"border-gray-300")}),l["tripDetails.date"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["tripDetails.date"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saat *"}),a.jsx("input",{type:"time",value:r.tripDetails.time,onChange:e=>u("tripDetails","time",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["tripDetails.time"]?"border-red-500":"border-gray-300")}),l["tripDetails.time"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["tripDetails.time"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kalkış Noktası *"}),a.jsxs("select",{value:r.tripDetails.pickupLocation,onChange:e=>u("tripDetails","pickupLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["tripDetails.pickupLocation"]?"border-red-500":"border-gray-300"),children:[a.jsx("option",{value:"",children:"Kalkış noktası seçin"}),a.jsx("option",{value:"Antalya Havalimanı",children:"Antalya Havalimanı"}),m.map(e=>a.jsx("option",{value:e,children:e},e))]}),l["tripDetails.pickupLocation"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["tripDetails.pickupLocation"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Varış Noktası *"}),a.jsxs("select",{value:r.tripDetails.dropoffLocation,onChange:e=>u("tripDetails","dropoffLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(l["tripDetails.dropoffLocation"]?"border-red-500":"border-gray-300"),children:[a.jsx("option",{value:"",children:"Varış noktası seçin"}),a.jsx("option",{value:"Antalya Havalimanı",children:"Antalya Havalimanı"}),m.map(e=>a.jsx("option",{value:e,children:e},e))]}),l["tripDetails.dropoffLocation"]&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:l["tripDetails.dropoffLocation"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yolcu"}),a.jsx("input",{type:"number",min:"1",max:"8",value:r.tripDetails.passengerCount,onChange:e=>u("tripDetails","passengerCount",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bagaj"}),a.jsx("input",{type:"number",min:"0",max:"10",value:r.tripDetails.luggageCount,onChange:e=>u("tripDetails","luggageCount",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fiyat (₺)"}),a.jsx("input",{type:"number",min:"0",value:r.totalPrice,onChange:e=>n(t=>({...t,totalPrice:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uçuş Numarası"}),a.jsx("input",{type:"text",value:r.tripDetails.flightNumber,onChange:e=>u("tripDetails","flightNumber",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"TK123 (opsiyonel)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ödeme Yöntemi"}),a.jsxs("select",{value:r.paymentMethod,onChange:e=>n(t=>({...t,paymentMethod:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"cash",children:"Nakit"}),a.jsx("option",{value:"card",children:"Kredi Kartı"}),a.jsx("option",{value:"transfer",children:"Havale"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-6 mt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),a.jsx("button",{type:"submit",disabled:c,className:"px-8 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:c?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Güncelleniyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ne,{className:"w-4 h-4"}),"Güncelle"]})})]})]})]})}):null},Td=({status:e,type:t="reservation"})=>{const s=(()=>{if("payment"===t)switch(e){case"paid":return{color:"bg-green-100 text-green-800 border-green-200",icon:R,label:"Ödendi"};case"pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:T,label:"Bekleyen"};case"unpaid":return{color:"bg-red-100 text-red-800 border-red-200",icon:xe,label:"Ödenmedi"};case"refunded":return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:B,label:"İade Edildi"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:F,label:"Bilinmeyen"}}else switch(e){case"confirmed":return{color:"bg-green-100 text-green-800 border-green-200",icon:R,label:"Onaylandı"};case"assigned":return{color:"bg-purple-100 text-purple-800 border-purple-200",icon:c,label:"Şoför Atandı"};case"trip-started":return{color:"bg-orange-100 text-orange-800 border-orange-200",icon:F,label:"🚗 Yolculuk Başladı"};case"pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:T,label:"Bekleyen"};case"cancelled":return{color:"bg-red-100 text-red-800 border-red-200",icon:xe,label:"İptal Edildi"};case"completed":return{color:"bg-blue-100 text-blue-800 border-blue-200",icon:R,label:"Tamamlandı"};case"in_progress":return{color:"bg-purple-100 text-purple-800 border-purple-200",icon:F,label:"Devam Ediyor"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:F,label:"Bilinmeyen"}}})(),r=s.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${s.color}`,children:[a.jsx(r,{className:"w-3 h-3 mr-1"}),s.label]})},Ad=({reservations:e,drivers:t,vehicles:s,onEdit:r,onDriverAssign:l,onShowQR:i,onStatusChange:o,onCompleteReservation:m,onDeleteReservation:u})=>{const[h,p]=ze.useState(new Set),x=e=>{const s=t.find(t=>t.id===e);return s?`${s.firstName} ${s.lastName}`:"Atanmamış"},g=e=>{const t=s.find(t=>t.id===e);return t?`${t.brand} ${t.model}`:"Araç yok"},f=e=>e?"string"==typeof e?e:"object"==typeof e?e.address?String(e.address):e.name?String(e.name):e.formatted_address?String(e.formatted_address):e.description?String(e.description):"Lokasyon bilgisi mevcut":String(e):"Belirtilmemiş",v=e=>{var t,s,r,a,n,l,i,o;return{firstName:(null==(t=e.customerInfo)?void 0:t.firstName)||(null==(s=e.personalInfo)?void 0:s.firstName)||"",lastName:(null==(r=e.customerInfo)?void 0:r.lastName)||(null==(a=e.personalInfo)?void 0:a.lastName)||"",phone:(null==(n=e.customerInfo)?void 0:n.phone)||(null==(l=e.personalInfo)?void 0:l.phone)||"",email:(null==(i=e.customerInfo)?void 0:i.email)||(null==(o=e.personalInfo)?void 0:o.email)||""}},y=e=>{var t,s,r,a,n,l,i,o;return{date:(null==(t=e.tripDetails)?void 0:t.date)||e.date,time:(null==(s=e.tripDetails)?void 0:s.time)||e.time,pickupLocation:f((null==(r=e.tripDetails)?void 0:r.pickupLocation)||e.pickupLocation),dropoffLocation:f((null==(a=e.tripDetails)?void 0:a.dropoffLocation)||e.dropoffLocation),passengerCount:(null==(n=e.tripDetails)?void 0:n.passengerCount)||e.passengerCount||1,luggageCount:(null==(l=e.tripDetails)?void 0:l.luggageCount)||e.baggageCount||0,flightNumber:(null==(i=e.tripDetails)?void 0:i.flightNumber)||(null==(o=e.personalInfo)?void 0:o.flightNumber)||""}};return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rezervasyon"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Müşteri"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih & Saat"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rota"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Şoför"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detay"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>a.jsxs(Fe.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.reservationId})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(c,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v(e).firstName," ",v(e).lastName]}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(n,{className:"w-3 h-3 mr-1"}),v(e).phone]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx(d,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{children:y(e).date}),a.jsx("div",{className:"text-gray-500",children:y(e).time})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx(b,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsxs("div",{className:"max-w-xs truncate",children:[a.jsx("div",{className:"truncate",children:y(e).pickupLocation}),a.jsxs("div",{className:"text-gray-500 truncate",children:["↓ ",y(e).dropoffLocation]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(Td,{status:e.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(w,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:x(e.assignedDriver)}),a.jsx("div",{className:"text-gray-500",children:g(e.assignedVehicle)})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>{return t=e.id,void p(e=>{const s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s});var t},className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:h.has(e.id)?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-4 h-4 mr-1"}),a.jsx(_,{className:"w-4 h-4"})]}):a.jsxs(a.Fragment,{children:[a.jsx(se,{className:"w-4 h-4 mr-1"}),a.jsx(E,{className:"w-4 h-4"})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>r(e),className:"text-blue-600 hover:text-blue-800",title:"Düzenle",children:a.jsx(ye,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>l(e),className:"text-purple-600 hover:text-purple-800",title:"Şoför Ata",children:a.jsx(c,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>i(e),className:"text-green-600 hover:text-green-800",title:"QR Kod",children:a.jsx(J,{className:"w-4 h-4"})}),"completed"!==e.status&&(e.assignedDriver||e.assignedDriverId||e.driverId)&&a.jsx("button",{onClick:()=>m(e.id),className:"text-emerald-600 hover:text-emerald-800",title:"Rezervasyonu Tamamla & Cari Güncelle",children:a.jsx(R,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>u(e.id),className:"text-red-600 hover:text-red-800",title:"Rezervasyonu Sil",children:a.jsx(he,{className:"w-4 h-4"})})]})})]}),h.has(e.id)&&a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-4 bg-gray-50",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Müşteri Bilgileri"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(c,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[v(e).firstName," ",v(e).lastName]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:v(e).phone})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:"@"}),a.jsx("span",{children:v(e).email})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Seyahat Detayları"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(d,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[y(e).date," - ",y(e).time]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(c,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[y(e).passengerCount," Yolcu"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:"✈️"}),a.jsx("span",{children:y(e).flightNumber||"Uçuş no yok"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:"🧳"}),a.jsxs("span",{children:[y(e).luggageCount," Bagaj"]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Ödeme & Durum"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(G,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"capitalize",children:e.paymentMethod})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:"💰"}),a.jsxs("span",{className:"font-medium",children:[e.totalPrice," TL"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:"📅"}),a.jsx("span",{children:new Date(e.createdAt).toLocaleDateString("tr-TR")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:"🔄"}),a.jsx("span",{children:e.updatedAt?new Date(e.updatedAt).toLocaleDateString("tr-TR"):"Güncellenmemiş"})]})]})]})]})})})]},e.id))})]})}),0===e.length&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(d,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Henüz rezervasyon bulunmuyor"})]})]})},Id=({onFilterChange:e,reservations:t})=>{const[s,r]=ze.useState({search:"",status:"all",dateRange:"all",assignedDriver:"all",paymentMethod:"all"}),[n,l]=ze.useState(!1),o=(t,a)=>{const n={...s,[t]:a};r(n),e(n)},c=(()=>{const e={all:t.length,pending:t.filter(e=>"pending"===e.status).length,confirmed:t.filter(e=>"confirmed"===e.status).length,assigned:t.filter(e=>"assigned"===e.status).length,in_progress:t.filter(e=>"in_progress"===e.status).length,completed:t.filter(e=>"completed"===e.status).length,cancelled:t.filter(e=>"cancelled"===e.status).length};return e})();return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[a.jsx("div",{className:"flex-1 min-w-64",children:a.jsxs("div",{className:"relative",children:[a.jsx(te,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Rezervasyon ID, müşteri adı, telefon...",value:s.search,onChange:e=>o("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:s.status,onChange:e=>o("status",e.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsxs("option",{value:"all",children:["Tüm Durumlar (",c.all,")"]}),a.jsxs("option",{value:"pending",children:["Beklemede (",c.pending,")"]}),a.jsxs("option",{value:"confirmed",children:["Onaylandı (",c.confirmed,")"]}),a.jsxs("option",{value:"assigned",children:["Atandı (",c.assigned,")"]}),a.jsxs("option",{value:"in_progress",children:["Devam Ediyor (",c.in_progress,")"]}),a.jsxs("option",{value:"completed",children:["Tamamlandı (",c.completed,")"]}),a.jsxs("option",{value:"cancelled",children:["İptal (",c.cancelled,")"]})]}),a.jsx(_,{className:"absolute right-2 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:s.dateRange,onChange:e=>o("dateRange",e.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"Tüm Tarihler"}),a.jsx("option",{value:"today",children:"Bugün"}),a.jsx("option",{value:"tomorrow",children:"Yarın"}),a.jsx("option",{value:"this_week",children:"Bu Hafta"}),a.jsx("option",{value:"this_month",children:"Bu Ay"}),a.jsx("option",{value:"next_month",children:"Gelecek Ay"})]}),a.jsx(_,{className:"absolute right-2 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]}),a.jsxs("button",{onClick:()=>l(!n),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.jsx(Ne,{className:"w-4 h-4"}),"Gelişmiş Filtreler",a.jsx(_,{className:"w-4 h-4 transition-transform "+(n?"rotate-180":"")})]}),(s.search||"all"!==s.status||"all"!==s.dateRange||"all"!==s.assignedDriver||"all"!==s.paymentMethod)&&a.jsxs("button",{onClick:()=>{const t={search:"",status:"all",dateRange:"all",assignedDriver:"all",paymentMethod:"all"};r(t),e(t)},className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:[a.jsx(i,{className:"w-4 h-4"}),"Temizle"]})]}),n&&a.jsx("div",{className:"border-t pt-4 mt-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şoför Durumu"}),a.jsxs("select",{value:s.assignedDriver,onChange:e=>o("assignedDriver",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"Tüm Rezervasyonlar"}),a.jsx("option",{value:"assigned",children:"Şoför Atanmış"}),a.jsx("option",{value:"unassigned",children:"Şoför Atanmamış"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ödeme Yöntemi"}),a.jsxs("select",{value:s.paymentMethod,onChange:e=>o("paymentMethod",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"Tüm Yöntemler"}),a.jsx("option",{value:"cash",children:"Nakit"}),a.jsx("option",{value:"card",children:"Kredi Kartı"}),a.jsx("option",{value:"transfer",children:"Banka Transferi"}),a.jsx("option",{value:"online",children:"Online Ödeme"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yolcu Sayısı"}),a.jsxs("select",{value:s.passengerCount||"all",onChange:e=>o("passengerCount",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"Tüm Yolcu Sayıları"}),a.jsx("option",{value:"1",children:"1 Kişi"}),a.jsx("option",{value:"2",children:"2 Kişi"}),a.jsx("option",{value:"3",children:"3 Kişi"}),a.jsx("option",{value:"4",children:"4 Kişi"}),a.jsx("option",{value:"5+",children:"5+ Kişi"})]})]})]})}),Object.entries(s).some(([e,t])=>"search"!==e&&"all"!==t&&""!==t)&&a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("span",{children:"Aktif filtreler:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:["all"!==s.status&&a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:["Durum: ",s.status]}),"all"!==s.dateRange&&a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full",children:["Tarih: ",s.dateRange]}),"all"!==s.assignedDriver&&a.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:["Şoför: ",s.assignedDriver]}),"all"!==s.paymentMethod&&a.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full",children:["Ödeme: ",s.paymentMethod]})]})]})})]})},Od=({reservation:e,drivers:t,vehicles:s,onClose:r,onAssign:n})=>{var l,o,d,m,u,h,p;const[x,g]=ze.useState(""),[f,b]=ze.useState(!1),v=e=>e?"string"==typeof e?e:"object"==typeof e?e.address?String(e.address):e.name?String(e.name):e.formatted_address?String(e.formatted_address):e.description?String(e.description):"Lokasyon bilgisi mevcut":String(e):"Belirtilmemiş",y=t.filter(e=>"active"===e.status);return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Şoför Atama"}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:e.reservationId}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Müşteri:"})," ",null==(l=e.customerInfo)?void 0:l.firstName," ",null==(o=e.customerInfo)?void 0:o.lastName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Tarih:"})," ",null==(d=e.tripDetails)?void 0:d.date," - ",null==(m=e.tripDetails)?void 0:m.time]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Rota:"})," ",v(null==(u=e.tripDetails)?void 0:u.pickupLocation)," → ",v(null==(h=e.tripDetails)?void 0:h.dropoffLocation)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Yolcu:"})," ",null==(p=e.tripDetails)?void 0:p.passengerCount," kişi"]})]})]}),a.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),x){b(!0);try{const s=t.find(e=>e.id===x),r=(null==s?void 0:s.assignedVehicle)||null;await n(e.id,x,r)}catch(r){console.error("Şoför atama hatası:",r),alert("Şoför atama sırasında bir hata oluştu")}finally{b(!1)}}else alert("Lütfen şoför seçin")},className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Şoför Seçin *"}),0===y.length?a.jsxs("div",{className:"text-center py-4 text-gray-500",children:[a.jsx(c,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"Aktif şoför bulunamadı"})]}):a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:y.map(e=>{var t;return s.find(t=>t.id===e.assignedVehicle),a.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer transition-colors "+(x===e.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[a.jsx("input",{type:"radio",name:"driver",value:e.id,checked:x===e.id,onChange:()=>{return t=e.id,void g(t);var t},className:"sr-only"}),a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.name||e.email||"İsimsiz Şoför"}),a.jsx("p",{className:"text-sm text-gray-600",children:e.phone||"Telefon belirtilmemiş"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Ehliyet: ",e.licenseNumber||"Belirtilmemiş"]}),e.assignedVehicle&&a.jsxs("p",{className:"text-xs text-green-600",children:["✓ Atanmış araç: ",(null==(t=s.find(t=>t.id===e.assignedVehicle))?void 0:t.plateNumber)||"Araç bilgisi bulunamadı"]}),!e.assignedVehicle&&a.jsx("p",{className:"text-xs text-orange-600",children:"⚠ Atanmış araç yok"})]}),x===e.id&&a.jsx(X,{className:"w-5 h-5 text-blue-600"})]})]},e.id)})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"İptal"}),a.jsx("button",{type:"submit",disabled:f||!x||0===y.length,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Atanıyor..."]}):a.jsxs(a.Fragment,{children:[a.jsx(c,{className:"w-4 h-4"}),"Şoför Ata"]})})]})]})]})})},zd=({reservation:e,onClose:t})=>{var s,r,n,l,o,c,d;const m=ze.useRef(null),u=e=>e?"string"==typeof e?e:"object"==typeof e?e.address?String(e.address):e.name?String(e.name):e.formatted_address?String(e.formatted_address):e.description?String(e.description):"Lokasyon bilgisi mevcut":String(e):"Belirtilmemiş";Fe.useEffect(()=>{if(e&&m.current){const t=e.reservationId||e.id;console.log("QR Modal: QR kod verisi:",t),console.log("QR Modal: Rezervasyon bilgileri:",e),jn.toCanvas(m.current,t,{width:200,margin:2,color:{dark:"#000000",light:"#ffffff"}})}},[e]);return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(J,{className:"w-5 h-5"}),"QR Kod"]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 text-center",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.reservationId}),a.jsxs("p",{className:"text-sm text-gray-600",children:[null==(s=e.customerInfo)?void 0:s.firstName," ",null==(r=e.customerInfo)?void 0:r.lastName]})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white border-2 border-gray-200 rounded-lg",children:a.jsx("canvas",{ref:m,className:"block"})})}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Tarih:"}),a.jsxs("span",{className:"font-medium",children:[null==(n=e.tripDetails)?void 0:n.date," ",null==(l=e.tripDetails)?void 0:l.time]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Kalkış:"}),a.jsx("span",{className:"font-medium",children:u(null==(o=e.tripDetails)?void 0:o.pickupLocation)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Varış:"}),a.jsx("span",{className:"font-medium",children:u(null==(c=e.tripDetails)?void 0:c.dropoffLocation)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Yolcu:"}),a.jsxs("span",{className:"font-medium",children:[null==(d=e.tripDetails)?void 0:d.passengerCount," kişi"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Tutar:"}),a.jsxs("span",{className:"font-medium text-green-600",children:["₺",e.totalPrice]})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>{if(m.current){const t=document.createElement("a");t.download=`QR-${e.reservationId}.png`,t.href=m.current.toDataURL(),t.click()}},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(ee,{className:"w-4 h-4"}),"İndir"]}),navigator.share&&a.jsxs("button",{onClick:async()=>{if(m.current&&navigator.share)try{m.current.toBlob(async t=>{var s,r;const a=new File([t],`QR-${e.reservationId}.png`,{type:"image/png"});await navigator.share({files:[a],title:`QR Kod - ${e.reservationId}`,text:`${null==(s=e.customerInfo)?void 0:s.firstName} ${null==(r=e.customerInfo)?void 0:r.lastName} rezervasyon QR kodu`})})}catch(t){console.error("Paylaşım hatası:",t)}},className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(ke,{className:"w-4 h-4"}),"Paylaş"]})]})]})]})}):null},Rd=()=>{const[e,t]=ze.useState([]),[s,r]=ze.useState([]),[n,l]=ze.useState([]),[i,o]=ze.useState([]),[c,d]=ze.useState(!0),[m,u]=ze.useState(null),[h,p]=ze.useState(!1),[x,g]=ze.useState(!1),[f,b]=ze.useState(!1),[v,y]=ze.useState(!1);ze.useEffect(()=>{console.log("Rezervasyon index: Firebase listeners başlatılıyor..."),d(!0);const e=Pt(Nt(ir,"reservations"),e=>{console.log("🔄 Admin Panel: Rezervasyonlar güncellendi, döküman sayısı:",e.docs.length);const s=e.docs.map(e=>{const t=e.data();return console.log(`📋 Rezervasyon ${e.id}:`,{id:e.id,status:t.status,reservationId:t.reservationId,assignedDriver:t.assignedDriver,assignedDriverId:t.assignedDriverId}),{id:e.id,...t,reservationId:t.reservationId||`SBS-${e.id.slice(-6)}`,customerInfo:t.customerInfo||{firstName:"Belirtilmemiş",lastName:"",phone:"",email:""},tripDetails:t.tripDetails||{date:"",time:"",pickupLocation:"",dropoffLocation:"",passengerCount:1,luggageCount:0},status:t.status||"pending",paymentMethod:t.paymentMethod||"cash",totalPrice:t.totalPrice||0,createdAt:t.createdAt||(new Date).toISOString()}});console.log("✅ Admin Panel: İşlenmiş rezervasyonlar:",s.map(e=>{var t,s;return{id:e.id,reservationId:e.reservationId,status:e.status,customer:`${null==(t=e.customerInfo)?void 0:t.firstName} ${null==(s=e.customerInfo)?void 0:s.lastName}`}})),t(s),d(!1)},e=>{console.error("Rezervasyonlar yüklenirken hata:",e),t([]),d(!1)}),s=jt(Nt(ir,"users"),Lt("role","==",dr)),r=Pt(s,e=>{console.log("Rezervasyon index: Şoförler güncellendi, döküman sayısı:",e.docs.length);const t=e.docs.map(e=>({id:e.id,...e.data(),firstName:e.data().firstName||"",lastName:e.data().lastName||"",name:e.data().firstName&&e.data().lastName?`${e.data().firstName} ${e.data().lastName}`:e.data().name||e.data().email,phone:e.data().phone||"",licenseNumber:e.data().licenseNumber||"Belirtilmemiş",assignedVehicle:e.data().assignedVehicle||null,vehicle:e.data().assignedVehicle||"Atanmamış",status:!1!==e.data().isActive?"active":"inactive"}));console.log("Firebase şoförleri işlendi:",t),l(t)},e=>{console.error("Şoförler yüklenirken hata:",e),l([])}),a=jt(Nt(ir,"vehicles"),Lt("status","==","active")),n=Pt(a,e=>{console.log("Aktif araçlar güncellendi, döküman sayısı:",e.docs.length);const t=e.docs.map(e=>({id:e.id,...e.data()}));console.log("Aktif araç verileri:",t),o(t)},e=>{console.error("Araçlar yüklenirken hata:",e),o([])});return()=>{e(),r(),n()}},[]);ze.useEffect(()=>{r(e)},[e]);return c?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(fe,{className:"w-8 h-8 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Rezervasyonlar yükleniyor..."})]})}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezervasyon Yönetimi"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Toplam ",e.length," rezervasyon • Filtrelenmiş ",s.length," rezervasyon"]})]}),a.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(V,{className:"w-4 h-4"}),"Hızlı Rezervasyon Ekle"]})]})}),a.jsx(Id,{onFilterChange:t=>{let s=[...e];if(t.search){const e=t.search.toLowerCase();s=s.filter(t=>{var s,r,a,n,l,i,o,c,d;const m=(null==(s=t.customerInfo)?void 0:s.firstName)||(null==(r=t.personalInfo)?void 0:r.firstName)||"",u=(null==(a=t.customerInfo)?void 0:a.lastName)||(null==(n=t.personalInfo)?void 0:n.lastName)||"",h=(null==(l=t.customerInfo)?void 0:l.phone)||(null==(i=t.personalInfo)?void 0:i.phone)||"",p=(null==(o=t.customerInfo)?void 0:o.email)||(null==(c=t.personalInfo)?void 0:c.email)||"";return(null==(d=t.reservationId)?void 0:d.toLowerCase().includes(e))||m.toLowerCase().includes(e)||u.toLowerCase().includes(e)||h.includes(e)||p.toLowerCase().includes(e)})}if("all"!==t.status&&(s=s.filter(e=>e.status===t.status)),"all"!==t.dateRange){const e=new Date,r=new Date(e);r.setDate(r.getDate()+1),s=s.filter(s=>{var a;const n=new Date((null==(a=s.tripDetails)?void 0:a.date)||s.date);switch(t.dateRange){case"today":return n.toDateString()===e.toDateString();case"tomorrow":return n.toDateString()===r.toDateString();case"this_week":const t=new Date(e);t.setDate(e.getDate()-e.getDay());const s=new Date(t);return s.setDate(t.getDate()+6),n>=t&&n<=s;case"this_month":return n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear();case"next_month":const a=new Date(e);return a.setMonth(e.getMonth()+1),n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear();default:return!0}})}"all"!==t.assignedDriver&&("assigned"===t.assignedDriver?s=s.filter(e=>e.assignedDriver):"unassigned"===t.assignedDriver&&(s=s.filter(e=>!e.assignedDriver))),"all"!==t.paymentMethod&&(s=s.filter(e=>e.paymentMethod===t.paymentMethod)),"all"!==t.passengerCount&&(s="5+"===t.passengerCount?s.filter(e=>{var t;return(null==(t=e.tripDetails)?void 0:t.passengerCount)>=5}):s.filter(e=>{var s;return(null==(s=e.tripDetails)?void 0:s.passengerCount)===parseInt(t.passengerCount)})),r(s)},reservations:e}),a.jsx(Ad,{reservations:s,drivers:n,vehicles:i,onEdit:e=>{u(e),b(!0)},onDriverAssign:e=>{u(e),g(!0)},onShowQR:e=>{u(e),y(!0)},onStatusChange:(e,t)=>{console.log("Durum değişikliği:",e,t)},onCompleteReservation:async t=>{try{const s=e.find(e=>e.id===t);if(!s)return void Os.error("Rezervasyon bulunamadı");if("completed"===s.status)return void Os.error("Bu rezervasyon zaten tamamlanmış");const r=s.assignedDriver||s.assignedDriverId||s.driverId;if(!r)return void Os.error("Rezervasyona şoför atanmamış");console.log("Rezervasyon tamamlanacak:",{reservation:s,driverId:r});await(async(e,t)=>{try{const s=await ct(dt(ir,"reservations",e));if(!s.exists())throw new Error("Rezervasyon bulunamadı");const r=s.data();if("completed"===r.status)throw new Error("Bu rezervasyon zaten tamamlanmış");return await ut(dt(ir,"reservations",e),{status:"completed",completedAt:new Date,completedBy:t,completionMethod:"manual",financialProcessed:!0}),{success:!0,message:"Rezervasyon manuel olarak tamamlandı",reservation:r,financial:await yi(e,r)}}catch(s){throw console.error("Manual completion error:",s),s}})(t,"admin-user");const a="cash"===s.paymentMethod?"Şoför komisyon borcu eklendi":"Şoför alacağı eklendi";Os.success(`Rezervasyon tamamlandı! ${a}`)}catch(s){console.error("Rezervasyon tamamlama hatası:",s),Os.error("Rezervasyon tamamlanırken hata oluştu: "+s.message)}},onDeleteReservation:async e=>{if(window.confirm("Bu rezervasyonu silmek istediğinizden emin misiniz?"))try{await Ct(dt(ir,"reservations",e)),Os.success("Rezervasyon başarıyla silindi!")}catch(t){console.error("Rezervasyon silme hatası:",t),Os.error("Rezervasyon silinirken bir hata oluştu: "+t.message)}}}),h&&a.jsx(Dd,{onClose:()=>p(!1),onSubmit:async e=>{try{const t={...e,reservationId:`SBS-${Date.now()}`,status:"pending",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},s=await Bt(Nt(ir,"reservations"),t);p(!1),Os.success("Rezervasyon başarıyla eklendi!"),console.log("Yeni rezervasyon eklendi:",s.id)}catch(t){console.error("Rezervasyon eklenirken hata:",t),Os.error("Rezervasyon eklenirken bir hata oluştu: "+t.message)}},vehicles:i}),f&&m&&a.jsx(Md,{reservation:m,onClose:()=>{b(!1),u(null)},onUpdate:async(t,s)=>{try{if(!e.find(e=>e.id===t))return console.error("Rezervasyon bulunamadı:",t),void Os.error("Rezervasyon bulunamadı");await ut(dt(ir,"reservations",t),{...s,updatedAt:(new Date).toISOString()}),b(!1),u(null),Os.success("Rezervasyon başarıyla güncellendi!")}catch(r){console.error("Rezervasyon güncelleme hatası:",r),Os.error("Rezervasyon güncellenirken bir hata oluştu: "+r.message)}}}),x&&m&&a.jsx(Od,{reservation:m,drivers:n,vehicles:i,onClose:()=>{g(!1),u(null)},onAssign:async(t,s,r)=>{try{console.log("🔍 Şoför atama başlatılıyor:",{reservationId:t,driverId:s,vehicleId:r});const a=e.find(e=>e.id===t);if(!a)return console.error("❌ Rezervasyon bulunamadı:",t),console.log("📋 Mevcut rezervasyonlar:",e.map(e=>({id:e.id,reservationId:e.reservationId}))),void Os.error("Rezervasyon bulunamadı");console.log("✅ Güncellenecek rezervasyon bulundu:",{id:a.id,reservationId:a.reservationId,currentStatus:a.status,currentAssignedDriver:a.assignedDriver,currentAssignedDriverId:a.assignedDriverId});const n={assignedDriver:s,assignedDriverId:s,assignedVehicle:r,status:"assigned",updatedAt:(new Date).toISOString()},l=Object.keys(n).reduce((e,t)=>(void 0!==n[t]&&null!==n[t]&&(e[t]=n[t]),e),{});console.log("🔄 Firebase güncellenecek veri:",l),console.log("📍 Güncelleme yapılacak doküman ID:",t),await ut(dt(ir,"reservations",t),l),console.log("✅ Firebase rezervasyon başarıyla güncellendi!"),g(!1),u(null),Os.success("Şoför başarıyla atandı!")}catch(a){console.error("Şoför atama hatası:",a),Os.error("Şoför atama sırasında bir hata oluştu: "+a.message)}}}),v&&m&&a.jsx(zd,{reservation:m,onClose:()=>{y(!1),u(null)}})]})},_d=()=>a.jsx(Rd,{}),Ud=()=>{const[e,t]=ze.useState({totalRevenue:0,pendingPayments:0,driverDebts:0,completedTrips:0,monthlyGrowth:0}),[s,r]=ze.useState([]),[n,l]=ze.useState(!0);ze.useEffect(()=>{i()},[]);const i=async()=>{try{l(!0);const e=jt(Nt(ir,"reservations"),Lt("status","==","completed"),wt("createdAt","desc")),s=(await kt(e)).docs.map(e=>({id:e.id,...e.data()})),a=jt(Nt(ir,"users"),Lt("role","==","driver")),n=(await kt(a)).docs.map(e=>({id:e.id,...e.data()})),i=s.reduce((e,t)=>e+(t.totalPrice||0),0),o=s.filter(e=>"cash"===e.paymentMethod).reduce((e,t)=>e+(t.totalPrice||0),0);let c=0,d=0,m=0;n.forEach(e=>{const t=e.balance||0;t<0?c+=Math.abs(t):t>0&&(d+=t),m+=e.totalCommission||0}),t({totalRevenue:i,pendingCashPayments:o,driverDebts:c,driverCredits:d,totalCommissionRevenue:m,completedTrips:s.length,activeDrivers:n.filter(e=>!1!==e.isActive).length,monthlyGrowth:12.5}),r(s.slice(0,10))}catch(e){console.error("Finansal veri getirme hatası:",e)}finally{l(!1)}},o=({title:e,value:t,icon:s,color:r,trend:n,prefix:l="₺"})=>a.jsx(j.div,{whileHover:{scale:1.02},className:`bg-white rounded-xl p-6 shadow-lg border-l-4 ${r}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm font-medium",children:e}),a.jsxs("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:[l,"number"==typeof t?t.toLocaleString():t]}),n&&a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n>0?a.jsx(v,{className:"w-4 h-4 text-green-500"}):a.jsx(Be,{className:"w-4 h-4 text-red-500"}),a.jsxs("span",{className:"text-sm font-medium "+(n>0?"text-green-600":"text-red-600"),children:["%",Math.abs(n)]})]})]}),a.jsx("div",{className:`p-3 rounded-full ${r.replace("border-l-","bg-").replace("-500","-100")}`,children:a.jsx(s,{className:`w-8 h-8 ${r.replace("border-l-","text-")}`})})]})});return n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(o,{title:"Toplam Gelir",value:e.totalRevenue,icon:B,color:"border-l-green-500",trend:e.monthlyGrowth}),a.jsx(o,{title:"Komisyon Gelirimiz",value:e.totalCommissionRevenue,icon:Ce,color:"border-l-purple-500"}),a.jsx(o,{title:"Şoför Borçları (Nakit Komisyon)",value:e.driverDebts,icon:F,color:"border-l-red-500"}),a.jsx(o,{title:"Şofore Borçlarımız (Kart Ödemeleri)",value:e.driverCredits,icon:k,color:"border-l-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(o,{title:"Bekleyen Nakit Tahsilat",value:e.pendingCashPayments,icon:B,color:"border-l-yellow-500"}),a.jsx(o,{title:"Tamamlanan Yolculuklar",value:e.completedTrips,icon:G,color:"border-l-indigo-500",prefix:""}),a.jsx(o,{title:"Aktif Şoförler",value:e.activeDrivers,icon:k,color:"border-l-emerald-500",prefix:""})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(G,{className:"w-6 h-6 text-green-600"}),"Son İşlemler"]}),a.jsx("button",{className:"text-green-600 hover:text-green-700 font-medium",children:"Tümünü Gör"})]}),a.jsx("div",{className:"space-y-4",children:s.map((e,t)=>{var s,r,n,l,i;return a.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+("cash"===e.paymentMethod?"bg-yellow-100":"bg-green-100"),children:a.jsx(B,{className:"w-5 h-5 "+("cash"===e.paymentMethod?"text-yellow-600":"text-green-600")})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:e.customerName||"Müşteri"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[(null==(s=e.pickupLocation)?void 0:s.address)||"Lokasyon"," → ",(null==(r=e.dropoffLocation)?void 0:r.address)||"Varış"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:["₺",(e.totalPrice||0).toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-500",children:(null==(i=null==(l=null==(n=e.createdAt)?void 0:n.toDate)?void 0:l.call(n))?void 0:i.toLocaleDateString("tr-TR"))||"Tarih"})]})]},e.id)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[a.jsx(B,{className:"w-8 h-8 mb-3"}),a.jsx("h4",{className:"font-bold text-lg mb-2",children:"Ödeme Yap"}),a.jsx("p",{className:"text-green-100 text-sm",children:"Şoförlere ödeme yap"})]}),a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[a.jsx(k,{className:"w-8 h-8 mb-3"}),a.jsx("h4",{className:"font-bold text-lg mb-2",children:"Cari Takip"}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Şoför carilerini görüntüle"})]}),a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[a.jsx(d,{className:"w-8 h-8 mb-3"}),a.jsx("h4",{className:"font-bold text-lg mb-2",children:"Rapor Al"}),a.jsx("p",{className:"text-purple-100 text-sm",children:"Finansal rapor oluştur"})]})]})]})},Hd=()=>{var e;const[t,s]=ze.useState([]),[r,n]=ze.useState(null),[l,o]=ze.useState(!0),[c,d]=ze.useState(""),[m,u]=ze.useState("all"),[h,p]=ze.useState(!1),[x,g]=ze.useState("payment"),[f,b]=ze.useState(""),[v,y]=ze.useState("");ze.useEffect(()=>{N();const e=Pt(Nt(ir,"reservations"),e=>{e.docChanges().forEach(e=>{if("modified"===e.type){const t=e.doc.data();"completed"!==t.status||t.financialProcessed||setTimeout(()=>N(),1e3)}})});return()=>e()},[]);const N=async()=>{try{o(!0);const e=jt(Nt(ir,"users"),Lt("role","==","driver")),t=await kt(e),r=await Promise.all(t.docs.map(async e=>{const t={id:e.id,...e.data()},s=jt(Nt(ir,"reservations"),Lt("assignedDriver","==",t.id),Lt("status","==","completed")),r=(await kt(s)).docs.map(e=>({id:e.id,...e.data()}));let a=0,n=0,l=0,i=0,o=0;r.forEach(e=>{const s=e.totalPrice||0,r=s*(t.commissionRate||t.commission||15)/100,c=s-r;a+=c,n+=r,"cash"===e.paymentMethod?(l+=s,i+=r):"card"!==e.paymentMethod&&"credit_card"!==e.paymentMethod||(o+=c)});const c=t.balance||0,d=t.transactions||[];return{...t,totalEarnings:a,totalCommission:n,cashToCollect:l,cashCommissionOwed:i,cardEarnings:o,currentBalance:c,tripCount:r.length,transactions:d,completedTrips:t.completedTrips||r.length,commissionRate:t.commissionRate||t.commission||15}}));s(r)}catch(e){console.error("Şoför cari verilerini getirme hatası:",e)}finally{o(!1)}},w=t.filter(e=>{const t=(e.firstName||"").toLowerCase().includes(c.toLowerCase())||(e.lastName||"").toLowerCase().includes(c.toLowerCase())||(e.phone||"").includes(c);return"all"===m?t:"positive"===m?t&&e.currentBalance>=0:"negative"===m?t&&e.currentBalance<0:t}),C=({driver:e})=>a.jsxs(j.div,{whileHover:{scale:1.02},className:"bg-white rounded-lg p-6 shadow-sm border cursor-pointer transition-shadow hover:shadow-md "+(e.currentBalance>=0?"border-l-4 border-l-green-500":"border-l-4 border-l-red-500"),onClick:()=>n(e),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:a.jsx(k,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-gray-800",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"text-sm text-gray-500",children:e.phone})]})]}),a.jsx("div",{className:"px-2 py-1 rounded-md text-xs font-medium "+(e.currentBalance>=0?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:e.currentBalance>=0?"Alacaklı":"Borçlu"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Cari Bakiye"}),a.jsxs("p",{className:"text-lg font-bold "+(e.currentBalance>=0?"text-green-600":"text-red-600"),children:["₺",Math.abs(e.currentBalance).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Toplam Yolculuk"}),a.jsx("p",{className:"text-lg font-bold text-gray-800",children:e.tripCount})]})]}),e.cashCommissionOwed>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F,{className:"w-4 h-4 text-yellow-600"}),a.jsxs("span",{className:"text-xs font-medium text-yellow-800",children:["Nakit Komisyon Borcu: ₺",e.cashCommissionOwed.toLocaleString()]})]})})]});return l?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Şoför Cari Hesapları"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Şoförlerin finansal durumlarını yönetin"})]}),a.jsxs("div",{className:"bg-white rounded-lg px-4 py-2 shadow-sm border",children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Şoför"}),a.jsx("div",{className:"text-xl font-bold text-gray-800",children:t.length})]})]}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(te,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Şoför ara (isim, telefon)...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("select",{value:m,onChange:e=>u(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tüm Şoförler"}),a.jsx("option",{value:"positive",children:"Alacaklılar"}),a.jsx("option",{value:"negative",children:"Borçlular"})]})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>a.jsx(C,{driver:e},e.id))}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-auto shadow-xl",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[r.firstName," ",r.lastName," - Cari Hesap"]}),a.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Cari Bakiye"}),a.jsxs("p",{className:"text-2xl font-bold "+(r.currentBalance>=0?"text-green-600":"text-red-600"),children:["₺",Math.abs(r.currentBalance).toLocaleString()]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600",children:"Toplam Kazanç"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₺",r.totalEarnings.toLocaleString()]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-purple-600",children:"Toplam Komisyon"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["₺",r.totalCommission.toLocaleString()]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-yellow-600",children:"Nakit Borç"}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["₺",r.cashCommissionOwed.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>{g("payment"),p(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(V,{className:"w-4 h-4"}),"Ödeme Yap"]}),a.jsxs("button",{onClick:()=>{g("debt"),p(!0)},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(H,{className:"w-4 h-4"}),"Borç Ekle"]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"İşlem Geçmişi"}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:null==(e=r.transactions)?void 0:e.map(e=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+("payment"===e.type?"bg-green-100":"bg-red-100"),children:"payment"===e.type?a.jsx(V,{className:"w-4 h-4 text-green-600"}):a.jsx(H,{className:"w-4 h-4 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:e.note}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleDateString("tr-TR")})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold "+("payment"===e.type?"text-green-600":"text-red-600"),children:["payment"===e.type?"+":"-","₺",e.amount.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Bakiye: ₺",e.balanceAfter.toLocaleString()]})]})]},e.id))})]})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"payment"===x?"Ödeme Yap":"Borç Ekle"}),a.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(i,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tutar (₺)"}),a.jsx("input",{type:"number",value:f,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),a.jsx("textarea",{value:v,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"İşlem açıklaması..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"İptal"}),a.jsx("button",{onClick:async()=>{if(r&&f&&v)try{const e=parseFloat(f),t="payment"===x?r.currentBalance+e:r.currentBalance-e,a={id:Date.now().toString(),type:x,amount:e,note:v,date:new Date,balanceBefore:r.currentBalance,balanceAfter:t},l=[...r.transactions||[],a];await ut(dt(ir,"users",r.id),{balance:t,transactions:l,lastTransactionDate:new Date}),s(e=>e.map(e=>e.id===r.id?{...e,currentBalance:t,transactions:l}:e)),n(e=>({...e,currentBalance:t,transactions:l})),p(!1),b(""),y(""),Os.success("İşlem başarıyla kaydedildi")}catch(e){console.error("İşlem kaydetme hatası:",e),Os.error("İşlem kaydedilirken hata oluştu")}else Os.error("Lütfen tüm alanları doldurun")},className:"flex-1 px-4 py-2 text-white rounded-lg transition-colors "+("payment"===x?"bg-blue-600 hover:bg-blue-700":"bg-red-600 hover:bg-red-700"),children:"Kaydet"})]})]})]})})]})},Vd=()=>{const[e,t]=ze.useState([]),[s,r]=ze.useState([]),[n,l]=ze.useState([]),[i,o]=ze.useState(!0),[c,d]=ze.useState("pending"),[m,u]=ze.useState(null),[h,p]=ze.useState("all"),[x,g]=ze.useState("all");ze.useEffect(()=>{f()},[]);const f=async()=>{var e,s;try{o(!0);const a=(await kt(Nt(ir,"drivers"))).docs.map(e=>({id:e.id,...e.data()}));l(a);const n=jt(Nt(ir,"reservations"),Lt("status","==","completed"),wt("completedAt","desc")),i=await kt(n),c=[];for(const t of i.docs){const r={id:t.id,...t.data()};if(r.driverId){const t=a.find(e=>e.id===r.driverId);if(t){const a=t.commissionRate||15,n=r.totalPrice||0,l=n*a/100,i=n-l,o={id:r.id,driverId:r.driverId,driverName:`${t.firstName} ${t.lastName}`,customerName:r.customerName,tripPrice:n,commission:l,driverEarning:i,paymentMethod:r.paymentMethod,completedAt:r.completedAt,paymentStatus:r.driverPaymentStatus||"pending",route:`${(null==(e=r.pickupLocation)?void 0:e.address)||"Bilinmiyor"} → ${(null==(s=r.dropoffLocation)?void 0:s.address)||"Bilinmiyor"}`,commissionRate:a};c.push(o)}}}t(c.filter(e=>"pending"===e.paymentStatus)),r(c.filter(e=>"paid"===e.paymentStatus))}catch(a){console.error("Ödeme verilerini getirme hatası:",a)}finally{o(!1)}},b=("pending"===c?e:s).filter(e=>{var t,s;if("all"!==h&&e.driverId!==h)return!1;if("all"!==x){const r=(null==(s=null==(t=e.completedAt)?void 0:t.toDate)?void 0:s.call(t))||new Date(e.completedAt),a=new Date,n=Math.floor((a-r)/864e5);if("today"===x&&0!==n)return!1;if("week"===x&&n>7)return!1;if("month"===x&&n>30)return!1}return!0}),v=({payment:e})=>{var s,l,i;return a.jsxs(j.div,{whileHover:{scale:1.01},className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-blue-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+("cash"===e.paymentMethod?"bg-yellow-100":"bg-green-100"),children:a.jsx(B,{className:"w-5 h-5 "+("cash"===e.paymentMethod?"text-yellow-600":"text-green-600")})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:e.driverName}),a.jsx("p",{className:"text-sm text-gray-600",children:e.customerName})]})]}),a.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-medium "+("cash"===e.paymentMethod?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:"cash"===e.paymentMethod?"Nakit":"Kredi/Havale"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Yolculuk Ücreti"}),a.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["₺",e.tripPrice.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Komisyon (%",e.commissionRate,")"]}),a.jsxs("p",{className:"text-lg font-bold text-red-600",children:["₺",e.commission.toLocaleString()]})]})]}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Şoför Kazancı"}),a.jsxs("span",{className:"text-xl font-bold text-green-600",children:["₺",e.driverEarning.toLocaleString()]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rota"}),a.jsx("p",{className:"text-sm text-gray-800",children:e.route})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:(null==(i=null==(l=null==(s=e.completedAt)?void 0:s.toDate)?void 0:l.call(s))?void 0:i.toLocaleDateString("tr-TR"))||"Tarih bilinmiyor"}),"pending"===c&&a.jsxs("button",{onClick:()=>(async e=>{try{if(await ut(dt(ir,"reservations",e.id),{driverPaymentStatus:"paid",paidAt:new Date}),"cash"!==e.paymentMethod){const t=(n.find(t=>t.id===e.driverId).balance||0)+e.driverEarning;await ut(dt(ir,"drivers",e.driverId),{balance:t})}t(t=>t.filter(t=>t.id!==e.id)),r(t=>[...t,{...e,paymentStatus:"paid",paidAt:new Date}]),alert("Ödeme başarıyla işaretlendi")}catch(s){console.error("Ödeme işaretleme hatası:",s),alert("Ödeme işaretlenirken hata oluştu")}})(e),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[a.jsx(R,{className:"w-4 h-4"}),"Ödendi İşaretle"]}),"completed"===c&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(R,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Ödendi"})]})]}),"cash"===e.paymentMethod&&a.jsx("div",{className:"mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-sm text-yellow-800",children:"Nakit ödeme - Şoför komisyonu toplamalı"})]})})]})};return i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-yellow-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(T,{className:"w-8 h-8 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Bekleyen Ödemeler"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.length})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-green-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(R,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tamamlanan"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.length})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-blue-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(B,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Bekleyen Tutar"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["₺",e.reduce((e,t)=>e+t.driverEarning,0).toLocaleString()]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-purple-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(k,{className:"w-8 h-8 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Şoförler"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.length})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"flex border-b border-gray-200",children:[a.jsx("button",{onClick:()=>d("pending"),className:"flex-1 px-6 py-4 font-medium transition-colors "+("pending"===c?"bg-yellow-50 text-yellow-600 border-b-2 border-yellow-600":"text-gray-600 hover:bg-gray-50"),children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(T,{className:"w-5 h-5"}),"Bekleyen Ödemeler (",e.length,")"]})}),a.jsx("button",{onClick:()=>d("completed"),className:"flex-1 px-6 py-4 font-medium transition-colors "+("completed"===c?"bg-green-50 text-green-600 border-b-2 border-green-600":"text-gray-600 hover:bg-gray-50"),children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(R,{className:"w-5 h-5"}),"Tamamlanan Ödemeler (",s.length,")"]})})]}),a.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tüm Şoförler"}),n.map(e=>a.jsxs("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:x,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tüm Tarihler"}),a.jsx("option",{value:"today",children:"Bugün"}),a.jsx("option",{value:"week",children:"Son 7 Gün"}),a.jsx("option",{value:"month",children:"Son 30 Gün"})]})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:b.map(e=>a.jsx(v,{payment:e},e.id))}),0===b.length&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(G,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"pending"===c?"Bekleyen ödeme bulunamadı":"Tamamlanan ödeme bulunamadı"})]})]})]})]})},Fd=()=>{const[e,t]=ze.useState([]),[s,r]=ze.useState([]),[n,l]=ze.useState(!0),[i,o]=ze.useState(!1),[c,m]=ze.useState(null),[u,h]=ze.useState({driverId:"",title:"",description:"",dueDate:"",amount:"",type:"payment",priority:"medium"});ze.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const e=(await kt(Nt(ir,"drivers"))).docs.map(e=>({id:e.id,...e.data()}));r(e);const s=(await kt(Nt(ir,"paymentReminders"))).docs.map(e=>{var t;return{id:e.id,...e.data(),dueDate:(null==(t=e.data().dueDate)?void 0:t.toDate())||new Date(e.data().dueDate)}});s.sort((e,t)=>new Date(e.dueDate)-new Date(t.dueDate)),t(s)}catch(e){console.error("Veri getirme hatası:",e)}finally{l(!1)}},x=e=>{const t=s.find(t=>t.id===e);return t?`${t.firstName} ${t.lastName}`:"Bilinmeyen Şoför"},g=e=>{const t=new Date,s=new Date(e)-t;return Math.ceil(s/864e5)},f=e=>{switch(e){case"high":return"border-l-red-500 bg-red-50";case"medium":return"border-l-yellow-500 bg-yellow-50";case"low":return"border-l-green-500 bg-green-50";default:return"border-l-gray-500 bg-gray-50"}},b=e=>{switch(e){case"payment":return"💰";case"commission":return"💼";case"other":return"📝";default:return"📋"}},v=e.filter(e=>"completed"!==e.status),y=e.filter(e=>"completed"===e.status);return n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Ödeme Uyarıları"}),a.jsx("p",{className:"text-gray-600",children:"Şoför ödemelerini ve komisyon tahsilat tarihlerini takip edin"})]}),a.jsxs("button",{onClick:()=>{m(null),h({driverId:"",title:"",description:"",dueDate:"",amount:"",type:"payment",priority:"medium"}),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[a.jsx(V,{className:"w-4 h-4"}),"Yeni Uyarı"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-red-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(me,{className:"w-8 h-8 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Acil Uyarılar"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:v.filter(e=>g(e.dueDate)<=0).length})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-yellow-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(T,{className:"w-8 h-8 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Bu Hafta"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:v.filter(e=>{const t=g(e.dueDate);return t>0&&t<=7}).length})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-blue-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(d,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Aktif"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v.length})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 border-l-green-500",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(R,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tamamlanan"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.length})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(S,{className:"w-6 h-6 text-orange-600"}),"Aktif Uyarılar"]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[v.map(e=>{const s=g(e.dueDate),r=s<0,n=0===s;return a.jsx(j.div,{whileHover:{scale:1.01},className:`border-l-4 rounded-lg p-4 ${f(e.priority)} ${r?"ring-2 ring-red-200":n?"ring-2 ring-yellow-200":""}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:b(e.type)}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:e.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[x(e.driverId)," • ",e.dueDate.toLocaleDateString("tr-TR")]}),e.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right mr-4",children:[e.amount>0&&a.jsxs("p",{className:"font-bold text-green-600",children:["₺",e.amount.toLocaleString()]}),a.jsx("p",{className:"text-sm font-medium "+(r?"text-red-600":n?"text-yellow-600":"text-gray-600"),children:r?`${Math.abs(s)} gün gecikmiş`:n?"Bugün":`${s} gün kaldı`})]}),a.jsx("button",{onClick:()=>(e=>{m(e),h({driverId:e.driverId,title:e.title,description:e.description,dueDate:e.dueDate.toISOString().split("T")[0],amount:e.amount.toString(),type:e.type,priority:e.priority}),o(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg",children:a.jsx(ye,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>(async e=>{try{await ut(dt(ir,"paymentReminders",e),{status:"completed",completedAt:new Date}),t(t=>t.map(t=>t.id===e?{...t,status:"completed",completedAt:new Date}:t))}catch(s){console.error("Uyarı tamamlama hatası:",s),alert("Uyarı tamamlanırken hata oluştu")}})(e.id),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg",children:a.jsx(R,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>(async e=>{if(confirm("Bu uyarıyı silmek istediğinizden emin misiniz?"))try{await Ct(dt(ir,"paymentReminders",e)),t(t=>t.filter(t=>t.id!==e))}catch(s){console.error("Uyarı silme hatası:",s),alert("Uyarı silinirken hata oluştu")}})(e.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:a.jsx(he,{className:"w-4 h-4"})})]})]})},e.id)}),0===v.length&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(S,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"Aktif uyarı bulunamadı"})]})]})})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:c?"Uyarı Düzenle":"Yeni Uyarı Oluştur"}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),u.driverId&&u.title&&u.dueDate)try{const e={...u,dueDate:new Date(u.dueDate),amount:parseFloat(u.amount)||0,createdAt:new Date,status:"active"};if(c)await ut(dt(ir,"paymentReminders",c.id),e),t(t=>t.map(t=>t.id===c.id?{...t,...e}:t));else{const s=await Bt(Nt(ir,"paymentReminders"),e);t(t=>[...t,{id:s.id,...e}])}h({driverId:"",title:"",description:"",dueDate:"",amount:"",type:"payment",priority:"medium"}),o(!1),m(null)}catch(s){console.error("Uyarı kaydetme hatası:",s),alert("Uyarı kaydedilirken hata oluştu")}else alert("Lütfen zorunlu alanları doldurun")},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şoför *"}),a.jsxs("select",{value:u.driverId,onChange:e=>h(t=>({...t,driverId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:"Şoför seçin"}),s.map(e=>a.jsxs("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Başlık *"}),a.jsx("input",{type:"text",value:u.title,onChange:e=>h(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Uyarı başlığı",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),a.jsx("textarea",{value:u.description,onChange:e=>h(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:"3",placeholder:"Detaylı açıklama"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tür"}),a.jsxs("select",{value:u.type,onChange:e=>h(t=>({...t,type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"payment",children:"Ödeme"}),a.jsx("option",{value:"commission",children:"Komisyon"}),a.jsx("option",{value:"other",children:"Diğer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Öncelik"}),a.jsxs("select",{value:u.priority,onChange:e=>h(t=>({...t,priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"low",children:"Düşük"}),a.jsx("option",{value:"medium",children:"Orta"}),a.jsx("option",{value:"high",children:"Yüksek"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarih *"}),a.jsx("input",{type:"date",value:u.dueDate,onChange:e=>h(t=>({...t,dueDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tutar (₺)"}),a.jsx("input",{type:"number",value:u.amount,onChange:e=>h(t=>({...t,amount:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"İptal"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:c?"Güncelle":"Oluştur"})]})]})]})})]})},$d=()=>{const[e,t]=ze.useState({totalRevenue:0,totalCommissions:0,driverPayments:0,pendingPayments:0,cashTransactions:0,cardTransactions:0}),[s,r]=ze.useState([]),[n,l]=ze.useState([]),[i,o]=ze.useState(!0),[c,m]=ze.useState({startDate:new Date((new Date).setDate(1)).toISOString().split("T")[0],endDate:(new Date).toISOString().split("T")[0]}),[u,h]=ze.useState("summary");ze.useEffect(()=>{p()},[c]);const p=async()=>{try{o(!0);const e=new Date(c.startDate),s=new Date(c.endDate);s.setHours(23,59,59,999);const a=(await kt(Nt(ir,"drivers"))).docs.map(e=>({id:e.id,...e.data()}));r(a);const n=jt(Nt(ir,"reservations"),Lt("status","==","completed"),wt("completedAt","desc"));let i=(await kt(n)).docs.map(e=>({id:e.id,...e.data()})).filter(t=>{var r;const a=(null==(r=t.completedAt)?void 0:r.toDate())||new Date(t.completedAt);return a>=e&&a<=s});l(i);let d=0,m=0,u=0,h=0,p=0,x=0;i.forEach(e=>{const t=e.totalPrice||0;if(d+=t,"cash"===e.paymentMethod?u+=t:h+=t,e.driverId){const s=a.find(t=>t.id===e.driverId);if(s){const r=t*(s.commissionRate||15)/100;m+=r,"paid"===e.driverPaymentStatus?p+=t-r:x+=t-r}}}),t({totalRevenue:d,totalCommissions:m,driverPayments:p,pendingPayments:x,cashTransactions:u,cardTransactions:h})}catch(e){console.error("Rapor verilerini getirme hatası:",e)}finally{o(!1)}},x=()=>s.map(e=>{const t=n.filter(t=>t.driverId===e.id),s=t.length,r=t.reduce((e,t)=>e+(t.totalPrice||0),0),a=e.commissionRate||15,l=r*a/100,i=r-l;return{id:e.id,name:`${e.firstName} ${e.lastName}`,phone:e.phone,totalTrips:s,totalRevenue:r,totalCommission:l,driverEarnings:i,commissionRate:a,averageTrip:s>0?r/s:0}}).sort((e,t)=>t.totalRevenue-e.totalRevenue),g=({title:e,value:t,icon:s,color:r,change:n})=>a.jsx(j.div,{whileHover:{scale:1.02},className:`bg-white rounded-xl p-6 shadow-lg border-l-4 ${r}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm font-medium",children:e}),a.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:"number"==typeof t&&e.includes("₺")?`₺${t.toLocaleString()}`:t.toLocaleString()}),n&&a.jsxs("p",{className:"text-sm mt-2 "+(n>0?"text-green-600":"text-red-600"),children:[n>0?"+":"",n,"% önceki döneme göre"]})]}),a.jsx("div",{className:`p-3 rounded-full ${r.replace("border-l-","bg-").replace("-500","-100")}`,children:a.jsx(s,{className:`w-8 h-8 ${r.replace("border-l-","text-")}`})})]})});return i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Finansal Raporlar"}),a.jsx("p",{className:"text-gray-600",children:"Detaylı finansal analiz ve raporlama"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>((e,t)=>{const s=e.map(e=>Object.values(e).join(",")).join("\n"),r=new Blob([s],{type:"text/csv"}),a=window.URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=t,n.click(),window.URL.revokeObjectURL(a)})(x(),"sofor_raporu.csv"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[a.jsx(ee,{className:"w-4 h-4"}),"CSV İndir"]})})]}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(d,{className:"w-5 h-5 text-gray-600"}),a.jsx("span",{className:"font-medium text-gray-800",children:"Tarih Aralığı:"}),a.jsx("input",{type:"date",value:c.startDate,onChange:e=>m(t=>({...t,startDate:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"}),a.jsx("span",{className:"text-gray-500",children:"-"}),a.jsx("input",{type:"date",value:c.endDate,onChange:e=>m(t=>({...t,endDate:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(g,{title:"Toplam Gelir",value:e.totalRevenue,icon:B,color:"border-l-green-500"}),a.jsx(g,{title:"Toplam Komisyon",value:e.totalCommissions,icon:Ce,color:"border-l-blue-500"}),a.jsx(g,{title:"Şoför Ödemeleri",value:e.driverPayments,icon:k,color:"border-l-purple-500"}),a.jsx(g,{title:"Bekleyen Ödemeler",value:e.pendingPayments,icon:we,color:"border-l-yellow-500"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"flex border-b border-gray-200",children:[a.jsx("button",{onClick:()=>h("summary"),className:"flex-1 px-6 py-4 font-medium transition-colors "+("summary"===u?"bg-green-50 text-green-600 border-b-2 border-green-600":"text-gray-600 hover:bg-gray-50"),children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(N,{className:"w-5 h-5"}),"Özet Rapor"]})}),a.jsx("button",{onClick:()=>h("drivers"),className:"flex-1 px-6 py-4 font-medium transition-colors "+("drivers"===u?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"),children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(k,{className:"w-5 h-5"}),"Şoför Performansı"]})}),a.jsx("button",{onClick:()=>h("payments"),className:"flex-1 px-6 py-4 font-medium transition-colors "+("payments"===u?"bg-purple-50 text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:bg-gray-50"),children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(Pe,{className:"w-5 h-5"}),"Ödeme Yöntemleri"]})})]}),a.jsxs("div",{className:"p-6",children:["summary"===u&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Gelir Dağılımı"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Nakit Ödemeler"}),a.jsxs("span",{className:"font-bold",children:["₺",e.cashTransactions.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Kredi Kartı/Havale"}),a.jsxs("span",{className:"font-bold",children:["₺",e.cardTransactions.toLocaleString()]})]}),a.jsxs("div",{className:"border-t pt-3 flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Toplam"}),a.jsxs("span",{children:["₺",e.totalRevenue.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Komisyon Analizi"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Toplam Komisyon"}),a.jsxs("span",{className:"font-bold",children:["₺",e.totalCommissions.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ortalama Komisyon Oranı"}),a.jsxs("span",{className:"font-bold",children:["%",e.totalRevenue>0?(e.totalCommissions/e.totalRevenue*100).toFixed(1):0]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Toplam Yolculuk"}),a.jsx("span",{className:"font-bold",children:n.length})]})]})]})]})}),"drivers"===u&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-800",children:"Şoför Performans Raporu"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Şoför"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Yolculuk"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Toplam Gelir"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Komisyon"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Şoför Kazancı"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Ort. Yolculuk"})]})}),a.jsx("tbody",{children:x().map(e=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-2",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:e.name}),a.jsx("div",{className:"text-sm text-gray-600",children:e.phone})]})}),a.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center font-bold",children:e.totalTrips}),a.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center font-bold text-green-600",children:["₺",e.totalRevenue.toLocaleString()]}),a.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center font-bold text-red-600",children:["₺",e.totalCommission.toLocaleString()]}),a.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center font-bold text-blue-600",children:["₺",e.driverEarnings.toLocaleString()]}),a.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:["₺",e.averageTrip.toLocaleString()]})]},e.id))})]})})]}),"payments"===u&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-800",children:"Ödeme Yöntemi Analizi"}),(()=>{const t=(()=>{const t=n.filter(e=>"cash"===e.paymentMethod).length,s=n.filter(e=>"cash"!==e.paymentMethod).length;return{cash:{count:t,amount:e.cashTransactions,percentage:n.length>0?t/n.length*100:0},card:{count:s,amount:e.cardTransactions,percentage:n.length>0?s/n.length*100:0}}})();return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl border border-yellow-200",children:[a.jsx("h5",{className:"text-lg font-bold text-gray-800 mb-4",children:"💰 Nakit Ödemeler"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"İşlem Sayısı"}),a.jsx("span",{className:"font-bold",children:t.cash.count})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Toplam Tutar"}),a.jsxs("span",{className:"font-bold",children:["₺",t.cash.amount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Yüzde"}),a.jsxs("span",{className:"font-bold",children:["%",t.cash.percentage.toFixed(1)]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[a.jsx("h5",{className:"text-lg font-bold text-gray-800 mb-4",children:"💳 Kredi Kartı/Havale"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"İşlem Sayısı"}),a.jsx("span",{className:"font-bold",children:t.card.count})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Toplam Tutar"}),a.jsxs("span",{className:"font-bold",children:["₺",t.card.amount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Yüzde"}),a.jsxs("span",{className:"font-bold",children:["%",t.card.percentage.toFixed(1)]})]})]})]})]})})()]})]})]})]})},Kd=()=>{const[e,t]=ze.useState("overview"),s=[{id:"overview",label:"Genel Bakış",icon:Ce,component:Ud},{id:"drivers",label:"Şoför Cariler",icon:k,component:Hd},{id:"payments",label:"Ödeme Yönetimi",icon:G,component:Vd},{id:"reminders",label:"Ödeme Uyarıları",icon:me,component:Fd},{id:"reports",label:"Finansal Raporlar",icon:we,component:$d}];return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Finansal Yönetim"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Tüm finansal işlemler, şoför carilik hesapları ve ödeme takibi merkezi"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[a.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:s.map(s=>a.jsxs("button",{onClick:()=>t(s.id),className:`\n                flex items-center gap-2 px-6 py-4 transition-all duration-200 font-medium\n                ${e===s.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"}\n              `,children:[a.jsx(s.icon,{className:"w-5 h-5"}),s.label]},s.id))}),a.jsx("div",{className:"p-6",children:a.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(()=>{const t=s.find(t=>t.id===e),r=null==t?void 0:t.component;return r?a.jsx(r,{}):null})()},e)})]})]})},Gd=()=>{var e;const{state:t,updateSettings:s}=qr(),[r,n]=ze.useState("general"),[l,i]=ze.useState(!1),[o,c]=ze.useState(!1),[d,m]=ze.useState({general:{companyName:"SBS Transfer",companyEmail:"info@sbstransfer.com",companyPhone:"+90 555 123 45 67",companyAddress:"İstanbul, Türkiye",companyDescription:"Premium transfer hizmetleri",website:"https://sbstransfer.com",logo:"",favicon:""},payment:{paytrMerchantId:"",paytrMerchantKey:"",paytrMerchantSalt:"",testMode:!0,enabledMethods:{cash:!0,creditCard:!0,bankTransfer:!0,paytr:!1},currency:"TRY",taxRate:18},bankAccounts:[{id:1,bankName:"Türkiye İş Bankası",accountHolder:"SBS Transfer Hizmetleri Ltd. Şti.",iban:"TR33 0006 4000 0011 2345 6789 01",branch:"Ataşehir Şubesi",isActive:!0}],company:{taxNumber:"1234567890",commercialRegistrationNumber:"123456",mersisNumber:"0123456789012345",establishmentDate:"2020-01-01",legalStructure:"Ltd. Şti.",authorizedPerson:"Mehmet Yılmaz",authorizedPersonTitle:"Genel Müdür"},commission:{defaultDriverCommission:70,companyCommission:30,minimumCommission:50,maximumCommission:90,paymentFrequency:"weekly"},notifications:{email:{newReservation:!0,reservationUpdate:!0,driverAssignment:!0,paymentReceived:!0,cancellation:!0,weeklyReport:!0},sms:{reservationConfirmation:!0,driverAssignment:!0,paymentReminder:!1,promotions:!1},push:{newReservation:!0,statusUpdate:!0,promotions:!1}},system:{maintenanceMode:!1,debugMode:!1,dataRetention:365,backupFrequency:"daily",timezone:"Europe/Istanbul",language:"tr",dateFormat:"DD/MM/YYYY",timeFormat:"24h"}}),u=[{id:"general",name:"Genel Ayarlar",icon:P,description:"Şirket bilgileri ve genel ayarlar"},{id:"payment",name:"Ödeme Ayarları",icon:G,description:"PayTR API ve ödeme yöntemleri"},{id:"bankAccounts",name:"Banka Hesapları",icon:q,description:"Havale için banka hesap bilgileri"},{id:"company",name:"Şirket Bilgileri",icon:Se,description:"Resmi şirket ve yasal bilgiler"},{id:"commission",name:"Komisyon Ayarları",icon:Le,description:"Şoför komisyon oranları"},{id:"notifications",name:"Bildirim Ayarları",icon:S,description:"E-posta, SMS ve push bildirimleri"},{id:"system",name:"Sistem Ayarları",icon:Ee,description:"Sistem konfigürasyonu ve güvenlik"}];ze.useEffect(()=>{(async()=>{try{c(!0);const e=await kt(Nt(ir,"settings"));if(!e.empty){const t=e.docs.find(e=>"main"===e.id);if(t){const e=t.data();console.log("Firebase Settings Loaded:",e),m(t=>({...t,...e}))}}}catch(e){console.error("Settings yüklenirken hata:",e),Os.error("Ayarlar yüklenirken hata oluştu")}finally{c(!1)}})()},[]);const h=(e,t,s)=>{m(r=>({...r,[e]:{...r[e],[t]:s}})),i(!0)},p=(e,t,s,r)=>{m(a=>({...a,[e]:{...a[e],[t]:{...a[e][t],[s]:r}}})),i(!0)},x=(e,t,s)=>{m(r=>({...r,bankAccounts:r.bankAccounts.map((r,a)=>a===e?{...r,[t]:s}:r)})),i(!0)},g=()=>{const e={id:Date.now(),bankName:"",accountHolder:"",iban:"",branch:"",isActive:!0};m(t=>({...t,bankAccounts:[...t.bankAccounts,e]})),i(!0)},f=e=>{m(t=>({...t,bankAccounts:t.bankAccounts.filter((t,s)=>s!==e)})),i(!0)};return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sistem Ayarları"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Platform ayarlarını yönetin ve konfigürasyon yapın"})]}),l&&a.jsxs(j.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{c(!0);try{await mt(dt(ir,"settings","main"),{...d,updatedAt:(new Date).toISOString()}),i(!1),Os.success("Ayarlar başarıyla kaydedildi!")}catch(e){console.error("Settings save error:",e),Os.error("Ayarlar kaydedilirken hata oluştu: "+e.message)}finally{c(!1)}},disabled:o,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(ne,{className:"h-5 w-5"}),a.jsx("span",{children:o?"Kaydediliyor...":"Değişiklikleri Kaydet"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-0",children:u.map((e,t)=>{const s=e.icon,l=r===e.id;return a.jsxs("button",{onClick:()=>n(e.id),className:`relative flex-1 py-4 px-6 text-sm font-medium transition-colors ${l?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"} ${0===t?"rounded-tl-xl":""} ${t===u.length-1?"rounded-tr-xl":""}`,children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:block",children:e.name})]}),l&&a.jsx(j.div,{layoutId:"activeTab",className:"absolute inset-0 bg-blue-50 border-b-2 border-blue-600 rounded-t-xl",style:{zIndex:-1},transition:{type:"spring",stiffness:300,damping:30}})]},e.id)})})}),a.jsx("div",{className:"px-6 py-3 bg-gray-50 rounded-b-xl",children:a.jsx("p",{className:"text-sm text-gray-600",children:null==(e=u.find(e=>e.id===r))?void 0:e.description})})]}),a.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(()=>{switch(r){case"general":return a.jsx(Yd,{settings:d.general,onChange:(e,t)=>h("general",e,t)});case"payment":return a.jsx(Zd,{settings:d.payment,onChange:(e,t)=>h("payment",e,t),onNestedChange:(e,t,s)=>p("payment",e,t,s)});case"bankAccounts":return a.jsx(Wd,{accounts:d.bankAccounts,onAccountChange:x,onAddAccount:g,onRemoveAccount:f});case"company":return a.jsx(qd,{settings:d.company,onChange:(e,t)=>h("company",e,t)});case"commission":return a.jsx(Qd,{settings:d.commission,onChange:(e,t)=>h("commission",e,t)});case"notifications":return a.jsx(Xd,{settings:d.notifications,onChange:(e,t,s)=>p("notifications",e,t,s)});case"system":return a.jsx(Jd,{settings:d.system,onChange:(e,t)=>h("system",e,t)});default:return null}})()},r),a.jsx(y,{children:l&&a.jsx(j.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-6 right-6 bg-yellow-100 border border-yellow-300 rounded-lg p-4 shadow-lg max-w-sm",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(F,{className:"h-5 w-5 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Kaydedilmemiş Değişiklikler"}),a.jsx("p",{className:"text-xs text-yellow-700",children:"Değişikliklerinizi kaydetmeyi unutmayın"})]})]})})})]})},Yd=({settings:e,onChange:t})=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket Adı *"}),a.jsx("input",{type:"text",value:e.companyName,onChange:e=>t("companyName",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Şirket adını girin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi *"}),a.jsx("input",{type:"email",value:e.companyEmail,onChange:e=>t("companyEmail",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"info@company.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon Numarası *"}),a.jsx("input",{type:"tel",value:e.companyPhone,onChange:e=>t("companyPhone",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+90 555 123 45 67"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),a.jsx("input",{type:"url",value:e.website,onChange:e=>t("website",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://company.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket Adresi *"}),a.jsx("textarea",{value:e.companyAddress,onChange:e=>t("companyAddress",e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tam adres bilgisi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket Açıklaması"}),a.jsx("textarea",{value:e.companyDescription,onChange:e=>t("companyDescription",e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Şirket hakkında kısa açıklama"})]})]}),Zd=({settings:e,onChange:t,onNestedChange:s})=>a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(G,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"PayTR API Ayarları"})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Me,{className:"h-4 w-4 text-blue-600"}),a.jsx("p",{className:"text-sm text-blue-800",children:"PayTR API bilgilerinizi PayTR merchant panelinden alabilirsiniz."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Merchant ID"}),a.jsx("input",{type:"text",value:e.paytrMerchantId,onChange:e=>t("paytrMerchantId",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PayTR Merchant ID"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Merchant Key"}),a.jsx("input",{type:"password",value:e.paytrMerchantKey,onChange:e=>t("paytrMerchantKey",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PayTR Merchant Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Merchant Salt"}),a.jsx("input",{type:"password",value:e.paytrMerchantSalt,onChange:e=>t("paytrMerchantSalt",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PayTR Merchant Salt"})]}),a.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[a.jsx("input",{type:"checkbox",id:"testMode",checked:e.testMode,onChange:e=>t("testMode",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"testMode",className:"text-sm font-medium text-gray-700",children:"Test Modu Aktif"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ödeme Yöntemleri"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(e.enabledMethods).map(([e,t])=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:t,onChange:t=>s("enabledMethods",e,t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:"cash"===e?"Nakit":"creditCard"===e?"Kredi Kartı":"bankTransfer"===e?"Banka Havalesi":"paytr"===e?"PayTR":e})]},e))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Para Birimi"}),a.jsxs("select",{value:e.currency,onChange:e=>t("currency",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"TRY",children:"Türk Lirası (₺)"}),a.jsx("option",{value:"USD",children:"Amerikan Doları ($)"}),a.jsx("option",{value:"EUR",children:"Euro (€)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KDV Oranı (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:e.taxRate,onChange:e=>t("taxRate",parseFloat(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),Wd=({accounts:e,onAccountChange:t,onAddAccount:s,onRemoveAccount:r})=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Banka Hesapları"}),a.jsxs("button",{onClick:s,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(q,{className:"h-4 w-4"}),a.jsx("span",{children:"Hesap Ekle"})]})]}),a.jsx("div",{className:"space-y-4",children:e.map((e,s)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banka Adı *"}),a.jsx("input",{type:"text",value:e.bankName,onChange:e=>t(s,"bankName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Banka adı"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hesap Sahibi *"}),a.jsx("input",{type:"text",value:e.accountHolder,onChange:e=>t(s,"accountHolder",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Hesap sahibi adı"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IBAN *"}),a.jsx("input",{type:"text",value:e.iban,onChange:e=>t(s,"iban",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"TR00 0000 0000 0000 0000 0000 00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şube"}),a.jsx("input",{type:"text",value:e.branch,onChange:e=>t(s,"branch",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Şube adı"})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:e.isActive,onChange:e=>t(s,"isActive",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Aktif Hesap"})]}),a.jsx("button",{onClick:()=>r(s),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Hesabı Kaldır"})]})]},e.id))})]}),qd=({settings:e,onChange:t})=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vergi Numarası"}),a.jsx("input",{type:"text",value:e.taxNumber,onChange:e=>t("taxNumber",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"1234567890"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ticaret Sicil Numarası"}),a.jsx("input",{type:"text",value:e.commercialRegistrationNumber,onChange:e=>t("commercialRegistrationNumber",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"123456"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MERSİS Numarası"}),a.jsx("input",{type:"text",value:e.mersisNumber,onChange:e=>t("mersisNumber",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0123456789012345"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kuruluş Tarihi"}),a.jsx("input",{type:"date",value:e.establishmentDate,onChange:e=>t("establishmentDate",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hukuki Yapı"}),a.jsxs("select",{value:e.legalStructure,onChange:e=>t("legalStructure",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"Ltd. Şti.",children:"Limited Şirket"}),a.jsx("option",{value:"A.Ş.",children:"Anonim Şirket"}),a.jsx("option",{value:"Şahıs",children:"Şahıs Şirketi"}),a.jsx("option",{value:"Koop.",children:"Kooperatif"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yetkili Kişi"}),a.jsx("input",{type:"text",value:e.authorizedPerson,onChange:e=>t("authorizedPerson",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ad Soyad"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yetkili Unvanı"}),a.jsx("input",{type:"text",value:e.authorizedPersonTitle,onChange:e=>t("authorizedPersonTitle",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Genel Müdür, CEO, vs."})]})]}),Qd=({settings:e,onChange:t})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Me,{className:"h-4 w-4 text-blue-600"}),a.jsx("p",{className:"text-sm text-blue-800",children:"Komisyon oranları toplamı %100 olmalıdır. Şoför + Şirket = %100"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Varsayılan Şoför Komisyonu (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:e.defaultDriverCommission,onChange:e=>t("defaultDriverCommission",parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Şoförlere verilen varsayılan komisyon oranı"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şirket Komisyonu (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:e.companyCommission,onChange:e=>t("companyCommission",parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Şirketin aldığı komisyon oranı"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Komisyon (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:e.minimumCommission,onChange:e=>t("minimumCommission",parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maksimum Komisyon (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:e.maximumCommission,onChange:e=>t("maximumCommission",parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ödeme Sıklığı"}),a.jsxs("select",{value:e.paymentFrequency,onChange:e=>t("paymentFrequency",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"daily",children:"Günlük"}),a.jsx("option",{value:"weekly",children:"Haftalık"}),a.jsx("option",{value:"monthly",children:"Aylık"})]})]})]}),Xd=({settings:e,onChange:t})=>a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(l,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"E-posta Bildirimleri"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e.email).map(([e,s])=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:s=>t("email",e,s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"newReservation"===e?"Yeni Rezervasyon":"reservationUpdate"===e?"Rezervasyon Güncelleme":"driverAssignment"===e?"Şoför Atama":"paymentReceived"===e?"Ödeme Alındı":"cancellation"===e?"İptal Bildirimi":"weeklyReport"===e?"Haftalık Rapor":e})]},e))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(De,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{children:"SMS Bildirimleri"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e.sms).map(([e,s])=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:s=>t("sms",e,s.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"reservationConfirmation"===e?"Rezervasyon Onayı":"driverAssignment"===e?"Şoför Atama":"paymentReminder"===e?"Ödeme Hatırlatması":"promotions"===e?"Promosyonlar":e})]},e))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(S,{className:"h-5 w-5 text-purple-600"}),a.jsx("span",{children:"Push Bildirimleri"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e.push).map(([e,s])=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:s=>t("push",e,s.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"newReservation"===e?"Yeni Rezervasyon":"statusUpdate"===e?"Durum Güncellemesi":"promotions"===e?"Promosyonlar":e})]},e))})]})]}),Jd=({settings:e,onChange:t})=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Saat Dilimi"}),a.jsxs("select",{value:e.timezone,onChange:e=>t("timezone",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"Europe/Istanbul",children:"İstanbul (UTC+3)"}),a.jsx("option",{value:"Europe/London",children:"Londra (UTC+0)"}),a.jsx("option",{value:"America/New_York",children:"New York (UTC-5)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dil"}),a.jsxs("select",{value:e.language,onChange:e=>t("language",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"tr",children:"Türkçe"}),a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"de",children:"Deutsch"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarih Formatı"}),a.jsxs("select",{value:e.dateFormat,onChange:e=>t("dateFormat",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),a.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),a.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Saat Formatı"}),a.jsxs("select",{value:e.timeFormat,onChange:e=>t("timeFormat",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"24h",children:"24 Saat"}),a.jsx("option",{value:"12h",children:"12 Saat (AM/PM)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veri Saklama Süresi (Gün)"}),a.jsx("input",{type:"number",min:"30",max:"3650",value:e.dataRetention,onChange:e=>t("dataRetention",parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yedekleme Sıklığı"}),a.jsxs("select",{value:e.backupFrequency,onChange:e=>t("backupFrequency",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"daily",children:"Günlük"}),a.jsx("option",{value:"weekly",children:"Haftalık"}),a.jsx("option",{value:"monthly",children:"Aylık"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 p-4 border border-yellow-200 rounded-lg bg-yellow-50",children:[a.jsx("input",{type:"checkbox",checked:e.maintenanceMode,onChange:e=>t("maintenanceMode",e.target.checked),className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Bakım Modu"}),a.jsx("p",{className:"text-xs text-yellow-700",children:"Aktif olduğunda site bakım moduna geçer"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 border border-red-200 rounded-lg bg-red-50",children:[a.jsx("input",{type:"checkbox",checked:e.debugMode,onChange:e=>t("debugMode",e.target.checked),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-red-800",children:"Debug Modu"}),a.jsx("p",{className:"text-xs text-red-700",children:"Sadece geliştirme aşamasında aktif edilmeli"})]})]})]})]});var em,tm={exports:{}};"undefined"!=typeof self&&self,em=function(){return function(e){var t={};function s(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=3)}([function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.width=t,this.height=e.length/t,this.data=e}return e.createEmpty=function(t,s){return new e(new Uint8ClampedArray(t*s),t)},e.prototype.get=function(e,t){return!(e<0||e>=this.width||t<0||t>=this.height||!this.data[t*this.width+e])},e.prototype.set=function(e,t,s){this.data[t*this.width+e]=s?1:0},e.prototype.setRegion=function(e,t,s,r,a){for(var n=t;n<t+r;n++)for(var l=e;l<e+s;l++)this.set(l,n,!!a)},e}();t.BitMatrix=r},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=s(2);t.addOrSubtractGF=function(e,t){return e^t};var a=function(){function e(e,t,s){this.primitive=e,this.size=t,this.generatorBase=s,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var a=1,n=0;n<this.size;n++)this.expTable[n]=a,(a*=2)>=this.size&&(a=(a^this.primitive)&this.size-1);for(n=0;n<this.size-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new r.default(this,Uint8ClampedArray.from([0])),this.one=new r.default(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===t)return this.zero;var s=new Uint8ClampedArray(e+1);return s[0]=t,new r.default(this,s)},e.prototype.log=function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}();t.default=a},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),a=function(){function e(e,t){if(0===t.length)throw new Error("No coefficients.");this.field=e;var s=t.length;if(s>1&&0===t[0]){for(var r=1;r<s&&0===t[r];)r++;if(r===s)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(s-r);for(var a=0;a<this.coefficients.length;a++)this.coefficients[a]=t[r+a]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){var s;if(this.isZero())return t;if(t.isZero())return this;var a=this.coefficients,n=t.coefficients;a.length>n.length&&(a=(s=[n,a])[0],n=s[1]);for(var l=new Uint8ClampedArray(n.length),i=n.length-a.length,o=0;o<i;o++)l[o]=n[o];for(o=i;o<n.length;o++)l[o]=r.addOrSubtractGF(a[o-i],n[o]);return new e(this.field,l)},e.prototype.multiply=function(t){if(0===t)return this.field.zero;if(1===t)return this;for(var s=this.coefficients.length,r=new Uint8ClampedArray(s),a=0;a<s;a++)r[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,r)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var s=this.coefficients,a=s.length,n=t.coefficients,l=n.length,i=new Uint8ClampedArray(a+l-1),o=0;o<a;o++)for(var c=s[o],d=0;d<l;d++)i[o+d]=r.addOrSubtractGF(i[o+d],this.field.multiply(c,n[d]));return new e(this.field,i)},e.prototype.multiplyByMonomial=function(t,s){if(t<0)throw new Error("Invalid degree less than 0");if(0===s)return this.field.zero;for(var r=this.coefficients.length,a=new Uint8ClampedArray(r+t),n=0;n<r;n++)a[n]=this.field.multiply(this.coefficients[n],s);return new e(this.field,a)},e.prototype.evaluateAt=function(e){var t=0;if(0===e)return this.getCoefficient(0);var s=this.coefficients.length;if(1===e)return this.coefficients.forEach(function(e){t=r.addOrSubtractGF(t,e)}),t;t=this.coefficients[0];for(var a=1;a<s;a++)t=r.addOrSubtractGF(this.field.multiply(e,t),this.coefficients[a]);return t},e}();t.default=a},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=s(4),a=s(5),n=s(11),l=s(12);function i(e){var t=l.locate(e);if(!t)return null;for(var s=0,r=t;s<r.length;s++){var i=r[s],o=n.extract(e,i),c=a.decode(o.matrix);if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:o.mappingFunction(i.dimension,0),topLeftCorner:o.mappingFunction(0,0),bottomRightCorner:o.mappingFunction(i.dimension,i.dimension),bottomLeftCorner:o.mappingFunction(0,i.dimension),topRightFinderPattern:i.topRight,topLeftFinderPattern:i.topLeft,bottomLeftFinderPattern:i.bottomLeft,bottomRightAlignmentPattern:i.alignmentPattern}}}return null}var o={inversionAttempts:"attemptBoth"};function c(e,t,s,a){void 0===a&&(a={});var n=o;Object.keys(n||{}).forEach(function(e){n[e]=a[e]||n[e]});var l="attemptBoth"===n.inversionAttempts||"invertFirst"===n.inversionAttempts,c="onlyInvert"===n.inversionAttempts||"invertFirst"===n.inversionAttempts,d=r.binarize(e,t,s,l),m=d.binarized,u=d.inverted,h=i(c?u:m);return h||"attemptBoth"!==n.inversionAttempts&&"invertFirst"!==n.inversionAttempts||(h=i(c?m:u)),h}c.default=c,t.default=c},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=s(0);function a(e,t,s){return e<t?t:e>s?s:e}var n=function(){function e(e,t){this.width=e,this.data=new Uint8ClampedArray(e*t)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,s){this.data[t*this.width+e]=s},e}();t.binarize=function(e,t,s,l){if(e.length!==t*s*4)throw new Error("Malformed data passed to binarizer.");for(var i=new n(t,s),o=0;o<t;o++)for(var c=0;c<s;c++){var d=e[4*(c*t+o)+0],m=e[4*(c*t+o)+1],u=e[4*(c*t+o)+2];i.set(o,c,.2126*d+.7152*m+.0722*u)}for(var h=Math.ceil(t/8),p=Math.ceil(s/8),x=new n(h,p),g=0;g<p;g++)for(var f=0;f<h;f++){var b=0,v=1/0,y=0;for(c=0;c<8;c++)for(o=0;o<8;o++){var j=i.get(8*f+o,8*g+c);b+=j,v=Math.min(v,j),y=Math.max(y,j)}var N=b/Math.pow(8,2);if(y-v<=24&&(N=v/2,g>0&&f>0)){var w=(x.get(f,g-1)+2*x.get(f-1,g)+x.get(f-1,g-1))/4;v<w&&(N=w)}x.set(f,g,N)}var k=r.BitMatrix.createEmpty(t,s),C=null;for(l&&(C=r.BitMatrix.createEmpty(t,s)),g=0;g<p;g++)for(f=0;f<h;f++){for(var B=a(f,2,h-3),P=a(g,2,p-3),S=(b=0,-2);S<=2;S++)for(var L=-2;L<=2;L++)b+=x.get(B+S,P+L);var E=b/25;for(S=0;S<8;S++)for(L=0;L<8;L++){o=8*f+S,c=8*g+L;var D=i.get(o,c);k.set(o,c,D<=E),l&&C.set(o,c,!(D<=E))}}return l?{binarized:k,inverted:C}:{binarized:k}}},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=s(0),a=s(6),n=s(9),l=s(10);function i(e,t){for(var s=e^t,r=0;s;)r++,s&=s-1;return r}function o(e,t){return t<<1|e}var c=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],d=[function(e){return(e.y+e.x)%2==0},function(e){return e.y%2==0},function(e){return e.x%3==0},function(e){return(e.y+e.x)%3==0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0},function(e){return e.x*e.y%2+e.x*e.y%3==0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2==0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2==0}];function m(e,t,s){for(var a=d[s.dataMask],n=e.height,l=function(e){var t=17+4*e.versionNumber,s=r.BitMatrix.createEmpty(t,t);s.setRegion(0,0,9,9,!0),s.setRegion(t-8,0,8,9,!0),s.setRegion(0,t-8,9,8,!0);for(var a=0,n=e.alignmentPatternCenters;a<n.length;a++)for(var l=n[a],i=0,o=e.alignmentPatternCenters;i<o.length;i++){var c=o[i];6===l&&6===c||6===l&&c===t-7||l===t-7&&6===c||s.setRegion(l-2,c-2,5,5,!0)}return s.setRegion(6,9,1,t-17,!0),s.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(s.setRegion(t-11,0,3,6,!0),s.setRegion(0,t-11,6,3,!0)),s}(t),i=[],c=0,m=0,u=!0,h=n-1;h>0;h-=2){6===h&&h--;for(var p=0;p<n;p++)for(var x=u?n-1-p:p,g=0;g<2;g++){var f=h-g;if(!l.get(f,x)){m++;var b=e.get(f,x);a({y:x,x:f})&&(b=!b),c=o(b,c),8===m&&(i.push(c),m=0,c=0)}}u=!u}return i}function u(e){var t=function(e){var t=e.height,s=Math.floor((t-17)/4);if(s<=6)return l.VERSIONS[s-1];for(var r=0,a=5;a>=0;a--)for(var n=t-9;n>=t-11;n--)r=o(e.get(n,a),r);var c=0;for(n=5;n>=0;n--)for(a=t-9;a>=t-11;a--)c=o(e.get(n,a),c);for(var d,m=1/0,u=0,h=l.VERSIONS;u<h.length;u++){var p=h[u];if(p.infoBits===r||p.infoBits===c)return p;var x=i(r,p.infoBits);x<m&&(d=p,m=x),(x=i(c,p.infoBits))<m&&(d=p,m=x)}return m<=3?d:void 0}(e);if(!t)return null;var s=function(e){for(var t=0,s=0;s<=8;s++)6!==s&&(t=o(e.get(s,8),t));for(var r=7;r>=0;r--)6!==r&&(t=o(e.get(8,r),t));var a=e.height,n=0;for(r=a-1;r>=a-7;r--)n=o(e.get(8,r),n);for(s=a-8;s<a;s++)n=o(e.get(s,8),n);for(var l=1/0,d=null,m=0,u=c;m<u.length;m++){var h=u[m],p=h.bits,x=h.formatInfo;if(p===t||p===n)return x;var g=i(t,p);g<l&&(d=x,l=g),t!==n&&(g=i(n,p))<l&&(d=x,l=g)}return l<=3?d:null}(e);if(!s)return null;var r=function(e,t,s){var r=t.errorCorrectionLevels[s],a=[],n=0;if(r.ecBlocks.forEach(function(e){for(var t=0;t<e.numBlocks;t++)a.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),n+=e.dataCodewordsPerBlock+r.ecCodewordsPerBlock}),e.length<n)return null;e=e.slice(0,n);for(var l=r.ecBlocks[0].dataCodewordsPerBlock,i=0;i<l;i++)for(var o=0,c=a;o<c.length;o++)c[o].codewords.push(e.shift());if(r.ecBlocks.length>1){var d=r.ecBlocks[0].numBlocks,m=r.ecBlocks[1].numBlocks;for(i=0;i<m;i++)a[d+i].codewords.push(e.shift())}for(;e.length>0;)for(var u=0,h=a;u<h.length;u++)h[u].codewords.push(e.shift());return a}(m(e,t,s),t,s.errorCorrectionLevel);if(!r)return null;for(var d=r.reduce(function(e,t){return e+t.numDataCodewords},0),u=new Uint8ClampedArray(d),h=0,p=0,x=r;p<x.length;p++){var g=x[p],f=n.decode(g.codewords,g.codewords.length-g.numDataCodewords);if(!f)return null;for(var b=0;b<g.numDataCodewords;b++)u[h++]=f[b]}try{return a.decode(u,t.versionNumber)}catch(v){return null}}t.decode=function(e){if(null==e)return null;var t=u(e);if(t)return t;for(var s=0;s<e.width;s++)for(var r=s+1;r<e.height;r++)e.get(s,r)!==e.get(r,s)&&(e.set(s,r,!e.get(s,r)),e.set(r,s,!e.get(r,s)));return u(e)}},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r,a,n,l,i=s(7),o=s(8);function c(e,t){for(var s=[],r="",a=[10,12,14][t],n=e.readBits(a);n>=3;){if((c=e.readBits(10))>=1e3)throw new Error("Invalid numeric value above 999");var l=Math.floor(c/100),i=Math.floor(c/10)%10,o=c%10;s.push(48+l,48+i,48+o),r+=l.toString()+i.toString()+o.toString(),n-=3}if(2===n){if((c=e.readBits(7))>=100)throw new Error("Invalid numeric value above 99");l=Math.floor(c/10),i=c%10,s.push(48+l,48+i),r+=l.toString()+i.toString()}else if(1===n){var c;if((c=e.readBits(4))>=10)throw new Error("Invalid numeric value above 9");s.push(48+c),r+=c.toString()}return{bytes:s,text:r}}(a=r=t.Mode||(t.Mode={})).Numeric="numeric",a.Alphanumeric="alphanumeric",a.Byte="byte",a.Kanji="kanji",a.ECI="eci",(l=n||(n={}))[l.Terminator=0]="Terminator",l[l.Numeric=1]="Numeric",l[l.Alphanumeric=2]="Alphanumeric",l[l.Byte=4]="Byte",l[l.Kanji=8]="Kanji",l[l.ECI=7]="ECI";var d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function m(e,t){for(var s=[],r="",a=[9,11,13][t],n=e.readBits(a);n>=2;){var l=e.readBits(11),i=Math.floor(l/45),o=l%45;s.push(d[i].charCodeAt(0),d[o].charCodeAt(0)),r+=d[i]+d[o],n-=2}return 1===n&&(i=e.readBits(6),s.push(d[i].charCodeAt(0)),r+=d[i]),{bytes:s,text:r}}function u(e,t){for(var s=[],r="",a=[8,16,16][t],n=e.readBits(a),l=0;l<n;l++){var i=e.readBits(8);s.push(i)}try{r+=decodeURIComponent(s.map(function(e){return"%"+("0"+e.toString(16)).substr(-2)}).join(""))}catch(o){}return{bytes:s,text:r}}function h(e,t){for(var s=[],r="",a=[8,10,12][t],n=e.readBits(a),l=0;l<n;l++){var i=e.readBits(13),c=Math.floor(i/192)<<8|i%192;c+=c<7936?33088:49472,s.push(c>>8,255&c),r+=String.fromCharCode(o.shiftJISTable[c])}return{bytes:s,text:r}}t.decode=function(e,t){for(var s,a,l,o,d=new i.BitStream(e),p=t<=9?0:t<=26?1:2,x={text:"",bytes:[],chunks:[],version:t};d.available()>=4;){var g=d.readBits(4);if(g===n.Terminator)return x;if(g===n.ECI)0===d.readBits(1)?x.chunks.push({type:r.ECI,assignmentNumber:d.readBits(7)}):0===d.readBits(1)?x.chunks.push({type:r.ECI,assignmentNumber:d.readBits(14)}):0===d.readBits(1)?x.chunks.push({type:r.ECI,assignmentNumber:d.readBits(21)}):x.chunks.push({type:r.ECI,assignmentNumber:-1});else if(g===n.Numeric){var f=c(d,p);x.text+=f.text,(s=x.bytes).push.apply(s,f.bytes),x.chunks.push({type:r.Numeric,text:f.text})}else if(g===n.Alphanumeric){var b=m(d,p);x.text+=b.text,(a=x.bytes).push.apply(a,b.bytes),x.chunks.push({type:r.Alphanumeric,text:b.text})}else if(g===n.Byte){var v=u(d,p);x.text+=v.text,(l=x.bytes).push.apply(l,v.bytes),x.chunks.push({type:r.Byte,bytes:v.bytes,text:v.text})}else if(g===n.Kanji){var y=h(d,p);x.text+=y.text,(o=x.bytes).push.apply(o,y.bytes),x.chunks.push({type:r.Kanji,bytes:y.bytes,text:y.text})}}if(0===d.available()||0===d.readBits(d.available()))return x}},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var t=0;if(this.bitOffset>0){var s=8-this.bitOffset,r=e<s?e:s,a=255>>8-r<<(n=s-r);t=(this.bytes[this.byteOffset]&a)>>n,e-=r,this.bitOffset+=r,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;var n;e>0&&(a=255>>(n=8-e)<<n,t=t<<e|(this.bytes[this.byteOffset]&a)>>n,this.bitOffset+=e)}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();t.BitStream=r},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),t.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),a=s(2);t.decode=function(e,t){var s=new Uint8ClampedArray(e.length);s.set(e);for(var n=new r.default(285,256,0),l=new a.default(n,s),i=new Uint8ClampedArray(t),o=!1,c=0;c<t;c++){var d=l.evaluateAt(n.exp(c+n.generatorBase));i[i.length-1-c]=d,0!==d&&(o=!0)}if(!o)return s;var m=new a.default(n,i),u=function(e,t,s,r){var a;t.degree()<s.degree()&&(t=(a=[s,t])[0],s=a[1]);for(var n=t,l=s,i=e.zero,o=e.one;l.degree()>=r/2;){var c=n,d=i;if(i=o,(n=l).isZero())return null;l=c;for(var m=e.zero,u=n.getCoefficient(n.degree()),h=e.inverse(u);l.degree()>=n.degree()&&!l.isZero();){var p=l.degree()-n.degree(),x=e.multiply(l.getCoefficient(l.degree()),h);m=m.addOrSubtract(e.buildMonomial(p,x)),l=l.addOrSubtract(n.multiplyByMonomial(p,x))}if(o=m.multiplyPoly(i).addOrSubtract(d),l.degree()>=n.degree())return null}var g=o.getCoefficient(0);if(0===g)return null;var f=e.inverse(g);return[o.multiply(f),l.multiply(f)]}(n,n.buildMonomial(t,1),m,t);if(null===u)return null;var h=function(e,t){var s=t.degree();if(1===s)return[t.getCoefficient(1)];for(var r=new Array(s),a=0,n=1;n<e.size&&a<s;n++)0===t.evaluateAt(n)&&(r[a]=e.inverse(n),a++);return a!==s?null:r}(n,u[0]);if(null==h)return null;for(var p=function(e,t,s){for(var a=s.length,n=new Array(a),l=0;l<a;l++){for(var i=e.inverse(s[l]),o=1,c=0;c<a;c++)l!==c&&(o=e.multiply(o,r.addOrSubtractGF(1,e.multiply(s[c],i))));n[l]=e.multiply(t.evaluateAt(i),e.inverse(o)),0!==e.generatorBase&&(n[l]=e.multiply(n[l],i))}return n}(n,u[1],h),x=0;x<h.length;x++){var g=s.length-1-n.log(h[x]);if(g<0)return null;s[g]=r.addOrSubtractGF(s[g],p[x])}return s}},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),t.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=s(0);function a(e,t,s,r){var a=e.x-t.x+s.x-r.x,n=e.y-t.y+s.y-r.y;if(0===a&&0===n)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:s.x-t.x,a22:s.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var l=t.x-s.x,i=r.x-s.x,o=t.y-s.y,c=r.y-s.y,d=l*c-i*o,m=(a*c-i*n)/d,u=(l*n-a*o)/d;return{a11:t.x-e.x+m*t.x,a12:t.y-e.y+m*t.y,a13:m,a21:r.x-e.x+u*r.x,a22:r.y-e.y+u*r.y,a23:u,a31:e.x,a32:e.y,a33:1}}t.extract=function(e,t){for(var s,n,l=function(e,t,s,r){var n=a(e,t,s,r);return{a11:n.a22*n.a33-n.a23*n.a32,a12:n.a13*n.a32-n.a12*n.a33,a13:n.a12*n.a23-n.a13*n.a22,a21:n.a23*n.a31-n.a21*n.a33,a22:n.a11*n.a33-n.a13*n.a31,a23:n.a13*n.a21-n.a11*n.a23,a31:n.a21*n.a32-n.a22*n.a31,a32:n.a12*n.a31-n.a11*n.a32,a33:n.a11*n.a22-n.a12*n.a21}}({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),i=a(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),o=(n=l,{a11:(s=i).a11*n.a11+s.a21*n.a12+s.a31*n.a13,a12:s.a12*n.a11+s.a22*n.a12+s.a32*n.a13,a13:s.a13*n.a11+s.a23*n.a12+s.a33*n.a13,a21:s.a11*n.a21+s.a21*n.a22+s.a31*n.a23,a22:s.a12*n.a21+s.a22*n.a22+s.a32*n.a23,a23:s.a13*n.a21+s.a23*n.a22+s.a33*n.a23,a31:s.a11*n.a31+s.a21*n.a32+s.a31*n.a33,a32:s.a12*n.a31+s.a22*n.a32+s.a32*n.a33,a33:s.a13*n.a31+s.a23*n.a32+s.a33*n.a33}),c=r.BitMatrix.createEmpty(t.dimension,t.dimension),d=function(e,t){var s=o.a13*e+o.a23*t+o.a33;return{x:(o.a11*e+o.a21*t+o.a31)/s,y:(o.a12*e+o.a22*t+o.a32)/s}},m=0;m<t.dimension;m++)for(var u=0;u<t.dimension;u++){var h=d(u+.5,m+.5);c.set(u,m,e.get(Math.floor(h.x),Math.floor(h.y)))}return{matrix:c,mappingFunction:d}}},function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function a(e){return e.reduce(function(e,t){return e+t})}function n(e,t,s,a){var n,l,i,o,c=[{x:Math.floor(e.x),y:Math.floor(e.y)}],d=Math.abs(t.y-e.y)>Math.abs(t.x-e.x);d?(n=Math.floor(e.y),l=Math.floor(e.x),i=Math.floor(t.y),o=Math.floor(t.x)):(n=Math.floor(e.x),l=Math.floor(e.y),i=Math.floor(t.x),o=Math.floor(t.y));for(var m=Math.abs(i-n),u=Math.abs(o-l),h=Math.floor(-m/2),p=n<i?1:-1,x=l<o?1:-1,g=!0,f=n,b=l;f!==i+p;f+=p){var v=d?b:f,y=d?f:b;if(s.get(v,y)!==g&&(g=!g,c.push({x:v,y:y}),c.length===a+1))break;if((h+=u)>0){if(b===o)break;b+=x,h-=m}}for(var j=[],N=0;N<a;N++)c[N]&&c[N+1]?j.push(r(c[N],c[N+1])):j.push(0);return j}function l(e,t,s,r){var a,l=t.y-e.y,i=t.x-e.x,o=n(e,t,s,Math.ceil(r/2)),c=n(e,{x:e.x-i,y:e.y-l},s,Math.ceil(r/2)),d=o.shift()+c.shift()-1;return(a=c.concat(d)).concat.apply(a,o)}function i(e,t){var s=a(e)/a(t),r=0;return t.forEach(function(t,a){r+=Math.pow(e[a]-t*s,2)}),{averageSize:s,error:r}}function o(e,t,s){try{var r=l(e,{x:-1,y:e.y},s,t.length),a=l(e,{x:e.x,y:-1},s,t.length),n=l(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},s,t.length),o=l(e,{x:Math.min(s.width,e.x+e.y)+1,y:Math.min(s.height,e.y+e.x)+1},s,t.length),c=i(r,t),d=i(a,t),m=i(n,t),u=i(o,t),h=Math.sqrt(c.error*c.error+d.error*d.error+m.error*m.error+u.error*u.error),p=(c.averageSize+d.averageSize+m.averageSize+u.averageSize)/4;return h+(Math.pow(c.averageSize-p,2)+Math.pow(d.averageSize-p,2)+Math.pow(m.averageSize-p,2)+Math.pow(u.averageSize-p,2))/p}catch(x){return 1/0}}function c(e,t){for(var s=Math.round(t.x);e.get(s,Math.round(t.y));)s--;for(var r=Math.round(t.x);e.get(r,Math.round(t.y));)r++;for(var a=(s+r)/2,n=Math.round(t.y);e.get(Math.round(a),n);)n--;for(var l=Math.round(t.y);e.get(Math.round(a),l);)l++;return{x:a,y:(n+l)/2}}function d(e,t,s,n,i){var c,d,m;try{c=function(e,t,s,n){var i=(a(l(e,s,n,5))/7+a(l(e,t,n,5))/7+a(l(s,e,n,5))/7+a(l(t,e,n,5))/7)/4;if(i<1)throw new Error("Invalid module size");var o=Math.round(r(e,t)/i),c=Math.round(r(e,s)/i),d=Math.floor((o+c)/2)+7;switch(d%4){case 0:d++;break;case 2:d--}return{dimension:d,moduleSize:i}}(n,s,i,e),d=c.dimension,m=c.moduleSize}catch(ls){return null}var u=s.x-n.x+i.x,h=s.y-n.y+i.y,p=(r(n,i)+r(n,s))/2/m,x=1-3/p,g={x:n.x+x*(u-n.x),y:n.y+x*(h-n.y)},f=t.map(function(t){var s=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,n=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(s),Math.floor(n))){var l=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1];return a(l),{x:s,y:n,score:o({x:Math.floor(s),y:Math.floor(n)},[1,1,1],e)+r({x:s,y:n},g)}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});return{alignmentPattern:p>=15&&f.length?f[0]:g,dimension:d}}t.locate=function(e){for(var t=[],s=[],n=[],l=[],i=function(r){for(var i=0,o=!1,c=[0,0,0,0,0],d=function(t){var n=e.get(t,r);if(n===o)i++;else{c=[c[1],c[2],c[3],c[4],i],i=1,o=n;var d=a(c)/7,m=Math.abs(c[0]-d)<d&&Math.abs(c[1]-d)<d&&Math.abs(c[2]-3*d)<3*d&&Math.abs(c[3]-d)<d&&Math.abs(c[4]-d)<d&&!n,u=a(c.slice(-3))/3,h=Math.abs(c[2]-u)<u&&Math.abs(c[3]-u)<u&&Math.abs(c[4]-u)<u&&n;if(m){var p=t-c[3]-c[4],x=p-c[2],g={startX:x,endX:p,y:r};(f=s.filter(function(e){return x>=e.bottom.startX&&x<=e.bottom.endX||p>=e.bottom.startX&&x<=e.bottom.endX||x<=e.bottom.startX&&p>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?f[0].bottom=g:s.push({top:g,bottom:g})}if(h){var f,b=t-c[4],v=b-c[3];g={startX:v,y:r,endX:b},(f=l.filter(function(e){return v>=e.bottom.startX&&v<=e.bottom.endX||b>=e.bottom.startX&&v<=e.bottom.endX||v<=e.bottom.startX&&b>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5})).length>0?f[0].bottom=g:l.push({top:g,bottom:g})}}},m=-1;m<=e.width;m++)d(m);t.push.apply(t,s.filter(function(e){return e.bottom.y!==r&&e.bottom.y-e.top.y>=2})),s=s.filter(function(e){return e.bottom.y===r}),n.push.apply(n,l.filter(function(e){return e.bottom.y!==r})),l=l.filter(function(e){return e.bottom.y===r})},m=0;m<=e.height;m++)i(m);t.push.apply(t,s.filter(function(e){return e.bottom.y-e.top.y>=2})),n.push.apply(n,l);var u=t.filter(function(e){return e.bottom.y-e.top.y>=2}).map(function(t){var s=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,r=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(s),Math.round(r))){var n=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],l=a(n)/n.length;return{score:o({x:Math.round(s),y:Math.round(r)},[1,1,3,1,1],e),x:s,y:r,size:l}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score}).map(function(e,t,s){if(t>4)return null;var r=s.filter(function(e,s){return t!==s}).map(function(t){return{x:t.x,y:t.y,score:t.score+Math.pow(t.size-e.size,2)/e.size,size:t.size}}).sort(function(e,t){return e.score-t.score});if(r.length<2)return null;var a=e.score+r[0].score+r[1].score;return{points:[e].concat(r.slice(0,2)),score:a}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});if(0===u.length)return null;var h=function(e,t,s){var a,n,l,i,o,c,d,m=r(e,t),u=r(t,s),h=r(e,s);return u>=m&&u>=h?(o=(a=[t,e,s])[0],c=a[1],d=a[2]):h>=u&&h>=m?(o=(n=[e,t,s])[0],c=n[1],d=n[2]):(o=(l=[e,s,t])[0],c=l[1],d=l[2]),(d.x-c.x)*(o.y-c.y)-(d.y-c.y)*(o.x-c.x)<0&&(o=(i=[d,o])[0],d=i[1]),{bottomLeft:o,topLeft:c,topRight:d}}(u[0].points[0],u[0].points[1],u[0].points[2]),p=h.topRight,x=h.topLeft,g=h.bottomLeft,f=d(e,n,p,x,g),b=[];f&&b.push({alignmentPattern:{x:f.alignmentPattern.x,y:f.alignmentPattern.y},bottomLeft:{x:g.x,y:g.y},dimension:f.dimension,topLeft:{x:x.x,y:x.y},topRight:{x:p.x,y:p.y}});var v=c(e,p),y=c(e,x),j=c(e,g),N=d(e,n,v,y,j);return N&&b.push({alignmentPattern:{x:N.alignmentPattern.x,y:N.alignmentPattern.y},bottomLeft:{x:j.x,y:j.y},topLeft:{x:y.x,y:y.y},topRight:{x:v.x,y:v.y},dimension:N.dimension}),0===b.length?null:b}}]).default};const sm=Ve(tm.exports=em()),rm=({isOpen:e,onClose:t,onScan:s})=>{const[r,n]=ze.useState(""),[l,i]=ze.useState(!1),o=ze.useRef(null),c=ze.useRef(null),d=ze.useRef(!1);ze.useEffect(()=>(console.log("🔥 useEffect çalışıyor - isOpen:",e),e&&setTimeout(()=>{console.log("🔥 startCamera çağırılıyor (gecikme ile)..."),m()},100),()=>{d.current=!1,c.current&&c.current.getTracks().forEach(e=>e.stop())}),[e]);const m=async()=>{try{console.log("🎥 Kamera başlatılıyor...");const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});console.log("✅ Kamera stream alındı:",e),c.current=e,console.log("🔍 videoRef.current:",o.current),o.current?(o.current.srcObject=e,console.log("✅ Video element'e stream atandı"),i(!0),console.log("✅ setCameraActive(true) çağırıldı"),d.current=!0):console.error("❌ videoRef.current null!")}catch(e){console.error("❌ Kamera hatası:",e),i(!1)}};return e?(console.log("🔥 QR Scanner Render - cameraActive:",l),a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"QR Kod Tarayıcı"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{height:"300px"},children:[!l&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("p",{className:"text-lg",children:"📷 Kamera açılıyor..."}),a.jsx("p",{className:"text-sm mt-2 opacity-70",children:"Kamera izni gerekiyor"})]})}),a.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover "+(l?"opacity-100":"opacity-0"),onLoadedMetadata:()=>{console.log("✅ Video metadata yüklendi"),d.current&&(()=>{const e=()=>{if(!d.current||!o.current||!l)return;const t=o.current,r=document.createElement("canvas"),a=r.getContext("2d");if(r.width=t.videoWidth,r.height=t.videoHeight,r.width>0&&r.height>0){a.drawImage(t,0,0,r.width,r.height);const e=a.getImageData(0,0,r.width,r.height),n=sm(e.data,e.width,e.height);if(n)return console.log("🎯 QR Kod bulundu:",n.data),d.current=!1,void s(n.data)}requestAnimationFrame(e)};o.current&&o.current.readyState>=2?e():o.current&&o.current.addEventListener("loadeddata",e,{once:!0})})()}}),l&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-48 h-48 border-4 border-green-400 border-opacity-70 rounded-lg",children:a.jsx("div",{className:"w-full h-full border-2 border-white border-dashed rounded-lg animate-pulse"})})}),l&&a.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:a.jsx("p",{className:"text-white text-sm text-center bg-black bg-opacity-50 p-2 rounded",children:"📷 QR kodunu yeşil kare içinde tutun"})})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manuel Rezervasyon ID"}),a.jsx("input",{type:"text",value:r,onChange:e=>n(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"ID girin"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{r.trim()&&(console.log("✋ Manuel ID girişi:",r.trim()),s(r.trim()),n(""),t())},disabled:!r.trim(),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Gönder"}),a.jsx("button",{onClick:t,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400",children:"İptal"})]})]})})):null},am=()=>{const{currentUser:e}=qr(),{user:t,userProfile:s}=pr(),[r,o]=ze.useState([]),[m,u]=ze.useState(!0),[h,p]=ze.useState(null),[x,g]=ze.useState("dashboard"),[f,v]=ze.useState(!1),[N,B]=ze.useState(null),P=e=>e?"string"==typeof e?e:"object"==typeof e?e.address?e.address:e.name?e.name:e.formatted_address?e.formatted_address:e.description?e.description:e.lat&&e.lng?`${e.lat}, ${e.lng}`:"Lokasyon bilgisi mevcut":String(e):"Belirtilmemiş";ze.useEffect(()=>{if(!(null==e?void 0:e.uid)&&!(null==t?void 0:t.uid))return void console.log("DriverDashboard: User ID bulunamadı");const s=(null==e?void 0:e.uid)||(null==t?void 0:t.uid),r=jt(Nt(ir,"reservations"),Lt("assignedDriverId","==",s)),a=jt(Nt(ir,"reservations"),Lt("assignedDriver","==",s)),n=Pt(r,e=>{i(e,"assignedDriverId")},e=>{console.error("DriverDashboard: assignedDriverId query error:",e)}),l=Pt(a,e=>{i(e,"assignedDriver")},e=>{console.error("DriverDashboard: assignedDriver query error:",e)});function i(e,t){const s=e.docs.map(e=>({id:e.id,...e.data()}));console.log(`🚗 DriverDashboard: ${t} sorgusu sonucu:`,{count:s.length,reservations:s.map(e=>({id:e.id,reservationId:e.reservationId,status:e.status,assignedDriver:e.assignedDriver,assignedDriverId:e.assignedDriverId}))}),o(e=>{const t=[...e];s.forEach(e=>{const s=t.findIndex(t=>t.id===e.id);s>=0?t[s]=e:t.push(e)}),t.sort((e,t)=>{var s,r;const a=(null==(s=e.tripDetails)?void 0:s.date)||e.date,n=(null==(r=t.tripDetails)?void 0:r.date)||t.date;return a&&n?new Date(n)-new Date(a):0});const r=t.find(e=>"trip-started"===e.status);return B(r),t}),u(!1)}return()=>{n(),l()}},[e,t,s]);const S=r.filter(e=>"assigned"===e.status||"confirmed"===e.status),L=async s=>{try{const r=(null==e?void 0:e.uid)||(null==t?void 0:t.uid);if(!r)return void Os.error("Kullanıcı bilgisi bulunamadı");console.log("🏁 Yolculuk tamamlanıyor - Finansal işlemler başlatılıyor..."),await(async(e,t)=>{try{const s=await ct(dt(ir,"reservations",e));if(!s.exists())throw new Error("Rezervasyon bulunamadı");const r=s.data();if("completed"===r.status)throw new Error("Bu rezervasyon zaten tamamlanmış");if(!(r.assignedDriver||r.assignedDriverId||r.driverId))throw new Error("Bu rezervasyona şoför atanmamış");const a={status:"completed",completedAt:new Date,qrScannedAt:new Date,financialProcessed:!0};return t&&null!=t&&(a.qrScannedBy=t),await ut(dt(ir,"reservations",e),a),{success:!0,message:"Rezervasyon başarıyla tamamlandı",reservation:r,financial:await yi(e,r)}}catch(s){throw console.error("QR scan completion error:",s),s}})(s,r),Os.success("Yolculuk tamamlandı! Finansal işlemler güncellendi."),g("dashboard"),B(null)}catch(r){console.error("Error completing trip:",r),Os.error("Yolculuk tamamlanırken hata oluştu: "+r.message)}},E=()=>a.jsx(y,{children:f&&a.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:a.jsxs(j.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"QR Kod Okut"}),a.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(i,{className:"w-6 h-6 text-gray-500"})})]}),a.jsx(rm,{isOpen:!0,onClose:()=>v(!1),onScan:e=>{console.log("QR Scan Result:",e);const t=e;console.log("Mevcut rezervasyonlar ve ID'leri:"),r.forEach(e=>{console.log(`- Document ID: ${e.id}, ReservationID: ${e.reservationId}, Status: ${e.status}`)});const s=r.find(e=>e.id===t||e.reservationId===t);console.log("Bulunan rezervasyon:",s),s?((async e=>{try{const t=dt(ir,"reservations",e);await ut(t,{status:"trip-started",tripStartTime:(new Date).toISOString()});const s=r.find(t=>t.id===e);B(s),Os.success("Yolculuk başlatıldı!"),g("active-trip")}catch(t){console.error("Error starting trip:",t),Os.error("Yolculuk başlatılırken hata oluştu")}})(s.id),v(!1),Os.success(`QR kod başarıyla okundu! Rezervasyon: ${s.reservationId||s.id}`)):(console.error("Rezervasyon bulunamadı. Aranan ID:",t),Os.error(`Bu QR koda ait rezervasyon bulunamadı: ${t}`))}})]})})}),D=()=>{var e,t;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Merhaba ",(null==s?void 0:s.firstName)||(null==s?void 0:s.name)||"Şoför","!"]}),a.jsxs("p",{className:"text-blue-100",children:[S.length," atanmış göreviniz var"]})]}),N&&a.jsx(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-green-50 border-2 border-green-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-green-500 p-2 rounded-full",children:a.jsx(w,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-green-900",children:"Aktif Yolculuk"}),a.jsxs("p",{className:"text-sm text-green-700",children:[null==(e=N.customerInfo)?void 0:e.firstName," ",null==(t=N.customerInfo)?void 0:t.lastName]})]})]}),a.jsx("button",{onClick:()=>g("active-trip"),className:"bg-green-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Görüntüle"})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(!0),className:"bg-white border-2 border-gray-200 rounded-xl p-6 text-center hover:border-blue-300 transition-colors",children:[a.jsx(J,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),a.jsx("p",{className:"font-semibold text-gray-900",children:"QR Kod Okut"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Yolculuk Başlat"})]}),a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g("trip-details"),className:"bg-white border-2 border-gray-200 rounded-xl p-6 text-center hover:border-blue-300 transition-colors",children:[a.jsx(se,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),a.jsx("p",{className:"font-semibold text-gray-900",children:"Geçmiş İşler"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tamamlananlar"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Atanmış Görevler"}),m?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>a.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),a.jsx("div",{className:"h-3 bg-gray-300 rounded w-2/3"})]},e))}):0===S.length?a.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[a.jsx(w,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"Henüz atanmış görev yok"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Yeni görevler için bekleyin"})]}):a.jsx("div",{className:"space-y-3",children:S.map(e=>{var t,s,r,n,l,i,o,c,m,u;return a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[null==(t=e.customerInfo)?void 0:t.firstName," ",null==(s=e.customerInfo)?void 0:s.lastName]}),a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:e.reservationId||e.id})]}),a.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-lg text-xs font-medium",children:"Atandı"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(b,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:P((null==(r=e.tripDetails)?void 0:r.pickupLocation)||e.pickupLocation)})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(b,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{children:P((null==(n=e.tripDetails)?void 0:n.dropoffLocation)||e.dropoffLocation)})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(d,{className:"w-4 h-4"}),a.jsx("span",{children:(null==(l=e.tripDetails)?void 0:l.date)||e.date||"Belirtilmemiş"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(T,{className:"w-4 h-4"}),a.jsx("span",{children:(null==(i=e.tripDetails)?void 0:i.time)||e.time||"Belirtilmemiş"})]})]}),((null==(o=e.tripDetails)?void 0:o.flightNumber)||e.flightNumber)&&a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(M,{className:"w-4 h-4 text-blue-500"}),a.jsxs("span",{children:["Uçuş: ",(null==(c=e.tripDetails)?void 0:c.flightNumber)||e.flightNumber]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(k,{className:"w-4 h-4"}),a.jsxs("span",{children:[(null==(m=e.tripDetails)?void 0:m.passengerCount)||e.passengerCount||1," Yolcu"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(C,{className:"w-4 h-4"}),a.jsxs("span",{children:[(null==(u=e.tripDetails)?void 0:u.luggageCount)||e.luggageCount||0," Bavul"]})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{p(e),g("reservation-details")},className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Detaylar"}),a.jsx("button",{onClick:()=>v(!0),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"QR Okut"})]})]},e.id)})})]})]})},A=()=>{var e,t,s,r,n,l,i;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>g("dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(K,{className:"w-6 h-6 text-gray-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aktif Yolculuk"})]}),N&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-green-500 p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:a.jsx(w,{className:"w-10 h-10 text-white"})}),a.jsx("h2",{className:"text-xl font-bold text-green-900 mb-2",children:"Yolculuk Devam Ediyor"}),a.jsxs("p",{className:"text-green-700",children:[null==(e=N.customerInfo)?void 0:e.firstName," ",null==(t=N.customerInfo)?void 0:t.lastName]}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:N.reservationId||N.id})]})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Yolculuk Detayları"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:a.jsx(b,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Alış Noktası"}),a.jsx("p",{className:"text-gray-600",children:P((null==(s=N.tripDetails)?void 0:s.pickupLocation)||N.pickupLocation)})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:a.jsx(b,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Varış Noktası"}),a.jsx("p",{className:"text-gray-600",children:P((null==(r=N.tripDetails)?void 0:r.dropoffLocation)||N.dropoffLocation)})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:a.jsx(c,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Müşteri"}),a.jsxs("p",{className:"text-gray-600",children:[null==(n=N.customerInfo)?void 0:n.firstName," ",null==(l=N.customerInfo)?void 0:l.lastName]}),a.jsx("p",{className:"text-sm text-gray-500",children:null==(i=N.customerInfo)?void 0:i.phone})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{var e,t;const s=P((null==(e=N.tripDetails)?void 0:e.pickupLocation)||N.pickupLocation),r=P((null==(t=N.tripDetails)?void 0:t.dropoffLocation)||N.dropoffLocation),a=`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(s||"Başlangıç")}&destination=${encodeURIComponent(r||"Varış")}&travelmode=driving`;window.open(a,"_blank"),Os.success("Google Maps navigasyon açıldı!")},className:"w-full bg-blue-500 text-white py-4 px-6 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-3",children:[a.jsx(re,{className:"w-6 h-6"}),a.jsx("span",{children:"Google Maps'te Aç"}),a.jsx(Te,{className:"w-5 h-5"})]}),a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>L(N.id),className:"w-full bg-green-500 text-white py-4 px-6 rounded-xl font-bold text-lg hover:bg-green-600 transition-colors flex items-center justify-center space-x-3",children:[a.jsx(R,{className:"w-6 h-6"}),a.jsx("span",{children:"Yolculuğu Tamamla"})]})]})]})]})},I=()=>{var e,t,s,r,i,o,m,u,p,x,f,y,N,w,B;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>g("dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(K,{className:"w-6 h-6 text-gray-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rezervasyon Detayı"})]}),h&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Müşteri Bilgileri"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(c,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[null==(e=h.customerInfo)?void 0:e.firstName," ",null==(t=h.customerInfo)?void 0:t.lastName]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Müşteri"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(n,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:null==(s=h.customerInfo)?void 0:s.phone}),a.jsx("p",{className:"text-sm text-gray-500",children:"Telefon"})]})]}),(null==(r=h.customerInfo)?void 0:r.email)&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(l,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:null==(i=h.customerInfo)?void 0:i.email}),a.jsx("p",{className:"text-sm text-gray-500",children:"E-posta"})]})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Yolculuk Bilgileri"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:a.jsx(b,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Alış Noktası"}),a.jsx("p",{className:"text-gray-600",children:P((null==(o=h.tripDetails)?void 0:o.pickupLocation)||h.pickupLocation)})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:a.jsx(b,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Varış Noktası"}),a.jsx("p",{className:"text-gray-600",children:P((null==(m=h.tripDetails)?void 0:m.dropoffLocation)||h.dropoffLocation)})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(d,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:(null==(u=h.tripDetails)?void 0:u.date)||h.date}),a.jsx("p",{className:"text-sm text-gray-500",children:"Tarih"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(T,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:(null==(p=h.tripDetails)?void 0:p.time)||h.time}),a.jsx("p",{className:"text-sm text-gray-500",children:"Saat"})]})]})]}),((null==(x=h.tripDetails)?void 0:x.flightNumber)||h.flightNumber)&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(M,{className:"w-5 h-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:(null==(f=h.tripDetails)?void 0:f.flightNumber)||h.flightNumber}),a.jsx("p",{className:"text-sm text-gray-500",children:"Uçuş Numarası"})]})]}),((null==(y=h.tripDetails)?void 0:y.passengerCount)||h.passengerCount)&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(k,{className:"w-5 h-5 text-purple-500"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[(null==(N=h.tripDetails)?void 0:N.passengerCount)||h.passengerCount," kişi"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Yolcu Sayısı"})]})]}),((null==(w=h.tripDetails)?void 0:w.luggageCount)||h.luggageCount)&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C,{className:"w-5 h-5 text-orange-500"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[(null==(B=h.tripDetails)?void 0:B.luggageCount)||h.luggageCount," adet"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Bagaj"})]})]})]})]}),a.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(!0),className:"w-full bg-blue-500 text-white py-4 px-6 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-3",children:[a.jsx(J,{className:"w-6 h-6"}),a.jsx("span",{children:"QR Kod Okut ve Başlat"})]})]})]})},O=()=>{const e=r.filter(e=>"completed"===e.status);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>g("dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(K,{className:"w-6 h-6 text-gray-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Geçmiş İşler"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white",children:[a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Tamamlanan Yolculuklar"}),a.jsxs("p",{className:"text-green-100",children:["Toplam ",e.length," yolculuk tamamladınız"]})]}),a.jsx("div",{children:0===e.length?a.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[a.jsx(R,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 font-medium",children:"Henüz tamamlanmış yolculuk yok"})]}):a.jsx("div",{className:"space-y-3",children:e.map(e=>{var t,s,r,n,l,i;return a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[null==(t=e.customerInfo)?void 0:t.firstName," ",null==(s=e.customerInfo)?void 0:s.lastName]}),a.jsx("p",{className:"text-sm text-green-600 font-medium",children:e.reservationId||e.id})]}),a.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-lg text-xs font-medium",children:"Tamamlandı"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(b,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:P((null==(r=e.tripDetails)?void 0:r.pickupLocation)||e.pickupLocation)})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(b,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{children:P((null==(n=e.tripDetails)?void 0:n.dropoffLocation)||e.dropoffLocation)})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(d,{className:"w-4 h-4"}),a.jsx("span",{children:(null==(l=e.tripDetails)?void 0:l.date)||e.date})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(T,{className:"w-4 h-4"}),a.jsx("span",{children:(null==(i=e.tripDetails)?void 0:i.time)||e.time})]})]})]})]},e.id)})})})]})};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 max-w-md mx-auto",children:[a.jsxs(y,{mode:"wait",children:["dashboard"===x&&a.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:a.jsx(D,{})},"dashboard"),"active-trip"===x&&a.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:a.jsx(A,{})},"active-trip"),"reservation-details"===x&&a.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:a.jsx(I,{})},"reservation-details"),"trip-details"===x&&a.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:a.jsx(O,{})},"trip-details")]}),a.jsx(E,{})]})},nm=()=>{const{state:e,user:t,updateReservation:s,showNotification:r}=qr(),{reservations:l,drivers:i}=e,[o,m]=ze.useState(null),[u,h]=ze.useState([]),[p,x]=ze.useState("all"),[g,f]=ze.useState(""),[v,y]=ze.useState("");ze.useEffect(()=>{const e=i.find(e=>e.email===(null==t?void 0:t.email));if(m(e),e){const t=l.filter(t=>t.driverId===e.id);h(t)}},[i,l,t]);const N=[{value:"assigned",label:"Atandı",color:"status-assigned"},{value:"in-progress",label:"Devam Ediyor",color:"status-progress"},{value:"completed",label:"Tamamlandı",color:"status-completed"},{value:"cancelled",label:"İptal Edildi",color:"status-cancelled"}],w=e=>N.find(t=>t.value===e)||N[0],k=async(e,t)=>{try{await s(e,{status:t}),r("Sefer durumu güncellendi","success")}catch(a){console.error("Durum güncelleme hatası:",a),r("Durum güncellenirken bir hata oluştu","error")}},C=u.filter(e=>{var t,s,r,a,n,l,i,o,c,d;const m=(null==(t=e.reservationId)?void 0:t.toLowerCase().includes(v.toLowerCase()))||(null==(r=null==(s=e.customerInfo)?void 0:s.firstName)?void 0:r.toLowerCase().includes(v.toLowerCase()))||(null==(n=null==(a=e.customerInfo)?void 0:a.lastName)?void 0:n.toLowerCase().includes(v.toLowerCase()))||(null==(i=null==(l=e.tripDetails)?void 0:l.from)?void 0:i.toLowerCase().includes(v.toLowerCase()))||(null==(c=null==(o=e.tripDetails)?void 0:o.to)?void 0:c.toLowerCase().includes(v.toLowerCase())),u="all"===p||e.status===p,h=!g||(null==(d=e.tripDetails)?void 0:d.date)&&new Date(e.tripDetails.date).toDateString()===new Date(g).toDateString();return m&&u&&h}),P=(()=>{const e=u.length,t=u.filter(e=>"assigned"===e.status).length,s=u.filter(e=>"in-progress"===e.status).length,r=u.filter(e=>"completed"===e.status).length,a=u.filter(e=>"cancelled"===e.status).length,n=u.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.totalPrice||0)*(((null==o?void 0:o.commission)||10)/100),0);return{total:e,assigned:t,inProgress:s,completed:r,cancelled:a,totalEarnings:n}})(),S=(e,t)=>{if(!e)return"Tarih belirtilmemiş";const s=new Date(e).toLocaleDateString("tr-TR");return t?`${s} - ${t}`:s};return o?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seferlerim"}),a.jsx("p",{className:"text-gray-600",children:"Atanmış ve tamamlanmış seferlerinizi görüntüleyin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx(d,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.total}),a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx(T,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.assigned}),a.jsx("p",{className:"text-sm text-gray-600",children:"Atandı"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx(re,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.inProgress}),a.jsx("p",{className:"text-sm text-gray-600",children:"Devam Ediyor"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx(R,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.completed}),a.jsx("p",{className:"text-sm text-gray-600",children:"Tamamlandı"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx(xe,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.cancelled}),a.jsx("p",{className:"text-sm text-gray-600",children:"İptal"})]})}),a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body text-center",children:[a.jsx(B,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),a.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["₺",P.totalEarnings.toLocaleString("tr-TR")]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Kazanç"})]})})]}),a.jsx("div",{className:"card",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Rezervasyon ID veya müşteri adı ile ara...",className:"input pl-10",value:v,onChange:e=>y(e.target.value)})]}),a.jsx("div",{children:a.jsxs("select",{className:"input",value:p,onChange:e=>x(e.target.value),children:[a.jsx("option",{value:"all",children:"Tüm Durumlar"}),N.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]})}),a.jsx("div",{children:a.jsx("input",{type:"date",className:"input",value:g,onChange:e=>f(e.target.value),placeholder:"Tarih filtrele"})})]})})}),0===C.length?a.jsx("div",{className:"card",children:a.jsxs("div",{className:"card-body text-center py-12",children:[a.jsx(U,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:v||"all"!==p||g?"Sefer bulunamadı":"Henüz sefer yok"}),a.jsx("p",{className:"text-gray-500",children:v||"all"!==p||g?"Arama kriterlerinize uygun sefer bulunamadı":"Size atanmış seferler burada görünecektir"})]})}):a.jsx("div",{className:"space-y-4",children:C.sort((e,t)=>{var s,r,a,n;const l=new Date(`${null==(s=e.tripDetails)?void 0:s.date}T${(null==(r=e.tripDetails)?void 0:r.time)||"00:00"}`);return new Date(`${null==(a=t.tripDetails)?void 0:a.date}T${(null==(n=t.tripDetails)?void 0:n.time)||"00:00"}`)-l}).map((e,t)=>{var s,r,l,i,d,m,u,h,p,x,g,f,v,y;return a.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"card hover:shadow-lg transition-shadow",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.reservationId||`RES-${null==(s=e.id)?void 0:s.slice(-6)}`}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(e.status).color}`,children:w(e.status).label})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["₺",(null==(r=e.totalPrice)?void 0:r.toLocaleString("tr-TR"))||"0"]}),a.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["Kazanç: ₺",(y=e.totalPrice,o&&y?y*((o.commission||10)/100):0).toLocaleString("tr-TR")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[a.jsx(c,{className:"w-4 h-4 mr-1"}),"Müşteri"]}),a.jsxs("p",{className:"font-medium text-gray-900",children:[null==(l=e.customerInfo)?void 0:l.firstName," ",null==(i=e.customerInfo)?void 0:i.lastName]}),(null==(d=e.customerInfo)?void 0:d.phone)&&a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(n,{className:"w-3 h-3 mr-1"}),e.customerInfo.phone]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[a.jsx(b,{className:"w-4 h-4 mr-1"}),"Güzergah"]}),a.jsxs("p",{className:"text-sm text-gray-900",children:[a.jsx("span",{className:"block truncate",children:(null==(m=e.tripDetails)?void 0:m.from)||"Bilinmiyor"}),a.jsx("span",{className:"text-gray-500",children:"→"}),a.jsx("span",{className:"block truncate",children:(null==(u=e.tripDetails)?void 0:u.to)||"Bilinmiyor"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[a.jsx(T,{className:"w-4 h-4 mr-1"}),"Tarih & Saat"]}),a.jsx("p",{className:"text-sm text-gray-900",children:S(null==(h=e.tripDetails)?void 0:h.date,null==(p=e.tripDetails)?void 0:p.time)}),(null==(x=e.tripDetails)?void 0:x.distance)&&a.jsxs("p",{className:"text-sm text-gray-500",children:[e.tripDetails.distance," km"]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[a.jsx(c,{className:"w-4 h-4 mr-1"}),"Yolcular"]}),a.jsxs("p",{className:"text-sm text-gray-900",children:[e.passengerCount||1," Yetişkin",e.childCount>0&&`, ${e.childCount} Çocuk`]}),e.luggageCount>0&&a.jsxs("p",{className:"text-sm text-gray-500",children:[e.luggageCount," Bagaj"]})]})]}),e.specialRequests&&a.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Özel İstekler:"})," ",e.specialRequests]})})]}),a.jsxs("div",{className:"flex flex-col space-y-2 lg:ml-4",children:["assigned"===e.status&&a.jsx("button",{onClick:()=>k(e.id,"in-progress"),className:"btn btn-primary",children:"Sefere Başla"}),"in-progress"===e.status&&a.jsx("button",{onClick:()=>k(e.id,"completed"),className:"btn btn-success",children:"Seferi Tamamla"}),a.jsxs("div",{className:"flex space-x-2",children:[(null==(g=e.customerInfo)?void 0:g.phone)&&a.jsx("a",{href:`tel:${e.customerInfo.phone}`,className:"btn btn-sm btn-outline",title:"Müşteriyi Ara",children:a.jsx(n,{className:"w-4 h-4"})}),(null==(f=e.tripDetails)?void 0:f.from)&&(null==(v=e.tripDetails)?void 0:v.to)&&a.jsx("a",{href:`https://www.google.com/maps/dir/${encodeURIComponent(e.tripDetails.from)}/${encodeURIComponent(e.tripDetails.to)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline",title:"Haritada Aç",children:a.jsx(b,{className:"w-4 h-4"})}),("assigned"===e.status||"in-progress"===e.status)&&a.jsx("button",{onClick:()=>{window.confirm("Bu seferi iptal etmek istediğinizden emin misiniz?")&&k(e.id,"cancelled")},className:"btn btn-sm btn-outline text-red-600 border-red-200 hover:bg-red-50",title:"Seferi İptal Et",children:a.jsx(xe,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${w(e.status).color}`,children:w(e.status).label})})]})]})})},e.id)})})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(me,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Şoför Profili Bulunamadı"}),a.jsx("p",{className:"text-gray-500",children:"Lütfen yöneticinizle iletişime geçin."})]})})},lm=()=>{var e,t,s,r,o,m,u,h,p,x,f,v,y,N;const{state:k,user:C,updateDriver:B,showNotification:P}=qr(),{drivers:S,reservations:L,vehicles:E}=k,[D,M]=ze.useState(null),[A,I]=ze.useState(!1),[z,R]=ze.useState({}),[_,U]=ze.useState({totalTrips:0,completedTrips:0,totalEarnings:0,averageRating:0,totalDistance:0,joinDate:null});ze.useEffect(()=>{const e=S.find(e=>e.email===(null==C?void 0:C.email));if(e){M(e),R(e);const t=L.filter(t=>t.driverId===e.id),s=t.filter(e=>"completed"===e.status),r=s.reduce((t,s)=>t+(s.totalPrice||0)*((e.commission||10)/100),0),a=s.reduce((e,t)=>{var s;return e+((null==(s=t.tripDetails)?void 0:s.distance)||0)},0);U({totalTrips:t.length,completedTrips:s.length,totalEarnings:r,averageRating:e.rating||5,totalDistance:a,joinDate:e.hireDate})}},[S,L,C]);const H=D?E.find(e=>e.driverId===D.id):null;return D?a.jsxs("div",{className:"space-y-8",children:[a.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Profil Ayarları"}),a.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Kişisel bilgilerinizi görüntüleyin ve düzenleyin"})]}),A?a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{try{if(!(null==D?void 0:D.id))return;if(!z.firstName||!z.lastName||!z.phone)return void P("Lütfen tüm zorunlu alanları doldurun","error");if(!/^(\+90|0)?[5][0-9]{9}$/.test(z.phone.replace(/\s/g,"")))return void P("Geçerli bir telefon numarası girin","error");await B(D.id,z),M(z),I(!1),P("Profil başarıyla güncellendi","success")}catch(e){console.error("Profil güncelleme hatası:",e),P("Profil güncellenirken bir hata oluştu","error")}},className:"btn btn-success",children:[a.jsx(ne,{className:"w-4 h-4 mr-2"}),"Kaydet"]}),a.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{R(D||{}),I(!1)},className:"btn btn-outline",children:[a.jsx(i,{className:"w-4 h-4 mr-2"}),"İptal"]})]}):a.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{I(!0)},className:"btn btn-primary",children:[a.jsx(ue,{className:"w-4 h-4 mr-2"}),"Düzenle"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(j.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.3,type:"spring",stiffness:300},className:"card group hover:bg-gradient-to-br hover:from-blue-50 hover:to-purple-50",children:a.jsxs("div",{className:"card-body text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx(w,{className:"w-10 h-10 text-blue-500 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:_.totalTrips}),a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Toplam Sefer"})]})}),a.jsx(j.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.3,delay:.1,type:"spring",stiffness:300},className:"card group hover:bg-gradient-to-br hover:from-green-50 hover:to-emerald-50",children:a.jsxs("div",{className:"card-body text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx(Ae,{className:"w-10 h-10 text-green-500 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:_.completedTrips}),a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Tamamlanan"})]})}),a.jsx(j.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.3,delay:.2,type:"spring",stiffness:300},className:"card group hover:bg-gradient-to-br hover:from-purple-50 hover:to-pink-50",children:a.jsxs("div",{className:"card-body text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx(Ce,{className:"w-10 h-10 text-purple-500 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(V=_.totalEarnings,new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(V))}),a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Toplam Kazanç"})]})}),a.jsx(j.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.3,delay:.3,type:"spring",stiffness:300},className:"card group hover:bg-gradient-to-br hover:from-yellow-50 hover:to-orange-50",children:a.jsxs("div",{className:"card-body text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx(O,{className:"w-10 h-10 text-yellow-500 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["⭐ ",_.averageRating]}),a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Ortalama Puan"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"lg:col-span-2 card",children:[a.jsx("div",{className:"card-header",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Kişisel Bilgiler"})}),a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 group-hover:scale-110",children:a.jsx(c,{className:"w-12 h-12 text-white"})}),A&&a.jsx(j.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},className:"absolute -bottom-1 -right-1 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300",children:a.jsx(Ie,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 backdrop-blur-sm"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-1",children:[D.firstName," ",D.lastName]}),a.jsx("p",{className:"text-blue-600 font-semibold mb-2",children:"Profesyonel Şoför"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center bg-gradient-to-r from-yellow-50 to-orange-50 px-3 py-1 rounded-full",children:[a.jsx(O,{className:"w-4 h-4 text-yellow-500 mr-2"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[_.averageRating," Puan"]})]}),a.jsxs("div",{className:"flex items-center bg-gradient-to-r from-green-50 to-emerald-50 px-3 py-1 rounded-full",children:[a.jsx(Ae,{className:"w-4 h-4 text-green-500 mr-2"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[_.completedTrips," Sefer"]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Ad *"}),A?a.jsx("input",{type:"text",className:"input",value:z.firstName||"",onChange:e=>R(t=>({...t,firstName:e.target.value}))}):a.jsx("p",{className:"input-display",children:D.firstName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Soyad *"}),A?a.jsx("input",{type:"text",className:"input",value:z.lastName||"",onChange:e=>R(t=>({...t,lastName:e.target.value}))}):a.jsx("p",{className:"input-display",children:D.lastName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Email"}),a.jsxs("p",{className:"input-display flex items-center",children:[a.jsx(l,{className:"w-4 h-4 mr-2 text-gray-400"}),D.email]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Telefon *"}),A?a.jsx("input",{type:"tel",className:"input",value:z.phone||"",onChange:e=>R(t=>({...t,phone:e.target.value}))}):a.jsxs("p",{className:"input-display flex items-center",children:[a.jsx(n,{className:"w-4 h-4 mr-2 text-gray-400"}),D.phone]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Doğum Tarihi"}),A?a.jsx("input",{type:"date",className:"input",value:z.dateOfBirth||"",onChange:e=>R(t=>({...t,dateOfBirth:e.target.value}))}):a.jsxs("p",{className:"input-display flex items-center",children:[a.jsx(d,{className:"w-4 h-4 mr-2 text-gray-400"}),D.dateOfBirth?`${new Date(D.dateOfBirth).toLocaleDateString("tr-TR")} (${(e=>{if(!e)return null;const t=new Date,s=new Date(e);let r=t.getFullYear()-s.getFullYear();const a=t.getMonth()-s.getMonth();return(a<0||0===a&&t.getDate()<s.getDate())&&r--,r})(D.dateOfBirth)} yaş)`:"Belirtilmemiş"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Şehir"}),A?a.jsx("input",{type:"text",className:"input",value:z.city||"",onChange:e=>R(t=>({...t,city:e.target.value}))}):a.jsxs("p",{className:"input-display flex items-center",children:[a.jsx(b,{className:"w-4 h-4 mr-2 text-gray-400"}),D.city||"Belirtilmemiş"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Adres"}),A?a.jsx("textarea",{className:"input",rows:"3",value:z.address||"",onChange:e=>R(t=>({...t,address:e.target.value}))}):a.jsx("p",{className:"input-display",children:D.address||"Belirtilmemiş"})]})]})})]}),a.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"space-y-6",children:[a.jsxs(j.div,{whileHover:{scale:1.02},className:"card group",children:[a.jsx("div",{className:"card-header bg-gradient-to-r from-blue-50 to-indigo-50 group-hover:from-blue-100 group-hover:to-indigo-100 transition-all duration-300",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 transition-transform duration-300",children:a.jsx(g,{className:"w-5 h-5 text-white"})}),"Ehliyet Bilgileri"]})}),a.jsxs("div",{className:"card-body space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Ehliyet No"}),A?a.jsx("input",{type:"text",className:"input",value:z.licenseNumber||"",onChange:e=>R(t=>({...t,licenseNumber:e.target.value}))}):a.jsx("p",{className:"input-display",children:D.licenseNumber||"Belirtilmemiş"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Geçerlilik Tarihi"}),A?a.jsx("input",{type:"date",className:"input",value:z.licenseExpiry||"",onChange:e=>R(t=>({...t,licenseExpiry:e.target.value}))}):a.jsx("p",{className:"input-display",children:D.licenseExpiry?new Date(D.licenseExpiry).toLocaleDateString("tr-TR"):"Belirtilmemiş"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Deneyim (Yıl)"}),A?a.jsx("input",{type:"number",className:"input",min:"0",max:"50",value:z.experienceYears||"",onChange:e=>R(t=>({...t,experienceYears:parseInt(e.target.value)||0}))}):a.jsxs("div",{className:"input-display flex items-center justify-between",children:[a.jsxs("span",{children:[D.experienceYears||0," yıl"]}),a.jsx("div",{className:"flex space-x-1",children:[...Array(Math.min(5,D.experienceYears||0))].map((e,t)=>a.jsx(O,{className:"w-3 h-3 text-yellow-400 fill-current"},t))})]})]})]})]}),H&&a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"card-header",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(w,{className:"w-5 h-5 mr-2"}),"Atanmış Araç"]})}),a.jsxs("div",{className:"card-body space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Araç:"}),a.jsxs("span",{className:"font-medium",children:[H.brand," ",H.model]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Plaka:"}),a.jsx("span",{className:"font-medium",children:H.plateNumber})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Yıl:"}),a.jsx("span",{className:"font-medium",children:H.year})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Kapasite:"}),a.jsxs("span",{className:"font-medium",children:[H.capacity," kişi"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Durum:"}),a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("active"===H.status?"status-active":"status-inactive"),children:"active"===H.status?"Aktif":"Pasif"})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"card-header",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(T,{className:"w-5 h-5 mr-2"}),"İş İstatistikleri"]})}),a.jsxs("div",{className:"card-body space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"İşe Başlama:"}),a.jsx("span",{className:"font-medium",children:_.joinDate?new Date(_.joinDate).toLocaleDateString("tr-TR"):"Bilinmiyor"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Toplam Mesafe:"}),a.jsxs("span",{className:"font-medium",children:[_.totalDistance," km"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Komisyon Oranı:"}),a.jsxs("span",{className:"font-medium",children:["%",D.commission||10]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Durum:"}),a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("active"===D.status?"status-active":"status-inactive"),children:"active"===D.status?"Aktif":"Pasif"})]})]})]})]})]}),((null==(e=D.emergencyContact)?void 0:e.name)||A)&&a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[a.jsx("div",{className:"card-header",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acil Durum İletişim"})}),a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"İsim"}),A?a.jsx("input",{type:"text",className:"input",value:(null==(t=z.emergencyContact)?void 0:t.name)||"",onChange:e=>R(t=>({...t,emergencyContact:{...t.emergencyContact,name:e.target.value}}))}):a.jsx("p",{className:"input-display",children:(null==(s=D.emergencyContact)?void 0:s.name)||"Belirtilmemiş"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Telefon"}),A?a.jsx("input",{type:"tel",className:"input",value:(null==(r=z.emergencyContact)?void 0:r.phone)||"",onChange:e=>R(t=>({...t,emergencyContact:{...t.emergencyContact,phone:e.target.value}}))}):a.jsx("p",{className:"input-display",children:(null==(o=D.emergencyContact)?void 0:o.phone)||"Belirtilmemiş"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Yakınlık Derecesi"}),A?a.jsx("input",{type:"text",className:"input",value:(null==(m=z.emergencyContact)?void 0:m.relation)||"",onChange:e=>R(t=>({...t,emergencyContact:{...t.emergencyContact,relation:e.target.value}}))}):a.jsx("p",{className:"input-display",children:(null==(u=D.emergencyContact)?void 0:u.relation)||"Belirtilmemiş"})]})]})})]}),((null==(h=D.bankInfo)?void 0:h.accountHolder)||A)&&a.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"card",children:[a.jsx("div",{className:"card-header",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(G,{className:"w-5 h-5 mr-2"}),"Banka Bilgileri"]})}),a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Hesap Sahibi"}),A?a.jsx("input",{type:"text",className:"input",value:(null==(p=z.bankInfo)?void 0:p.accountHolder)||"",onChange:e=>R(t=>({...t,bankInfo:{...t.bankInfo,accountHolder:e.target.value}}))}):a.jsx("p",{className:"input-display",children:(null==(x=D.bankInfo)?void 0:x.accountHolder)||"Belirtilmemiş"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"Banka Adı"}),A?a.jsx("input",{type:"text",className:"input",value:(null==(f=z.bankInfo)?void 0:f.bankName)||"",onChange:e=>R(t=>({...t,bankInfo:{...t.bankInfo,bankName:e.target.value}}))}):a.jsx("p",{className:"input-display",children:(null==(v=D.bankInfo)?void 0:v.bankName)||"Belirtilmemiş"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"label",children:"IBAN"}),A?a.jsx("input",{type:"text",className:"input",placeholder:"TR00 0000 0000 0000 0000 0000 00",value:(null==(y=z.bankInfo)?void 0:y.iban)||"",onChange:e=>R(t=>({...t,bankInfo:{...t.bankInfo,iban:e.target.value.toUpperCase()}}))}):a.jsx("p",{className:"input-display",children:(null==(N=D.bankInfo)?void 0:N.iban)||"Belirtilmemiş"})]})]})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(c,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Profil Bulunamadı"}),a.jsx("p",{className:"text-gray-500",children:"Lütfen yöneticinizle iletişime geçin."})]})});var V},im=({children:e,requiredRole:t=null,redirectTo:s="/giriş"})=>{const{user:r,userProfile:n,loading:l}=pr(),i=_e();if(l)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(!r)return a.jsx(Ke,{to:s,state:{from:i},replace:!0});if(t&&(null==n?void 0:n.role)!==t)switch(null==n?void 0:n.role){case cr:return a.jsx(Ke,{to:"/admin",replace:!0});case dr:return a.jsx(Ke,{to:"/driver",replace:!0});case mr:return a.jsx(Ke,{to:"/",replace:!0});default:return a.jsx(Ke,{to:"/giriş",replace:!0})}return e},om=({children:e,redirectTo:t=null})=>{const{user:s,userProfile:r,loading:n}=pr();if(n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(s&&t){if(!t||"auto"===t)switch(null==r?void 0:r.role){case cr:return a.jsx(Ke,{to:"/admin",replace:!0});case dr:return a.jsx(Ke,{to:"/driver",replace:!0});default:return a.jsx(Ke,{to:"/",replace:!0})}return a.jsx(Ke,{to:t,replace:!0})}return e},cm=({children:e})=>a.jsx(im,{requiredRole:cr,children:e}),dm=({children:e})=>a.jsx(im,{requiredRole:dr,children:e});class mm extends Fe.Component{constructor(e){super(e),r(this,"handleReload",()=>{window.location.reload()}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(me,{className:"w-8 h-8 text-red-600"})}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Bir Hata Oluştu"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Uygulama beklenmedik bir hatayla karşılaştı. Lütfen sayfayı yenileyin veya daha sonra tekrar deneyin."}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:this.handleReload,className:"btn btn-primary w-full flex items-center justify-center gap-2",children:[a.jsx(fe,{className:"w-4 h-4"}),"Sayfayı Yenile"]}),a.jsx("a",{href:"/",className:"btn btn-outline w-full",children:"Ana Sayfaya Dön"})]}),!1]})})}):this.props.children}}function um(){return a.jsx(mm,{children:a.jsx(xr,{children:a.jsx(Wr,{children:a.jsx(Ge,{children:a.jsxs("div",{className:"App",children:[a.jsxs(Ye,{children:[a.jsxs(Ze,{path:"/",element:a.jsx(ea,{}),children:[a.jsx(Ze,{index:!0,element:a.jsx(dn,{})}),a.jsx(Ze,{path:"test",element:a.jsx(gn,{})}),a.jsx(Ze,{path:"rezervasyon",element:a.jsx(xn,{})}),a.jsx(Ze,{path:"araç-seçimi",element:a.jsx(fn,{})}),a.jsx(Ze,{path:"müşteri-bilgileri",element:a.jsx(bn,{})}),a.jsx(Ze,{path:"ödeme",element:a.jsx(vn,{})}),a.jsx(Ze,{path:"onay",element:a.jsx(yn,{})}),a.jsx(Ze,{path:"rezervasyonlarim",element:a.jsx(Xl,{})}),a.jsx(Ze,{path:"profil",element:a.jsx(Jl,{})})]}),a.jsx(Ze,{path:"/booking-confirmation",element:a.jsx(Ql,{})}),a.jsx(Ze,{path:"/giriş",element:a.jsx(om,{redirectTo:"auto",children:a.jsx(ei,{})})}),a.jsx(Ze,{path:"/kayıt",element:a.jsx(om,{redirectTo:"auto",children:a.jsx(ti,{})})}),a.jsx(Ze,{path:"/şifre-sıfırla",element:a.jsx(om,{redirectTo:"auto",children:a.jsx(si,{})})}),a.jsxs(Ze,{path:"/admin",element:a.jsx(cm,{children:a.jsx(ta,{})}),children:[a.jsx(Ze,{index:!0,element:a.jsx(ri,{})}),a.jsx(Ze,{path:"dashboard",element:a.jsx(ri,{})}),a.jsx(Ze,{path:"araçlar",element:a.jsx(ai,{})}),a.jsx(Ze,{path:"vehicles",element:a.jsx(ui,{})}),a.jsx(Ze,{path:"şoförler",element:a.jsx(bi,{})}),a.jsx(Ze,{path:"ek-hizmetler",element:a.jsx(vi,{})}),a.jsx(Ze,{path:"rezervasyonlar",element:a.jsx(_d,{})}),a.jsx(Ze,{path:"finans",element:a.jsx(Kd,{})}),a.jsx(Ze,{path:"ayarlar",element:a.jsx(Gd,{})})]}),a.jsxs(Ze,{path:"/driver",element:a.jsx(dm,{children:a.jsx(sa,{})}),children:[a.jsx(Ze,{index:!0,element:a.jsx(am,{})}),a.jsx(Ze,{path:"dashboard",element:a.jsx(am,{})}),a.jsx(Ze,{path:"seferlerim",element:a.jsx(nm,{})}),a.jsx(Ze,{path:"profil",element:a.jsx(lm,{})})]}),a.jsx(Ze,{path:"*",element:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-400",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mt-4",children:"Sayfa bulunamadı"}),a.jsx("a",{href:"/",className:"btn btn-primary mt-6 inline-block",children:"Ana Sayfaya Dön"})]})})})]}),a.jsx(Is,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})})}const hm=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));window.matchMedia("(prefers-reduced-motion: reduce)").matches&&document.documentElement.classList.add("no-animations"),"requestIdleCallback"in window&&requestIdleCallback(()=>{At(()=>Promise.resolve().then(()=>hm),void 0)}),It.createRoot(document.getElementById("root")).render(a.jsx(Fe.StrictMode,{children:a.jsx(um,{})}));
